(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=o(l);fetch(l.href,u)}})();function Ic(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wu={exports:{}},si={},Uu={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ch;function Xy(){if(Ch)return Ne;Ch=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=m&&M[m]||M["@@iterator"],typeof M=="function"?M:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,b={};function C(M,F,ne){this.props=M,this.context=F,this.refs=b,this.updater=ne||E}C.prototype.isReactComponent={},C.prototype.setState=function(M,F){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,F,"setState")},C.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function N(){}N.prototype=C.prototype;function I(M,F,ne){this.props=M,this.context=F,this.refs=b,this.updater=ne||E}var S=I.prototype=new N;S.constructor=I,k(S,C.prototype),S.isPureReactComponent=!0;var j=Array.isArray,O=Object.prototype.hasOwnProperty,z={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function D(M,F,ne){var te,le={},ae=null,ue=null;if(F!=null)for(te in F.ref!==void 0&&(ue=F.ref),F.key!==void 0&&(ae=""+F.key),F)O.call(F,te)&&!P.hasOwnProperty(te)&&(le[te]=F[te]);var ee=arguments.length-2;if(ee===1)le.children=ne;else if(1<ee){for(var ce=Array(ee),we=0;we<ee;we++)ce[we]=arguments[we+2];le.children=ce}if(M&&M.defaultProps)for(te in ee=M.defaultProps,ee)le[te]===void 0&&(le[te]=ee[te]);return{$$typeof:e,type:M,key:ae,ref:ue,props:le,_owner:z.current}}function H(M,F){return{$$typeof:e,type:M.type,key:F,ref:M.ref,props:M.props,_owner:M._owner}}function Z(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function W(M){var F={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ne){return F[ne]})}var Y=/\/+/g;function J(M,F){return typeof M=="object"&&M!==null&&M.key!=null?W(""+M.key):F.toString(36)}function R(M,F,ne,te,le){var ae=typeof M;(ae==="undefined"||ae==="boolean")&&(M=null);var ue=!1;if(M===null)ue=!0;else switch(ae){case"string":case"number":ue=!0;break;case"object":switch(M.$$typeof){case e:case r:ue=!0}}if(ue)return ue=M,le=le(ue),M=te===""?"."+J(ue,0):te,j(le)?(ne="",M!=null&&(ne=M.replace(Y,"$&/")+"/"),R(le,F,ne,"",function(we){return we})):le!=null&&(Z(le)&&(le=H(le,ne+(!le.key||ue&&ue.key===le.key?"":(""+le.key).replace(Y,"$&/")+"/")+M)),F.push(le)),1;if(ue=0,te=te===""?".":te+":",j(M))for(var ee=0;ee<M.length;ee++){ae=M[ee];var ce=te+J(ae,ee);ue+=R(ae,F,ne,ce,le)}else if(ce=x(M),typeof ce=="function")for(M=ce.call(M),ee=0;!(ae=M.next()).done;)ae=ae.value,ce=te+J(ae,ee++),ue+=R(ae,F,ne,ce,le);else if(ae==="object")throw F=String(M),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return ue}function G(M,F,ne){if(M==null)return M;var te=[],le=0;return R(M,te,"","",function(ae){return F.call(ne,ae,le++)}),te}function V(M){if(M._status===-1){var F=M._result;F=F(),F.then(function(ne){(M._status===0||M._status===-1)&&(M._status=1,M._result=ne)},function(ne){(M._status===0||M._status===-1)&&(M._status=2,M._result=ne)}),M._status===-1&&(M._status=0,M._result=F)}if(M._status===1)return M._result.default;throw M._result}var Q={current:null},T={transition:null},A={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:T,ReactCurrentOwner:z};function U(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:G,forEach:function(M,F,ne){G(M,function(){F.apply(this,arguments)},ne)},count:function(M){var F=0;return G(M,function(){F++}),F},toArray:function(M){return G(M,function(F){return F})||[]},only:function(M){if(!Z(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ne.Component=C,Ne.Fragment=o,Ne.Profiler=l,Ne.PureComponent=I,Ne.StrictMode=s,Ne.Suspense=h,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,Ne.act=U,Ne.cloneElement=function(M,F,ne){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var te=k({},M.props),le=M.key,ae=M.ref,ue=M._owner;if(F!=null){if(F.ref!==void 0&&(ae=F.ref,ue=z.current),F.key!==void 0&&(le=""+F.key),M.type&&M.type.defaultProps)var ee=M.type.defaultProps;for(ce in F)O.call(F,ce)&&!P.hasOwnProperty(ce)&&(te[ce]=F[ce]===void 0&&ee!==void 0?ee[ce]:F[ce])}var ce=arguments.length-2;if(ce===1)te.children=ne;else if(1<ce){ee=Array(ce);for(var we=0;we<ce;we++)ee[we]=arguments[we+2];te.children=ee}return{$$typeof:e,type:M.type,key:le,ref:ae,props:te,_owner:ue}},Ne.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:u,_context:M},M.Consumer=M},Ne.createElement=D,Ne.createFactory=function(M){var F=D.bind(null,M);return F.type=M,F},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(M){return{$$typeof:f,render:M}},Ne.isValidElement=Z,Ne.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:V}},Ne.memo=function(M,F){return{$$typeof:g,type:M,compare:F===void 0?null:F}},Ne.startTransition=function(M){var F=T.transition;T.transition={};try{M()}finally{T.transition=F}},Ne.unstable_act=U,Ne.useCallback=function(M,F){return Q.current.useCallback(M,F)},Ne.useContext=function(M){return Q.current.useContext(M)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(M){return Q.current.useDeferredValue(M)},Ne.useEffect=function(M,F){return Q.current.useEffect(M,F)},Ne.useId=function(){return Q.current.useId()},Ne.useImperativeHandle=function(M,F,ne){return Q.current.useImperativeHandle(M,F,ne)},Ne.useInsertionEffect=function(M,F){return Q.current.useInsertionEffect(M,F)},Ne.useLayoutEffect=function(M,F){return Q.current.useLayoutEffect(M,F)},Ne.useMemo=function(M,F){return Q.current.useMemo(M,F)},Ne.useReducer=function(M,F,ne){return Q.current.useReducer(M,F,ne)},Ne.useRef=function(M){return Q.current.useRef(M)},Ne.useState=function(M){return Q.current.useState(M)},Ne.useSyncExternalStore=function(M,F,ne){return Q.current.useSyncExternalStore(M,F,ne)},Ne.useTransition=function(){return Q.current.useTransition()},Ne.version="18.3.1",Ne}var _h;function _i(){return _h||(_h=1,Uu.exports=Xy()),Uu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bh;function Qy(){if(bh)return si;bh=1;var e=_i(),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(f,h,g){var v,m={},x=null,E=null;g!==void 0&&(x=""+g),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(E=h.ref);for(v in h)s.call(h,v)&&!u.hasOwnProperty(v)&&(m[v]=h[v]);if(f&&f.defaultProps)for(v in h=f.defaultProps,h)m[v]===void 0&&(m[v]=h[v]);return{$$typeof:r,type:f,key:x,ref:E,props:m,_owner:l.current}}return si.Fragment=o,si.jsx=c,si.jsxs=c,si}var jh;function Gy(){return jh||(jh=1,Wu.exports=Qy()),Wu.exports}var y=Gy(),_=_i();const eo=Ic(_);var el={},Yu={exports:{}},dt={},Xu={exports:{}},Qu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ih;function Ky(){return Ih||(Ih=1,(function(e){function r(T,A){var U=T.length;T.push(A);e:for(;0<U;){var M=U-1>>>1,F=T[M];if(0<l(F,A))T[M]=A,T[U]=F,U=M;else break e}}function o(T){return T.length===0?null:T[0]}function s(T){if(T.length===0)return null;var A=T[0],U=T.pop();if(U!==A){T[0]=U;e:for(var M=0,F=T.length,ne=F>>>1;M<ne;){var te=2*(M+1)-1,le=T[te],ae=te+1,ue=T[ae];if(0>l(le,U))ae<F&&0>l(ue,le)?(T[M]=ue,T[ae]=U,M=ae):(T[M]=le,T[te]=U,M=te);else if(ae<F&&0>l(ue,U))T[M]=ue,T[ae]=U,M=ae;else break e}}return A}function l(T,A){var U=T.sortIndex-A.sortIndex;return U!==0?U:T.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var h=[],g=[],v=1,m=null,x=3,E=!1,k=!1,b=!1,C=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(T){for(var A=o(g);A!==null;){if(A.callback===null)s(g);else if(A.startTime<=T)s(g),A.sortIndex=A.expirationTime,r(h,A);else break;A=o(g)}}function j(T){if(b=!1,S(T),!k)if(o(h)!==null)k=!0,V(O);else{var A=o(g);A!==null&&Q(j,A.startTime-T)}}function O(T,A){k=!1,b&&(b=!1,N(D),D=-1),E=!0;var U=x;try{for(S(A),m=o(h);m!==null&&(!(m.expirationTime>A)||T&&!W());){var M=m.callback;if(typeof M=="function"){m.callback=null,x=m.priorityLevel;var F=M(m.expirationTime<=A);A=e.unstable_now(),typeof F=="function"?m.callback=F:m===o(h)&&s(h),S(A)}else s(h);m=o(h)}if(m!==null)var ne=!0;else{var te=o(g);te!==null&&Q(j,te.startTime-A),ne=!1}return ne}finally{m=null,x=U,E=!1}}var z=!1,P=null,D=-1,H=5,Z=-1;function W(){return!(e.unstable_now()-Z<H)}function Y(){if(P!==null){var T=e.unstable_now();Z=T;var A=!0;try{A=P(!0,T)}finally{A?J():(z=!1,P=null)}}else z=!1}var J;if(typeof I=="function")J=function(){I(Y)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,G=R.port2;R.port1.onmessage=Y,J=function(){G.postMessage(null)}}else J=function(){C(Y,0)};function V(T){P=T,z||(z=!0,J())}function Q(T,A){D=C(function(){T(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){k||E||(k=!0,V(O))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return o(h)},e.unstable_next=function(T){switch(x){case 1:case 2:case 3:var A=3;break;default:A=x}var U=x;x=A;try{return T()}finally{x=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,A){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var U=x;x=T;try{return A()}finally{x=U}},e.unstable_scheduleCallback=function(T,A,U){var M=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?M+U:M):U=M,T){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=U+F,T={id:v++,callback:A,priorityLevel:T,startTime:U,expirationTime:F,sortIndex:-1},U>M?(T.sortIndex=U,r(g,T),o(h)===null&&T===o(g)&&(b?(N(D),D=-1):b=!0,Q(j,U-M))):(T.sortIndex=F,r(h,T),k||E||(k=!0,V(O))),T},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(T){var A=x;return function(){var U=x;x=A;try{return T.apply(this,arguments)}finally{x=U}}}})(Qu)),Qu}var Mh;function qy(){return Mh||(Mh=1,Xu.exports=Ky()),Xu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ph;function Zy(){if(Ph)return dt;Ph=1;var e=_i(),r=qy();function o(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function u(t,n){c(t,n),c(t+"Capture",n)}function c(t,n){for(l[t]=n,t=0;t<n.length;t++)s.add(n[t])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},m={};function x(t){return h.call(m,t)?!0:h.call(v,t)?!1:g.test(t)?m[t]=!0:(v[t]=!0,!1)}function E(t,n,i,a){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function k(t,n,i,a){if(n===null||typeof n>"u"||E(t,n,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function b(t,n,i,a,d,p,w){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=d,this.mustUseProperty=i,this.propertyName=t,this.type=n,this.sanitizeURL=p,this.removeEmptyString=w}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){C[t]=new b(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];C[n]=new b(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){C[t]=new b(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){C[t]=new b(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){C[t]=new b(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){C[t]=new b(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){C[t]=new b(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){C[t]=new b(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){C[t]=new b(t,5,!1,t.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function I(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(N,I);C[n]=new b(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(N,I);C[n]=new b(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(N,I);C[n]=new b(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){C[t]=new b(t,1,!1,t.toLowerCase(),null,!1,!1)}),C.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){C[t]=new b(t,1,!1,t.toLowerCase(),null,!0,!0)});function S(t,n,i,a){var d=C.hasOwnProperty(n)?C[n]:null;(d!==null?d.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(k(n,i,d,a)&&(i=null),a||d===null?x(n)&&(i===null?t.removeAttribute(n):t.setAttribute(n,""+i)):d.mustUseProperty?t[d.propertyName]=i===null?d.type===3?!1:"":i:(n=d.attributeName,a=d.attributeNamespace,i===null?t.removeAttribute(n):(d=d.type,i=d===3||d===4&&i===!0?"":""+i,a?t.setAttributeNS(a,n,i):t.setAttribute(n,i))))}var j=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),z=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),W=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),T=Symbol.iterator;function A(t){return t===null||typeof t!="object"?null:(t=T&&t[T]||t["@@iterator"],typeof t=="function"?t:null)}var U=Object.assign,M;function F(t){if(M===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);M=n&&n[1]||""}return`
`+M+t}var ne=!1;function te(t,n){if(!t||ne)return"";ne=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(q){var a=q}Reflect.construct(t,[],n)}else{try{n.call()}catch(q){a=q}t.call(n.prototype)}else{try{throw Error()}catch(q){a=q}t()}}catch(q){if(q&&a&&typeof q.stack=="string"){for(var d=q.stack.split(`
`),p=a.stack.split(`
`),w=d.length-1,L=p.length-1;1<=w&&0<=L&&d[w]!==p[L];)L--;for(;1<=w&&0<=L;w--,L--)if(d[w]!==p[L]){if(w!==1||L!==1)do if(w--,L--,0>L||d[w]!==p[L]){var $=`
`+d[w].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=w&&0<=L);break}}}finally{ne=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?F(t):""}function le(t){switch(t.tag){case 5:return F(t.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return t=te(t.type,!1),t;case 11:return t=te(t.type.render,!1),t;case 1:return t=te(t.type,!0),t;default:return""}}function ae(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case P:return"Fragment";case z:return"Portal";case H:return"Profiler";case D:return"StrictMode";case J:return"Suspense";case R:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case W:return(t.displayName||"Context")+".Consumer";case Z:return(t._context.displayName||"Context")+".Provider";case Y:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case G:return n=t.displayName||null,n!==null?n:ae(t.type)||"Memo";case V:n=t._payload,t=t._init;try{return ae(t(n))}catch{}}return null}function ue(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(n);case 8:return n===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function ee(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ce(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function we(t){var n=ce(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),a=""+t[n];if(!t.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,p=i.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return d.call(this)},set:function(w){a=""+w,p.call(this,w)}}),Object.defineProperty(t,n,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(w){a=""+w},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ee(t){t._valueTracker||(t._valueTracker=we(t))}function Se(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var i=n.getValue(),a="";return t&&(a=ce(t)?t.checked?"true":"false":t.value),t=a,t!==i?(n.setValue(t),!0):!1}function ye(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ce(t,n){var i=n.checked;return U({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??t._wrapperState.initialChecked})}function Pe(t,n){var i=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;i=ee(n.value!=null?n.value:i),t._wrapperState={initialChecked:a,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function _e(t,n){n=n.checked,n!=null&&S(t,"checked",n,!1)}function We(t,n){_e(t,n);var i=ee(n.value),a=n.type;if(i!=null)a==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if(a==="submit"||a==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?ht(t,n.type,i):n.hasOwnProperty("defaultValue")&&ht(t,n.type,ee(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function Pt(t,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,i||n===t.value||(t.value=n),t.defaultValue=n}i=t.name,i!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,i!==""&&(t.name=i)}function ht(t,n,i){(n!=="number"||ye(t.ownerDocument)!==t)&&(i==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var pt=Array.isArray;function Et(t,n,i,a){if(t=t.options,n){n={};for(var d=0;d<i.length;d++)n["$"+i[d]]=!0;for(i=0;i<t.length;i++)d=n.hasOwnProperty("$"+t[i].value),t[i].selected!==d&&(t[i].selected=d),d&&a&&(t[i].defaultSelected=!0)}else{for(i=""+ee(i),n=null,d=0;d<t.length;d++){if(t[d].value===i){t[d].selected=!0,a&&(t[d].defaultSelected=!0);return}n!==null||t[d].disabled||(n=t[d])}n!==null&&(n.selected=!0)}}function tn(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(o(91));return U({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wn(t,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(o(92));if(pt(i)){if(1<i.length)throw Error(o(93));i=i[0]}n=i}n==null&&(n=""),i=n}t._wrapperState={initialValue:ee(i)}}function Sr(t,n){var i=ee(n.value),a=ee(n.defaultValue);i!=null&&(i=""+i,i!==t.value&&(t.value=i),n.defaultValue==null&&t.defaultValue!==i&&(t.defaultValue=i)),a!=null&&(t.defaultValue=""+a)}function Xn(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function nn(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rn(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?nn(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qn,Ai=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,a,d){MSApp.execUnsafeLocalFunction(function(){return t(n,i,a,d)})}:t})(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(Qn=Qn||document.createElement("div"),Qn.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Qn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function on(t,n){if(n){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=n;return}}t.textContent=n}var Gn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zl=["Webkit","ms","Moz","O"];Object.keys(Gn).forEach(function(t){Zl.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),Gn[n]=Gn[t]})});function $i(t,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||Gn.hasOwnProperty(t)&&Gn[t]?(""+n).trim():n+"px"}function Di(t,n){t=t.style;for(var i in n)if(n.hasOwnProperty(i)){var a=i.indexOf("--")===0,d=$i(i,n[i],a);i==="float"&&(i="cssFloat"),a?t.setProperty(i,d):t[i]=d}}var Jl=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function go(t,n){if(n){if(Jl[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(o(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(o(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(o(61))}if(n.style!=null&&typeof n.style!="object")throw Error(o(62))}}function yo(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vo=null;function xo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wo=null,Sn=null,En=null;function Oi(t){if(t=Uo(t)){if(typeof wo!="function")throw Error(o(280));var n=t.stateNode;n&&(n=ms(n),wo(t.stateNode,t.type,n))}}function Fi(t){Sn?En?En.push(t):En=[t]:Sn=t}function Hi(){if(Sn){var t=Sn,n=En;if(En=Sn=null,Oi(t),n)for(t=0;t<n.length;t++)Oi(n[t])}}function Bi(t,n){return t(n)}function Vi(){}var So=!1;function Wi(t,n,i){if(So)return t(n,i);So=!0;try{return Bi(t,n,i)}finally{So=!1,(Sn!==null||En!==null)&&(Vi(),Hi())}}function Kn(t,n){var i=t.stateNode;if(i===null)return null;var a=ms(i);if(a===null)return null;i=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(o(231,n,typeof i));return i}var Eo=!1;if(f)try{var qn={};Object.defineProperty(qn,"passive",{get:function(){Eo=!0}}),window.addEventListener("test",qn,qn),window.removeEventListener("test",qn,qn)}catch{Eo=!1}function ea(t,n,i,a,d,p,w,L,$){var q=Array.prototype.slice.call(arguments,3);try{n.apply(i,q)}catch(oe){this.onError(oe)}}var Zn=!1,Er=null,kr=!1,ko=null,ta={onError:function(t){Zn=!0,Er=t}};function na(t,n,i,a,d,p,w,L,$){Zn=!1,Er=null,ea.apply(ta,arguments)}function ra(t,n,i,a,d,p,w,L,$){if(na.apply(this,arguments),Zn){if(Zn){var q=Er;Zn=!1,Er=null}else throw Error(o(198));kr||(kr=!0,ko=q)}}function Wt(t){var n=t,i=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(i=n.return),t=n.return;while(t)}return n.tag===3?i:null}function No(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function Co(t){if(Wt(t)!==t)throw Error(o(188))}function oa(t){var n=t.alternate;if(!n){if(n=Wt(t),n===null)throw Error(o(188));return n!==t?null:t}for(var i=t,a=n;;){var d=i.return;if(d===null)break;var p=d.alternate;if(p===null){if(a=d.return,a!==null){i=a;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===i)return Co(d),t;if(p===a)return Co(d),n;p=p.sibling}throw Error(o(188))}if(i.return!==a.return)i=d,a=p;else{for(var w=!1,L=d.child;L;){if(L===i){w=!0,i=d,a=p;break}if(L===a){w=!0,a=d,i=p;break}L=L.sibling}if(!w){for(L=p.child;L;){if(L===i){w=!0,i=p,a=d;break}if(L===a){w=!0,a=p,i=d;break}L=L.sibling}if(!w)throw Error(o(189))}}if(i.alternate!==a)throw Error(o(190))}if(i.tag!==3)throw Error(o(188));return i.stateNode.current===i?t:n}function Ui(t){return t=oa(t),t!==null?Yi(t):null}function Yi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=Yi(t);if(n!==null)return n;t=t.sibling}return null}var Xi=r.unstable_scheduleCallback,Qi=r.unstable_cancelCallback,ia=r.unstable_shouldYield,Gi=r.unstable_requestPaint,De=r.unstable_now,sa=r.unstable_getCurrentPriorityLevel,_o=r.unstable_ImmediatePriority,Ki=r.unstable_UserBlockingPriority,Nr=r.unstable_NormalPriority,la=r.unstable_LowPriority,qi=r.unstable_IdlePriority,Jn=null,kt=null;function aa(t){if(kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(Jn,t,void 0,(t.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:da,ua=Math.log,ca=Math.LN2;function da(t){return t>>>=0,t===0?32:31-(ua(t)/ca|0)|0}var Cr=64,_r=4194304;function Ut(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function br(t,n){var i=t.pendingLanes;if(i===0)return 0;var a=0,d=t.suspendedLanes,p=t.pingedLanes,w=i&268435455;if(w!==0){var L=w&~d;L!==0?a=Ut(L):(p&=w,p!==0&&(a=Ut(p)))}else w=i&~d,w!==0?a=Ut(w):p!==0&&(a=Ut(p));if(a===0)return 0;if(n!==0&&n!==a&&(n&d)===0&&(d=a&-a,p=n&-n,d>=p||d===16&&(p&4194240)!==0))return n;if((a&4)!==0&&(a|=i&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=a;0<n;)i=31-mt(n),d=1<<i,a|=t[i],n&=~d;return a}function Zi(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fa(t,n){for(var i=t.suspendedLanes,a=t.pingedLanes,d=t.expirationTimes,p=t.pendingLanes;0<p;){var w=31-mt(p),L=1<<w,$=d[w];$===-1?((L&i)===0||(L&a)!==0)&&(d[w]=Zi(L,n)):$<=n&&(t.expiredLanes|=L),p&=~L}}function bo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function jr(){var t=Cr;return Cr<<=1,(Cr&4194240)===0&&(Cr=64),t}function jo(t){for(var n=[],i=0;31>i;i++)n.push(t);return n}function er(t,n,i){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-mt(n),t[n]=i}function Ji(t,n){var i=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var a=t.eventTimes;for(t=t.expirationTimes;0<i;){var d=31-mt(i),p=1<<d;n[d]=0,a[d]=-1,t[d]=-1,i&=~p}}function ha(t,n){var i=t.entangledLanes|=n;for(t=t.entanglements;i;){var a=31-mt(i),d=1<<a;d&n|t[a]&n&&(t[a]|=n),i&=~d}}var Me=0;function nd(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var rd,pa,od,id,sd,ma=!1,es=[],kn=null,Nn=null,Cn=null,Io=new Map,Mo=new Map,_n=[],mg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ld(t,n){switch(t){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":Cn=null;break;case"pointerover":case"pointerout":Io.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mo.delete(n.pointerId)}}function Po(t,n,i,a,d,p){return t===null||t.nativeEvent!==p?(t={blockedOn:n,domEventName:i,eventSystemFlags:a,nativeEvent:p,targetContainers:[d]},n!==null&&(n=Uo(n),n!==null&&pa(n)),t):(t.eventSystemFlags|=a,n=t.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),t)}function gg(t,n,i,a,d){switch(n){case"focusin":return kn=Po(kn,t,n,i,a,d),!0;case"dragenter":return Nn=Po(Nn,t,n,i,a,d),!0;case"mouseover":return Cn=Po(Cn,t,n,i,a,d),!0;case"pointerover":var p=d.pointerId;return Io.set(p,Po(Io.get(p)||null,t,n,i,a,d)),!0;case"gotpointercapture":return p=d.pointerId,Mo.set(p,Po(Mo.get(p)||null,t,n,i,a,d)),!0}return!1}function ad(t){var n=tr(t.target);if(n!==null){var i=Wt(n);if(i!==null){if(n=i.tag,n===13){if(n=No(i),n!==null){t.blockedOn=n,sd(t.priority,function(){od(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ts(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var i=ya(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(i===null){i=t.nativeEvent;var a=new i.constructor(i.type,i);vo=a,i.target.dispatchEvent(a),vo=null}else return n=Uo(i),n!==null&&pa(n),t.blockedOn=i,!1;n.shift()}return!0}function ud(t,n,i){ts(t)&&i.delete(n)}function yg(){ma=!1,kn!==null&&ts(kn)&&(kn=null),Nn!==null&&ts(Nn)&&(Nn=null),Cn!==null&&ts(Cn)&&(Cn=null),Io.forEach(ud),Mo.forEach(ud)}function Ro(t,n){t.blockedOn===n&&(t.blockedOn=null,ma||(ma=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,yg)))}function Lo(t){function n(d){return Ro(d,t)}if(0<es.length){Ro(es[0],t);for(var i=1;i<es.length;i++){var a=es[i];a.blockedOn===t&&(a.blockedOn=null)}}for(kn!==null&&Ro(kn,t),Nn!==null&&Ro(Nn,t),Cn!==null&&Ro(Cn,t),Io.forEach(n),Mo.forEach(n),i=0;i<_n.length;i++)a=_n[i],a.blockedOn===t&&(a.blockedOn=null);for(;0<_n.length&&(i=_n[0],i.blockedOn===null);)ad(i),i.blockedOn===null&&_n.shift()}var Ir=j.ReactCurrentBatchConfig,ns=!0;function vg(t,n,i,a){var d=Me,p=Ir.transition;Ir.transition=null;try{Me=1,ga(t,n,i,a)}finally{Me=d,Ir.transition=p}}function xg(t,n,i,a){var d=Me,p=Ir.transition;Ir.transition=null;try{Me=4,ga(t,n,i,a)}finally{Me=d,Ir.transition=p}}function ga(t,n,i,a){if(ns){var d=ya(t,n,i,a);if(d===null)Ta(t,n,a,rs,i),ld(t,a);else if(gg(d,t,n,i,a))a.stopPropagation();else if(ld(t,a),n&4&&-1<mg.indexOf(t)){for(;d!==null;){var p=Uo(d);if(p!==null&&rd(p),p=ya(t,n,i,a),p===null&&Ta(t,n,a,rs,i),p===d)break;d=p}d!==null&&a.stopPropagation()}else Ta(t,n,a,null,i)}}var rs=null;function ya(t,n,i,a){if(rs=null,t=xo(a),t=tr(t),t!==null)if(n=Wt(t),n===null)t=null;else if(i=n.tag,i===13){if(t=No(n),t!==null)return t;t=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return rs=t,null}function cd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sa()){case _o:return 1;case Ki:return 4;case Nr:case la:return 16;case qi:return 536870912;default:return 16}default:return 16}}var bn=null,va=null,os=null;function dd(){if(os)return os;var t,n=va,i=n.length,a,d="value"in bn?bn.value:bn.textContent,p=d.length;for(t=0;t<i&&n[t]===d[t];t++);var w=i-t;for(a=1;a<=w&&n[i-a]===d[p-a];a++);return os=d.slice(t,1<a?1-a:void 0)}function is(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ss(){return!0}function fd(){return!1}function gt(t){function n(i,a,d,p,w){this._reactName=i,this._targetInst=d,this.type=a,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var L in t)t.hasOwnProperty(L)&&(i=t[L],this[L]=i?i(p):p[L]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ss:fd,this.isPropagationStopped=fd,this}return U(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),n}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=gt(Mr),To=U({},Mr,{view:0,detail:0}),wg=gt(To),wa,Sa,zo,ls=U({},To,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ka,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zo&&(zo&&t.type==="mousemove"?(wa=t.screenX-zo.screenX,Sa=t.screenY-zo.screenY):Sa=wa=0,zo=t),wa)},movementY:function(t){return"movementY"in t?t.movementY:Sa}}),hd=gt(ls),Sg=U({},ls,{dataTransfer:0}),Eg=gt(Sg),kg=U({},To,{relatedTarget:0}),Ea=gt(kg),Ng=U({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),Cg=gt(Ng),_g=U({},Mr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bg=gt(_g),jg=U({},Mr,{data:0}),pd=gt(jg),Ig={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rg(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Pg[t])?!!n[t]:!1}function ka(){return Rg}var Lg=U({},To,{key:function(t){if(t.key){var n=Ig[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=is(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ka,charCode:function(t){return t.type==="keypress"?is(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?is(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Tg=gt(Lg),zg=U({},ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),md=gt(zg),Ag=U({},To,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ka}),$g=gt(Ag),Dg=U({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Og=gt(Dg),Fg=U({},ls,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hg=gt(Fg),Bg=[9,13,27,32],Na=f&&"CompositionEvent"in window,Ao=null;f&&"documentMode"in document&&(Ao=document.documentMode);var Vg=f&&"TextEvent"in window&&!Ao,gd=f&&(!Na||Ao&&8<Ao&&11>=Ao),yd=" ",vd=!1;function xd(t,n){switch(t){case"keyup":return Bg.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pr=!1;function Wg(t,n){switch(t){case"compositionend":return wd(n);case"keypress":return n.which!==32?null:(vd=!0,yd);case"textInput":return t=n.data,t===yd&&vd?null:t;default:return null}}function Ug(t,n){if(Pr)return t==="compositionend"||!Na&&xd(t,n)?(t=dd(),os=va=bn=null,Pr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gd&&n.locale!=="ko"?null:n.data;default:return null}}var Yg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Yg[t.type]:n==="textarea"}function Ed(t,n,i,a){Fi(a),n=fs(n,"onChange"),0<n.length&&(i=new xa("onChange","change",null,i,a),t.push({event:i,listeners:n}))}var $o=null,Do=null;function Xg(t){Fd(t,0)}function as(t){var n=Ar(t);if(Se(n))return t}function Qg(t,n){if(t==="change")return n}var kd=!1;if(f){var Ca;if(f){var _a="oninput"in document;if(!_a){var Nd=document.createElement("div");Nd.setAttribute("oninput","return;"),_a=typeof Nd.oninput=="function"}Ca=_a}else Ca=!1;kd=Ca&&(!document.documentMode||9<document.documentMode)}function Cd(){$o&&($o.detachEvent("onpropertychange",_d),Do=$o=null)}function _d(t){if(t.propertyName==="value"&&as(Do)){var n=[];Ed(n,Do,t,xo(t)),Wi(Xg,n)}}function Gg(t,n,i){t==="focusin"?(Cd(),$o=n,Do=i,$o.attachEvent("onpropertychange",_d)):t==="focusout"&&Cd()}function Kg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return as(Do)}function qg(t,n){if(t==="click")return as(n)}function Zg(t,n){if(t==="input"||t==="change")return as(n)}function Jg(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Rt=typeof Object.is=="function"?Object.is:Jg;function Oo(t,n){if(Rt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var i=Object.keys(t),a=Object.keys(n);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var d=i[a];if(!h.call(n,d)||!Rt(t[d],n[d]))return!1}return!0}function bd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jd(t,n){var i=bd(t);t=0;for(var a;i;){if(i.nodeType===3){if(a=t+i.textContent.length,t<=n&&a>=n)return{node:i,offset:n-t};t=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=bd(i)}}function Id(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Id(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Md(){for(var t=window,n=ye();n instanceof t.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)t=n.contentWindow;else break;n=ye(t.document)}return n}function ba(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function ey(t){var n=Md(),i=t.focusedElem,a=t.selectionRange;if(n!==i&&i&&i.ownerDocument&&Id(i.ownerDocument.documentElement,i)){if(a!==null&&ba(i)){if(n=a.start,t=a.end,t===void 0&&(t=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(t,i.value.length);else if(t=(n=i.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var d=i.textContent.length,p=Math.min(a.start,d);a=a.end===void 0?p:Math.min(a.end,d),!t.extend&&p>a&&(d=a,a=p,p=d),d=jd(i,p);var w=jd(i,a);d&&w&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==w.node||t.focusOffset!==w.offset)&&(n=n.createRange(),n.setStart(d.node,d.offset),t.removeAllRanges(),p>a?(t.addRange(n),t.extend(w.node,w.offset)):(n.setEnd(w.node,w.offset),t.addRange(n)))}}for(n=[],t=i;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)t=n[i],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ty=f&&"documentMode"in document&&11>=document.documentMode,Rr=null,ja=null,Fo=null,Ia=!1;function Pd(t,n,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Ia||Rr==null||Rr!==ye(a)||(a=Rr,"selectionStart"in a&&ba(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Fo&&Oo(Fo,a)||(Fo=a,a=fs(ja,"onSelect"),0<a.length&&(n=new xa("onSelect","select",null,n,i),t.push({event:n,listeners:a}),n.target=Rr)))}function us(t,n){var i={};return i[t.toLowerCase()]=n.toLowerCase(),i["Webkit"+t]="webkit"+n,i["Moz"+t]="moz"+n,i}var Lr={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionend:us("Transition","TransitionEnd")},Ma={},Rd={};f&&(Rd=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function cs(t){if(Ma[t])return Ma[t];if(!Lr[t])return t;var n=Lr[t],i;for(i in n)if(n.hasOwnProperty(i)&&i in Rd)return Ma[t]=n[i];return t}var Ld=cs("animationend"),Td=cs("animationiteration"),zd=cs("animationstart"),Ad=cs("transitionend"),$d=new Map,Dd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jn(t,n){$d.set(t,n),u(n,[t])}for(var Pa=0;Pa<Dd.length;Pa++){var Ra=Dd[Pa],ny=Ra.toLowerCase(),ry=Ra[0].toUpperCase()+Ra.slice(1);jn(ny,"on"+ry)}jn(Ld,"onAnimationEnd"),jn(Td,"onAnimationIteration"),jn(zd,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(Ad,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ho));function Od(t,n,i){var a=t.type||"unknown-event";t.currentTarget=i,ra(a,n,void 0,t),t.currentTarget=null}function Fd(t,n){n=(n&4)!==0;for(var i=0;i<t.length;i++){var a=t[i],d=a.event;a=a.listeners;e:{var p=void 0;if(n)for(var w=a.length-1;0<=w;w--){var L=a[w],$=L.instance,q=L.currentTarget;if(L=L.listener,$!==p&&d.isPropagationStopped())break e;Od(d,L,q),p=$}else for(w=0;w<a.length;w++){if(L=a[w],$=L.instance,q=L.currentTarget,L=L.listener,$!==p&&d.isPropagationStopped())break e;Od(d,L,q),p=$}}}if(kr)throw t=ko,kr=!1,ko=null,t}function Le(t,n){var i=n[Fa];i===void 0&&(i=n[Fa]=new Set);var a=t+"__bubble";i.has(a)||(Hd(n,t,2,!1),i.add(a))}function La(t,n,i){var a=0;n&&(a|=4),Hd(i,t,a,n)}var ds="_reactListening"+Math.random().toString(36).slice(2);function Bo(t){if(!t[ds]){t[ds]=!0,s.forEach(function(i){i!=="selectionchange"&&(oy.has(i)||La(i,!1,t),La(i,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ds]||(n[ds]=!0,La("selectionchange",!1,n))}}function Hd(t,n,i,a){switch(cd(n)){case 1:var d=vg;break;case 4:d=xg;break;default:d=ga}i=d.bind(null,n,i,t),d=void 0,!Eo||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),a?d!==void 0?t.addEventListener(n,i,{capture:!0,passive:d}):t.addEventListener(n,i,!0):d!==void 0?t.addEventListener(n,i,{passive:d}):t.addEventListener(n,i,!1)}function Ta(t,n,i,a,d){var p=a;if((n&1)===0&&(n&2)===0&&a!==null)e:for(;;){if(a===null)return;var w=a.tag;if(w===3||w===4){var L=a.stateNode.containerInfo;if(L===d||L.nodeType===8&&L.parentNode===d)break;if(w===4)for(w=a.return;w!==null;){var $=w.tag;if(($===3||$===4)&&($=w.stateNode.containerInfo,$===d||$.nodeType===8&&$.parentNode===d))return;w=w.return}for(;L!==null;){if(w=tr(L),w===null)return;if($=w.tag,$===5||$===6){a=p=w;continue e}L=L.parentNode}}a=a.return}Wi(function(){var q=p,oe=xo(i),ie=[];e:{var re=$d.get(t);if(re!==void 0){var de=xa,he=t;switch(t){case"keypress":if(is(i)===0)break e;case"keydown":case"keyup":de=Tg;break;case"focusin":he="focus",de=Ea;break;case"focusout":he="blur",de=Ea;break;case"beforeblur":case"afterblur":de=Ea;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=hd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Eg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=$g;break;case Ld:case Td:case zd:de=Cg;break;case Ad:de=Og;break;case"scroll":de=wg;break;case"wheel":de=Hg;break;case"copy":case"cut":case"paste":de=bg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=md}var pe=(n&4)!==0,Ve=!pe&&t==="scroll",X=pe?re!==null?re+"Capture":null:re;pe=[];for(var B=q,K;B!==null;){K=B;var se=K.stateNode;if(K.tag===5&&se!==null&&(K=se,X!==null&&(se=Kn(B,X),se!=null&&pe.push(Vo(B,se,K)))),Ve)break;B=B.return}0<pe.length&&(re=new de(re,he,null,i,oe),ie.push({event:re,listeners:pe}))}}if((n&7)===0){e:{if(re=t==="mouseover"||t==="pointerover",de=t==="mouseout"||t==="pointerout",re&&i!==vo&&(he=i.relatedTarget||i.fromElement)&&(tr(he)||he[sn]))break e;if((de||re)&&(re=oe.window===oe?oe:(re=oe.ownerDocument)?re.defaultView||re.parentWindow:window,de?(he=i.relatedTarget||i.toElement,de=q,he=he?tr(he):null,he!==null&&(Ve=Wt(he),he!==Ve||he.tag!==5&&he.tag!==6)&&(he=null)):(de=null,he=q),de!==he)){if(pe=hd,se="onMouseLeave",X="onMouseEnter",B="mouse",(t==="pointerout"||t==="pointerover")&&(pe=md,se="onPointerLeave",X="onPointerEnter",B="pointer"),Ve=de==null?re:Ar(de),K=he==null?re:Ar(he),re=new pe(se,B+"leave",de,i,oe),re.target=Ve,re.relatedTarget=K,se=null,tr(oe)===q&&(pe=new pe(X,B+"enter",he,i,oe),pe.target=K,pe.relatedTarget=Ve,se=pe),Ve=se,de&&he)t:{for(pe=de,X=he,B=0,K=pe;K;K=Tr(K))B++;for(K=0,se=X;se;se=Tr(se))K++;for(;0<B-K;)pe=Tr(pe),B--;for(;0<K-B;)X=Tr(X),K--;for(;B--;){if(pe===X||X!==null&&pe===X.alternate)break t;pe=Tr(pe),X=Tr(X)}pe=null}else pe=null;de!==null&&Bd(ie,re,de,pe,!1),he!==null&&Ve!==null&&Bd(ie,Ve,he,pe,!0)}}e:{if(re=q?Ar(q):window,de=re.nodeName&&re.nodeName.toLowerCase(),de==="select"||de==="input"&&re.type==="file")var me=Qg;else if(Sd(re))if(kd)me=Zg;else{me=Kg;var ve=Gg}else(de=re.nodeName)&&de.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(me=qg);if(me&&(me=me(t,q))){Ed(ie,me,i,oe);break e}ve&&ve(t,re,q),t==="focusout"&&(ve=re._wrapperState)&&ve.controlled&&re.type==="number"&&ht(re,"number",re.value)}switch(ve=q?Ar(q):window,t){case"focusin":(Sd(ve)||ve.contentEditable==="true")&&(Rr=ve,ja=q,Fo=null);break;case"focusout":Fo=ja=Rr=null;break;case"mousedown":Ia=!0;break;case"contextmenu":case"mouseup":case"dragend":Ia=!1,Pd(ie,i,oe);break;case"selectionchange":if(ty)break;case"keydown":case"keyup":Pd(ie,i,oe)}var xe;if(Na)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Pr?xd(t,i)&&(ke="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(ke="onCompositionStart");ke&&(gd&&i.locale!=="ko"&&(Pr||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Pr&&(xe=dd()):(bn=oe,va="value"in bn?bn.value:bn.textContent,Pr=!0)),ve=fs(q,ke),0<ve.length&&(ke=new pd(ke,t,null,i,oe),ie.push({event:ke,listeners:ve}),xe?ke.data=xe:(xe=wd(i),xe!==null&&(ke.data=xe)))),(xe=Vg?Wg(t,i):Ug(t,i))&&(q=fs(q,"onBeforeInput"),0<q.length&&(oe=new pd("onBeforeInput","beforeinput",null,i,oe),ie.push({event:oe,listeners:q}),oe.data=xe))}Fd(ie,n)})}function Vo(t,n,i){return{instance:t,listener:n,currentTarget:i}}function fs(t,n){for(var i=n+"Capture",a=[];t!==null;){var d=t,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=Kn(t,i),p!=null&&a.unshift(Vo(t,p,d)),p=Kn(t,n),p!=null&&a.push(Vo(t,p,d))),t=t.return}return a}function Tr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Bd(t,n,i,a,d){for(var p=n._reactName,w=[];i!==null&&i!==a;){var L=i,$=L.alternate,q=L.stateNode;if($!==null&&$===a)break;L.tag===5&&q!==null&&(L=q,d?($=Kn(i,p),$!=null&&w.unshift(Vo(i,$,L))):d||($=Kn(i,p),$!=null&&w.push(Vo(i,$,L)))),i=i.return}w.length!==0&&t.push({event:n,listeners:w})}var iy=/\r\n?/g,sy=/\u0000|\uFFFD/g;function Vd(t){return(typeof t=="string"?t:""+t).replace(iy,`
`).replace(sy,"")}function hs(t,n,i){if(n=Vd(n),Vd(t)!==n&&i)throw Error(o(425))}function ps(){}var za=null,Aa=null;function $a(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Da=typeof setTimeout=="function"?setTimeout:void 0,ly=typeof clearTimeout=="function"?clearTimeout:void 0,Wd=typeof Promise=="function"?Promise:void 0,ay=typeof queueMicrotask=="function"?queueMicrotask:typeof Wd<"u"?function(t){return Wd.resolve(null).then(t).catch(uy)}:Da;function uy(t){setTimeout(function(){throw t})}function Oa(t,n){var i=n,a=0;do{var d=i.nextSibling;if(t.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(a===0){t.removeChild(d),Lo(n);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=d}while(i);Lo(n)}function In(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function Ud(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return t;n--}else i==="/$"&&n++}t=t.previousSibling}return null}var zr=Math.random().toString(36).slice(2),Yt="__reactFiber$"+zr,Wo="__reactProps$"+zr,sn="__reactContainer$"+zr,Fa="__reactEvents$"+zr,cy="__reactListeners$"+zr,dy="__reactHandles$"+zr;function tr(t){var n=t[Yt];if(n)return n;for(var i=t.parentNode;i;){if(n=i[sn]||i[Yt]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(t=Ud(t);t!==null;){if(i=t[Yt])return i;t=Ud(t)}return n}t=i,i=t.parentNode}return null}function Uo(t){return t=t[Yt]||t[sn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ar(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(o(33))}function ms(t){return t[Wo]||null}var Ha=[],$r=-1;function Mn(t){return{current:t}}function Te(t){0>$r||(t.current=Ha[$r],Ha[$r]=null,$r--)}function Re(t,n){$r++,Ha[$r]=t.current,t.current=n}var Pn={},et=Mn(Pn),st=Mn(!1),nr=Pn;function Dr(t,n){var i=t.type.contextTypes;if(!i)return Pn;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in i)d[p]=n[p];return a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=d),d}function lt(t){return t=t.childContextTypes,t!=null}function gs(){Te(st),Te(et)}function Yd(t,n,i){if(et.current!==Pn)throw Error(o(168));Re(et,n),Re(st,i)}function Xd(t,n,i){var a=t.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var d in a)if(!(d in n))throw Error(o(108,ue(t)||"Unknown",d));return U({},i,a)}function ys(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pn,nr=et.current,Re(et,t),Re(st,st.current),!0}function Qd(t,n,i){var a=t.stateNode;if(!a)throw Error(o(169));i?(t=Xd(t,n,nr),a.__reactInternalMemoizedMergedChildContext=t,Te(st),Te(et),Re(et,t)):Te(st),Re(st,i)}var ln=null,vs=!1,Ba=!1;function Gd(t){ln===null?ln=[t]:ln.push(t)}function fy(t){vs=!0,Gd(t)}function Rn(){if(!Ba&&ln!==null){Ba=!0;var t=0,n=Me;try{var i=ln;for(Me=1;t<i.length;t++){var a=i[t];do a=a(!0);while(a!==null)}ln=null,vs=!1}catch(d){throw ln!==null&&(ln=ln.slice(t+1)),Xi(_o,Rn),d}finally{Me=n,Ba=!1}}return null}var Or=[],Fr=0,xs=null,ws=0,Nt=[],Ct=0,rr=null,an=1,un="";function or(t,n){Or[Fr++]=ws,Or[Fr++]=xs,xs=t,ws=n}function Kd(t,n,i){Nt[Ct++]=an,Nt[Ct++]=un,Nt[Ct++]=rr,rr=t;var a=an;t=un;var d=32-mt(a)-1;a&=~(1<<d),i+=1;var p=32-mt(n)+d;if(30<p){var w=d-d%5;p=(a&(1<<w)-1).toString(32),a>>=w,d-=w,an=1<<32-mt(n)+d|i<<d|a,un=p+t}else an=1<<p|i<<d|a,un=t}function Va(t){t.return!==null&&(or(t,1),Kd(t,1,0))}function Wa(t){for(;t===xs;)xs=Or[--Fr],Or[Fr]=null,ws=Or[--Fr],Or[Fr]=null;for(;t===rr;)rr=Nt[--Ct],Nt[Ct]=null,un=Nt[--Ct],Nt[Ct]=null,an=Nt[--Ct],Nt[Ct]=null}var yt=null,vt=null,ze=!1,Lt=null;function qd(t,n){var i=It(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=t,n=t.deletions,n===null?(t.deletions=[i],t.flags|=16):n.push(i)}function Zd(t,n){switch(t.tag){case 5:var i=t.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,yt=t,vt=In(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,yt=t,vt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=rr!==null?{id:an,overflow:un}:null,t.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=It(18,null,null,0),i.stateNode=n,i.return=t,t.child=i,yt=t,vt=null,!0):!1;default:return!1}}function Ua(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ya(t){if(ze){var n=vt;if(n){var i=n;if(!Zd(t,n)){if(Ua(t))throw Error(o(418));n=In(i.nextSibling);var a=yt;n&&Zd(t,n)?qd(a,i):(t.flags=t.flags&-4097|2,ze=!1,yt=t)}}else{if(Ua(t))throw Error(o(418));t.flags=t.flags&-4097|2,ze=!1,yt=t}}}function Jd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yt=t}function Ss(t){if(t!==yt)return!1;if(!ze)return Jd(t),ze=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!$a(t.type,t.memoizedProps)),n&&(n=vt)){if(Ua(t))throw ef(),Error(o(418));for(;n;)qd(t,n),n=In(n.nextSibling)}if(Jd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"){if(n===0){vt=In(t.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}t=t.nextSibling}vt=null}}else vt=yt?In(t.stateNode.nextSibling):null;return!0}function ef(){for(var t=vt;t;)t=In(t.nextSibling)}function Hr(){vt=yt=null,ze=!1}function Xa(t){Lt===null?Lt=[t]:Lt.push(t)}var hy=j.ReactCurrentBatchConfig;function Yo(t,n,i){if(t=i.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(o(309));var a=i.stateNode}if(!a)throw Error(o(147,t));var d=a,p=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===p?n.ref:(n=function(w){var L=d.refs;w===null?delete L[p]:L[p]=w},n._stringRef=p,n)}if(typeof t!="string")throw Error(o(284));if(!i._owner)throw Error(o(290,t))}return t}function Es(t,n){throw t=Object.prototype.toString.call(n),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function tf(t){var n=t._init;return n(t._payload)}function nf(t){function n(X,B){if(t){var K=X.deletions;K===null?(X.deletions=[B],X.flags|=16):K.push(B)}}function i(X,B){if(!t)return null;for(;B!==null;)n(X,B),B=B.sibling;return null}function a(X,B){for(X=new Map;B!==null;)B.key!==null?X.set(B.key,B):X.set(B.index,B),B=B.sibling;return X}function d(X,B){return X=Fn(X,B),X.index=0,X.sibling=null,X}function p(X,B,K){return X.index=K,t?(K=X.alternate,K!==null?(K=K.index,K<B?(X.flags|=2,B):K):(X.flags|=2,B)):(X.flags|=1048576,B)}function w(X){return t&&X.alternate===null&&(X.flags|=2),X}function L(X,B,K,se){return B===null||B.tag!==6?(B=Du(K,X.mode,se),B.return=X,B):(B=d(B,K),B.return=X,B)}function $(X,B,K,se){var me=K.type;return me===P?oe(X,B,K.props.children,se,K.key):B!==null&&(B.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===V&&tf(me)===B.type)?(se=d(B,K.props),se.ref=Yo(X,B,K),se.return=X,se):(se=Ys(K.type,K.key,K.props,null,X.mode,se),se.ref=Yo(X,B,K),se.return=X,se)}function q(X,B,K,se){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=Ou(K,X.mode,se),B.return=X,B):(B=d(B,K.children||[]),B.return=X,B)}function oe(X,B,K,se,me){return B===null||B.tag!==7?(B=fr(K,X.mode,se,me),B.return=X,B):(B=d(B,K),B.return=X,B)}function ie(X,B,K){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Du(""+B,X.mode,K),B.return=X,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case O:return K=Ys(B.type,B.key,B.props,null,X.mode,K),K.ref=Yo(X,null,B),K.return=X,K;case z:return B=Ou(B,X.mode,K),B.return=X,B;case V:var se=B._init;return ie(X,se(B._payload),K)}if(pt(B)||A(B))return B=fr(B,X.mode,K,null),B.return=X,B;Es(X,B)}return null}function re(X,B,K,se){var me=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return me!==null?null:L(X,B,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case O:return K.key===me?$(X,B,K,se):null;case z:return K.key===me?q(X,B,K,se):null;case V:return me=K._init,re(X,B,me(K._payload),se)}if(pt(K)||A(K))return me!==null?null:oe(X,B,K,se,null);Es(X,K)}return null}function de(X,B,K,se,me){if(typeof se=="string"&&se!==""||typeof se=="number")return X=X.get(K)||null,L(B,X,""+se,me);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case O:return X=X.get(se.key===null?K:se.key)||null,$(B,X,se,me);case z:return X=X.get(se.key===null?K:se.key)||null,q(B,X,se,me);case V:var ve=se._init;return de(X,B,K,ve(se._payload),me)}if(pt(se)||A(se))return X=X.get(K)||null,oe(B,X,se,me,null);Es(B,se)}return null}function he(X,B,K,se){for(var me=null,ve=null,xe=B,ke=B=0,qe=null;xe!==null&&ke<K.length;ke++){xe.index>ke?(qe=xe,xe=null):qe=xe.sibling;var Ie=re(X,xe,K[ke],se);if(Ie===null){xe===null&&(xe=qe);break}t&&xe&&Ie.alternate===null&&n(X,xe),B=p(Ie,B,ke),ve===null?me=Ie:ve.sibling=Ie,ve=Ie,xe=qe}if(ke===K.length)return i(X,xe),ze&&or(X,ke),me;if(xe===null){for(;ke<K.length;ke++)xe=ie(X,K[ke],se),xe!==null&&(B=p(xe,B,ke),ve===null?me=xe:ve.sibling=xe,ve=xe);return ze&&or(X,ke),me}for(xe=a(X,xe);ke<K.length;ke++)qe=de(xe,X,ke,K[ke],se),qe!==null&&(t&&qe.alternate!==null&&xe.delete(qe.key===null?ke:qe.key),B=p(qe,B,ke),ve===null?me=qe:ve.sibling=qe,ve=qe);return t&&xe.forEach(function(Hn){return n(X,Hn)}),ze&&or(X,ke),me}function pe(X,B,K,se){var me=A(K);if(typeof me!="function")throw Error(o(150));if(K=me.call(K),K==null)throw Error(o(151));for(var ve=me=null,xe=B,ke=B=0,qe=null,Ie=K.next();xe!==null&&!Ie.done;ke++,Ie=K.next()){xe.index>ke?(qe=xe,xe=null):qe=xe.sibling;var Hn=re(X,xe,Ie.value,se);if(Hn===null){xe===null&&(xe=qe);break}t&&xe&&Hn.alternate===null&&n(X,xe),B=p(Hn,B,ke),ve===null?me=Hn:ve.sibling=Hn,ve=Hn,xe=qe}if(Ie.done)return i(X,xe),ze&&or(X,ke),me;if(xe===null){for(;!Ie.done;ke++,Ie=K.next())Ie=ie(X,Ie.value,se),Ie!==null&&(B=p(Ie,B,ke),ve===null?me=Ie:ve.sibling=Ie,ve=Ie);return ze&&or(X,ke),me}for(xe=a(X,xe);!Ie.done;ke++,Ie=K.next())Ie=de(xe,X,ke,Ie.value,se),Ie!==null&&(t&&Ie.alternate!==null&&xe.delete(Ie.key===null?ke:Ie.key),B=p(Ie,B,ke),ve===null?me=Ie:ve.sibling=Ie,ve=Ie);return t&&xe.forEach(function(Yy){return n(X,Yy)}),ze&&or(X,ke),me}function Ve(X,B,K,se){if(typeof K=="object"&&K!==null&&K.type===P&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case O:e:{for(var me=K.key,ve=B;ve!==null;){if(ve.key===me){if(me=K.type,me===P){if(ve.tag===7){i(X,ve.sibling),B=d(ve,K.props.children),B.return=X,X=B;break e}}else if(ve.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===V&&tf(me)===ve.type){i(X,ve.sibling),B=d(ve,K.props),B.ref=Yo(X,ve,K),B.return=X,X=B;break e}i(X,ve);break}else n(X,ve);ve=ve.sibling}K.type===P?(B=fr(K.props.children,X.mode,se,K.key),B.return=X,X=B):(se=Ys(K.type,K.key,K.props,null,X.mode,se),se.ref=Yo(X,B,K),se.return=X,X=se)}return w(X);case z:e:{for(ve=K.key;B!==null;){if(B.key===ve)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){i(X,B.sibling),B=d(B,K.children||[]),B.return=X,X=B;break e}else{i(X,B);break}else n(X,B);B=B.sibling}B=Ou(K,X.mode,se),B.return=X,X=B}return w(X);case V:return ve=K._init,Ve(X,B,ve(K._payload),se)}if(pt(K))return he(X,B,K,se);if(A(K))return pe(X,B,K,se);Es(X,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,B!==null&&B.tag===6?(i(X,B.sibling),B=d(B,K),B.return=X,X=B):(i(X,B),B=Du(K,X.mode,se),B.return=X,X=B),w(X)):i(X,B)}return Ve}var Br=nf(!0),rf=nf(!1),ks=Mn(null),Ns=null,Vr=null,Qa=null;function Ga(){Qa=Vr=Ns=null}function Ka(t){var n=ks.current;Te(ks),t._currentValue=n}function qa(t,n,i){for(;t!==null;){var a=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),t===i)break;t=t.return}}function Wr(t,n){Ns=t,Qa=Vr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&n)!==0&&(at=!0),t.firstContext=null)}function _t(t){var n=t._currentValue;if(Qa!==t)if(t={context:t,memoizedValue:n,next:null},Vr===null){if(Ns===null)throw Error(o(308));Vr=t,Ns.dependencies={lanes:0,firstContext:t}}else Vr=Vr.next=t;return n}var ir=null;function Za(t){ir===null?ir=[t]:ir.push(t)}function of(t,n,i,a){var d=n.interleaved;return d===null?(i.next=i,Za(n)):(i.next=d.next,d.next=i),n.interleaved=i,cn(t,a)}function cn(t,n){t.lanes|=n;var i=t.alternate;for(i!==null&&(i.lanes|=n),i=t,t=t.return;t!==null;)t.childLanes|=n,i=t.alternate,i!==null&&(i.childLanes|=n),i=t,t=t.return;return i.tag===3?i.stateNode:null}var Ln=!1;function Ja(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dn(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function Tn(t,n,i){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(je&2)!==0){var d=a.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),a.pending=n,cn(t,i)}return d=a.interleaved,d===null?(n.next=n,Za(a)):(n.next=d.next,d.next=n),a.interleaved=n,cn(t,i)}function Cs(t,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var a=n.lanes;a&=t.pendingLanes,i|=a,n.lanes=i,ha(t,i)}}function lf(t,n){var i=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var d=null,p=null;if(i=i.firstBaseUpdate,i!==null){do{var w={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};p===null?d=p=w:p=p.next=w,i=i.next}while(i!==null);p===null?d=p=n:p=p.next=n}else d=p=n;i={baseState:a.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:a.shared,effects:a.effects},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=n:t.next=n,i.lastBaseUpdate=n}function _s(t,n,i,a){var d=t.updateQueue;Ln=!1;var p=d.firstBaseUpdate,w=d.lastBaseUpdate,L=d.shared.pending;if(L!==null){d.shared.pending=null;var $=L,q=$.next;$.next=null,w===null?p=q:w.next=q,w=$;var oe=t.alternate;oe!==null&&(oe=oe.updateQueue,L=oe.lastBaseUpdate,L!==w&&(L===null?oe.firstBaseUpdate=q:L.next=q,oe.lastBaseUpdate=$))}if(p!==null){var ie=d.baseState;w=0,oe=q=$=null,L=p;do{var re=L.lane,de=L.eventTime;if((a&re)===re){oe!==null&&(oe=oe.next={eventTime:de,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var he=t,pe=L;switch(re=n,de=i,pe.tag){case 1:if(he=pe.payload,typeof he=="function"){ie=he.call(de,ie,re);break e}ie=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=pe.payload,re=typeof he=="function"?he.call(de,ie,re):he,re==null)break e;ie=U({},ie,re);break e;case 2:Ln=!0}}L.callback!==null&&L.lane!==0&&(t.flags|=64,re=d.effects,re===null?d.effects=[L]:re.push(L))}else de={eventTime:de,lane:re,tag:L.tag,payload:L.payload,callback:L.callback,next:null},oe===null?(q=oe=de,$=ie):oe=oe.next=de,w|=re;if(L=L.next,L===null){if(L=d.shared.pending,L===null)break;re=L,L=re.next,re.next=null,d.lastBaseUpdate=re,d.shared.pending=null}}while(!0);if(oe===null&&($=ie),d.baseState=$,d.firstBaseUpdate=q,d.lastBaseUpdate=oe,n=d.shared.interleaved,n!==null){d=n;do w|=d.lane,d=d.next;while(d!==n)}else p===null&&(d.shared.lanes=0);ar|=w,t.lanes=w,t.memoizedState=ie}}function af(t,n,i){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var a=t[n],d=a.callback;if(d!==null){if(a.callback=null,a=i,typeof d!="function")throw Error(o(191,d));d.call(a)}}}var Xo={},Xt=Mn(Xo),Qo=Mn(Xo),Go=Mn(Xo);function sr(t){if(t===Xo)throw Error(o(174));return t}function eu(t,n){switch(Re(Go,n),Re(Qo,t),Re(Xt,Xo),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:rn(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=rn(n,t)}Te(Xt),Re(Xt,n)}function Ur(){Te(Xt),Te(Qo),Te(Go)}function uf(t){sr(Go.current);var n=sr(Xt.current),i=rn(n,t.type);n!==i&&(Re(Qo,t),Re(Xt,i))}function tu(t){Qo.current===t&&(Te(Xt),Te(Qo))}var Oe=Mn(0);function bs(t){for(var n=t;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var nu=[];function ru(){for(var t=0;t<nu.length;t++)nu[t]._workInProgressVersionPrimary=null;nu.length=0}var js=j.ReactCurrentDispatcher,ou=j.ReactCurrentBatchConfig,lr=0,Fe=null,Xe=null,Ge=null,Is=!1,Ko=!1,qo=0,py=0;function tt(){throw Error(o(321))}function iu(t,n){if(n===null)return!1;for(var i=0;i<n.length&&i<t.length;i++)if(!Rt(t[i],n[i]))return!1;return!0}function su(t,n,i,a,d,p){if(lr=p,Fe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,js.current=t===null||t.memoizedState===null?vy:xy,t=i(a,d),Ko){p=0;do{if(Ko=!1,qo=0,25<=p)throw Error(o(301));p+=1,Ge=Xe=null,n.updateQueue=null,js.current=wy,t=i(a,d)}while(Ko)}if(js.current=Rs,n=Xe!==null&&Xe.next!==null,lr=0,Ge=Xe=Fe=null,Is=!1,n)throw Error(o(300));return t}function lu(){var t=qo!==0;return qo=0,t}function Qt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Fe.memoizedState=Ge=t:Ge=Ge.next=t,Ge}function bt(){if(Xe===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var n=Ge===null?Fe.memoizedState:Ge.next;if(n!==null)Ge=n,Xe=t;else{if(t===null)throw Error(o(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Ge===null?Fe.memoizedState=Ge=t:Ge=Ge.next=t}return Ge}function Zo(t,n){return typeof n=="function"?n(t):n}function au(t){var n=bt(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=t;var a=Xe,d=a.baseQueue,p=i.pending;if(p!==null){if(d!==null){var w=d.next;d.next=p.next,p.next=w}a.baseQueue=d=p,i.pending=null}if(d!==null){p=d.next,a=a.baseState;var L=w=null,$=null,q=p;do{var oe=q.lane;if((lr&oe)===oe)$!==null&&($=$.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),a=q.hasEagerState?q.eagerState:t(a,q.action);else{var ie={lane:oe,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};$===null?(L=$=ie,w=a):$=$.next=ie,Fe.lanes|=oe,ar|=oe}q=q.next}while(q!==null&&q!==p);$===null?w=a:$.next=L,Rt(a,n.memoizedState)||(at=!0),n.memoizedState=a,n.baseState=w,n.baseQueue=$,i.lastRenderedState=a}if(t=i.interleaved,t!==null){d=t;do p=d.lane,Fe.lanes|=p,ar|=p,d=d.next;while(d!==t)}else d===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function uu(t){var n=bt(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=t;var a=i.dispatch,d=i.pending,p=n.memoizedState;if(d!==null){i.pending=null;var w=d=d.next;do p=t(p,w.action),w=w.next;while(w!==d);Rt(p,n.memoizedState)||(at=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),i.lastRenderedState=p}return[p,a]}function cf(){}function df(t,n){var i=Fe,a=bt(),d=n(),p=!Rt(a.memoizedState,d);if(p&&(a.memoizedState=d,at=!0),a=a.queue,cu(pf.bind(null,i,a,t),[t]),a.getSnapshot!==n||p||Ge!==null&&Ge.memoizedState.tag&1){if(i.flags|=2048,Jo(9,hf.bind(null,i,a,d,n),void 0,null),Ke===null)throw Error(o(349));(lr&30)!==0||ff(i,n,d)}return d}function ff(t,n,i){t.flags|=16384,t={getSnapshot:n,value:i},n=Fe.updateQueue,n===null?(n={lastEffect:null,stores:null},Fe.updateQueue=n,n.stores=[t]):(i=n.stores,i===null?n.stores=[t]:i.push(t))}function hf(t,n,i,a){n.value=i,n.getSnapshot=a,mf(n)&&gf(t)}function pf(t,n,i){return i(function(){mf(n)&&gf(t)})}function mf(t){var n=t.getSnapshot;t=t.value;try{var i=n();return!Rt(t,i)}catch{return!0}}function gf(t){var n=cn(t,1);n!==null&&$t(n,t,1,-1)}function yf(t){var n=Qt();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:t},n.queue=t,t=t.dispatch=yy.bind(null,Fe,t),[n.memoizedState,t]}function Jo(t,n,i,a){return t={tag:t,create:n,destroy:i,deps:a,next:null},n=Fe.updateQueue,n===null?(n={lastEffect:null,stores:null},Fe.updateQueue=n,n.lastEffect=t.next=t):(i=n.lastEffect,i===null?n.lastEffect=t.next=t:(a=i.next,i.next=t,t.next=a,n.lastEffect=t)),t}function vf(){return bt().memoizedState}function Ms(t,n,i,a){var d=Qt();Fe.flags|=t,d.memoizedState=Jo(1|n,i,void 0,a===void 0?null:a)}function Ps(t,n,i,a){var d=bt();a=a===void 0?null:a;var p=void 0;if(Xe!==null){var w=Xe.memoizedState;if(p=w.destroy,a!==null&&iu(a,w.deps)){d.memoizedState=Jo(n,i,p,a);return}}Fe.flags|=t,d.memoizedState=Jo(1|n,i,p,a)}function xf(t,n){return Ms(8390656,8,t,n)}function cu(t,n){return Ps(2048,8,t,n)}function wf(t,n){return Ps(4,2,t,n)}function Sf(t,n){return Ps(4,4,t,n)}function Ef(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function kf(t,n,i){return i=i!=null?i.concat([t]):null,Ps(4,4,Ef.bind(null,n,t),i)}function du(){}function Nf(t,n){var i=bt();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&iu(n,a[1])?a[0]:(i.memoizedState=[t,n],t)}function Cf(t,n){var i=bt();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&iu(n,a[1])?a[0]:(t=t(),i.memoizedState=[t,n],t)}function _f(t,n,i){return(lr&21)===0?(t.baseState&&(t.baseState=!1,at=!0),t.memoizedState=i):(Rt(i,n)||(i=jr(),Fe.lanes|=i,ar|=i,t.baseState=!0),n)}function my(t,n){var i=Me;Me=i!==0&&4>i?i:4,t(!0);var a=ou.transition;ou.transition={};try{t(!1),n()}finally{Me=i,ou.transition=a}}function bf(){return bt().memoizedState}function gy(t,n,i){var a=Dn(t);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},jf(t))If(n,i);else if(i=of(t,n,i,a),i!==null){var d=it();$t(i,t,a,d),Mf(i,n,a)}}function yy(t,n,i){var a=Dn(t),d={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(jf(t))If(n,d);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var w=n.lastRenderedState,L=p(w,i);if(d.hasEagerState=!0,d.eagerState=L,Rt(L,w)){var $=n.interleaved;$===null?(d.next=d,Za(n)):(d.next=$.next,$.next=d),n.interleaved=d;return}}catch{}finally{}i=of(t,n,d,a),i!==null&&(d=it(),$t(i,t,a,d),Mf(i,n,a))}}function jf(t){var n=t.alternate;return t===Fe||n!==null&&n===Fe}function If(t,n){Ko=Is=!0;var i=t.pending;i===null?n.next=n:(n.next=i.next,i.next=n),t.pending=n}function Mf(t,n,i){if((i&4194240)!==0){var a=n.lanes;a&=t.pendingLanes,i|=a,n.lanes=i,ha(t,i)}}var Rs={readContext:_t,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},vy={readContext:_t,useCallback:function(t,n){return Qt().memoizedState=[t,n===void 0?null:n],t},useContext:_t,useEffect:xf,useImperativeHandle:function(t,n,i){return i=i!=null?i.concat([t]):null,Ms(4194308,4,Ef.bind(null,n,t),i)},useLayoutEffect:function(t,n){return Ms(4194308,4,t,n)},useInsertionEffect:function(t,n){return Ms(4,2,t,n)},useMemo:function(t,n){var i=Qt();return n=n===void 0?null:n,t=t(),i.memoizedState=[t,n],t},useReducer:function(t,n,i){var a=Qt();return n=i!==void 0?i(n):n,a.memoizedState=a.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},a.queue=t,t=t.dispatch=gy.bind(null,Fe,t),[a.memoizedState,t]},useRef:function(t){var n=Qt();return t={current:t},n.memoizedState=t},useState:yf,useDebugValue:du,useDeferredValue:function(t){return Qt().memoizedState=t},useTransition:function(){var t=yf(!1),n=t[0];return t=my.bind(null,t[1]),Qt().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,i){var a=Fe,d=Qt();if(ze){if(i===void 0)throw Error(o(407));i=i()}else{if(i=n(),Ke===null)throw Error(o(349));(lr&30)!==0||ff(a,n,i)}d.memoizedState=i;var p={value:i,getSnapshot:n};return d.queue=p,xf(pf.bind(null,a,p,t),[t]),a.flags|=2048,Jo(9,hf.bind(null,a,p,i,n),void 0,null),i},useId:function(){var t=Qt(),n=Ke.identifierPrefix;if(ze){var i=un,a=an;i=(a&~(1<<32-mt(a)-1)).toString(32)+i,n=":"+n+"R"+i,i=qo++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=py++,n=":"+n+"r"+i.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},xy={readContext:_t,useCallback:Nf,useContext:_t,useEffect:cu,useImperativeHandle:kf,useInsertionEffect:wf,useLayoutEffect:Sf,useMemo:Cf,useReducer:au,useRef:vf,useState:function(){return au(Zo)},useDebugValue:du,useDeferredValue:function(t){var n=bt();return _f(n,Xe.memoizedState,t)},useTransition:function(){var t=au(Zo)[0],n=bt().memoizedState;return[t,n]},useMutableSource:cf,useSyncExternalStore:df,useId:bf,unstable_isNewReconciler:!1},wy={readContext:_t,useCallback:Nf,useContext:_t,useEffect:cu,useImperativeHandle:kf,useInsertionEffect:wf,useLayoutEffect:Sf,useMemo:Cf,useReducer:uu,useRef:vf,useState:function(){return uu(Zo)},useDebugValue:du,useDeferredValue:function(t){var n=bt();return Xe===null?n.memoizedState=t:_f(n,Xe.memoizedState,t)},useTransition:function(){var t=uu(Zo)[0],n=bt().memoizedState;return[t,n]},useMutableSource:cf,useSyncExternalStore:df,useId:bf,unstable_isNewReconciler:!1};function Tt(t,n){if(t&&t.defaultProps){n=U({},n),t=t.defaultProps;for(var i in t)n[i]===void 0&&(n[i]=t[i]);return n}return n}function fu(t,n,i,a){n=t.memoizedState,i=i(a,n),i=i==null?n:U({},n,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Ls={isMounted:function(t){return(t=t._reactInternals)?Wt(t)===t:!1},enqueueSetState:function(t,n,i){t=t._reactInternals;var a=it(),d=Dn(t),p=dn(a,d);p.payload=n,i!=null&&(p.callback=i),n=Tn(t,p,d),n!==null&&($t(n,t,d,a),Cs(n,t,d))},enqueueReplaceState:function(t,n,i){t=t._reactInternals;var a=it(),d=Dn(t),p=dn(a,d);p.tag=1,p.payload=n,i!=null&&(p.callback=i),n=Tn(t,p,d),n!==null&&($t(n,t,d,a),Cs(n,t,d))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var i=it(),a=Dn(t),d=dn(i,a);d.tag=2,n!=null&&(d.callback=n),n=Tn(t,d,a),n!==null&&($t(n,t,a,i),Cs(n,t,a))}};function Pf(t,n,i,a,d,p,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,p,w):n.prototype&&n.prototype.isPureReactComponent?!Oo(i,a)||!Oo(d,p):!0}function Rf(t,n,i){var a=!1,d=Pn,p=n.contextType;return typeof p=="object"&&p!==null?p=_t(p):(d=lt(n)?nr:et.current,a=n.contextTypes,p=(a=a!=null)?Dr(t,d):Pn),n=new n(i,p),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Ls,t.stateNode=n,n._reactInternals=t,a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=p),n}function Lf(t,n,i,a){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,a),n.state!==t&&Ls.enqueueReplaceState(n,n.state,null)}function hu(t,n,i,a){var d=t.stateNode;d.props=i,d.state=t.memoizedState,d.refs={},Ja(t);var p=n.contextType;typeof p=="object"&&p!==null?d.context=_t(p):(p=lt(n)?nr:et.current,d.context=Dr(t,p)),d.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(fu(t,n,p,i),d.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(n=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),n!==d.state&&Ls.enqueueReplaceState(d,d.state,null),_s(t,i,d,a),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function Yr(t,n){try{var i="",a=n;do i+=le(a),a=a.return;while(a);var d=i}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:n,stack:d,digest:null}}function pu(t,n,i){return{value:t,source:null,stack:i??null,digest:n??null}}function mu(t,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var Sy=typeof WeakMap=="function"?WeakMap:Map;function Tf(t,n,i){i=dn(-1,i),i.tag=3,i.payload={element:null};var a=n.value;return i.callback=function(){Fs||(Fs=!0,Mu=a),mu(t,n)},i}function zf(t,n,i){i=dn(-1,i),i.tag=3;var a=t.type.getDerivedStateFromError;if(typeof a=="function"){var d=n.value;i.payload=function(){return a(d)},i.callback=function(){mu(t,n)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(i.callback=function(){mu(t,n),typeof a!="function"&&(An===null?An=new Set([this]):An.add(this));var w=n.stack;this.componentDidCatch(n.value,{componentStack:w!==null?w:""})}),i}function Af(t,n,i){var a=t.pingCache;if(a===null){a=t.pingCache=new Sy;var d=new Set;a.set(n,d)}else d=a.get(n),d===void 0&&(d=new Set,a.set(n,d));d.has(i)||(d.add(i),t=zy.bind(null,t,n,i),n.then(t,t))}function $f(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function Df(t,n,i,a,d){return(t.mode&1)===0?(t===n?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=dn(-1,1),n.tag=2,Tn(i,n,1))),i.lanes|=1),t):(t.flags|=65536,t.lanes=d,t)}var Ey=j.ReactCurrentOwner,at=!1;function ot(t,n,i,a){n.child=t===null?rf(n,null,i,a):Br(n,t.child,i,a)}function Of(t,n,i,a,d){i=i.render;var p=n.ref;return Wr(n,d),a=su(t,n,i,a,p,d),i=lu(),t!==null&&!at?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~d,fn(t,n,d)):(ze&&i&&Va(n),n.flags|=1,ot(t,n,a,d),n.child)}function Ff(t,n,i,a,d){if(t===null){var p=i.type;return typeof p=="function"&&!$u(p)&&p.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=p,Hf(t,n,p,a,d)):(t=Ys(i.type,null,a,n,n.mode,d),t.ref=n.ref,t.return=n,n.child=t)}if(p=t.child,(t.lanes&d)===0){var w=p.memoizedProps;if(i=i.compare,i=i!==null?i:Oo,i(w,a)&&t.ref===n.ref)return fn(t,n,d)}return n.flags|=1,t=Fn(p,a),t.ref=n.ref,t.return=n,n.child=t}function Hf(t,n,i,a,d){if(t!==null){var p=t.memoizedProps;if(Oo(p,a)&&t.ref===n.ref)if(at=!1,n.pendingProps=a=p,(t.lanes&d)!==0)(t.flags&131072)!==0&&(at=!0);else return n.lanes=t.lanes,fn(t,n,d)}return gu(t,n,i,a,d)}function Bf(t,n,i){var a=n.pendingProps,d=a.children,p=t!==null?t.memoizedState:null;if(a.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Qr,xt),xt|=i;else{if((i&1073741824)===0)return t=p!==null?p.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,Re(Qr,xt),xt|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=p!==null?p.baseLanes:i,Re(Qr,xt),xt|=a}else p!==null?(a=p.baseLanes|i,n.memoizedState=null):a=i,Re(Qr,xt),xt|=a;return ot(t,n,d,i),n.child}function Vf(t,n){var i=n.ref;(t===null&&i!==null||t!==null&&t.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function gu(t,n,i,a,d){var p=lt(i)?nr:et.current;return p=Dr(n,p),Wr(n,d),i=su(t,n,i,a,p,d),a=lu(),t!==null&&!at?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~d,fn(t,n,d)):(ze&&a&&Va(n),n.flags|=1,ot(t,n,i,d),n.child)}function Wf(t,n,i,a,d){if(lt(i)){var p=!0;ys(n)}else p=!1;if(Wr(n,d),n.stateNode===null)zs(t,n),Rf(n,i,a),hu(n,i,a,d),a=!0;else if(t===null){var w=n.stateNode,L=n.memoizedProps;w.props=L;var $=w.context,q=i.contextType;typeof q=="object"&&q!==null?q=_t(q):(q=lt(i)?nr:et.current,q=Dr(n,q));var oe=i.getDerivedStateFromProps,ie=typeof oe=="function"||typeof w.getSnapshotBeforeUpdate=="function";ie||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(L!==a||$!==q)&&Lf(n,w,a,q),Ln=!1;var re=n.memoizedState;w.state=re,_s(n,a,w,d),$=n.memoizedState,L!==a||re!==$||st.current||Ln?(typeof oe=="function"&&(fu(n,i,oe,a),$=n.memoizedState),(L=Ln||Pf(n,i,L,a,re,$,q))?(ie||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(n.flags|=4194308)):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=$),w.props=a,w.state=$,w.context=q,a=L):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{w=n.stateNode,sf(t,n),L=n.memoizedProps,q=n.type===n.elementType?L:Tt(n.type,L),w.props=q,ie=n.pendingProps,re=w.context,$=i.contextType,typeof $=="object"&&$!==null?$=_t($):($=lt(i)?nr:et.current,$=Dr(n,$));var de=i.getDerivedStateFromProps;(oe=typeof de=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(L!==ie||re!==$)&&Lf(n,w,a,$),Ln=!1,re=n.memoizedState,w.state=re,_s(n,a,w,d);var he=n.memoizedState;L!==ie||re!==he||st.current||Ln?(typeof de=="function"&&(fu(n,i,de,a),he=n.memoizedState),(q=Ln||Pf(n,i,q,a,re,he,$)||!1)?(oe||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(a,he,$),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(a,he,$)),typeof w.componentDidUpdate=="function"&&(n.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof w.componentDidUpdate!="function"||L===t.memoizedProps&&re===t.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||L===t.memoizedProps&&re===t.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=he),w.props=a,w.state=he,w.context=$,a=q):(typeof w.componentDidUpdate!="function"||L===t.memoizedProps&&re===t.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||L===t.memoizedProps&&re===t.memoizedState||(n.flags|=1024),a=!1)}return yu(t,n,i,a,p,d)}function yu(t,n,i,a,d,p){Vf(t,n);var w=(n.flags&128)!==0;if(!a&&!w)return d&&Qd(n,i,!1),fn(t,n,p);a=n.stateNode,Ey.current=n;var L=w&&typeof i.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,t!==null&&w?(n.child=Br(n,t.child,null,p),n.child=Br(n,null,L,p)):ot(t,n,L,p),n.memoizedState=a.state,d&&Qd(n,i,!0),n.child}function Uf(t){var n=t.stateNode;n.pendingContext?Yd(t,n.pendingContext,n.pendingContext!==n.context):n.context&&Yd(t,n.context,!1),eu(t,n.containerInfo)}function Yf(t,n,i,a,d){return Hr(),Xa(d),n.flags|=256,ot(t,n,i,a),n.child}var vu={dehydrated:null,treeContext:null,retryLane:0};function xu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Xf(t,n,i){var a=n.pendingProps,d=Oe.current,p=!1,w=(n.flags&128)!==0,L;if((L=w)||(L=t!==null&&t.memoizedState===null?!1:(d&2)!==0),L?(p=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),Re(Oe,d&1),t===null)return Ya(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((n.mode&1)===0?n.lanes=1:t.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(w=a.children,t=a.fallback,p?(a=n.mode,p=n.child,w={mode:"hidden",children:w},(a&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=w):p=Xs(w,a,0,null),t=fr(t,a,i,null),p.return=n,t.return=n,p.sibling=t,n.child=p,n.child.memoizedState=xu(i),n.memoizedState=vu,t):wu(n,w));if(d=t.memoizedState,d!==null&&(L=d.dehydrated,L!==null))return ky(t,n,w,a,L,d,i);if(p){p=a.fallback,w=n.mode,d=t.child,L=d.sibling;var $={mode:"hidden",children:a.children};return(w&1)===0&&n.child!==d?(a=n.child,a.childLanes=0,a.pendingProps=$,n.deletions=null):(a=Fn(d,$),a.subtreeFlags=d.subtreeFlags&14680064),L!==null?p=Fn(L,p):(p=fr(p,w,i,null),p.flags|=2),p.return=n,a.return=n,a.sibling=p,n.child=a,a=p,p=n.child,w=t.child.memoizedState,w=w===null?xu(i):{baseLanes:w.baseLanes|i,cachePool:null,transitions:w.transitions},p.memoizedState=w,p.childLanes=t.childLanes&~i,n.memoizedState=vu,a}return p=t.child,t=p.sibling,a=Fn(p,{mode:"visible",children:a.children}),(n.mode&1)===0&&(a.lanes=i),a.return=n,a.sibling=null,t!==null&&(i=n.deletions,i===null?(n.deletions=[t],n.flags|=16):i.push(t)),n.child=a,n.memoizedState=null,a}function wu(t,n){return n=Xs({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function Ts(t,n,i,a){return a!==null&&Xa(a),Br(n,t.child,null,i),t=wu(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ky(t,n,i,a,d,p,w){if(i)return n.flags&256?(n.flags&=-257,a=pu(Error(o(422))),Ts(t,n,w,a)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(p=a.fallback,d=n.mode,a=Xs({mode:"visible",children:a.children},d,0,null),p=fr(p,d,w,null),p.flags|=2,a.return=n,p.return=n,a.sibling=p,n.child=a,(n.mode&1)!==0&&Br(n,t.child,null,w),n.child.memoizedState=xu(w),n.memoizedState=vu,p);if((n.mode&1)===0)return Ts(t,n,w,null);if(d.data==="$!"){if(a=d.nextSibling&&d.nextSibling.dataset,a)var L=a.dgst;return a=L,p=Error(o(419)),a=pu(p,a,void 0),Ts(t,n,w,a)}if(L=(w&t.childLanes)!==0,at||L){if(a=Ke,a!==null){switch(w&-w){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(a.suspendedLanes|w))!==0?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,cn(t,d),$t(a,t,d,-1))}return Au(),a=pu(Error(o(421))),Ts(t,n,w,a)}return d.data==="$?"?(n.flags|=128,n.child=t.child,n=Ay.bind(null,t),d._reactRetry=n,null):(t=p.treeContext,vt=In(d.nextSibling),yt=n,ze=!0,Lt=null,t!==null&&(Nt[Ct++]=an,Nt[Ct++]=un,Nt[Ct++]=rr,an=t.id,un=t.overflow,rr=n),n=wu(n,a.children),n.flags|=4096,n)}function Qf(t,n,i){t.lanes|=n;var a=t.alternate;a!==null&&(a.lanes|=n),qa(t.return,n,i)}function Su(t,n,i,a,d){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:d}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=a,p.tail=i,p.tailMode=d)}function Gf(t,n,i){var a=n.pendingProps,d=a.revealOrder,p=a.tail;if(ot(t,n,a.children,i),a=Oe.current,(a&2)!==0)a=a&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qf(t,i,n);else if(t.tag===19)Qf(t,i,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}if(Re(Oe,a),(n.mode&1)===0)n.memoizedState=null;else switch(d){case"forwards":for(i=n.child,d=null;i!==null;)t=i.alternate,t!==null&&bs(t)===null&&(d=i),i=i.sibling;i=d,i===null?(d=n.child,n.child=null):(d=i.sibling,i.sibling=null),Su(n,!1,d,i,p);break;case"backwards":for(i=null,d=n.child,n.child=null;d!==null;){if(t=d.alternate,t!==null&&bs(t)===null){n.child=d;break}t=d.sibling,d.sibling=i,i=d,d=t}Su(n,!0,i,null,p);break;case"together":Su(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function zs(t,n){(n.mode&1)===0&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function fn(t,n,i){if(t!==null&&(n.dependencies=t.dependencies),ar|=n.lanes,(i&n.childLanes)===0)return null;if(t!==null&&n.child!==t.child)throw Error(o(153));if(n.child!==null){for(t=n.child,i=Fn(t,t.pendingProps),n.child=i,i.return=n;t.sibling!==null;)t=t.sibling,i=i.sibling=Fn(t,t.pendingProps),i.return=n;i.sibling=null}return n.child}function Ny(t,n,i){switch(n.tag){case 3:Uf(n),Hr();break;case 5:uf(n);break;case 1:lt(n.type)&&ys(n);break;case 4:eu(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,d=n.memoizedProps.value;Re(ks,a._currentValue),a._currentValue=d;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(Re(Oe,Oe.current&1),n.flags|=128,null):(i&n.child.childLanes)!==0?Xf(t,n,i):(Re(Oe,Oe.current&1),t=fn(t,n,i),t!==null?t.sibling:null);Re(Oe,Oe.current&1);break;case 19:if(a=(i&n.childLanes)!==0,(t.flags&128)!==0){if(a)return Gf(t,n,i);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Re(Oe,Oe.current),a)break;return null;case 22:case 23:return n.lanes=0,Bf(t,n,i)}return fn(t,n,i)}var Kf,Eu,qf,Zf;Kf=function(t,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Eu=function(){},qf=function(t,n,i,a){var d=t.memoizedProps;if(d!==a){t=n.stateNode,sr(Xt.current);var p=null;switch(i){case"input":d=Ce(t,d),a=Ce(t,a),p=[];break;case"select":d=U({},d,{value:void 0}),a=U({},a,{value:void 0}),p=[];break;case"textarea":d=tn(t,d),a=tn(t,a),p=[];break;default:typeof d.onClick!="function"&&typeof a.onClick=="function"&&(t.onclick=ps)}go(i,a);var w;i=null;for(q in d)if(!a.hasOwnProperty(q)&&d.hasOwnProperty(q)&&d[q]!=null)if(q==="style"){var L=d[q];for(w in L)L.hasOwnProperty(w)&&(i||(i={}),i[w]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(l.hasOwnProperty(q)?p||(p=[]):(p=p||[]).push(q,null));for(q in a){var $=a[q];if(L=d!=null?d[q]:void 0,a.hasOwnProperty(q)&&$!==L&&($!=null||L!=null))if(q==="style")if(L){for(w in L)!L.hasOwnProperty(w)||$&&$.hasOwnProperty(w)||(i||(i={}),i[w]="");for(w in $)$.hasOwnProperty(w)&&L[w]!==$[w]&&(i||(i={}),i[w]=$[w])}else i||(p||(p=[]),p.push(q,i)),i=$;else q==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,L=L?L.__html:void 0,$!=null&&L!==$&&(p=p||[]).push(q,$)):q==="children"?typeof $!="string"&&typeof $!="number"||(p=p||[]).push(q,""+$):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(l.hasOwnProperty(q)?($!=null&&q==="onScroll"&&Le("scroll",t),p||L===$||(p=[])):(p=p||[]).push(q,$))}i&&(p=p||[]).push("style",i);var q=p;(n.updateQueue=q)&&(n.flags|=4)}},Zf=function(t,n,i,a){i!==a&&(n.flags|=4)};function ei(t,n){if(!ze)switch(t.tailMode){case"hidden":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function nt(t){var n=t.alternate!==null&&t.alternate.child===t.child,i=0,a=0;if(n)for(var d=t.child;d!==null;)i|=d.lanes|d.childLanes,a|=d.subtreeFlags&14680064,a|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)i|=d.lanes|d.childLanes,a|=d.subtreeFlags,a|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=a,t.childLanes=i,n}function Cy(t,n,i){var a=n.pendingProps;switch(Wa(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(n),null;case 1:return lt(n.type)&&gs(),nt(n),null;case 3:return a=n.stateNode,Ur(),Te(st),Te(et),ru(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ss(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Lt!==null&&(Lu(Lt),Lt=null))),Eu(t,n),nt(n),null;case 5:tu(n);var d=sr(Go.current);if(i=n.type,t!==null&&n.stateNode!=null)qf(t,n,i,a,d),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(o(166));return nt(n),null}if(t=sr(Xt.current),Ss(n)){a=n.stateNode,i=n.type;var p=n.memoizedProps;switch(a[Yt]=n,a[Wo]=p,t=(n.mode&1)!==0,i){case"dialog":Le("cancel",a),Le("close",a);break;case"iframe":case"object":case"embed":Le("load",a);break;case"video":case"audio":for(d=0;d<Ho.length;d++)Le(Ho[d],a);break;case"source":Le("error",a);break;case"img":case"image":case"link":Le("error",a),Le("load",a);break;case"details":Le("toggle",a);break;case"input":Pe(a,p),Le("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!p.multiple},Le("invalid",a);break;case"textarea":wn(a,p),Le("invalid",a)}go(i,p),d=null;for(var w in p)if(p.hasOwnProperty(w)){var L=p[w];w==="children"?typeof L=="string"?a.textContent!==L&&(p.suppressHydrationWarning!==!0&&hs(a.textContent,L,t),d=["children",L]):typeof L=="number"&&a.textContent!==""+L&&(p.suppressHydrationWarning!==!0&&hs(a.textContent,L,t),d=["children",""+L]):l.hasOwnProperty(w)&&L!=null&&w==="onScroll"&&Le("scroll",a)}switch(i){case"input":Ee(a),Pt(a,p,!0);break;case"textarea":Ee(a),Xn(a);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(a.onclick=ps)}a=d,n.updateQueue=a,a!==null&&(n.flags|=4)}else{w=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=nn(i)),t==="http://www.w3.org/1999/xhtml"?i==="script"?(t=w.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof a.is=="string"?t=w.createElement(i,{is:a.is}):(t=w.createElement(i),i==="select"&&(w=t,a.multiple?w.multiple=!0:a.size&&(w.size=a.size))):t=w.createElementNS(t,i),t[Yt]=n,t[Wo]=a,Kf(t,n,!1,!1),n.stateNode=t;e:{switch(w=yo(i,a),i){case"dialog":Le("cancel",t),Le("close",t),d=a;break;case"iframe":case"object":case"embed":Le("load",t),d=a;break;case"video":case"audio":for(d=0;d<Ho.length;d++)Le(Ho[d],t);d=a;break;case"source":Le("error",t),d=a;break;case"img":case"image":case"link":Le("error",t),Le("load",t),d=a;break;case"details":Le("toggle",t),d=a;break;case"input":Pe(t,a),d=Ce(t,a),Le("invalid",t);break;case"option":d=a;break;case"select":t._wrapperState={wasMultiple:!!a.multiple},d=U({},a,{value:void 0}),Le("invalid",t);break;case"textarea":wn(t,a),d=tn(t,a),Le("invalid",t);break;default:d=a}go(i,d),L=d;for(p in L)if(L.hasOwnProperty(p)){var $=L[p];p==="style"?Di(t,$):p==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&Ai(t,$)):p==="children"?typeof $=="string"?(i!=="textarea"||$!=="")&&on(t,$):typeof $=="number"&&on(t,""+$):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(l.hasOwnProperty(p)?$!=null&&p==="onScroll"&&Le("scroll",t):$!=null&&S(t,p,$,w))}switch(i){case"input":Ee(t),Pt(t,a,!1);break;case"textarea":Ee(t),Xn(t);break;case"option":a.value!=null&&t.setAttribute("value",""+ee(a.value));break;case"select":t.multiple=!!a.multiple,p=a.value,p!=null?Et(t,!!a.multiple,p,!1):a.defaultValue!=null&&Et(t,!!a.multiple,a.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=ps)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return nt(n),null;case 6:if(t&&n.stateNode!=null)Zf(t,n,t.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(o(166));if(i=sr(Go.current),sr(Xt.current),Ss(n)){if(a=n.stateNode,i=n.memoizedProps,a[Yt]=n,(p=a.nodeValue!==i)&&(t=yt,t!==null))switch(t.tag){case 3:hs(a.nodeValue,i,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hs(a.nodeValue,i,(t.mode&1)!==0)}p&&(n.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[Yt]=n,n.stateNode=a}return nt(n),null;case 13:if(Te(Oe),a=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&vt!==null&&(n.mode&1)!==0&&(n.flags&128)===0)ef(),Hr(),n.flags|=98560,p=!1;else if(p=Ss(n),a!==null&&a.dehydrated!==null){if(t===null){if(!p)throw Error(o(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));p[Yt]=n}else Hr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;nt(n),p=!1}else Lt!==null&&(Lu(Lt),Lt=null),p=!0;if(!p)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=i,n):(a=a!==null,a!==(t!==null&&t.memoizedState!==null)&&a&&(n.child.flags|=8192,(n.mode&1)!==0&&(t===null||(Oe.current&1)!==0?Qe===0&&(Qe=3):Au())),n.updateQueue!==null&&(n.flags|=4),nt(n),null);case 4:return Ur(),Eu(t,n),t===null&&Bo(n.stateNode.containerInfo),nt(n),null;case 10:return Ka(n.type._context),nt(n),null;case 17:return lt(n.type)&&gs(),nt(n),null;case 19:if(Te(Oe),p=n.memoizedState,p===null)return nt(n),null;if(a=(n.flags&128)!==0,w=p.rendering,w===null)if(a)ei(p,!1);else{if(Qe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(w=bs(t),w!==null){for(n.flags|=128,ei(p,!1),a=w.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=i,i=n.child;i!==null;)p=i,t=a,p.flags&=14680066,w=p.alternate,w===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=w.childLanes,p.lanes=w.lanes,p.child=w.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=w.memoizedProps,p.memoizedState=w.memoizedState,p.updateQueue=w.updateQueue,p.type=w.type,t=w.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return Re(Oe,Oe.current&1|2),n.child}t=t.sibling}p.tail!==null&&De()>Gr&&(n.flags|=128,a=!0,ei(p,!1),n.lanes=4194304)}else{if(!a)if(t=bs(w),t!==null){if(n.flags|=128,a=!0,i=t.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),ei(p,!0),p.tail===null&&p.tailMode==="hidden"&&!w.alternate&&!ze)return nt(n),null}else 2*De()-p.renderingStartTime>Gr&&i!==1073741824&&(n.flags|=128,a=!0,ei(p,!1),n.lanes=4194304);p.isBackwards?(w.sibling=n.child,n.child=w):(i=p.last,i!==null?i.sibling=w:n.child=w,p.last=w)}return p.tail!==null?(n=p.tail,p.rendering=n,p.tail=n.sibling,p.renderingStartTime=De(),n.sibling=null,i=Oe.current,Re(Oe,a?i&1|2:i&1),n):(nt(n),null);case 22:case 23:return zu(),a=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==a&&(n.flags|=8192),a&&(n.mode&1)!==0?(xt&1073741824)!==0&&(nt(n),n.subtreeFlags&6&&(n.flags|=8192)):nt(n),null;case 24:return null;case 25:return null}throw Error(o(156,n.tag))}function _y(t,n){switch(Wa(n),n.tag){case 1:return lt(n.type)&&gs(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ur(),Te(st),Te(et),ru(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 5:return tu(n),null;case 13:if(Te(Oe),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(o(340));Hr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Te(Oe),null;case 4:return Ur(),null;case 10:return Ka(n.type._context),null;case 22:case 23:return zu(),null;case 24:return null;default:return null}}var As=!1,rt=!1,by=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Xr(t,n){var i=t.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){Be(t,n,a)}else i.current=null}function ku(t,n,i){try{i()}catch(a){Be(t,n,a)}}var Jf=!1;function jy(t,n){if(za=ns,t=Md(),ba(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var d=a.anchorOffset,p=a.focusNode;a=a.focusOffset;try{i.nodeType,p.nodeType}catch{i=null;break e}var w=0,L=-1,$=-1,q=0,oe=0,ie=t,re=null;t:for(;;){for(var de;ie!==i||d!==0&&ie.nodeType!==3||(L=w+d),ie!==p||a!==0&&ie.nodeType!==3||($=w+a),ie.nodeType===3&&(w+=ie.nodeValue.length),(de=ie.firstChild)!==null;)re=ie,ie=de;for(;;){if(ie===t)break t;if(re===i&&++q===d&&(L=w),re===p&&++oe===a&&($=w),(de=ie.nextSibling)!==null)break;ie=re,re=ie.parentNode}ie=de}i=L===-1||$===-1?null:{start:L,end:$}}else i=null}i=i||{start:0,end:0}}else i=null;for(Aa={focusedElem:t,selectionRange:i},ns=!1,fe=n;fe!==null;)if(n=fe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,fe=t;else for(;fe!==null;){n=fe;try{var he=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var pe=he.memoizedProps,Ve=he.memoizedState,X=n.stateNode,B=X.getSnapshotBeforeUpdate(n.elementType===n.type?pe:Tt(n.type,pe),Ve);X.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var K=n.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(se){Be(n,n.return,se)}if(t=n.sibling,t!==null){t.return=n.return,fe=t;break}fe=n.return}return he=Jf,Jf=!1,he}function ti(t,n,i){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&t)===t){var p=d.destroy;d.destroy=void 0,p!==void 0&&ku(n,i,p)}d=d.next}while(d!==a)}}function $s(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.create;i.destroy=a()}i=i.next}while(i!==n)}}function Nu(t){var n=t.ref;if(n!==null){var i=t.stateNode;switch(t.tag){case 5:t=i;break;default:t=i}typeof n=="function"?n(t):n.current=t}}function eh(t){var n=t.alternate;n!==null&&(t.alternate=null,eh(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[Yt],delete n[Wo],delete n[Fa],delete n[cy],delete n[dy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function th(t){return t.tag===5||t.tag===3||t.tag===4}function nh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||th(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cu(t,n,i){var a=t.tag;if(a===5||a===6)t=t.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(t,n):i.insertBefore(t,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(t,i)):(n=i,n.appendChild(t)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=ps));else if(a!==4&&(t=t.child,t!==null))for(Cu(t,n,i),t=t.sibling;t!==null;)Cu(t,n,i),t=t.sibling}function _u(t,n,i){var a=t.tag;if(a===5||a===6)t=t.stateNode,n?i.insertBefore(t,n):i.appendChild(t);else if(a!==4&&(t=t.child,t!==null))for(_u(t,n,i),t=t.sibling;t!==null;)_u(t,n,i),t=t.sibling}var Ze=null,zt=!1;function zn(t,n,i){for(i=i.child;i!==null;)rh(t,n,i),i=i.sibling}function rh(t,n,i){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(Jn,i)}catch{}switch(i.tag){case 5:rt||Xr(i,n);case 6:var a=Ze,d=zt;Ze=null,zn(t,n,i),Ze=a,zt=d,Ze!==null&&(zt?(t=Ze,i=i.stateNode,t.nodeType===8?t.parentNode.removeChild(i):t.removeChild(i)):Ze.removeChild(i.stateNode));break;case 18:Ze!==null&&(zt?(t=Ze,i=i.stateNode,t.nodeType===8?Oa(t.parentNode,i):t.nodeType===1&&Oa(t,i),Lo(t)):Oa(Ze,i.stateNode));break;case 4:a=Ze,d=zt,Ze=i.stateNode.containerInfo,zt=!0,zn(t,n,i),Ze=a,zt=d;break;case 0:case 11:case 14:case 15:if(!rt&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){d=a=a.next;do{var p=d,w=p.destroy;p=p.tag,w!==void 0&&((p&2)!==0||(p&4)!==0)&&ku(i,n,w),d=d.next}while(d!==a)}zn(t,n,i);break;case 1:if(!rt&&(Xr(i,n),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(L){Be(i,n,L)}zn(t,n,i);break;case 21:zn(t,n,i);break;case 22:i.mode&1?(rt=(a=rt)||i.memoizedState!==null,zn(t,n,i),rt=a):zn(t,n,i);break;default:zn(t,n,i)}}function oh(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var i=t.stateNode;i===null&&(i=t.stateNode=new by),n.forEach(function(a){var d=$y.bind(null,t,a);i.has(a)||(i.add(a),a.then(d,d))})}}function At(t,n){var i=n.deletions;if(i!==null)for(var a=0;a<i.length;a++){var d=i[a];try{var p=t,w=n,L=w;e:for(;L!==null;){switch(L.tag){case 5:Ze=L.stateNode,zt=!1;break e;case 3:Ze=L.stateNode.containerInfo,zt=!0;break e;case 4:Ze=L.stateNode.containerInfo,zt=!0;break e}L=L.return}if(Ze===null)throw Error(o(160));rh(p,w,d),Ze=null,zt=!1;var $=d.alternate;$!==null&&($.return=null),d.return=null}catch(q){Be(d,n,q)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)ih(n,t),n=n.sibling}function ih(t,n){var i=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(At(n,t),Gt(t),a&4){try{ti(3,t,t.return),$s(3,t)}catch(pe){Be(t,t.return,pe)}try{ti(5,t,t.return)}catch(pe){Be(t,t.return,pe)}}break;case 1:At(n,t),Gt(t),a&512&&i!==null&&Xr(i,i.return);break;case 5:if(At(n,t),Gt(t),a&512&&i!==null&&Xr(i,i.return),t.flags&32){var d=t.stateNode;try{on(d,"")}catch(pe){Be(t,t.return,pe)}}if(a&4&&(d=t.stateNode,d!=null)){var p=t.memoizedProps,w=i!==null?i.memoizedProps:p,L=t.type,$=t.updateQueue;if(t.updateQueue=null,$!==null)try{L==="input"&&p.type==="radio"&&p.name!=null&&_e(d,p),yo(L,w);var q=yo(L,p);for(w=0;w<$.length;w+=2){var oe=$[w],ie=$[w+1];oe==="style"?Di(d,ie):oe==="dangerouslySetInnerHTML"?Ai(d,ie):oe==="children"?on(d,ie):S(d,oe,ie,q)}switch(L){case"input":We(d,p);break;case"textarea":Sr(d,p);break;case"select":var re=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var de=p.value;de!=null?Et(d,!!p.multiple,de,!1):re!==!!p.multiple&&(p.defaultValue!=null?Et(d,!!p.multiple,p.defaultValue,!0):Et(d,!!p.multiple,p.multiple?[]:"",!1))}d[Wo]=p}catch(pe){Be(t,t.return,pe)}}break;case 6:if(At(n,t),Gt(t),a&4){if(t.stateNode===null)throw Error(o(162));d=t.stateNode,p=t.memoizedProps;try{d.nodeValue=p}catch(pe){Be(t,t.return,pe)}}break;case 3:if(At(n,t),Gt(t),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Lo(n.containerInfo)}catch(pe){Be(t,t.return,pe)}break;case 4:At(n,t),Gt(t);break;case 13:At(n,t),Gt(t),d=t.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(Iu=De())),a&4&&oh(t);break;case 22:if(oe=i!==null&&i.memoizedState!==null,t.mode&1?(rt=(q=rt)||oe,At(n,t),rt=q):At(n,t),Gt(t),a&8192){if(q=t.memoizedState!==null,(t.stateNode.isHidden=q)&&!oe&&(t.mode&1)!==0)for(fe=t,oe=t.child;oe!==null;){for(ie=fe=oe;fe!==null;){switch(re=fe,de=re.child,re.tag){case 0:case 11:case 14:case 15:ti(4,re,re.return);break;case 1:Xr(re,re.return);var he=re.stateNode;if(typeof he.componentWillUnmount=="function"){a=re,i=re.return;try{n=a,he.props=n.memoizedProps,he.state=n.memoizedState,he.componentWillUnmount()}catch(pe){Be(a,i,pe)}}break;case 5:Xr(re,re.return);break;case 22:if(re.memoizedState!==null){ah(ie);continue}}de!==null?(de.return=re,fe=de):ah(ie)}oe=oe.sibling}e:for(oe=null,ie=t;;){if(ie.tag===5){if(oe===null){oe=ie;try{d=ie.stateNode,q?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(L=ie.stateNode,$=ie.memoizedProps.style,w=$!=null&&$.hasOwnProperty("display")?$.display:null,L.style.display=$i("display",w))}catch(pe){Be(t,t.return,pe)}}}else if(ie.tag===6){if(oe===null)try{ie.stateNode.nodeValue=q?"":ie.memoizedProps}catch(pe){Be(t,t.return,pe)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===t)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===t)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===t)break e;oe===ie&&(oe=null),ie=ie.return}oe===ie&&(oe=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:At(n,t),Gt(t),a&4&&oh(t);break;case 21:break;default:At(n,t),Gt(t)}}function Gt(t){var n=t.flags;if(n&2){try{e:{for(var i=t.return;i!==null;){if(th(i)){var a=i;break e}i=i.return}throw Error(o(160))}switch(a.tag){case 5:var d=a.stateNode;a.flags&32&&(on(d,""),a.flags&=-33);var p=nh(t);_u(t,p,d);break;case 3:case 4:var w=a.stateNode.containerInfo,L=nh(t);Cu(t,L,w);break;default:throw Error(o(161))}}catch($){Be(t,t.return,$)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Iy(t,n,i){fe=t,sh(t)}function sh(t,n,i){for(var a=(t.mode&1)!==0;fe!==null;){var d=fe,p=d.child;if(d.tag===22&&a){var w=d.memoizedState!==null||As;if(!w){var L=d.alternate,$=L!==null&&L.memoizedState!==null||rt;L=As;var q=rt;if(As=w,(rt=$)&&!q)for(fe=d;fe!==null;)w=fe,$=w.child,w.tag===22&&w.memoizedState!==null?uh(d):$!==null?($.return=w,fe=$):uh(d);for(;p!==null;)fe=p,sh(p),p=p.sibling;fe=d,As=L,rt=q}lh(t)}else(d.subtreeFlags&8772)!==0&&p!==null?(p.return=d,fe=p):lh(t)}}function lh(t){for(;fe!==null;){var n=fe;if((n.flags&8772)!==0){var i=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:rt||$s(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!rt)if(i===null)a.componentDidMount();else{var d=n.elementType===n.type?i.memoizedProps:Tt(n.type,i.memoizedProps);a.componentDidUpdate(d,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var p=n.updateQueue;p!==null&&af(n,p,a);break;case 3:var w=n.updateQueue;if(w!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}af(n,w,i)}break;case 5:var L=n.stateNode;if(i===null&&n.flags&4){i=L;var $=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&i.focus();break;case"img":$.src&&(i.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var q=n.alternate;if(q!==null){var oe=q.memoizedState;if(oe!==null){var ie=oe.dehydrated;ie!==null&&Lo(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}rt||n.flags&512&&Nu(n)}catch(re){Be(n,n.return,re)}}if(n===t){fe=null;break}if(i=n.sibling,i!==null){i.return=n.return,fe=i;break}fe=n.return}}function ah(t){for(;fe!==null;){var n=fe;if(n===t){fe=null;break}var i=n.sibling;if(i!==null){i.return=n.return,fe=i;break}fe=n.return}}function uh(t){for(;fe!==null;){var n=fe;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{$s(4,n)}catch($){Be(n,i,$)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var d=n.return;try{a.componentDidMount()}catch($){Be(n,d,$)}}var p=n.return;try{Nu(n)}catch($){Be(n,p,$)}break;case 5:var w=n.return;try{Nu(n)}catch($){Be(n,w,$)}}}catch($){Be(n,n.return,$)}if(n===t){fe=null;break}var L=n.sibling;if(L!==null){L.return=n.return,fe=L;break}fe=n.return}}var My=Math.ceil,Ds=j.ReactCurrentDispatcher,bu=j.ReactCurrentOwner,jt=j.ReactCurrentBatchConfig,je=0,Ke=null,Ue=null,Je=0,xt=0,Qr=Mn(0),Qe=0,ni=null,ar=0,Os=0,ju=0,ri=null,ut=null,Iu=0,Gr=1/0,hn=null,Fs=!1,Mu=null,An=null,Hs=!1,$n=null,Bs=0,oi=0,Pu=null,Vs=-1,Ws=0;function it(){return(je&6)!==0?De():Vs!==-1?Vs:Vs=De()}function Dn(t){return(t.mode&1)===0?1:(je&2)!==0&&Je!==0?Je&-Je:hy.transition!==null?(Ws===0&&(Ws=jr()),Ws):(t=Me,t!==0||(t=window.event,t=t===void 0?16:cd(t.type)),t)}function $t(t,n,i,a){if(50<oi)throw oi=0,Pu=null,Error(o(185));er(t,i,a),((je&2)===0||t!==Ke)&&(t===Ke&&((je&2)===0&&(Os|=i),Qe===4&&On(t,Je)),ct(t,a),i===1&&je===0&&(n.mode&1)===0&&(Gr=De()+500,vs&&Rn()))}function ct(t,n){var i=t.callbackNode;fa(t,n);var a=br(t,t===Ke?Je:0);if(a===0)i!==null&&Qi(i),t.callbackNode=null,t.callbackPriority=0;else if(n=a&-a,t.callbackPriority!==n){if(i!=null&&Qi(i),n===1)t.tag===0?fy(dh.bind(null,t)):Gd(dh.bind(null,t)),ay(function(){(je&6)===0&&Rn()}),i=null;else{switch(nd(a)){case 1:i=_o;break;case 4:i=Ki;break;case 16:i=Nr;break;case 536870912:i=qi;break;default:i=Nr}i=xh(i,ch.bind(null,t))}t.callbackPriority=n,t.callbackNode=i}}function ch(t,n){if(Vs=-1,Ws=0,(je&6)!==0)throw Error(o(327));var i=t.callbackNode;if(Kr()&&t.callbackNode!==i)return null;var a=br(t,t===Ke?Je:0);if(a===0)return null;if((a&30)!==0||(a&t.expiredLanes)!==0||n)n=Us(t,a);else{n=a;var d=je;je|=2;var p=hh();(Ke!==t||Je!==n)&&(hn=null,Gr=De()+500,cr(t,n));do try{Ly();break}catch(L){fh(t,L)}while(!0);Ga(),Ds.current=p,je=d,Ue!==null?n=0:(Ke=null,Je=0,n=Qe)}if(n!==0){if(n===2&&(d=bo(t),d!==0&&(a=d,n=Ru(t,d))),n===1)throw i=ni,cr(t,0),On(t,a),ct(t,De()),i;if(n===6)On(t,a);else{if(d=t.current.alternate,(a&30)===0&&!Py(d)&&(n=Us(t,a),n===2&&(p=bo(t),p!==0&&(a=p,n=Ru(t,p))),n===1))throw i=ni,cr(t,0),On(t,a),ct(t,De()),i;switch(t.finishedWork=d,t.finishedLanes=a,n){case 0:case 1:throw Error(o(345));case 2:dr(t,ut,hn);break;case 3:if(On(t,a),(a&130023424)===a&&(n=Iu+500-De(),10<n)){if(br(t,0)!==0)break;if(d=t.suspendedLanes,(d&a)!==a){it(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=Da(dr.bind(null,t,ut,hn),n);break}dr(t,ut,hn);break;case 4:if(On(t,a),(a&4194240)===a)break;for(n=t.eventTimes,d=-1;0<a;){var w=31-mt(a);p=1<<w,w=n[w],w>d&&(d=w),a&=~p}if(a=d,a=De()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*My(a/1960))-a,10<a){t.timeoutHandle=Da(dr.bind(null,t,ut,hn),a);break}dr(t,ut,hn);break;case 5:dr(t,ut,hn);break;default:throw Error(o(329))}}}return ct(t,De()),t.callbackNode===i?ch.bind(null,t):null}function Ru(t,n){var i=ri;return t.current.memoizedState.isDehydrated&&(cr(t,n).flags|=256),t=Us(t,n),t!==2&&(n=ut,ut=i,n!==null&&Lu(n)),t}function Lu(t){ut===null?ut=t:ut.push.apply(ut,t)}function Py(t){for(var n=t;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var d=i[a],p=d.getSnapshot;d=d.value;try{if(!Rt(p(),d))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function On(t,n){for(n&=~ju,n&=~Os,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var i=31-mt(n),a=1<<i;t[i]=-1,n&=~a}}function dh(t){if((je&6)!==0)throw Error(o(327));Kr();var n=br(t,0);if((n&1)===0)return ct(t,De()),null;var i=Us(t,n);if(t.tag!==0&&i===2){var a=bo(t);a!==0&&(n=a,i=Ru(t,a))}if(i===1)throw i=ni,cr(t,0),On(t,n),ct(t,De()),i;if(i===6)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,dr(t,ut,hn),ct(t,De()),null}function Tu(t,n){var i=je;je|=1;try{return t(n)}finally{je=i,je===0&&(Gr=De()+500,vs&&Rn())}}function ur(t){$n!==null&&$n.tag===0&&(je&6)===0&&Kr();var n=je;je|=1;var i=jt.transition,a=Me;try{if(jt.transition=null,Me=1,t)return t()}finally{Me=a,jt.transition=i,je=n,(je&6)===0&&Rn()}}function zu(){xt=Qr.current,Te(Qr)}function cr(t,n){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(i!==-1&&(t.timeoutHandle=-1,ly(i)),Ue!==null)for(i=Ue.return;i!==null;){var a=i;switch(Wa(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&gs();break;case 3:Ur(),Te(st),Te(et),ru();break;case 5:tu(a);break;case 4:Ur();break;case 13:Te(Oe);break;case 19:Te(Oe);break;case 10:Ka(a.type._context);break;case 22:case 23:zu()}i=i.return}if(Ke=t,Ue=t=Fn(t.current,null),Je=xt=n,Qe=0,ni=null,ju=Os=ar=0,ut=ri=null,ir!==null){for(n=0;n<ir.length;n++)if(i=ir[n],a=i.interleaved,a!==null){i.interleaved=null;var d=a.next,p=i.pending;if(p!==null){var w=p.next;p.next=d,a.next=w}i.pending=a}ir=null}return t}function fh(t,n){do{var i=Ue;try{if(Ga(),js.current=Rs,Is){for(var a=Fe.memoizedState;a!==null;){var d=a.queue;d!==null&&(d.pending=null),a=a.next}Is=!1}if(lr=0,Ge=Xe=Fe=null,Ko=!1,qo=0,bu.current=null,i===null||i.return===null){Qe=1,ni=n,Ue=null;break}e:{var p=t,w=i.return,L=i,$=n;if(n=Je,L.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var q=$,oe=L,ie=oe.tag;if((oe.mode&1)===0&&(ie===0||ie===11||ie===15)){var re=oe.alternate;re?(oe.updateQueue=re.updateQueue,oe.memoizedState=re.memoizedState,oe.lanes=re.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var de=$f(w);if(de!==null){de.flags&=-257,Df(de,w,L,p,n),de.mode&1&&Af(p,q,n),n=de,$=q;var he=n.updateQueue;if(he===null){var pe=new Set;pe.add($),n.updateQueue=pe}else he.add($);break e}else{if((n&1)===0){Af(p,q,n),Au();break e}$=Error(o(426))}}else if(ze&&L.mode&1){var Ve=$f(w);if(Ve!==null){(Ve.flags&65536)===0&&(Ve.flags|=256),Df(Ve,w,L,p,n),Xa(Yr($,L));break e}}p=$=Yr($,L),Qe!==4&&(Qe=2),ri===null?ri=[p]:ri.push(p),p=w;do{switch(p.tag){case 3:p.flags|=65536,n&=-n,p.lanes|=n;var X=Tf(p,$,n);lf(p,X);break e;case 1:L=$;var B=p.type,K=p.stateNode;if((p.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(An===null||!An.has(K)))){p.flags|=65536,n&=-n,p.lanes|=n;var se=zf(p,L,n);lf(p,se);break e}}p=p.return}while(p!==null)}mh(i)}catch(me){n=me,Ue===i&&i!==null&&(Ue=i=i.return);continue}break}while(!0)}function hh(){var t=Ds.current;return Ds.current=Rs,t===null?Rs:t}function Au(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),Ke===null||(ar&268435455)===0&&(Os&268435455)===0||On(Ke,Je)}function Us(t,n){var i=je;je|=2;var a=hh();(Ke!==t||Je!==n)&&(hn=null,cr(t,n));do try{Ry();break}catch(d){fh(t,d)}while(!0);if(Ga(),je=i,Ds.current=a,Ue!==null)throw Error(o(261));return Ke=null,Je=0,Qe}function Ry(){for(;Ue!==null;)ph(Ue)}function Ly(){for(;Ue!==null&&!ia();)ph(Ue)}function ph(t){var n=vh(t.alternate,t,xt);t.memoizedProps=t.pendingProps,n===null?mh(t):Ue=n,bu.current=null}function mh(t){var n=t;do{var i=n.alternate;if(t=n.return,(n.flags&32768)===0){if(i=Cy(i,n,xt),i!==null){Ue=i;return}}else{if(i=_y(i,n),i!==null){i.flags&=32767,Ue=i;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,Ue=null;return}}if(n=n.sibling,n!==null){Ue=n;return}Ue=n=t}while(n!==null);Qe===0&&(Qe=5)}function dr(t,n,i){var a=Me,d=jt.transition;try{jt.transition=null,Me=1,Ty(t,n,i,a)}finally{jt.transition=d,Me=a}return null}function Ty(t,n,i,a){do Kr();while($n!==null);if((je&6)!==0)throw Error(o(327));i=t.finishedWork;var d=t.finishedLanes;if(i===null)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var p=i.lanes|i.childLanes;if(Ji(t,p),t===Ke&&(Ue=Ke=null,Je=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Hs||(Hs=!0,xh(Nr,function(){return Kr(),null})),p=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||p){p=jt.transition,jt.transition=null;var w=Me;Me=1;var L=je;je|=4,bu.current=null,jy(t,i),ih(i,t),ey(Aa),ns=!!za,Aa=za=null,t.current=i,Iy(i),Gi(),je=L,Me=w,jt.transition=p}else t.current=i;if(Hs&&(Hs=!1,$n=t,Bs=d),p=t.pendingLanes,p===0&&(An=null),aa(i.stateNode),ct(t,De()),n!==null)for(a=t.onRecoverableError,i=0;i<n.length;i++)d=n[i],a(d.value,{componentStack:d.stack,digest:d.digest});if(Fs)throw Fs=!1,t=Mu,Mu=null,t;return(Bs&1)!==0&&t.tag!==0&&Kr(),p=t.pendingLanes,(p&1)!==0?t===Pu?oi++:(oi=0,Pu=t):oi=0,Rn(),null}function Kr(){if($n!==null){var t=nd(Bs),n=jt.transition,i=Me;try{if(jt.transition=null,Me=16>t?16:t,$n===null)var a=!1;else{if(t=$n,$n=null,Bs=0,(je&6)!==0)throw Error(o(331));var d=je;for(je|=4,fe=t.current;fe!==null;){var p=fe,w=p.child;if((fe.flags&16)!==0){var L=p.deletions;if(L!==null){for(var $=0;$<L.length;$++){var q=L[$];for(fe=q;fe!==null;){var oe=fe;switch(oe.tag){case 0:case 11:case 15:ti(8,oe,p)}var ie=oe.child;if(ie!==null)ie.return=oe,fe=ie;else for(;fe!==null;){oe=fe;var re=oe.sibling,de=oe.return;if(eh(oe),oe===q){fe=null;break}if(re!==null){re.return=de,fe=re;break}fe=de}}}var he=p.alternate;if(he!==null){var pe=he.child;if(pe!==null){he.child=null;do{var Ve=pe.sibling;pe.sibling=null,pe=Ve}while(pe!==null)}}fe=p}}if((p.subtreeFlags&2064)!==0&&w!==null)w.return=p,fe=w;else e:for(;fe!==null;){if(p=fe,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:ti(9,p,p.return)}var X=p.sibling;if(X!==null){X.return=p.return,fe=X;break e}fe=p.return}}var B=t.current;for(fe=B;fe!==null;){w=fe;var K=w.child;if((w.subtreeFlags&2064)!==0&&K!==null)K.return=w,fe=K;else e:for(w=B;fe!==null;){if(L=fe,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:$s(9,L)}}catch(me){Be(L,L.return,me)}if(L===w){fe=null;break e}var se=L.sibling;if(se!==null){se.return=L.return,fe=se;break e}fe=L.return}}if(je=d,Rn(),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(Jn,t)}catch{}a=!0}return a}finally{Me=i,jt.transition=n}}return!1}function gh(t,n,i){n=Yr(i,n),n=Tf(t,n,1),t=Tn(t,n,1),n=it(),t!==null&&(er(t,1,n),ct(t,n))}function Be(t,n,i){if(t.tag===3)gh(t,t,i);else for(;n!==null;){if(n.tag===3){gh(n,t,i);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(An===null||!An.has(a))){t=Yr(i,t),t=zf(n,t,1),n=Tn(n,t,1),t=it(),n!==null&&(er(n,1,t),ct(n,t));break}}n=n.return}}function zy(t,n,i){var a=t.pingCache;a!==null&&a.delete(n),n=it(),t.pingedLanes|=t.suspendedLanes&i,Ke===t&&(Je&i)===i&&(Qe===4||Qe===3&&(Je&130023424)===Je&&500>De()-Iu?cr(t,0):ju|=i),ct(t,n)}function yh(t,n){n===0&&((t.mode&1)===0?n=1:(n=_r,_r<<=1,(_r&130023424)===0&&(_r=4194304)));var i=it();t=cn(t,n),t!==null&&(er(t,n,i),ct(t,i))}function Ay(t){var n=t.memoizedState,i=0;n!==null&&(i=n.retryLane),yh(t,i)}function $y(t,n){var i=0;switch(t.tag){case 13:var a=t.stateNode,d=t.memoizedState;d!==null&&(i=d.retryLane);break;case 19:a=t.stateNode;break;default:throw Error(o(314))}a!==null&&a.delete(n),yh(t,i)}var vh;vh=function(t,n,i){if(t!==null)if(t.memoizedProps!==n.pendingProps||st.current)at=!0;else{if((t.lanes&i)===0&&(n.flags&128)===0)return at=!1,Ny(t,n,i);at=(t.flags&131072)!==0}else at=!1,ze&&(n.flags&1048576)!==0&&Kd(n,ws,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;zs(t,n),t=n.pendingProps;var d=Dr(n,et.current);Wr(n,i),d=su(null,n,a,t,d,i);var p=lu();return n.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,lt(a)?(p=!0,ys(n)):p=!1,n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Ja(n),d.updater=Ls,n.stateNode=d,d._reactInternals=n,hu(n,a,t,i),n=yu(null,n,a,!0,p,i)):(n.tag=0,ze&&p&&Va(n),ot(null,n,d,i),n=n.child),n;case 16:a=n.elementType;e:{switch(zs(t,n),t=n.pendingProps,d=a._init,a=d(a._payload),n.type=a,d=n.tag=Oy(a),t=Tt(a,t),d){case 0:n=gu(null,n,a,t,i);break e;case 1:n=Wf(null,n,a,t,i);break e;case 11:n=Of(null,n,a,t,i);break e;case 14:n=Ff(null,n,a,Tt(a.type,t),i);break e}throw Error(o(306,a,""))}return n;case 0:return a=n.type,d=n.pendingProps,d=n.elementType===a?d:Tt(a,d),gu(t,n,a,d,i);case 1:return a=n.type,d=n.pendingProps,d=n.elementType===a?d:Tt(a,d),Wf(t,n,a,d,i);case 3:e:{if(Uf(n),t===null)throw Error(o(387));a=n.pendingProps,p=n.memoizedState,d=p.element,sf(t,n),_s(n,a,null,i);var w=n.memoizedState;if(a=w.element,p.isDehydrated)if(p={element:a,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){d=Yr(Error(o(423)),n),n=Yf(t,n,a,i,d);break e}else if(a!==d){d=Yr(Error(o(424)),n),n=Yf(t,n,a,i,d);break e}else for(vt=In(n.stateNode.containerInfo.firstChild),yt=n,ze=!0,Lt=null,i=rf(n,null,a,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Hr(),a===d){n=fn(t,n,i);break e}ot(t,n,a,i)}n=n.child}return n;case 5:return uf(n),t===null&&Ya(n),a=n.type,d=n.pendingProps,p=t!==null?t.memoizedProps:null,w=d.children,$a(a,d)?w=null:p!==null&&$a(a,p)&&(n.flags|=32),Vf(t,n),ot(t,n,w,i),n.child;case 6:return t===null&&Ya(n),null;case 13:return Xf(t,n,i);case 4:return eu(n,n.stateNode.containerInfo),a=n.pendingProps,t===null?n.child=Br(n,null,a,i):ot(t,n,a,i),n.child;case 11:return a=n.type,d=n.pendingProps,d=n.elementType===a?d:Tt(a,d),Of(t,n,a,d,i);case 7:return ot(t,n,n.pendingProps,i),n.child;case 8:return ot(t,n,n.pendingProps.children,i),n.child;case 12:return ot(t,n,n.pendingProps.children,i),n.child;case 10:e:{if(a=n.type._context,d=n.pendingProps,p=n.memoizedProps,w=d.value,Re(ks,a._currentValue),a._currentValue=w,p!==null)if(Rt(p.value,w)){if(p.children===d.children&&!st.current){n=fn(t,n,i);break e}}else for(p=n.child,p!==null&&(p.return=n);p!==null;){var L=p.dependencies;if(L!==null){w=p.child;for(var $=L.firstContext;$!==null;){if($.context===a){if(p.tag===1){$=dn(-1,i&-i),$.tag=2;var q=p.updateQueue;if(q!==null){q=q.shared;var oe=q.pending;oe===null?$.next=$:($.next=oe.next,oe.next=$),q.pending=$}}p.lanes|=i,$=p.alternate,$!==null&&($.lanes|=i),qa(p.return,i,n),L.lanes|=i;break}$=$.next}}else if(p.tag===10)w=p.type===n.type?null:p.child;else if(p.tag===18){if(w=p.return,w===null)throw Error(o(341));w.lanes|=i,L=w.alternate,L!==null&&(L.lanes|=i),qa(w,i,n),w=p.sibling}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===n){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}ot(t,n,d.children,i),n=n.child}return n;case 9:return d=n.type,a=n.pendingProps.children,Wr(n,i),d=_t(d),a=a(d),n.flags|=1,ot(t,n,a,i),n.child;case 14:return a=n.type,d=Tt(a,n.pendingProps),d=Tt(a.type,d),Ff(t,n,a,d,i);case 15:return Hf(t,n,n.type,n.pendingProps,i);case 17:return a=n.type,d=n.pendingProps,d=n.elementType===a?d:Tt(a,d),zs(t,n),n.tag=1,lt(a)?(t=!0,ys(n)):t=!1,Wr(n,i),Rf(n,a,d),hu(n,a,d,i),yu(null,n,a,!0,t,i);case 19:return Gf(t,n,i);case 22:return Bf(t,n,i)}throw Error(o(156,n.tag))};function xh(t,n){return Xi(t,n)}function Dy(t,n,i,a){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(t,n,i,a){return new Dy(t,n,i,a)}function $u(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Oy(t){if(typeof t=="function")return $u(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Y)return 11;if(t===G)return 14}return 2}function Fn(t,n){var i=t.alternate;return i===null?(i=It(t.tag,n,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=n,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&14680064,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,n=t.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function Ys(t,n,i,a,d,p){var w=2;if(a=t,typeof t=="function")$u(t)&&(w=1);else if(typeof t=="string")w=5;else e:switch(t){case P:return fr(i.children,d,p,n);case D:w=8,d|=8;break;case H:return t=It(12,i,n,d|2),t.elementType=H,t.lanes=p,t;case J:return t=It(13,i,n,d),t.elementType=J,t.lanes=p,t;case R:return t=It(19,i,n,d),t.elementType=R,t.lanes=p,t;case Q:return Xs(i,d,p,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Z:w=10;break e;case W:w=9;break e;case Y:w=11;break e;case G:w=14;break e;case V:w=16,a=null;break e}throw Error(o(130,t==null?t:typeof t,""))}return n=It(w,i,n,d),n.elementType=t,n.type=a,n.lanes=p,n}function fr(t,n,i,a){return t=It(7,t,a,n),t.lanes=i,t}function Xs(t,n,i,a){return t=It(22,t,a,n),t.elementType=Q,t.lanes=i,t.stateNode={isHidden:!1},t}function Du(t,n,i){return t=It(6,t,null,n),t.lanes=i,t}function Ou(t,n,i){return n=It(4,t.children!==null?t.children:[],t.key,n),n.lanes=i,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Fy(t,n,i,a,d){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jo(0),this.expirationTimes=jo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jo(0),this.identifierPrefix=a,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Fu(t,n,i,a,d,p,w,L,$){return t=new Fy(t,n,i,L,$),n===1?(n=1,p===!0&&(n|=8)):n=0,p=It(3,null,null,n),t.current=p,p.stateNode=t,p.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ja(p),t}function Hy(t,n,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:a==null?null:""+a,children:t,containerInfo:n,implementation:i}}function wh(t){if(!t)return Pn;t=t._reactInternals;e:{if(Wt(t)!==t||t.tag!==1)throw Error(o(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(lt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(o(171))}if(t.tag===1){var i=t.type;if(lt(i))return Xd(t,i,n)}return n}function Sh(t,n,i,a,d,p,w,L,$){return t=Fu(i,a,!0,t,d,p,w,L,$),t.context=wh(null),i=t.current,a=it(),d=Dn(i),p=dn(a,d),p.callback=n??null,Tn(i,p,d),t.current.lanes=d,er(t,d,a),ct(t,a),t}function Qs(t,n,i,a){var d=n.current,p=it(),w=Dn(d);return i=wh(i),n.context===null?n.context=i:n.pendingContext=i,n=dn(p,w),n.payload={element:t},a=a===void 0?null:a,a!==null&&(n.callback=a),t=Tn(d,n,w),t!==null&&($t(t,d,w,p),Cs(t,d,w)),w}function Gs(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Eh(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<n?i:n}}function Hu(t,n){Eh(t,n),(t=t.alternate)&&Eh(t,n)}function By(){return null}var kh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Bu(t){this._internalRoot=t}Ks.prototype.render=Bu.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(o(409));Qs(t,n,null,null)},Ks.prototype.unmount=Bu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ur(function(){Qs(null,t,null,null)}),n[sn]=null}};function Ks(t){this._internalRoot=t}Ks.prototype.unstable_scheduleHydration=function(t){if(t){var n=id();t={blockedOn:null,target:t,priority:n};for(var i=0;i<_n.length&&n!==0&&n<_n[i].priority;i++);_n.splice(i,0,t),i===0&&ad(t)}};function Vu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qs(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Nh(){}function Vy(t,n,i,a,d){if(d){if(typeof a=="function"){var p=a;a=function(){var q=Gs(w);p.call(q)}}var w=Sh(n,a,t,0,null,!1,!1,"",Nh);return t._reactRootContainer=w,t[sn]=w.current,Bo(t.nodeType===8?t.parentNode:t),ur(),w}for(;d=t.lastChild;)t.removeChild(d);if(typeof a=="function"){var L=a;a=function(){var q=Gs($);L.call(q)}}var $=Fu(t,0,!1,null,null,!1,!1,"",Nh);return t._reactRootContainer=$,t[sn]=$.current,Bo(t.nodeType===8?t.parentNode:t),ur(function(){Qs(n,$,i,a)}),$}function Zs(t,n,i,a,d){var p=i._reactRootContainer;if(p){var w=p;if(typeof d=="function"){var L=d;d=function(){var $=Gs(w);L.call($)}}Qs(n,w,t,d)}else w=Vy(i,n,t,d,a);return Gs(w)}rd=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var i=Ut(n.pendingLanes);i!==0&&(ha(n,i|1),ct(n,De()),(je&6)===0&&(Gr=De()+500,Rn()))}break;case 13:ur(function(){var a=cn(t,1);if(a!==null){var d=it();$t(a,t,1,d)}}),Hu(t,1)}},pa=function(t){if(t.tag===13){var n=cn(t,134217728);if(n!==null){var i=it();$t(n,t,134217728,i)}Hu(t,134217728)}},od=function(t){if(t.tag===13){var n=Dn(t),i=cn(t,n);if(i!==null){var a=it();$t(i,t,n,a)}Hu(t,n)}},id=function(){return Me},sd=function(t,n){var i=Me;try{return Me=t,n()}finally{Me=i}},wo=function(t,n,i){switch(n){case"input":if(We(t,i),n=i.name,i.type==="radio"&&n!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var a=i[n];if(a!==t&&a.form===t.form){var d=ms(a);if(!d)throw Error(o(90));Se(a),We(a,d)}}}break;case"textarea":Sr(t,i);break;case"select":n=i.value,n!=null&&Et(t,!!i.multiple,n,!1)}},Bi=Tu,Vi=ur;var Wy={usingClientEntryPoint:!1,Events:[Uo,Ar,ms,Fi,Hi,Tu]},ii={findFiberByHostInstance:tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Uy={bundleType:ii.bundleType,version:ii.version,rendererPackageName:ii.rendererPackageName,rendererConfig:ii.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ui(t),t===null?null:t.stateNode},findFiberByHostInstance:ii.findFiberByHostInstance||By,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Js=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Js.isDisabled&&Js.supportsFiber)try{Jn=Js.inject(Uy),kt=Js}catch{}}return dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wy,dt.createPortal=function(t,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vu(n))throw Error(o(200));return Hy(t,n,null,i)},dt.createRoot=function(t,n){if(!Vu(t))throw Error(o(299));var i=!1,a="",d=kh;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=Fu(t,1,!1,null,null,i,!1,a,d),t[sn]=n.current,Bo(t.nodeType===8?t.parentNode:t),new Bu(n)},dt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=Ui(n),t=t===null?null:t.stateNode,t},dt.flushSync=function(t){return ur(t)},dt.hydrate=function(t,n,i){if(!qs(n))throw Error(o(200));return Zs(null,t,n,!0,i)},dt.hydrateRoot=function(t,n,i){if(!Vu(t))throw Error(o(405));var a=i!=null&&i.hydratedSources||null,d=!1,p="",w=kh;if(i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(p=i.identifierPrefix),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),n=Sh(n,null,t,1,i??null,d,!1,p,w),t[sn]=n.current,Bo(t),a)for(t=0;t<a.length;t++)i=a[t],d=i._getVersion,d=d(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,d]:n.mutableSourceEagerHydrationData.push(i,d);return new Ks(n)},dt.render=function(t,n,i){if(!qs(n))throw Error(o(200));return Zs(null,t,n,!1,i)},dt.unmountComponentAtNode=function(t){if(!qs(t))throw Error(o(40));return t._reactRootContainer?(ur(function(){Zs(null,null,t,!1,function(){t._reactRootContainer=null,t[sn]=null})}),!0):!1},dt.unstable_batchedUpdates=Tu,dt.unstable_renderSubtreeIntoContainer=function(t,n,i,a){if(!qs(i))throw Error(o(200));if(t==null||t._reactInternals===void 0)throw Error(o(38));return Zs(t,n,i,!1,a)},dt.version="18.3.1-next-f1338f8080-20240426",dt}var Rh;function Zp(){if(Rh)return Yu.exports;Rh=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),Yu.exports=Zy(),Yu.exports}var Lh;function Jy(){if(Lh)return el;Lh=1;var e=Zp();return el.createRoot=e.createRoot,el.hydrateRoot=e.hydrateRoot,el}var ev=Jy();const tv=Ic(ev);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Th="popstate";function nv(e={}){function r(s,l){let{pathname:u,search:c,hash:f}=s.location;return hc("",{pathname:u,search:c,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function o(s,l){return typeof l=="string"?l:gi(l)}return ov(r,o,null,e)}function He(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function Bt(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function rv(){return Math.random().toString(36).substring(2,10)}function zh(e,r){return{usr:e.state,key:e.key,idx:r}}function hc(e,r,o=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof r=="string"?po(r):r,state:o,key:r&&r.key||s||rv()}}function gi({pathname:e="/",search:r="",hash:o=""}){return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(e+=o.charAt(0)==="#"?o:"#"+o),e}function po(e){let r={};if(e){let o=e.indexOf("#");o>=0&&(r.hash=e.substring(o),e=e.substring(0,o));let s=e.indexOf("?");s>=0&&(r.search=e.substring(s),e=e.substring(0,s)),e&&(r.pathname=e)}return r}function ov(e,r,o,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,c=l.history,f="POP",h=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function m(){f="POP";let C=v(),N=C==null?null:C-g;g=C,h&&h({action:f,location:b.location,delta:N})}function x(C,N){f="PUSH";let I=hc(b.location,C,N);g=v()+1;let S=zh(I,g),j=b.createHref(I);try{c.pushState(S,"",j)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;l.location.assign(j)}u&&h&&h({action:f,location:b.location,delta:1})}function E(C,N){f="REPLACE";let I=hc(b.location,C,N);g=v();let S=zh(I,g),j=b.createHref(I);c.replaceState(S,"",j),u&&h&&h({action:f,location:b.location,delta:0})}function k(C){return iv(C)}let b={get action(){return f},get location(){return e(l,c)},listen(C){if(h)throw new Error("A history only accepts one active listener");return l.addEventListener(Th,m),h=C,()=>{l.removeEventListener(Th,m),h=null}},createHref(C){return r(l,C)},createURL:k,encodeLocation(C){let N=k(C);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:x,replace:E,go(C){return c.go(C)}};return b}function iv(e,r=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),He(o,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:gi(e);return s=s.replace(/ $/,"%20"),!r&&s.startsWith("//")&&(s=o+s),new URL(s,o)}function Jp(e,r,o="/"){return sv(e,r,o,!1)}function sv(e,r,o,s){let l=typeof r=="string"?po(r):r,u=yn(l.pathname||"/",o);if(u==null)return null;let c=em(e);lv(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let g=vv(u);f=gv(c[h],g,s)}return f}function em(e,r=[],o=[],s="",l=!1){let u=(c,f,h=l,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&h)return;He(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let m=gn([s,v.relativePath]),x=o.concat(v);c.children&&c.children.length>0&&(He(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),em(c.children,r,x,m,h)),!(c.path==null&&!c.index)&&r.push({path:m,score:pv(m,c.index),routesMeta:x})};return e.forEach((c,f)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))u(c,f);else for(let g of tm(c.path))u(c,f,!0,g)}),r}function tm(e){let r=e.split("/");if(r.length===0)return[];let[o,...s]=r,l=o.endsWith("?"),u=o.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let c=tm(s.join("/")),f=[];return f.push(...c.map(h=>h===""?u:[u,h].join("/"))),l&&f.push(...c),f.map(h=>e.startsWith("/")&&h===""?"/":h)}function lv(e){e.sort((r,o)=>r.score!==o.score?o.score-r.score:mv(r.routesMeta.map(s=>s.childrenIndex),o.routesMeta.map(s=>s.childrenIndex)))}var av=/^:[\w-]+$/,uv=3,cv=2,dv=1,fv=10,hv=-2,Ah=e=>e==="*";function pv(e,r){let o=e.split("/"),s=o.length;return o.some(Ah)&&(s+=hv),r&&(s+=cv),o.filter(l=>!Ah(l)).reduce((l,u)=>l+(av.test(u)?uv:u===""?dv:fv),s)}function mv(e,r){return e.length===r.length&&e.slice(0,-1).every((s,l)=>s===r[l])?e[e.length-1]-r[r.length-1]:0}function gv(e,r,o=!1){let{routesMeta:s}=e,l={},u="/",c=[];for(let f=0;f<s.length;++f){let h=s[f],g=f===s.length-1,v=u==="/"?r:r.slice(u.length)||"/",m=El({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},v),x=h.route;if(!m&&g&&o&&!s[s.length-1].route.index&&(m=El({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!m)return null;Object.assign(l,m.params),c.push({params:l,pathname:gn([u,m.pathname]),pathnameBase:Ev(gn([u,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(u=gn([u,m.pathnameBase]))}return c}function El(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[o,s]=yv(e.path,e.caseSensitive,e.end),l=r.match(o);if(!l)return null;let u=l[0],c=u.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:m},x)=>{if(v==="*"){let k=f[x]||"";c=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const E=f[x];return m&&!E?g[v]=void 0:g[v]=(E||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:c,pattern:e}}function yv(e,r=!1,o=!0){Bt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(s.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,r?void 0:"i"),s]}function vv(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Bt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),e}}function yn(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let o=r.endsWith("/")?r.length-1:r.length,s=e.charAt(o);return s&&s!=="/"?null:e.slice(o)||"/"}var nm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xv=e=>nm.test(e);function wv(e,r="/"){let{pathname:o,search:s="",hash:l=""}=typeof e=="string"?po(e):e,u;if(o)if(xv(o))u=o;else{if(o.includes("//")){let c=o;o=o.replace(/\/\/+/g,"/"),Bt(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${o}`)}o.startsWith("/")?u=$h(o.substring(1),"/"):u=$h(o,r)}else u=r;return{pathname:u,search:kv(s),hash:Nv(l)}}function $h(e,r){let o=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?o.length>1&&o.pop():l!=="."&&o.push(l)}),o.length>1?o.join("/"):"/"}function Gu(e,r,o,s){return`Cannot include a '${e}' character in a manually specified \`to.${r}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Sv(e){return e.filter((r,o)=>o===0||r.route.path&&r.route.path.length>0)}function rm(e){let r=Sv(e);return r.map((o,s)=>s===r.length-1?o.pathname:o.pathnameBase)}function om(e,r,o,s=!1){let l;typeof e=="string"?l=po(e):(l={...e},He(!l.pathname||!l.pathname.includes("?"),Gu("?","pathname","search",l)),He(!l.pathname||!l.pathname.includes("#"),Gu("#","pathname","hash",l)),He(!l.search||!l.search.includes("#"),Gu("#","search","hash",l)));let u=e===""||l.pathname==="",c=u?"/":l.pathname,f;if(c==null)f=o;else{let m=r.length-1;if(!s&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),m-=1;l.pathname=x.join("/")}f=m>=0?r[m]:"/"}let h=wv(l,f),g=c&&c!=="/"&&c.endsWith("/"),v=(u||c===".")&&o.endsWith("/");return!h.pathname.endsWith("/")&&(g||v)&&(h.pathname+="/"),h}var gn=e=>e.join("/").replace(/\/\/+/g,"/"),Ev=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Nv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Cv=class{constructor(e,r,o,s=!1){this.status=e,this.statusText=r||"",this.internal=s,o instanceof Error?(this.data=o.toString(),this.error=o):this.data=o}};function _v(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function bv(e){return e.map(r=>r.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var im=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function sm(e,r){let o=e;if(typeof o!="string"||!nm.test(o))return{absoluteURL:void 0,isExternal:!1,to:o};let s=o,l=!1;if(im)try{let u=new URL(window.location.href),c=o.startsWith("//")?new URL(u.protocol+o):new URL(o),f=yn(c.pathname,r);c.origin===u.origin&&f!=null?o=f+c.search+c.hash:l=!0}catch{Bt(!1,`<Link to="${o}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:l,to:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var lm=["POST","PUT","PATCH","DELETE"];new Set(lm);var jv=["GET",...lm];new Set(jv);var mo=_.createContext(null);mo.displayName="DataRouter";var Al=_.createContext(null);Al.displayName="DataRouterState";var Iv=_.createContext(!1),am=_.createContext({isTransitioning:!1});am.displayName="ViewTransition";var Mv=_.createContext(new Map);Mv.displayName="Fetchers";var Pv=_.createContext(null);Pv.displayName="Await";var Mt=_.createContext(null);Mt.displayName="Navigation";var bi=_.createContext(null);bi.displayName="Location";var Jt=_.createContext({outlet:null,matches:[],isDataRoute:!1});Jt.displayName="Route";var Mc=_.createContext(null);Mc.displayName="RouteError";var um="REACT_ROUTER_ERROR",Rv="REDIRECT",Lv="ROUTE_ERROR_RESPONSE";function Tv(e){if(e.startsWith(`${um}:${Rv}:{`))try{let r=JSON.parse(e.slice(28));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.location=="string"&&typeof r.reloadDocument=="boolean"&&typeof r.replace=="boolean")return r}catch{}}function zv(e){if(e.startsWith(`${um}:${Lv}:{`))try{let r=JSON.parse(e.slice(40));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string")return new Cv(r.status,r.statusText,r.data)}catch{}}function Av(e,{relative:r}={}){He(ji(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:s}=_.useContext(Mt),{hash:l,pathname:u,search:c}=Ii(e,{relative:r}),f=u;return o!=="/"&&(f=u==="/"?o:gn([o,u])),s.createHref({pathname:f,search:c,hash:l})}function ji(){return _.useContext(bi)!=null}function Yn(){return He(ji(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(bi).location}var cm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dm(e){_.useContext(Mt).static||_.useLayoutEffect(e)}function $l(){let{isDataRoute:e}=_.useContext(Jt);return e?Kv():$v()}function $v(){He(ji(),"useNavigate() may be used only in the context of a <Router> component.");let e=_.useContext(mo),{basename:r,navigator:o}=_.useContext(Mt),{matches:s}=_.useContext(Jt),{pathname:l}=Yn(),u=JSON.stringify(rm(s)),c=_.useRef(!1);return dm(()=>{c.current=!0}),_.useCallback((h,g={})=>{if(Bt(c.current,cm),!c.current)return;if(typeof h=="number"){o.go(h);return}let v=om(h,JSON.parse(u),l,g.relative==="path");e==null&&r!=="/"&&(v.pathname=v.pathname==="/"?r:gn([r,v.pathname])),(g.replace?o.replace:o.push)(v,g.state,g)},[r,o,u,l,e])}_.createContext(null);function Dv(){let{matches:e}=_.useContext(Jt),r=e[e.length-1];return r?r.params:{}}function Ii(e,{relative:r}={}){let{matches:o}=_.useContext(Jt),{pathname:s}=Yn(),l=JSON.stringify(rm(o));return _.useMemo(()=>om(e,JSON.parse(l),s,r==="path"),[e,l,s,r])}function Ov(e,r){return fm(e,r)}function fm(e,r,o,s,l){var I;He(ji(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=_.useContext(Mt),{matches:c}=_.useContext(Jt),f=c[c.length-1],h=f?f.params:{},g=f?f.pathname:"/",v=f?f.pathnameBase:"/",m=f&&f.route;{let S=m&&m.path||"";pm(g,!m||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let x=Yn(),E;if(r){let S=typeof r=="string"?po(r):r;He(v==="/"||((I=S.pathname)==null?void 0:I.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${S.pathname}" was given in the \`location\` prop.`),E=S}else E=x;let k=E.pathname||"/",b=k;if(v!=="/"){let S=v.replace(/^\//,"").split("/");b="/"+k.replace(/^\//,"").split("/").slice(S.length).join("/")}let C=Jp(e,{pathname:b});Bt(m||C!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Bt(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=Wv(C&&C.map(S=>Object.assign({},S,{params:Object.assign({},h,S.params),pathname:gn([v,u.encodeLocation?u.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?v:gn([v,u.encodeLocation?u.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),c,o,s,l);return r&&N?_.createElement(bi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},N):N}function Fv(){let e=Gv(),r=_v(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),o=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:u},"ErrorBoundary")," or"," ",_.createElement("code",{style:u},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},r),o?_.createElement("pre",{style:l},o):null,c)}var Hv=_.createElement(Fv,null),hm=class extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){this.props.onError?this.props.onError(e,r):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const o=zv(e.digest);o&&(e=o)}let r=e!==void 0?_.createElement(Jt.Provider,{value:this.props.routeContext},_.createElement(Mc.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?_.createElement(Bv,{error:e},r):r}};hm.contextType=Iv;var Ku=new WeakMap;function Bv({children:e,error:r}){let{basename:o}=_.useContext(Mt);if(typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){let s=Tv(r.digest);if(s){let l=Ku.get(r);if(l)throw l;let u=sm(s.location,o);if(im&&!Ku.get(r))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Ku.set(r,c),c}return _.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return e}function Vv({routeContext:e,match:r,children:o}){let s=_.useContext(mo);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(Jt.Provider,{value:e},o)}function Wv(e,r=[],o=null,s=null,l=null){if(e==null){if(!o)return null;if(o.errors)e=o.matches;else if(r.length===0&&!o.initialized&&o.matches.length>0)e=o.matches;else return null}let u=e,c=o==null?void 0:o.errors;if(c!=null){let v=u.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);He(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let f=!1,h=-1;if(o)for(let v=0;v<u.length;v++){let m=u[v];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=v),m.route.id){let{loaderData:x,errors:E}=o,k=m.route.loader&&!x.hasOwnProperty(m.route.id)&&(!E||E[m.route.id]===void 0);if(m.route.lazy||k){f=!0,h>=0?u=u.slice(0,h+1):u=[u[0]];break}}}let g=o&&s?(v,m)=>{var x,E;s(v,{location:o.location,params:((E=(x=o.matches)==null?void 0:x[0])==null?void 0:E.params)??{},unstable_pattern:bv(o.matches),errorInfo:m})}:void 0;return u.reduceRight((v,m,x)=>{let E,k=!1,b=null,C=null;o&&(E=c&&m.route.id?c[m.route.id]:void 0,b=m.route.errorElement||Hv,f&&(h<0&&x===0?(pm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,C=null):h===x&&(k=!0,C=m.route.hydrateFallbackElement||null)));let N=r.concat(u.slice(0,x+1)),I=()=>{let S;return E?S=b:k?S=C:m.route.Component?S=_.createElement(m.route.Component,null):m.route.element?S=m.route.element:S=v,_.createElement(Vv,{match:m,routeContext:{outlet:v,matches:N,isDataRoute:o!=null},children:S})};return o&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?_.createElement(hm,{location:o.location,revalidation:o.revalidation,component:b,error:E,children:I(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:g}):I()},null)}function Pc(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Uv(e){let r=_.useContext(mo);return He(r,Pc(e)),r}function Yv(e){let r=_.useContext(Al);return He(r,Pc(e)),r}function Xv(e){let r=_.useContext(Jt);return He(r,Pc(e)),r}function Rc(e){let r=Xv(e),o=r.matches[r.matches.length-1];return He(o.route.id,`${e} can only be used on routes that contain a unique "id"`),o.route.id}function Qv(){return Rc("useRouteId")}function Gv(){var s;let e=_.useContext(Mc),r=Yv("useRouteError"),o=Rc("useRouteError");return e!==void 0?e:(s=r.errors)==null?void 0:s[o]}function Kv(){let{router:e}=Uv("useNavigate"),r=Rc("useNavigate"),o=_.useRef(!1);return dm(()=>{o.current=!0}),_.useCallback(async(l,u={})=>{Bt(o.current,cm),o.current&&(typeof l=="number"?await e.navigate(l):await e.navigate(l,{fromRouteId:r,...u}))},[e,r])}var Dh={};function pm(e,r,o){!r&&!Dh[e]&&(Dh[e]=!0,Bt(!1,o))}_.memo(qv);function qv({routes:e,future:r,state:o,onError:s}){return fm(e,void 0,o,s,r)}function Jr(e){He(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Zv({basename:e="/",children:r=null,location:o,navigationType:s="POP",navigator:l,static:u=!1,unstable_useTransitions:c}){He(!ji(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),h=_.useMemo(()=>({basename:f,navigator:l,static:u,unstable_useTransitions:c,future:{}}),[f,l,u,c]);typeof o=="string"&&(o=po(o));let{pathname:g="/",search:v="",hash:m="",state:x=null,key:E="default"}=o,k=_.useMemo(()=>{let b=yn(g,f);return b==null?null:{location:{pathname:b,search:v,hash:m,state:x,key:E},navigationType:s}},[f,g,v,m,x,E,s]);return Bt(k!=null,`<Router basename="${f}"> is not able to match the URL "${g}${v}${m}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:_.createElement(Mt.Provider,{value:h},_.createElement(bi.Provider,{children:r,value:k}))}function Jv({children:e,location:r}){return Ov(pc(e),r)}function pc(e,r=[]){let o=[];return _.Children.forEach(e,(s,l)=>{if(!_.isValidElement(s))return;let u=[...r,l];if(s.type===_.Fragment){o.push.apply(o,pc(s.props.children,u));return}He(s.type===Jr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),He(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=pc(s.props.children,u)),o.push(c)}),o}var ml="get",gl="application/x-www-form-urlencoded";function Dl(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function ex(e){return Dl(e)&&e.tagName.toLowerCase()==="button"}function tx(e){return Dl(e)&&e.tagName.toLowerCase()==="form"}function nx(e){return Dl(e)&&e.tagName.toLowerCase()==="input"}function rx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ox(e,r){return e.button===0&&(!r||r==="_self")&&!rx(e)}var tl=null;function ix(){if(tl===null)try{new FormData(document.createElement("form"),0),tl=!1}catch{tl=!0}return tl}var sx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qu(e){return e!=null&&!sx.has(e)?(Bt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gl}"`),null):e}function lx(e,r){let o,s,l,u,c;if(tx(e)){let f=e.getAttribute("action");s=f?yn(f,r):null,o=e.getAttribute("method")||ml,l=qu(e.getAttribute("enctype"))||gl,u=new FormData(e)}else if(ex(e)||nx(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||f.getAttribute("action");if(s=h?yn(h,r):null,o=e.getAttribute("formmethod")||f.getAttribute("method")||ml,l=qu(e.getAttribute("formenctype"))||qu(f.getAttribute("enctype"))||gl,u=new FormData(f,e),!ix()){let{name:g,type:v,value:m}=e;if(v==="image"){let x=g?`${g}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else g&&u.append(g,m)}}else{if(Dl(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=ml,s=null,l=gl,c=e}return u&&l==="text/plain"&&(c=u,u=void 0),{action:s,method:o.toLowerCase(),encType:l,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Lc(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function ax(e,r,o){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${o}`:r&&yn(s.pathname,r)==="/"?s.pathname=`${r.replace(/\/$/,"")}/_root.${o}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${o}`,s}async function ux(e,r){if(e.id in r)return r[e.id];try{let o=await import(e.module);return r[e.id]=o,o}catch(o){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cx(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function dx(e,r,o){let s=await Promise.all(e.map(async l=>{let u=r.routes[l.route.id];if(u){let c=await ux(u,o);return c.links?c.links():[]}return[]}));return mx(s.flat(1).filter(cx).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Oh(e,r,o,s,l,u){let c=(h,g)=>o[g]?h.route.id!==o[g].route.id:!0,f=(h,g)=>{var v;return o[g].pathname!==h.pathname||((v=o[g].route.path)==null?void 0:v.endsWith("*"))&&o[g].params["*"]!==h.params["*"]};return u==="assets"?r.filter((h,g)=>c(h,g)||f(h,g)):u==="data"?r.filter((h,g)=>{var m;let v=s.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(c(h,g)||f(h,g))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((m=o[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function fx(e,r,{includeHydrateFallback:o}={}){return hx(e.map(s=>{let l=r.routes[s.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),o&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function hx(e){return[...new Set(e)]}function px(e){let r={},o=Object.keys(e).sort();for(let s of o)r[s]=e[s];return r}function mx(e,r){let o=new Set;return new Set(r),e.reduce((s,l)=>{let u=JSON.stringify(px(l));return o.has(u)||(o.add(u),s.push({key:u,link:l})),s},[])}function mm(){let e=_.useContext(mo);return Lc(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function gx(){let e=_.useContext(Al);return Lc(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Tc=_.createContext(void 0);Tc.displayName="FrameworkContext";function gm(){let e=_.useContext(Tc);return Lc(e,"You must render this element inside a <HydratedRouter> element"),e}function yx(e,r){let o=_.useContext(Tc),[s,l]=_.useState(!1),[u,c]=_.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:g,onMouseLeave:v,onTouchStart:m}=r,x=_.useRef(null);_.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let b=N=>{N.forEach(I=>{c(I.isIntersecting)})},C=new IntersectionObserver(b,{threshold:.5});return x.current&&C.observe(x.current),()=>{C.disconnect()}}},[e]),_.useEffect(()=>{if(s){let b=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(b)}}},[s]);let E=()=>{l(!0)},k=()=>{l(!1),c(!1)};return o?e!=="intent"?[u,x,{}]:[u,x,{onFocus:li(f,E),onBlur:li(h,k),onMouseEnter:li(g,E),onMouseLeave:li(v,k),onTouchStart:li(m,E)}]:[!1,x,{}]}function li(e,r){return o=>{e&&e(o),o.defaultPrevented||r(o)}}function vx({page:e,...r}){let{router:o}=mm(),s=_.useMemo(()=>Jp(o.routes,e,o.basename),[o.routes,e,o.basename]);return s?_.createElement(wx,{page:e,matches:s,...r}):null}function xx(e){let{manifest:r,routeModules:o}=gm(),[s,l]=_.useState([]);return _.useEffect(()=>{let u=!1;return dx(e,r,o).then(c=>{u||l(c)}),()=>{u=!0}},[e,r,o]),s}function wx({page:e,matches:r,...o}){let s=Yn(),{manifest:l,routeModules:u}=gm(),{basename:c}=mm(),{loaderData:f,matches:h}=gx(),g=_.useMemo(()=>Oh(e,r,h,l,s,"data"),[e,r,h,l,s]),v=_.useMemo(()=>Oh(e,r,h,l,s,"assets"),[e,r,h,l,s]),m=_.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let k=new Set,b=!1;if(r.forEach(N=>{var S;let I=l.routes[N.route.id];!I||!I.hasLoader||(!g.some(j=>j.route.id===N.route.id)&&N.route.id in f&&((S=u[N.route.id])!=null&&S.shouldRevalidate)||I.hasClientLoader?b=!0:k.add(N.route.id))}),k.size===0)return[];let C=ax(e,c,"data");return b&&k.size>0&&C.searchParams.set("_routes",r.filter(N=>k.has(N.route.id)).map(N=>N.route.id).join(",")),[C.pathname+C.search]},[c,f,s,l,g,r,e,u]),x=_.useMemo(()=>fx(v,l),[v,l]),E=xx(v);return _.createElement(_.Fragment,null,m.map(k=>_.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...o})),x.map(k=>_.createElement("link",{key:k,rel:"modulepreload",href:k,...o})),E.map(({key:k,link:b})=>_.createElement("link",{key:k,nonce:o.nonce,...b})))}function Sx(...e){return r=>{e.forEach(o=>{typeof o=="function"?o(r):o!=null&&(o.current=r)})}}var Ex=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ex&&(window.__reactRouterVersion="7.11.0")}catch{}function kx({basename:e,children:r,unstable_useTransitions:o,window:s}){let l=_.useRef();l.current==null&&(l.current=nv({window:s,v5Compat:!0}));let u=l.current,[c,f]=_.useState({action:u.action,location:u.location}),h=_.useCallback(g=>{o===!1?f(g):_.startTransition(()=>f(g))},[o]);return _.useLayoutEffect(()=>u.listen(h),[u,h]),_.createElement(Zv,{basename:e,children:r,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:o})}var ym=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ol=_.forwardRef(function({onClick:r,discover:o="render",prefetch:s="none",relative:l,reloadDocument:u,replace:c,state:f,target:h,to:g,preventScrollReset:v,viewTransition:m,unstable_defaultShouldRevalidate:x,...E},k){let{basename:b,unstable_useTransitions:C}=_.useContext(Mt),N=typeof g=="string"&&ym.test(g),I=sm(g,b);g=I.to;let S=Av(g,{relative:l}),[j,O,z]=yx(s,E),P=bx(g,{replace:c,state:f,target:h,preventScrollReset:v,relative:l,viewTransition:m,unstable_defaultShouldRevalidate:x,unstable_useTransitions:C});function D(Z){r&&r(Z),Z.defaultPrevented||P(Z)}let H=_.createElement("a",{...E,...z,href:I.absoluteURL||S,onClick:I.isExternal||u?r:D,ref:Sx(k,O),target:h,"data-discover":!N&&o==="render"?"true":void 0});return j&&!N?_.createElement(_.Fragment,null,H,_.createElement(vx,{page:S})):H});Ol.displayName="Link";var Nx=_.forwardRef(function({"aria-current":r="page",caseSensitive:o=!1,className:s="",end:l=!1,style:u,to:c,viewTransition:f,children:h,...g},v){let m=Ii(c,{relative:g.relative}),x=Yn(),E=_.useContext(Al),{navigator:k,basename:b}=_.useContext(Mt),C=E!=null&&Rx(m)&&f===!0,N=k.encodeLocation?k.encodeLocation(m).pathname:m.pathname,I=x.pathname,S=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;o||(I=I.toLowerCase(),S=S?S.toLowerCase():null,N=N.toLowerCase()),S&&b&&(S=yn(S,b)||S);const j=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let O=I===N||!l&&I.startsWith(N)&&I.charAt(j)==="/",z=S!=null&&(S===N||!l&&S.startsWith(N)&&S.charAt(N.length)==="/"),P={isActive:O,isPending:z,isTransitioning:C},D=O?r:void 0,H;typeof s=="function"?H=s(P):H=[s,O?"active":null,z?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let Z=typeof u=="function"?u(P):u;return _.createElement(Ol,{...g,"aria-current":D,className:H,ref:v,style:Z,to:c,viewTransition:f},typeof h=="function"?h(P):h)});Nx.displayName="NavLink";var Cx=_.forwardRef(({discover:e="render",fetcherKey:r,navigate:o,reloadDocument:s,replace:l,state:u,method:c=ml,action:f,onSubmit:h,relative:g,preventScrollReset:v,viewTransition:m,unstable_defaultShouldRevalidate:x,...E},k)=>{let{unstable_useTransitions:b}=_.useContext(Mt),C=Mx(),N=Px(f,{relative:g}),I=c.toLowerCase()==="get"?"get":"post",S=typeof f=="string"&&ym.test(f),j=O=>{if(h&&h(O),O.defaultPrevented)return;O.preventDefault();let z=O.nativeEvent.submitter,P=(z==null?void 0:z.getAttribute("formmethod"))||c,D=()=>C(z||O.currentTarget,{fetcherKey:r,method:P,navigate:o,replace:l,state:u,relative:g,preventScrollReset:v,viewTransition:m,unstable_defaultShouldRevalidate:x});b&&o!==!1?_.startTransition(()=>D()):D()};return _.createElement("form",{ref:k,method:I,action:N,onSubmit:s?h:j,...E,"data-discover":!S&&e==="render"?"true":void 0})});Cx.displayName="Form";function _x(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vm(e){let r=_.useContext(mo);return He(r,_x(e)),r}function bx(e,{target:r,replace:o,state:s,preventScrollReset:l,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:h}={}){let g=$l(),v=Yn(),m=Ii(e,{relative:u});return _.useCallback(x=>{if(ox(x,r)){x.preventDefault();let E=o!==void 0?o:gi(v)===gi(m),k=()=>g(e,{replace:E,state:s,preventScrollReset:l,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:f});h?_.startTransition(()=>k()):k()}},[v,g,m,o,s,r,e,l,u,c,f,h])}var jx=0,Ix=()=>`__${String(++jx)}__`;function Mx(){let{router:e}=vm("useSubmit"),{basename:r}=_.useContext(Mt),o=Qv(),s=e.fetch,l=e.navigate;return _.useCallback(async(u,c={})=>{let{action:f,method:h,encType:g,formData:v,body:m}=lx(u,r);if(c.navigate===!1){let x=c.fetcherKey||Ix();await s(x,o,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:m,formMethod:c.method||h,formEncType:c.encType||g,flushSync:c.flushSync})}else await l(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:m,formMethod:c.method||h,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:o,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,l,r,o])}function Px(e,{relative:r}={}){let{basename:o}=_.useContext(Mt),s=_.useContext(Jt);He(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...Ii(e||".",{relative:r})},c=Yn();if(e==null){u.search=c.search;let f=new URLSearchParams(u.search),h=f.getAll("index");if(h.some(v=>v==="")){f.delete("index"),h.filter(m=>m).forEach(m=>f.append("index",m));let v=f.toString();u.search=v?`?${v}`:""}}return(!e||e===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(u.pathname=u.pathname==="/"?o:gn([o,u.pathname])),gi(u)}function Rx(e,{relative:r}={}){let o=_.useContext(am);He(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=vm("useViewTransitionState"),l=Ii(e,{relative:r});if(!o.isTransitioning)return!1;let u=yn(o.currentLocation.pathname,s)||o.currentLocation.pathname,c=yn(o.nextLocation.pathname,s)||o.nextLocation.pathname;return El(l.pathname,c)!=null||El(l.pathname,u)!=null}Zp();function hi({className:e}){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:y.jsx("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z",clipRule:"evenodd"})})}function Lx({className:e}){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:y.jsx("path",{fillRule:"evenodd",d:"M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10zm0 5.25a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75a.75.75 0 01-.75-.75z",clipRule:"evenodd"})})}function Tx({className:e}){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:y.jsx("path",{fillRule:"evenodd",d:"M4.25 2A2.25 2.25 0 002 4.25v11.5A2.25 2.25 0 004.25 18h11.5A2.25 2.25 0 0018 15.75V4.25A2.25 2.25 0 0015.75 2H4.25zM6 13.25v-2.5h2.5v2.5H6zm0-3.5V7.25h2.5v2.5H6zm3.5 0V7.25H12v2.5H9.5zm0 3.5v-2.5H12v2.5H9.5zm3.5 0v-2.5h2.5v2.5H13zm0-3.5V7.25h2.5v2.5H13z",clipRule:"evenodd"})})}function zx({className:e}){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:y.jsx("path",{fillRule:"evenodd",d:"M7.84 1.804A1 1 0 018.82 1h2.36a1 1 0 01.98.804l.331 1.652a6.993 6.993 0 011.929 1.115l1.598-.54a1 1 0 011.186.447l1.18 2.044a1 1 0 01-.205 1.251l-1.267 1.113a7.047 7.047 0 010 2.228l1.267 1.113a1 1 0 01.206 1.25l-1.18 2.045a1 1 0 01-1.187.447l-1.598-.54a6.993 6.993 0 01-1.929 1.115l-.33 1.652a1 1 0 01-.98.804H8.82a1 1 0 01-.98-.804l-.331-1.652a6.993 6.993 0 01-1.929-1.115l-1.598.54a1 1 0 01-1.186-.447l-1.18-2.044a1 1 0 01.205-1.251l1.267-1.114a7.05 7.05 0 010-2.227L1.821 7.773a1 1 0 01-.206-1.25l1.18-2.045a1 1 0 011.187-.447l1.598.54A6.993 6.993 0 017.51 3.456l.33-1.652zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})})}function Ax({className:e}){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:y.jsx("path",{fillRule:"evenodd",d:"M10 2c-2.236 0-4.43.18-6.57.524C1.993 2.755 1 4.014 1 5.426v5.148c0 1.413.993 2.67 2.43 2.902 1.168.188 2.352.327 3.55.414.28.02.521.18.642.413l1.713 3.293a.75.75 0 001.33 0l1.713-3.293c.121-.233.362-.393.642-.413a41.102 41.102 0 003.55-.414c1.437-.232 2.43-1.49 2.43-2.902V5.426c0-1.412-.993-2.67-2.43-2.902A41.289 41.289 0 0010 2zM6.75 6a.75.75 0 000 1.5h6.5a.75.75 0 000-1.5h-6.5zm0 2.5a.75.75 0 000 1.5h3.5a.75.75 0 000-1.5h-3.5z",clipRule:"evenodd"})})}function $x({className:e}){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:y.jsx("path",{fillRule:"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z",clipRule:"evenodd"})})}function xm({className:e}){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:y.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm.75-13a.75.75 0 00-1.5 0v5c0 .414.336.75.75.75h4a.75.75 0 000-1.5h-3.25V5z",clipRule:"evenodd"})})}function zc({className:e}){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:y.jsx("path",{fillRule:"evenodd",d:"M6 4.75A.75.75 0 016.75 4h10.5a.75.75 0 010 1.5H6.75A.75.75 0 016 4.75zM6 10a.75.75 0 01.75-.75h10.5a.75.75 0 010 1.5H6.75A.75.75 0 016 10zm0 5.25a.75.75 0 01.75-.75h10.5a.75.75 0 010 1.5H6.75a.75.75 0 01-.75-.75zM1.99 4.75a1 1 0 011-1H3a1 1 0 011 1v.01a1 1 0 01-1 1h-.01a1 1 0 01-1-1v-.01zM2.99 9a1 1 0 00-1 1v.01a1 1 0 001 1H3a1 1 0 001-1V10a1 1 0 00-1-1h-.01zM1.99 14.25a1 1 0 011-1H3a1 1 0 011 1v.01a1 1 0 01-1 1h-.01a1 1 0 01-1-1v-.01z",clipRule:"evenodd"})})}function Dx({className:e}){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:y.jsx("path",{d:"M3.75 3A1.75 1.75 0 002 4.75v3.26a3.235 3.235 0 011.75-.51h12.5c.644 0 1.245.188 1.75.51V6.75A1.75 1.75 0 0016.25 5h-4.836a.25.25 0 01-.177-.073L9.823 3.513A1.75 1.75 0 008.586 3H3.75zM3.75 9A1.75 1.75 0 002 10.75v4.5c0 .966.784 1.75 1.75 1.75h12.5A1.75 1.75 0 0018 15.25v-4.5A1.75 1.75 0 0016.25 9H3.75z"})})}function Ox({className:e}){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:y.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})})}function kl({className:e}){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:y.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}function Ac({className:e}){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:y.jsx("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})})}function Fx({className:e}){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:y.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})}function wm({className:e}){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:y.jsx("path",{fillRule:"evenodd",d:"M7.455 2.004a.75.75 0 01.26.77 7 7 0 009.958 7.967.75.75 0 011.067.853A8.5 8.5 0 116.647 1.921a.75.75 0 01.808.083z",clipRule:"evenodd"})})}function Sm({className:e}){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:y.jsx("path",{d:"M10 2a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0110 2zM10 15a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0110 15zM10 7a3 3 0 100 6 3 3 0 000-6zM15.657 5.404a.75.75 0 10-1.06-1.06l-1.061 1.06a.75.75 0 001.06 1.06l1.06-1.06zM6.464 14.596a.75.75 0 10-1.06-1.06l-1.06 1.06a.75.75 0 001.06 1.06l1.06-1.06zM18 10a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0118 10zM5 10a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 015 10zM14.596 15.657a.75.75 0 001.06-1.06l-1.06-1.061a.75.75 0 10-1.06 1.06l1.06 1.06zM5.404 6.464a.75.75 0 001.06-1.06l-1.06-1.06a.75.75 0 10-1.06 1.06l1.06 1.06z"})})}function Hx({className:e}){return y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:[y.jsx("path",{d:"M10 12.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"}),y.jsx("path",{fillRule:"evenodd",d:"M.664 10.59a1.651 1.651 0 010-1.186A10.004 10.004 0 0110 3c4.257 0 7.893 2.66 9.336 6.41.147.381.146.804 0 1.186A10.004 10.004 0 0110 17c-4.257 0-7.893-2.66-9.336-6.41zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})}function Bx({className:e}){return y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:[y.jsx("path",{fillRule:"evenodd",d:"M3.28 2.22a.75.75 0 00-1.06 1.06l14.5 14.5a.75.75 0 101.06-1.06l-1.745-1.745a10.029 10.029 0 003.3-4.38 1.651 1.651 0 000-1.185A10.004 10.004 0 009.999 3a9.956 9.956 0 00-4.744 1.194L3.28 2.22zM7.752 6.69l1.092 1.092a2.5 2.5 0 013.374 3.373l1.091 1.092a4 4 0 00-5.557-5.557z",clipRule:"evenodd"}),y.jsx("path",{d:"M10.748 13.93l2.523 2.523a9.987 9.987 0 01-3.27.547c-4.258 0-7.894-2.66-9.337-6.41a1.651 1.651 0 010-1.186A10.007 10.007 0 012.839 6.02L6.07 9.252a4 4 0 004.678 4.678z"})]})}const Fh="claude-cnthub-theme";function Em(){const[e,r]=_.useState(()=>{if(typeof window<"u"){const l=localStorage.getItem(Fh);if(l==="light"||l==="dark")return l}return"dark"});_.useEffect(()=>{const l=document.documentElement;e==="light"?(l.classList.add("light"),l.classList.remove("dark")):(l.classList.add("dark"),l.classList.remove("light")),localStorage.setItem(Fh,e)},[e]);const o=_.useCallback(()=>{r(l=>l==="dark"?"light":"dark")},[]),s=_.useCallback(l=>{r(l)},[]);return{theme:e,toggleTheme:o,setTheme:s}}function Vx({onMenuClick:e}){const{theme:r,toggleTheme:o}=Em();return y.jsxs("header",{className:"h-14 bg-[var(--bg-surface)] border-b border-[var(--border-subtle)] flex items-center justify-between px-4",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("button",{onClick:e,className:"lg:hidden p-2 rounded-lg hover:bg-[var(--bg-elevated)] transition-colors","aria-label":"Toggle menu",children:y.jsx(Lx,{className:"w-5 h-5 text-[var(--text-secondary)]"})}),y.jsx("h1",{className:"text-lg font-semibold text-[var(--text-primary)]",children:"Claude CNT Hub"})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("div",{className:"relative",children:[y.jsx("label",{htmlFor:"search-sessions",className:"sr-only",children:"Search sessions"}),y.jsx(hi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[var(--text-muted)]"}),y.jsx("input",{id:"search-sessions",type:"search",placeholder:"Search sessions...",className:"input pl-10 w-64"})]}),y.jsx("button",{onClick:o,className:"p-2 rounded-lg hover:bg-[var(--bg-elevated)] transition-colors","aria-label":r==="dark"?"Switch to light mode":"Switch to dark mode",children:r==="dark"?y.jsx(Sm,{className:"w-5 h-5 text-[var(--text-secondary)]"}):y.jsx(wm,{className:"w-5 h-5 text-[var(--text-secondary)]"})})]})]})}function Wx({isOpen:e=!0,onClose:r}){const o=Yn(),s=$l(),l=c=>{s(c),r==null||r()},u=c=>c==="/"?o.pathname==="/"||o.pathname==="/sessions":o.pathname.startsWith(c);return y.jsxs(y.Fragment,{children:[e&&y.jsx("div",{className:"fixed inset-0 bg-black/50 lg:hidden z-40",onClick:r}),y.jsxs("aside",{className:`
          fixed lg:static inset-y-0 left-0 z-50
          w-64 bg-[var(--bg-surface)] border-r border-[var(--border-subtle)]
          transform transition-transform duration-200 ease-in-out
          ${e?"translate-x-0":"-translate-x-full lg:translate-x-0"}
          flex flex-col
        `,children:[y.jsx("div",{className:"p-4",children:y.jsx("button",{className:"btn-primary w-full",onClick:()=>l("/"),children:"New Session"})}),y.jsx("nav",{className:"flex-1 px-3 py-2 overflow-y-auto scrollbar-thin",children:y.jsxs("div",{className:"space-y-1",children:[y.jsx(nl,{icon:y.jsx(Tx,{className:"w-5 h-5"}),label:"Sessions",active:u("/"),onClick:()=>l("/sessions")}),y.jsx(nl,{icon:y.jsx(hi,{className:"w-5 h-5"}),label:"Search",active:u("/search"),onClick:()=>l("/search")}),y.jsx(nl,{icon:y.jsx(zc,{className:"w-5 h-5"}),label:"Work Items",active:u("/work-items"),onClick:()=>l("/work-items")})]})}),y.jsx("div",{className:"p-3 border-t border-[var(--border-subtle)]",children:y.jsx(nl,{icon:y.jsx(zx,{className:"w-5 h-5"}),label:"Settings",active:!1,onClick:()=>{}})})]})]})}function nl({icon:e,label:r,active:o,onClick:s}){return y.jsxs("button",{onClick:s,className:o?"sidebar-item-active w-full":"sidebar-item w-full",children:[e,y.jsx("span",{children:r})]})}function rl({children:e}){const[r,o]=_.useState(!1),s=_.useCallback(()=>{o(u=>!u)},[]),l=_.useCallback(()=>{o(!1)},[]);return _.useEffect(()=>{const u=c=>{c.key==="Escape"&&r&&o(!1)};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[r]),y.jsxs("div",{className:"h-screen flex flex-col bg-[var(--bg-base)] text-[var(--text-primary)]",children:[y.jsx(Vx,{onMenuClick:s}),y.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[y.jsx(Wx,{isOpen:r,onClose:l}),y.jsx("main",{className:"flex-1 overflow-y-auto scrollbar-thin p-6",children:e})]})]})}function Ux(){const[e,r]=_.useState([]),[o,s]=_.useState(!0),[l,u]=_.useState(null),[c,f]=_.useState(!1),h=_.useCallback(async()=>{try{u(null),s(!0);const m=await fetch("/api/sessions");if(!m.ok)throw new Error("Failed to fetch sessions");const x=await m.json();r(x.items||[])}catch(m){u("Unable to load sessions. Please try again."),console.error("Error fetching sessions:",m)}finally{s(!1)}},[]);_.useEffect(()=>{h()},[h]);const g=_.useCallback(()=>{h()},[h]),v=_.useCallback(async()=>{try{if(f(!0),!(await fetch("/api/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:`Session ${new Date().toLocaleString("ja-JP")}`,workingDir:window.location.pathname||"/"})})).ok)throw new Error("Failed to create session");await h()}catch(m){console.error("Error creating session:",m),u("Failed to create session. Please try again.")}finally{f(!1)}},[h]);return o?y.jsx(Qx,{}):l?y.jsxs("div",{className:"card text-center py-8",role:"alert",children:[y.jsx("p",{className:"text-red-400 mb-4",children:l}),y.jsx("button",{onClick:g,className:"btn-secondary",children:"Retry"})]}):e.length===0?y.jsxs("div",{className:"card text-center py-12",children:[y.jsx("div",{"aria-hidden":"true",children:y.jsx(Ax,{className:"w-12 h-12 text-[var(--text-muted)] mx-auto mb-4"})}),y.jsx("h3",{className:"text-lg font-medium text-[var(--text-primary)] mb-2",children:"No sessions yet"}),y.jsx("p",{className:"text-[var(--text-muted)] mb-6",children:"Start a new session to begin tracking your work"}),y.jsx("button",{className:"btn-primary disabled:opacity-50",onClick:v,disabled:c,children:c?"Creating...":"Create New Session"})]}):y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h2",{className:"text-xl font-semibold text-[var(--text-primary)]",children:"Sessions"}),y.jsxs("span",{className:"text-sm text-[var(--text-muted)]","aria-label":`${e.length} sessions total`,children:[e.length," total"]})]}),y.jsx("div",{className:"grid gap-3",role:"list","aria-label":"Session list",children:e.map(m=>y.jsx(Xx,{session:m},m.sessionId))})]})}const Yx={idle:"Idle",active:"Active",completed:"Completed",error:"Error"},Xx=_.memo(function({session:r}){const o=$l(),s=_.useCallback(()=>{o(`/sessions/${r.sessionId}`)},[o,r.sessionId]),l=_.useMemo(()=>({idle:"bg-gray-400",active:"bg-primary-500",completed:"bg-green-500",error:"bg-red-500"}),[]),u=_.useMemo(()=>new Date(r.updatedAt).toLocaleDateString("ja-JP",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),[r.updatedAt]);return y.jsx("button",{className:"card hover:bg-[var(--bg-elevated)] transition-colors w-full text-left group",role:"listitem","aria-label":`Open session: ${r.name}`,onClick:s,children:y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:`w-2 h-2 rounded-full ${l[r.status]}`,role:"status","aria-label":`Status: ${Yx[r.status]}`}),y.jsx("h3",{className:"font-medium text-[var(--text-primary)] truncate",children:r.name})]}),y.jsxs("div",{className:"flex items-center gap-4 text-sm text-[var(--text-muted)]",children:[y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(xm,{className:"w-4 h-4"}),y.jsx("time",{dateTime:r.updatedAt,children:u})]}),r.workingDir&&y.jsx("span",{className:"text-xs truncate max-w-48",children:r.workingDir})]})]}),y.jsx($x,{className:"w-5 h-5 text-[var(--text-muted)] group-hover:text-[var(--text-primary)] transition-colors"})]})})});function Qx(){return y.jsxs("div",{className:"space-y-4","aria-busy":"true","aria-label":"Loading sessions",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("div",{className:"h-7 w-24 bg-[var(--bg-elevated)] rounded animate-pulse"}),y.jsx("div",{className:"h-5 w-16 bg-[var(--bg-elevated)] rounded animate-pulse"})]}),y.jsx("div",{className:"grid gap-3",children:[1,2,3].map(e=>y.jsx("div",{className:"card",children:y.jsx("div",{className:"flex items-start justify-between",children:y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("div",{className:"w-2 h-2 bg-[var(--border-default)] rounded-full"}),y.jsx("div",{className:"h-5 w-48 bg-[var(--bg-elevated)] rounded animate-pulse"})]}),y.jsx("div",{className:"h-4 w-32 bg-[var(--bg-elevated)] rounded animate-pulse"})]})})},e))})]})}const qr=1e4;function Gx(){const{id:e}=Dv(),r=$l();return _.useEffect(()=>{e||r("/sessions")},[e,r]),e?y.jsx(Kx,{sessionId:e}):null}function Kx({sessionId:e}){const[r,o]=_.useState([]),[s,l]=_.useState(""),[u,c]=_.useState(!0),[f,h]=_.useState(!1),[g,v]=_.useState(null),m=_.useRef(null);_.useEffect(()=>{async function b(){try{v(null);const C=await fetch(`/api/sessions/${e}/messages`);if(!C.ok)throw new Error("Failed to fetch messages");const N=await C.json();o(N.items||[])}catch(C){v("Unable to load messages. Please try again."),console.error("Error fetching messages:",C)}finally{c(!1)}}b()},[e]),_.useEffect(()=>{var b;(b=m.current)==null||b.scrollIntoView({behavior:"smooth"})},[r]);const x=_.useCallback(b=>{const C=b.target.value;C.length<=qr&&l(C)},[]),E=_.useCallback(async b=>{if(b.preventDefault(),!s.trim()||f)return;const C=s.trim();if(C.length>qr){v(`Message too long. Maximum ${qr} characters.`);return}l(""),h(!0),v(null);const N=`temp-${Date.now()}`;o(I=>[...I,{messageId:N,type:"user",content:C,timestamp:new Date().toISOString()}]);try{const I=await fetch(`/api/sessions/${e}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:C})});if(!I.ok)throw new Error("Failed to send message");const S=await I.json(),j=S.message||S;o(O=>O.filter(z=>z.messageId!==N).concat(j))}catch(I){console.error("Error sending message:",I),o(S=>S.map(j=>j.messageId===N?{...j,error:!0}:j)),v("Failed to send message. Please try again.")}finally{h(!1)}},[s,f,e]),k=_.useCallback(()=>{v(null),window.location.reload()},[]);return u?y.jsx(Jx,{}):y.jsxs("div",{className:"flex flex-col h-full",children:[g&&y.jsxs("div",{className:"p-3 bg-red-900/30 border-b border-red-800 text-red-300 text-sm flex justify-between items-center",children:[y.jsx("span",{children:g}),y.jsx("button",{onClick:k,className:"text-red-400 hover:text-red-300 underline",children:"Retry"})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-thin p-4 space-y-4",role:"log","aria-live":"polite","aria-label":"Chat messages",children:[r.length===0?y.jsx(Zx,{}):r.map(b=>y.jsx(qx,{message:b},b.messageId)),y.jsx("div",{ref:m})]}),y.jsxs("form",{onSubmit:E,className:"p-4 border-t border-[var(--border-subtle)]","aria-label":"Send message",children:[y.jsxs("div",{className:"flex gap-3",children:[y.jsx("label",{htmlFor:"chat-input",className:"sr-only",children:"Type your message"}),y.jsx("input",{id:"chat-input",type:"text",value:s,onChange:x,placeholder:"Type a message...",className:"input flex-1",disabled:f,maxLength:qr,"aria-describedby":"char-count"}),y.jsx("button",{type:"submit",className:"btn-primary px-6",disabled:!s.trim()||f,children:f?"Sending...":"Send"})]}),s.length>qr*.9&&y.jsxs("p",{id:"char-count",className:"text-xs text-[var(--text-muted)] mt-1",children:[s.length,"/",qr," characters"]})]})]})}const qx=_.memo(function({message:r}){const o=r.type==="user",s=_.useMemo(()=>new Date(r.timestamp).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"}),[r.timestamp]);return y.jsx("div",{className:`flex ${o?"justify-end":"justify-start"}`,role:"article","aria-label":`Message from ${o?"you":"assistant"}`,children:y.jsxs("div",{className:`
          max-w-[80%] rounded-2xl px-4 py-3
          ${r.error?"bg-red-900/30 border border-red-700 text-red-300 rounded-br-md":o?"bg-primary-500 text-white rounded-br-md":"bg-[var(--bg-elevated)] text-[var(--text-primary)] border border-[var(--border-subtle)] rounded-bl-md"}
        `,children:[y.jsx("p",{className:"whitespace-pre-wrap break-words",children:r.content}),r.error&&y.jsx("span",{className:"text-xs text-red-600 block mt-1",children:"Failed to send"}),y.jsx("span",{className:`
            text-xs mt-1 block
            ${r.error?"text-red-400":o?"text-primary-200":"text-[var(--text-muted)]"}
          `,children:s})]})})});function Zx(){return y.jsx("div",{className:"flex items-center justify-center h-full text-center",children:y.jsxs("div",{children:[y.jsx("div",{className:"w-16 h-16 bg-[var(--bg-elevated)] border border-[var(--border-subtle)] rounded-full flex items-center justify-center mx-auto mb-4","aria-hidden":"true",children:y.jsx("span",{className:"text-3xl",children:""})}),y.jsx("h3",{className:"text-lg font-medium text-[var(--text-primary)] mb-2",children:"Start the conversation"}),y.jsx("p",{className:"text-[var(--text-muted)]",children:"Type a message below to begin"})]})})}function Jx(){return y.jsxs("div",{className:"flex flex-col h-full","aria-busy":"true","aria-label":"Loading chat",children:[y.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[1,2,3].map(e=>y.jsx("div",{className:`flex ${e%2===0?"justify-end":"justify-start"}`,children:y.jsxs("div",{className:"bg-[var(--bg-elevated)] rounded-2xl px-4 py-3 w-64 animate-pulse",children:[y.jsx("div",{className:"h-4 bg-[var(--border-default)] rounded w-full mb-2"}),y.jsx("div",{className:"h-4 bg-[var(--border-default)] rounded w-3/4"})]})},e))}),y.jsx("div",{className:"p-4 border-t border-[var(--border-subtle)]",children:y.jsxs("div",{className:"flex gap-3",children:[y.jsx("div",{className:"input flex-1 h-10 bg-[var(--bg-elevated)] animate-pulse"}),y.jsx("div",{className:"btn-primary w-20 h-10 bg-[var(--border-default)] animate-pulse"})]})})]})}const Hh=e=>{let r;const o=new Set,s=(g,v)=>{const m=typeof g=="function"?g(r):g;if(!Object.is(m,r)){const x=r;r=v??(typeof m!="object"||m===null)?m:Object.assign({},r,m),o.forEach(E=>E(r,x))}},l=()=>r,f={setState:s,getState:l,getInitialState:()=>h,subscribe:g=>(o.add(g),()=>o.delete(g))},h=r=e(s,l,f);return f},e1=(e=>e?Hh(e):Hh),t1=e=>e;function n1(e,r=t1){const o=eo.useSyncExternalStore(e.subscribe,eo.useCallback(()=>r(e.getState()),[e,r]),eo.useCallback(()=>r(e.getInitialState()),[e,r]));return eo.useDebugValue(o),o}const Bh=e=>{const r=e1(e),o=s=>n1(r,s);return Object.assign(o,r),o},$c=(e=>e?Bh(e):Bh),km="http://localhost:3048",Vh=km,r1=$c(e=>({query:"",results:[],totalResults:0,isSearching:!1,error:null,status:null,isLoadingStatus:!1,setQuery:r=>e({query:r}),search:async(r,o=10)=>{if(!r.trim()){e({results:[],totalResults:0,error:null});return}e({isSearching:!0,error:null,query:r});try{const s=await fetch(`${Vh}/api/search`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:r,limit:o})});if(!s.ok){const u=await s.json();throw new Error(u.message||"Search failed")}const l=await s.json();e({results:l.results,totalResults:l.totalResults,isSearching:!1})}catch(s){e({error:s instanceof Error?s.message:"Search failed",isSearching:!1,results:[],totalResults:0})}},clearResults:()=>e({query:"",results:[],totalResults:0,error:null}),fetchStatus:async()=>{e({isLoadingStatus:!0});try{const r=await fetch(`${Vh}/api/search/status`);if(!r.ok)throw new Error("Failed to fetch search status");const o=await r.json();e({status:o,isLoadingStatus:!1})}catch(r){e({status:{available:!1,indexedCount:0,message:r instanceof Error?r.message:"Failed to fetch search status"},isLoadingStatus:!1})}}}));function o1(){const{query:e,setQuery:r,results:o,totalResults:s,isSearching:l,error:u,status:c,isLoadingStatus:f,search:h,fetchStatus:g,clearResults:v}=r1(),[m,x]=_.useState(e);_.useEffect(()=>{g()},[]);const E=_.useCallback(async b=>{b.preventDefault(),m.trim()&&await h(m)},[m,h]),k=_.useCallback(()=>{x(""),v()},[v]);return y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsxs("header",{className:"mb-8",children:[y.jsx("h1",{className:"text-2xl font-semibold text-[var(--text-primary)]",children:"Search"}),y.jsx("p",{className:"text-[var(--text-muted)] mt-1",children:"Search your past sessions semantically"})]}),y.jsx("form",{onSubmit:E,className:"mb-6",children:y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx(hi,{className:"h-5 w-5 text-[var(--text-muted)]"})}),y.jsx("input",{type:"text",value:m,onChange:b=>x(b.target.value),placeholder:"Search for topics, concepts, or keywords...",className:"input pl-10 pr-20",disabled:!(c!=null&&c.available),"aria-label":"Search query"}),y.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 gap-2",children:[m&&y.jsx("button",{type:"button",onClick:k,className:"text-[var(--text-muted)] hover:text-[var(--text-primary)] text-sm",children:"Clear"}),y.jsx("button",{type:"submit",disabled:l||!(c!=null&&c.available)||!m.trim(),className:"btn-primary text-sm disabled:opacity-50",children:l?"Searching...":"Search"})]})]})}),f?y.jsx("div",{className:"text-center py-8 text-[var(--text-muted)]",children:"Loading search status..."}):c!=null&&c.available?y.jsxs(y.Fragment,{children:[u&&y.jsx("div",{className:"card bg-red-900/30 border-red-800 mb-6",children:y.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[y.jsx(kl,{className:"w-5 h-5"}),y.jsx("span",{children:u})]})}),o.length>0&&y.jsxs("div",{children:[y.jsx("div",{className:"flex items-center justify-between mb-4",children:y.jsxs("h2",{className:"text-sm font-medium text-[var(--text-muted)]",children:["Results (",s," found)"]})}),y.jsx("div",{className:"space-y-3",children:o.map(b=>y.jsx(i1,{result:b},b.sessionId))})]}),e&&o.length===0&&!l&&!u&&y.jsxs("div",{className:"text-center py-12",children:[y.jsx(hi,{className:"w-12 h-12 text-[var(--text-muted)] mx-auto mb-4"}),y.jsx("h3",{className:"text-lg font-medium text-[var(--text-primary)]",children:"No results found"}),y.jsx("p",{className:"text-[var(--text-muted)] mt-1",children:"Try different keywords or phrases"})]}),!e&&o.length===0&&y.jsxs("div",{className:"text-center py-12",children:[y.jsx(hi,{className:"w-12 h-12 text-[var(--text-muted)] mx-auto mb-4"}),y.jsx("h3",{className:"text-lg font-medium text-[var(--text-primary)]",children:"Search your sessions"}),y.jsx("p",{className:"text-[var(--text-muted)] mt-1",children:"Enter a query to find relevant past sessions"}),y.jsxs("p",{className:"text-sm text-[var(--text-muted)] mt-4",children:[c.indexedCount," sessions indexed"]})]})]}):y.jsx("div",{className:"card bg-yellow-900/30 border-yellow-800",children:y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx(kl,{className:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5"}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-medium text-yellow-300",children:"Search not available"}),y.jsx("p",{className:"text-sm text-yellow-400/80 mt-1",children:c==null?void 0:c.message})]})]})})]})}const i1=_.memo(function({result:r}){const o=s=>Math.round(s*100);return y.jsx(Ol,{to:`/sessions/${r.sessionId}`,className:"block",children:y.jsx("div",{className:"card hover:shadow-md transition-shadow cursor-pointer",children:y.jsxs("div",{className:"flex items-start justify-between gap-4",children:[y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("h3",{className:"font-medium text-[var(--text-primary)] truncate",children:r.sessionName}),y.jsx("p",{className:"text-sm text-[var(--text-secondary)] mt-1 line-clamp-2",children:r.shortSummary})]}),y.jsx("div",{className:"flex-shrink-0",children:y.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${r.relevanceScore>.8?"bg-green-900/40 text-green-400":r.relevanceScore>.5?"bg-yellow-900/40 text-yellow-400":"bg-gray-800 text-gray-400"}`,children:[o(r.relevanceScore),"% match"]})})]})})})}),ai=km,s1=$c((e,r)=>({workItems:[],currentWorkItem:null,isLoading:!1,isLoadingDetail:!1,error:null,filter:"all",fetchWorkItems:async()=>{e({isLoading:!0,error:null});try{const{filter:o}=r(),s=o!=="all"?`?status=${o}`:"",l=await fetch(`${ai}/api/work-items${s}`);if(!l.ok)throw new Error("Failed to fetch work items");const u=await l.json();e({workItems:u.workItems,isLoading:!1})}catch(o){e({error:o instanceof Error?o.message:"Failed to fetch work items",isLoading:!1,workItems:[]})}},fetchWorkItemDetail:async o=>{e({isLoadingDetail:!0,error:null});try{const s=await fetch(`${ai}/api/work-items/${o}`);if(!s.ok)throw new Error("Failed to fetch work item detail");const l=await s.json();e({currentWorkItem:l,isLoadingDetail:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to fetch work item detail",isLoadingDetail:!1,currentWorkItem:null})}},createWorkItem:async o=>{e({error:null});try{const s=await fetch(`${ai}/api/work-items`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!s.ok)throw new Error("Failed to create work item");const l=await s.json();return e(u=>({workItems:[l,...u.workItems]})),l}catch(s){return e({error:s instanceof Error?s.message:"Failed to create work item"}),null}},updateWorkItem:async(o,s)=>{e({error:null});try{const l=await fetch(`${ai}/api/work-items/${o}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!l.ok)throw new Error("Failed to update work item");const u=await l.json();e(c=>{var f;return{workItems:c.workItems.map(h=>h.id===o?{...h,...u}:h),currentWorkItem:((f=c.currentWorkItem)==null?void 0:f.id)===o?{...c.currentWorkItem,...u}:c.currentWorkItem}})}catch(l){e({error:l instanceof Error?l.message:"Failed to update work item"})}},deleteWorkItem:async o=>{e({error:null});try{if(!(await fetch(`${ai}/api/work-items/${o}`,{method:"DELETE"})).ok)throw new Error("Failed to delete work item");e(l=>{var u;return{workItems:l.workItems.filter(c=>c.id!==o),currentWorkItem:((u=l.currentWorkItem)==null?void 0:u.id)===o?null:l.currentWorkItem}})}catch(s){e({error:s instanceof Error?s.message:"Failed to delete work item"})}},setFilter:o=>{e({filter:o}),r().fetchWorkItems()},clearCurrentWorkItem:()=>e({currentWorkItem:null})}));function l1(){const{workItems:e,isLoading:r,error:o,filter:s,fetchWorkItems:l,setFilter:u,createWorkItem:c}=s1(),[f,h]=_.useState(!1);_.useEffect(()=>{l()},[]);const g=_.useCallback(x=>{u(x)},[u]),v=_.useCallback(()=>{h(!0)},[]),m=_.useCallback(async(x,E)=>{await c({title:x,description:E})&&h(!1)},[c]);return y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsxs("header",{className:"mb-8 flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-semibold text-[var(--text-primary)]",children:"Work Items"}),y.jsx("p",{className:"text-[var(--text-muted)] mt-1",children:"Track your ongoing work across sessions"})]}),y.jsxs("button",{onClick:v,className:"btn-primary flex items-center gap-2",children:[y.jsx(Ac,{className:"w-4 h-4"}),"New Work Item"]})]}),y.jsxs("div",{className:"flex gap-2 mb-6",children:[y.jsx(ol,{label:"All",active:s==="all",onClick:()=>g("all")}),y.jsx(ol,{label:"In Progress",active:s==="in_progress",onClick:()=>g("in_progress")}),y.jsx(ol,{label:"Completed",active:s==="completed",onClick:()=>g("completed")}),y.jsx(ol,{label:"Blocked",active:s==="blocked",onClick:()=>g("blocked")})]}),o&&y.jsx("div",{className:"card bg-red-900/30 border-red-800 mb-6",children:y.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[y.jsx(kl,{className:"w-5 h-5"}),y.jsx("span",{children:o})]})}),r?y.jsx("div",{className:"space-y-4",children:[1,2,3].map(x=>y.jsx(f1,{},x))}):e.length===0?y.jsx(d1,{onCreateClick:v}):y.jsx("div",{className:"space-y-4",children:e.map(x=>y.jsx(a1,{item:x},x.id))}),f&&y.jsx(h1,{onClose:()=>h(!1),onCreate:m})]})}const ol=_.memo(function({label:r,active:o,onClick:s}){return y.jsx("button",{onClick:s,className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${o?"bg-[var(--color-primary-500)] text-white":"bg-[var(--bg-surface)] text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)] border border-[var(--border-subtle)]"}`,children:r})}),a1=_.memo(function({item:r}){return y.jsx(Ol,{to:`/work-items/${r.id}`,className:"block",children:y.jsx("div",{className:"card hover:shadow-md transition-shadow cursor-pointer",children:y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsx(u1,{status:r.status}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("div",{className:"flex items-center justify-between gap-2",children:[y.jsx("h3",{className:"font-medium text-[var(--text-primary)] truncate",children:r.title}),y.jsx(c1,{status:r.status})]}),y.jsx("p",{className:"text-sm text-[var(--text-secondary)] mt-1 line-clamp-2",children:r.description}),y.jsxs("div",{className:"mt-3",children:[y.jsxs("div",{className:"flex items-center justify-between text-xs text-[var(--text-muted)] mb-1",children:[y.jsx("span",{children:"Progress"}),y.jsxs("span",{children:[r.progress,"%"]})]}),y.jsx("div",{className:"h-2 bg-[var(--bg-elevated)] rounded-full overflow-hidden",role:"progressbar","aria-valuenow":r.progress,"aria-valuemin":0,"aria-valuemax":100,"aria-label":`Progress: ${r.progress} percent`,children:y.jsx("div",{className:"h-full bg-[var(--color-primary-500)] rounded-full transition-all duration-300",style:{width:`${r.progress}%`}})})]}),y.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-[var(--text-muted)]",children:[y.jsxs("span",{children:[r.sessionCount," sessions"]}),y.jsxs("span",{children:[r.milestoneCount," milestones"]}),r.blockerCount>0&&y.jsxs("span",{className:"text-red-500",children:[r.blockerCount," blockers"]})]})]})]})})})});function u1({status:e}){switch(e){case"completed":return y.jsx(Ox,{className:"w-6 h-6 text-green-500 flex-shrink-0"});case"blocked":return y.jsx(kl,{className:"w-6 h-6 text-red-500 flex-shrink-0"});case"in_progress":return y.jsx(xm,{className:"w-6 h-6 text-[var(--color-primary-500)] flex-shrink-0"});default:return y.jsx(zc,{className:"w-6 h-6 text-[var(--text-muted)] flex-shrink-0"})}}const c1=_.memo(function({status:r}){const o={not_started:{label:"Not Started",className:"bg-gray-800 text-gray-400"},planning:{label:"Planning",className:"bg-purple-900/40 text-purple-400"},in_progress:{label:"In Progress",className:"bg-blue-900/40 text-blue-400"},review:{label:"Review",className:"bg-yellow-900/40 text-yellow-400"},completed:{label:"Completed",className:"bg-green-900/40 text-green-400"},blocked:{label:"Blocked",className:"bg-red-900/40 text-red-400"}},{label:s,className:l}=o[r];return y.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${l}`,children:s})});function d1({onCreateClick:e}){return y.jsxs("div",{className:"text-center py-12",children:[y.jsx(zc,{className:"w-12 h-12 text-[var(--text-muted)] mx-auto mb-4"}),y.jsx("h3",{className:"text-lg font-medium text-[var(--text-primary)]",children:"No work items yet"}),y.jsx("p",{className:"text-[var(--text-muted)] mt-1",children:"Create a work item to track your ongoing tasks"}),y.jsxs("button",{onClick:e,className:"btn-primary mt-4 inline-flex items-center gap-2",children:[y.jsx(Ac,{className:"w-4 h-4"}),"Create Work Item"]})]})}function f1(){return y.jsx("div",{className:"card animate-pulse",children:y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsx("div",{className:"w-6 h-6 bg-[var(--bg-elevated)] rounded-full"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"h-5 bg-[var(--bg-elevated)] rounded w-1/3 mb-2"}),y.jsx("div",{className:"h-4 bg-[var(--bg-elevated)] rounded w-full mb-3"}),y.jsx("div",{className:"h-2 bg-[var(--bg-elevated)] rounded w-full"})]})]})})}function h1({onClose:e,onCreate:r}){const[o,s]=_.useState(""),[l,u]=_.useState(""),[c,f]=_.useState(!1),h=_.useRef(null);_.useEffect(()=>{var v;(v=h.current)==null||v.focus()},[]),_.useEffect(()=>{const v=m=>{m.key==="Escape"&&e()};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[e]);const g=async v=>{v.preventDefault(),o.trim()&&(f(!0),await r(o,l),f(!1))};return y.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:y.jsxs("div",{className:"bg-[var(--bg-surface)] rounded-xl shadow-xl w-full max-w-md mx-4",children:[y.jsx("div",{className:"p-4 border-b border-[var(--border-subtle)]",children:y.jsx("h2",{id:"modal-title",className:"text-lg font-semibold text-[var(--text-primary)]",children:"Create Work Item"})}),y.jsxs("form",{onSubmit:g,children:[y.jsxs("div",{className:"p-4 space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-[var(--text-secondary)] mb-1",children:"Title"}),y.jsx("input",{ref:h,id:"title",type:"text",value:o,onChange:v=>s(v.target.value),className:"input",placeholder:"Enter work item title",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-[var(--text-secondary)] mb-1",children:"Description"}),y.jsx("textarea",{id:"description",value:l,onChange:v=>u(v.target.value),className:"input resize-none",rows:3,placeholder:"Describe the work item..."})]})]}),y.jsxs("div",{className:"p-4 border-t border-[var(--border-subtle)] flex justify-end gap-3",children:[y.jsx("button",{type:"button",onClick:e,className:"btn-secondary",disabled:c,children:"Cancel"}),y.jsx("button",{type:"submit",className:"btn-primary",disabled:c||!o.trim(),children:c?"Creating...":"Create"})]})]})]})})}const p1=$c((e,r)=>({projects:[],selectedProjectId:null,loading:!1,error:null,fetchProjects:async()=>{e({loading:!0,error:null});try{const o=await fetch("/api/projects?limit=100");if(!o.ok)throw new Error("Failed to fetch projects");const s=await o.json();e({projects:s.projects||[],loading:!1})}catch(o){const s=o instanceof Error?o.message:"";console.error("[ProjectStore] Failed to fetch projects:",o),e({error:s,loading:!1})}},selectProject:o=>{e({selectedProjectId:o})},getSelectedProject:()=>{const{projects:o,selectedProjectId:s}=r();return s&&o.find(l=>l.projectId===s)||null}}));function m1({onSessionSelect:e,onSessionClick:r,selectedSessionIds:o=[]}){const{projects:s,selectedProjectId:l,loading:u,fetchProjects:c,selectProject:f}=p1(),[h,g]=_.useState([]),[v,m]=_.useState(!1),[x,E]=_.useState(!1);_.useEffect(()=>{c()},[c]),_.useEffect(()=>{(async()=>{m(!0);try{const N=new URLSearchParams({limit:"100",status:"completed"});l&&N.set("projectId",l);const I=await fetch("/api/sessions?"+N);if(!I.ok)throw new Error("Failed to fetch sessions");const S=await I.json();g(S.items||[])}catch(N){console.error("[ViewerSidebar] Failed to fetch sessions:",N),g([])}finally{m(!1)}})()},[l]);const k=_.useCallback(C=>{f(C),E(!1)},[f]),b=s.find(C=>C.projectId===l);return y.jsxs("aside",{className:"w-64 bg-[var(--bg-surface)] border-r border-[var(--border-subtle)] flex flex-col h-full",children:[y.jsx("div",{className:"p-3 border-b border-[var(--border-subtle)]",children:y.jsxs("div",{className:"relative",children:[y.jsxs("button",{onClick:()=>E(!x),className:"w-full flex items-center justify-between px-3 py-2 bg-[var(--bg-elevated)] rounded-lg hover:brightness-110 transition-colors","aria-expanded":x,"aria-haspopup":"listbox",children:[y.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[y.jsx(Dx,{className:"w-4 h-4 text-[var(--text-muted)] flex-shrink-0"}),y.jsx("span",{className:"text-sm text-[var(--text-primary)] truncate",children:u?"...":(b==null?void 0:b.name)||""})]}),y.jsx(Fx,{className:"w-4 h-4 text-[var(--text-muted)] transition-transform "+(x?"rotate-180":"")})]}),x&&y.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-[var(--bg-elevated)] border border-[var(--border-default)] rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:[y.jsx("button",{onClick:()=>k(null),className:"w-full text-left px-3 py-2 text-sm hover:bg-[var(--bg-surface)] transition-colors "+(l?"text-[var(--text-primary)]":"text-[var(--color-primary-400)] bg-[var(--bg-surface)]"),role:"option","aria-selected":!l,children:""}),s.map(C=>y.jsxs("button",{onClick:()=>k(C.projectId),className:"w-full text-left px-3 py-2 text-sm hover:bg-[var(--bg-surface)] transition-colors "+(l===C.projectId?"text-[var(--color-primary-400)] bg-[var(--bg-surface)]":"text-[var(--text-primary)]"),role:"option","aria-selected":l===C.projectId,children:[y.jsx("div",{className:"truncate",children:C.name}),y.jsx("div",{className:"text-xs text-[var(--text-muted)] truncate",children:C.path})]},C.projectId))]})]})}),y.jsxs("div",{className:"flex-1 overflow-y-auto",children:[y.jsx("div",{className:"px-3 py-2 text-xs font-medium text-[var(--text-muted)] uppercase tracking-wider",children:"Sessions"}),v?y.jsx("div",{className:"px-3 space-y-2",children:[1,2,3].map(C=>y.jsx("div",{className:"h-12 bg-[var(--bg-elevated)] rounded animate-pulse"},C))}):h.length===0?y.jsx("div",{className:"px-3 py-4 text-sm text-[var(--text-muted)] text-center",children:""}):y.jsx("div",{className:"px-2 space-y-1",children:h.map(C=>y.jsx(y1,{session:C,isHidden:o.includes(C.sessionId),onToggle:e,onClick:r},C.sessionId))})]}),y.jsx("div",{className:"p-3 border-t border-[var(--border-subtle)]",children:y.jsxs("button",{className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm bg-[var(--color-primary-500)] text-white rounded-lg hover:bg-[var(--color-primary-600)] transition-colors",children:[y.jsx(Ac,{className:"w-4 h-4"}),y.jsx("span",{children:"New Session"})]})})]})}const g1={idle:"bg-gray-400",active:"bg-blue-500",completed:"bg-green-500",error:"bg-red-500"},y1=_.memo(function({session:r,isHidden:o,onToggle:s,onClick:l}){const u=_.useCallback(h=>{h.stopPropagation(),s==null||s(r)},[s,r]),c=_.useCallback(()=>{l==null||l(r)},[l,r]),f=new Date(r.updatedAt).toLocaleDateString("ja-JP",{month:"short",day:"numeric"});return y.jsxs("div",{className:"flex items-center gap-1 px-2 py-2 rounded-lg transition-colors "+(o?"opacity-50":"hover:bg-[var(--bg-elevated)]"),children:[y.jsx("button",{onClick:u,className:"p-1 rounded hover:bg-[var(--bg-surface)] transition-colors flex-shrink-0",title:o?"":"",children:o?y.jsx(Bx,{className:"w-4 h-4 text-[var(--text-muted)]"}):y.jsx(Hx,{className:"w-4 h-4 text-[var(--text-secondary)]"})}),y.jsxs("button",{onClick:c,className:"flex-1 text-left flex items-center gap-2 min-w-0",children:[y.jsx("span",{className:"w-2 h-2 rounded-full flex-shrink-0 "+(o?"bg-gray-500":g1[r.status])}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("div",{className:"text-sm truncate "+(o?"text-[var(--text-muted)] line-through":"text-[var(--text-primary)]"),children:r.name}),y.jsx("div",{className:"text-xs text-[var(--text-muted)]",children:f})]})]})]})});function Ye(e){if(typeof e=="string"||typeof e=="number")return""+e;let r="";if(Array.isArray(e))for(let o=0,s;o<e.length;o++)(s=Ye(e[o]))!==""&&(r+=(r&&" ")+s);else for(let o in e)e[o]&&(r+=(r&&" ")+o);return r}var v1={value:()=>{}};function Fl(){for(var e=0,r=arguments.length,o={},s;e<r;++e){if(!(s=arguments[e]+"")||s in o||/[\s.]/.test(s))throw new Error("illegal type: "+s);o[s]=[]}return new yl(o)}function yl(e){this._=e}function x1(e,r){return e.trim().split(/^|\s+/).map(function(o){var s="",l=o.indexOf(".");if(l>=0&&(s=o.slice(l+1),o=o.slice(0,l)),o&&!r.hasOwnProperty(o))throw new Error("unknown type: "+o);return{type:o,name:s}})}yl.prototype=Fl.prototype={constructor:yl,on:function(e,r){var o=this._,s=x1(e+"",o),l,u=-1,c=s.length;if(arguments.length<2){for(;++u<c;)if((l=(e=s[u]).type)&&(l=w1(o[l],e.name)))return l;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++u<c;)if(l=(e=s[u]).type)o[l]=Wh(o[l],e.name,r);else if(r==null)for(l in o)o[l]=Wh(o[l],e.name,null);return this},copy:function(){var e={},r=this._;for(var o in r)e[o]=r[o].slice();return new yl(e)},call:function(e,r){if((l=arguments.length-2)>0)for(var o=new Array(l),s=0,l,u;s<l;++s)o[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(u=this._[e],s=0,l=u.length;s<l;++s)u[s].value.apply(r,o)},apply:function(e,r,o){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var s=this._[e],l=0,u=s.length;l<u;++l)s[l].value.apply(r,o)}};function w1(e,r){for(var o=0,s=e.length,l;o<s;++o)if((l=e[o]).name===r)return l.value}function Wh(e,r,o){for(var s=0,l=e.length;s<l;++s)if(e[s].name===r){e[s]=v1,e=e.slice(0,s).concat(e.slice(s+1));break}return o!=null&&e.push({name:r,value:o}),e}var mc="http://www.w3.org/1999/xhtml";const Uh={svg:"http://www.w3.org/2000/svg",xhtml:mc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Hl(e){var r=e+="",o=r.indexOf(":");return o>=0&&(r=e.slice(0,o))!=="xmlns"&&(e=e.slice(o+1)),Uh.hasOwnProperty(r)?{space:Uh[r],local:e}:e}function S1(e){return function(){var r=this.ownerDocument,o=this.namespaceURI;return o===mc&&r.documentElement.namespaceURI===mc?r.createElement(e):r.createElementNS(o,e)}}function E1(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Nm(e){var r=Hl(e);return(r.local?E1:S1)(r)}function k1(){}function Dc(e){return e==null?k1:function(){return this.querySelector(e)}}function N1(e){typeof e!="function"&&(e=Dc(e));for(var r=this._groups,o=r.length,s=new Array(o),l=0;l<o;++l)for(var u=r[l],c=u.length,f=s[l]=new Array(c),h,g,v=0;v<c;++v)(h=u[v])&&(g=e.call(h,h.__data__,v,u))&&("__data__"in h&&(g.__data__=h.__data__),f[v]=g);return new St(s,this._parents)}function C1(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function _1(){return[]}function Cm(e){return e==null?_1:function(){return this.querySelectorAll(e)}}function b1(e){return function(){return C1(e.apply(this,arguments))}}function j1(e){typeof e=="function"?e=b1(e):e=Cm(e);for(var r=this._groups,o=r.length,s=[],l=[],u=0;u<o;++u)for(var c=r[u],f=c.length,h,g=0;g<f;++g)(h=c[g])&&(s.push(e.call(h,h.__data__,g,c)),l.push(h));return new St(s,l)}function _m(e){return function(){return this.matches(e)}}function bm(e){return function(r){return r.matches(e)}}var I1=Array.prototype.find;function M1(e){return function(){return I1.call(this.children,e)}}function P1(){return this.firstElementChild}function R1(e){return this.select(e==null?P1:M1(typeof e=="function"?e:bm(e)))}var L1=Array.prototype.filter;function T1(){return Array.from(this.children)}function z1(e){return function(){return L1.call(this.children,e)}}function A1(e){return this.selectAll(e==null?T1:z1(typeof e=="function"?e:bm(e)))}function $1(e){typeof e!="function"&&(e=_m(e));for(var r=this._groups,o=r.length,s=new Array(o),l=0;l<o;++l)for(var u=r[l],c=u.length,f=s[l]=[],h,g=0;g<c;++g)(h=u[g])&&e.call(h,h.__data__,g,u)&&f.push(h);return new St(s,this._parents)}function jm(e){return new Array(e.length)}function D1(){return new St(this._enter||this._groups.map(jm),this._parents)}function Nl(e,r){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=r}Nl.prototype={constructor:Nl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,r){return this._parent.insertBefore(e,r)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function O1(e){return function(){return e}}function F1(e,r,o,s,l,u){for(var c=0,f,h=r.length,g=u.length;c<g;++c)(f=r[c])?(f.__data__=u[c],s[c]=f):o[c]=new Nl(e,u[c]);for(;c<h;++c)(f=r[c])&&(l[c]=f)}function H1(e,r,o,s,l,u,c){var f,h,g=new Map,v=r.length,m=u.length,x=new Array(v),E;for(f=0;f<v;++f)(h=r[f])&&(x[f]=E=c.call(h,h.__data__,f,r)+"",g.has(E)?l[f]=h:g.set(E,h));for(f=0;f<m;++f)E=c.call(e,u[f],f,u)+"",(h=g.get(E))?(s[f]=h,h.__data__=u[f],g.delete(E)):o[f]=new Nl(e,u[f]);for(f=0;f<v;++f)(h=r[f])&&g.get(x[f])===h&&(l[f]=h)}function B1(e){return e.__data__}function V1(e,r){if(!arguments.length)return Array.from(this,B1);var o=r?H1:F1,s=this._parents,l=this._groups;typeof e!="function"&&(e=O1(e));for(var u=l.length,c=new Array(u),f=new Array(u),h=new Array(u),g=0;g<u;++g){var v=s[g],m=l[g],x=m.length,E=W1(e.call(v,v&&v.__data__,g,s)),k=E.length,b=f[g]=new Array(k),C=c[g]=new Array(k),N=h[g]=new Array(x);o(v,m,b,C,N,E,r);for(var I=0,S=0,j,O;I<k;++I)if(j=b[I]){for(I>=S&&(S=I+1);!(O=C[S])&&++S<k;);j._next=O||null}}return c=new St(c,s),c._enter=f,c._exit=h,c}function W1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function U1(){return new St(this._exit||this._groups.map(jm),this._parents)}function Y1(e,r,o){var s=this.enter(),l=this,u=this.exit();return typeof e=="function"?(s=e(s),s&&(s=s.selection())):s=s.append(e+""),r!=null&&(l=r(l),l&&(l=l.selection())),o==null?u.remove():o(u),s&&l?s.merge(l).order():l}function X1(e){for(var r=e.selection?e.selection():e,o=this._groups,s=r._groups,l=o.length,u=s.length,c=Math.min(l,u),f=new Array(l),h=0;h<c;++h)for(var g=o[h],v=s[h],m=g.length,x=f[h]=new Array(m),E,k=0;k<m;++k)(E=g[k]||v[k])&&(x[k]=E);for(;h<l;++h)f[h]=o[h];return new St(f,this._parents)}function Q1(){for(var e=this._groups,r=-1,o=e.length;++r<o;)for(var s=e[r],l=s.length-1,u=s[l],c;--l>=0;)(c=s[l])&&(u&&c.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(c,u),u=c);return this}function G1(e){e||(e=K1);function r(m,x){return m&&x?e(m.__data__,x.__data__):!m-!x}for(var o=this._groups,s=o.length,l=new Array(s),u=0;u<s;++u){for(var c=o[u],f=c.length,h=l[u]=new Array(f),g,v=0;v<f;++v)(g=c[v])&&(h[v]=g);h.sort(r)}return new St(l,this._parents).order()}function K1(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}function q1(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Z1(){return Array.from(this)}function J1(){for(var e=this._groups,r=0,o=e.length;r<o;++r)for(var s=e[r],l=0,u=s.length;l<u;++l){var c=s[l];if(c)return c}return null}function ew(){let e=0;for(const r of this)++e;return e}function tw(){return!this.node()}function nw(e){for(var r=this._groups,o=0,s=r.length;o<s;++o)for(var l=r[o],u=0,c=l.length,f;u<c;++u)(f=l[u])&&e.call(f,f.__data__,u,l);return this}function rw(e){return function(){this.removeAttribute(e)}}function ow(e){return function(){this.removeAttributeNS(e.space,e.local)}}function iw(e,r){return function(){this.setAttribute(e,r)}}function sw(e,r){return function(){this.setAttributeNS(e.space,e.local,r)}}function lw(e,r){return function(){var o=r.apply(this,arguments);o==null?this.removeAttribute(e):this.setAttribute(e,o)}}function aw(e,r){return function(){var o=r.apply(this,arguments);o==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,o)}}function uw(e,r){var o=Hl(e);if(arguments.length<2){var s=this.node();return o.local?s.getAttributeNS(o.space,o.local):s.getAttribute(o)}return this.each((r==null?o.local?ow:rw:typeof r=="function"?o.local?aw:lw:o.local?sw:iw)(o,r))}function Im(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function cw(e){return function(){this.style.removeProperty(e)}}function dw(e,r,o){return function(){this.style.setProperty(e,r,o)}}function fw(e,r,o){return function(){var s=r.apply(this,arguments);s==null?this.style.removeProperty(e):this.style.setProperty(e,s,o)}}function hw(e,r,o){return arguments.length>1?this.each((r==null?cw:typeof r=="function"?fw:dw)(e,r,o??"")):io(this.node(),e)}function io(e,r){return e.style.getPropertyValue(r)||Im(e).getComputedStyle(e,null).getPropertyValue(r)}function pw(e){return function(){delete this[e]}}function mw(e,r){return function(){this[e]=r}}function gw(e,r){return function(){var o=r.apply(this,arguments);o==null?delete this[e]:this[e]=o}}function yw(e,r){return arguments.length>1?this.each((r==null?pw:typeof r=="function"?gw:mw)(e,r)):this.node()[e]}function Mm(e){return e.trim().split(/^|\s+/)}function Oc(e){return e.classList||new Pm(e)}function Pm(e){this._node=e,this._names=Mm(e.getAttribute("class")||"")}Pm.prototype={add:function(e){var r=this._names.indexOf(e);r<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var r=this._names.indexOf(e);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Rm(e,r){for(var o=Oc(e),s=-1,l=r.length;++s<l;)o.add(r[s])}function Lm(e,r){for(var o=Oc(e),s=-1,l=r.length;++s<l;)o.remove(r[s])}function vw(e){return function(){Rm(this,e)}}function xw(e){return function(){Lm(this,e)}}function ww(e,r){return function(){(r.apply(this,arguments)?Rm:Lm)(this,e)}}function Sw(e,r){var o=Mm(e+"");if(arguments.length<2){for(var s=Oc(this.node()),l=-1,u=o.length;++l<u;)if(!s.contains(o[l]))return!1;return!0}return this.each((typeof r=="function"?ww:r?vw:xw)(o,r))}function Ew(){this.textContent=""}function kw(e){return function(){this.textContent=e}}function Nw(e){return function(){var r=e.apply(this,arguments);this.textContent=r??""}}function Cw(e){return arguments.length?this.each(e==null?Ew:(typeof e=="function"?Nw:kw)(e)):this.node().textContent}function _w(){this.innerHTML=""}function bw(e){return function(){this.innerHTML=e}}function jw(e){return function(){var r=e.apply(this,arguments);this.innerHTML=r??""}}function Iw(e){return arguments.length?this.each(e==null?_w:(typeof e=="function"?jw:bw)(e)):this.node().innerHTML}function Mw(){this.nextSibling&&this.parentNode.appendChild(this)}function Pw(){return this.each(Mw)}function Rw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Lw(){return this.each(Rw)}function Tw(e){var r=typeof e=="function"?e:Nm(e);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function zw(){return null}function Aw(e,r){var o=typeof e=="function"?e:Nm(e),s=r==null?zw:typeof r=="function"?r:Dc(r);return this.select(function(){return this.insertBefore(o.apply(this,arguments),s.apply(this,arguments)||null)})}function $w(){var e=this.parentNode;e&&e.removeChild(this)}function Dw(){return this.each($w)}function Ow(){var e=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function Fw(){var e=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function Hw(e){return this.select(e?Fw:Ow)}function Bw(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Vw(e){return function(r){e.call(this,r,this.__data__)}}function Ww(e){return e.trim().split(/^|\s+/).map(function(r){var o="",s=r.indexOf(".");return s>=0&&(o=r.slice(s+1),r=r.slice(0,s)),{type:r,name:o}})}function Uw(e){return function(){var r=this.__on;if(r){for(var o=0,s=-1,l=r.length,u;o<l;++o)u=r[o],(!e.type||u.type===e.type)&&u.name===e.name?this.removeEventListener(u.type,u.listener,u.options):r[++s]=u;++s?r.length=s:delete this.__on}}}function Yw(e,r,o){return function(){var s=this.__on,l,u=Vw(r);if(s){for(var c=0,f=s.length;c<f;++c)if((l=s[c]).type===e.type&&l.name===e.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=u,l.options=o),l.value=r;return}}this.addEventListener(e.type,u,o),l={type:e.type,name:e.name,value:r,listener:u,options:o},s?s.push(l):this.__on=[l]}}function Xw(e,r,o){var s=Ww(e+""),l,u=s.length,c;if(arguments.length<2){var f=this.node().__on;if(f){for(var h=0,g=f.length,v;h<g;++h)for(l=0,v=f[h];l<u;++l)if((c=s[l]).type===v.type&&c.name===v.name)return v.value}return}for(f=r?Yw:Uw,l=0;l<u;++l)this.each(f(s[l],r,o));return this}function Tm(e,r,o){var s=Im(e),l=s.CustomEvent;typeof l=="function"?l=new l(r,o):(l=s.document.createEvent("Event"),o?(l.initEvent(r,o.bubbles,o.cancelable),l.detail=o.detail):l.initEvent(r,!1,!1)),e.dispatchEvent(l)}function Qw(e,r){return function(){return Tm(this,e,r)}}function Gw(e,r){return function(){return Tm(this,e,r.apply(this,arguments))}}function Kw(e,r){return this.each((typeof r=="function"?Gw:Qw)(e,r))}function*qw(){for(var e=this._groups,r=0,o=e.length;r<o;++r)for(var s=e[r],l=0,u=s.length,c;l<u;++l)(c=s[l])&&(yield c)}var zm=[null];function St(e,r){this._groups=e,this._parents=r}function Mi(){return new St([[document.documentElement]],zm)}function Zw(){return this}St.prototype=Mi.prototype={constructor:St,select:N1,selectAll:j1,selectChild:R1,selectChildren:A1,filter:$1,data:V1,enter:D1,exit:U1,join:Y1,merge:X1,selection:Zw,order:Q1,sort:G1,call:q1,nodes:Z1,node:J1,size:ew,empty:tw,each:nw,attr:uw,style:hw,property:yw,classed:Sw,text:Cw,html:Iw,raise:Pw,lower:Lw,append:Tw,insert:Aw,remove:Dw,clone:Hw,datum:Bw,on:Xw,dispatch:Kw,[Symbol.iterator]:qw};function wt(e){return typeof e=="string"?new St([[document.querySelector(e)]],[document.documentElement]):new St([[e]],zm)}function Jw(e){let r;for(;r=e.sourceEvent;)e=r;return e}function Dt(e,r){if(e=Jw(e),r===void 0&&(r=e.currentTarget),r){var o=r.ownerSVGElement||r;if(o.createSVGPoint){var s=o.createSVGPoint();return s.x=e.clientX,s.y=e.clientY,s=s.matrixTransform(r.getScreenCTM().inverse()),[s.x,s.y]}if(r.getBoundingClientRect){var l=r.getBoundingClientRect();return[e.clientX-l.left-r.clientLeft,e.clientY-l.top-r.clientTop]}}return[e.pageX,e.pageY]}const eS={passive:!1},yi={capture:!0,passive:!1};function Zu(e){e.stopImmediatePropagation()}function ro(e){e.preventDefault(),e.stopImmediatePropagation()}function Am(e){var r=e.document.documentElement,o=wt(e).on("dragstart.drag",ro,yi);"onselectstart"in r?o.on("selectstart.drag",ro,yi):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")}function $m(e,r){var o=e.document.documentElement,s=wt(e).on("dragstart.drag",null);r&&(s.on("click.drag",ro,yi),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in o?s.on("selectstart.drag",null):(o.style.MozUserSelect=o.__noselect,delete o.__noselect)}const il=e=>()=>e;function gc(e,{sourceEvent:r,subject:o,target:s,identifier:l,active:u,x:c,y:f,dx:h,dy:g,dispatch:v}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},subject:{value:o,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:l,enumerable:!0,configurable:!0},active:{value:u,enumerable:!0,configurable:!0},x:{value:c,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:g,enumerable:!0,configurable:!0},_:{value:v}})}gc.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function tS(e){return!e.ctrlKey&&!e.button}function nS(){return this.parentNode}function rS(e,r){return r??{x:e.x,y:e.y}}function oS(){return navigator.maxTouchPoints||"ontouchstart"in this}function Dm(){var e=tS,r=nS,o=rS,s=oS,l={},u=Fl("start","drag","end"),c=0,f,h,g,v,m=0;function x(j){j.on("mousedown.drag",E).filter(s).on("touchstart.drag",C).on("touchmove.drag",N,eS).on("touchend.drag touchcancel.drag",I).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function E(j,O){if(!(v||!e.call(this,j,O))){var z=S(this,r.call(this,j,O),j,O,"mouse");z&&(wt(j.view).on("mousemove.drag",k,yi).on("mouseup.drag",b,yi),Am(j.view),Zu(j),g=!1,f=j.clientX,h=j.clientY,z("start",j))}}function k(j){if(ro(j),!g){var O=j.clientX-f,z=j.clientY-h;g=O*O+z*z>m}l.mouse("drag",j)}function b(j){wt(j.view).on("mousemove.drag mouseup.drag",null),$m(j.view,g),ro(j),l.mouse("end",j)}function C(j,O){if(e.call(this,j,O)){var z=j.changedTouches,P=r.call(this,j,O),D=z.length,H,Z;for(H=0;H<D;++H)(Z=S(this,P,j,O,z[H].identifier,z[H]))&&(Zu(j),Z("start",j,z[H]))}}function N(j){var O=j.changedTouches,z=O.length,P,D;for(P=0;P<z;++P)(D=l[O[P].identifier])&&(ro(j),D("drag",j,O[P]))}function I(j){var O=j.changedTouches,z=O.length,P,D;for(v&&clearTimeout(v),v=setTimeout(function(){v=null},500),P=0;P<z;++P)(D=l[O[P].identifier])&&(Zu(j),D("end",j,O[P]))}function S(j,O,z,P,D,H){var Z=u.copy(),W=Dt(H||z,O),Y,J,R;if((R=o.call(j,new gc("beforestart",{sourceEvent:z,target:x,identifier:D,active:c,x:W[0],y:W[1],dx:0,dy:0,dispatch:Z}),P))!=null)return Y=R.x-W[0]||0,J=R.y-W[1]||0,function G(V,Q,T){var A=W,U;switch(V){case"start":l[D]=G,U=c++;break;case"end":delete l[D],--c;case"drag":W=Dt(T||Q,O),U=c;break}Z.call(V,j,new gc(V,{sourceEvent:Q,subject:R,target:x,identifier:D,active:U,x:W[0]+Y,y:W[1]+J,dx:W[0]-A[0],dy:W[1]-A[1],dispatch:Z}),P)}}return x.filter=function(j){return arguments.length?(e=typeof j=="function"?j:il(!!j),x):e},x.container=function(j){return arguments.length?(r=typeof j=="function"?j:il(j),x):r},x.subject=function(j){return arguments.length?(o=typeof j=="function"?j:il(j),x):o},x.touchable=function(j){return arguments.length?(s=typeof j=="function"?j:il(!!j),x):s},x.on=function(){var j=u.on.apply(u,arguments);return j===u?x:j},x.clickDistance=function(j){return arguments.length?(m=(j=+j)*j,x):Math.sqrt(m)},x}function Fc(e,r,o){e.prototype=r.prototype=o,o.constructor=e}function Om(e,r){var o=Object.create(e.prototype);for(var s in r)o[s]=r[s];return o}function Pi(){}var vi=.7,Cl=1/vi,oo="\\s*([+-]?\\d+)\\s*",xi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iS=/^#([0-9a-f]{3,8})$/,sS=new RegExp(`^rgb\\(${oo},${oo},${oo}\\)$`),lS=new RegExp(`^rgb\\(${qt},${qt},${qt}\\)$`),aS=new RegExp(`^rgba\\(${oo},${oo},${oo},${xi}\\)$`),uS=new RegExp(`^rgba\\(${qt},${qt},${qt},${xi}\\)$`),cS=new RegExp(`^hsl\\(${xi},${qt},${qt}\\)$`),dS=new RegExp(`^hsla\\(${xi},${qt},${qt},${xi}\\)$`),Yh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Fc(Pi,yr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Xh,formatHex:Xh,formatHex8:fS,formatHsl:hS,formatRgb:Qh,toString:Qh});function Xh(){return this.rgb().formatHex()}function fS(){return this.rgb().formatHex8()}function hS(){return Fm(this).formatHsl()}function Qh(){return this.rgb().formatRgb()}function yr(e){var r,o;return e=(e+"").trim().toLowerCase(),(r=iS.exec(e))?(o=r[1].length,r=parseInt(r[1],16),o===6?Gh(r):o===3?new ft(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):o===8?sl(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):o===4?sl(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=sS.exec(e))?new ft(r[1],r[2],r[3],1):(r=lS.exec(e))?new ft(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=aS.exec(e))?sl(r[1],r[2],r[3],r[4]):(r=uS.exec(e))?sl(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=cS.exec(e))?Zh(r[1],r[2]/100,r[3]/100,1):(r=dS.exec(e))?Zh(r[1],r[2]/100,r[3]/100,r[4]):Yh.hasOwnProperty(e)?Gh(Yh[e]):e==="transparent"?new ft(NaN,NaN,NaN,0):null}function Gh(e){return new ft(e>>16&255,e>>8&255,e&255,1)}function sl(e,r,o,s){return s<=0&&(e=r=o=NaN),new ft(e,r,o,s)}function pS(e){return e instanceof Pi||(e=yr(e)),e?(e=e.rgb(),new ft(e.r,e.g,e.b,e.opacity)):new ft}function yc(e,r,o,s){return arguments.length===1?pS(e):new ft(e,r,o,s??1)}function ft(e,r,o,s){this.r=+e,this.g=+r,this.b=+o,this.opacity=+s}Fc(ft,yc,Om(Pi,{brighter(e){return e=e==null?Cl:Math.pow(Cl,e),new ft(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?vi:Math.pow(vi,e),new ft(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ft(mr(this.r),mr(this.g),mr(this.b),_l(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Kh,formatHex:Kh,formatHex8:mS,formatRgb:qh,toString:qh}));function Kh(){return`#${pr(this.r)}${pr(this.g)}${pr(this.b)}`}function mS(){return`#${pr(this.r)}${pr(this.g)}${pr(this.b)}${pr((isNaN(this.opacity)?1:this.opacity)*255)}`}function qh(){const e=_l(this.opacity);return`${e===1?"rgb(":"rgba("}${mr(this.r)}, ${mr(this.g)}, ${mr(this.b)}${e===1?")":`, ${e})`}`}function _l(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function mr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function pr(e){return e=mr(e),(e<16?"0":"")+e.toString(16)}function Zh(e,r,o,s){return s<=0?e=r=o=NaN:o<=0||o>=1?e=r=NaN:r<=0&&(e=NaN),new Ot(e,r,o,s)}function Fm(e){if(e instanceof Ot)return new Ot(e.h,e.s,e.l,e.opacity);if(e instanceof Pi||(e=yr(e)),!e)return new Ot;if(e instanceof Ot)return e;e=e.rgb();var r=e.r/255,o=e.g/255,s=e.b/255,l=Math.min(r,o,s),u=Math.max(r,o,s),c=NaN,f=u-l,h=(u+l)/2;return f?(r===u?c=(o-s)/f+(o<s)*6:o===u?c=(s-r)/f+2:c=(r-o)/f+4,f/=h<.5?u+l:2-u-l,c*=60):f=h>0&&h<1?0:c,new Ot(c,f,h,e.opacity)}function gS(e,r,o,s){return arguments.length===1?Fm(e):new Ot(e,r,o,s??1)}function Ot(e,r,o,s){this.h=+e,this.s=+r,this.l=+o,this.opacity=+s}Fc(Ot,gS,Om(Pi,{brighter(e){return e=e==null?Cl:Math.pow(Cl,e),new Ot(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?vi:Math.pow(vi,e),new Ot(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,o=this.l,s=o+(o<.5?o:1-o)*r,l=2*o-s;return new ft(Ju(e>=240?e-240:e+120,l,s),Ju(e,l,s),Ju(e<120?e+240:e-120,l,s),this.opacity)},clamp(){return new Ot(Jh(this.h),ll(this.s),ll(this.l),_l(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_l(this.opacity);return`${e===1?"hsl(":"hsla("}${Jh(this.h)}, ${ll(this.s)*100}%, ${ll(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Jh(e){return e=(e||0)%360,e<0?e+360:e}function ll(e){return Math.max(0,Math.min(1,e||0))}function Ju(e,r,o){return(e<60?r+(o-r)*e/60:e<180?o:e<240?r+(o-r)*(240-e)/60:r)*255}const Hc=e=>()=>e;function yS(e,r){return function(o){return e+o*r}}function vS(e,r,o){return e=Math.pow(e,o),r=Math.pow(r,o)-e,o=1/o,function(s){return Math.pow(e+s*r,o)}}function xS(e){return(e=+e)==1?Hm:function(r,o){return o-r?vS(r,o,e):Hc(isNaN(r)?o:r)}}function Hm(e,r){var o=r-e;return o?yS(e,o):Hc(isNaN(e)?r:e)}const bl=(function e(r){var o=xS(r);function s(l,u){var c=o((l=yc(l)).r,(u=yc(u)).r),f=o(l.g,u.g),h=o(l.b,u.b),g=Hm(l.opacity,u.opacity);return function(v){return l.r=c(v),l.g=f(v),l.b=h(v),l.opacity=g(v),l+""}}return s.gamma=e,s})(1);function wS(e,r){r||(r=[]);var o=e?Math.min(r.length,e.length):0,s=r.slice(),l;return function(u){for(l=0;l<o;++l)s[l]=e[l]*(1-u)+r[l]*u;return s}}function SS(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ES(e,r){var o=r?r.length:0,s=e?Math.min(o,e.length):0,l=new Array(s),u=new Array(o),c;for(c=0;c<s;++c)l[c]=pi(e[c],r[c]);for(;c<o;++c)u[c]=r[c];return function(f){for(c=0;c<s;++c)u[c]=l[c](f);return u}}function kS(e,r){var o=new Date;return e=+e,r=+r,function(s){return o.setTime(e*(1-s)+r*s),o}}function Kt(e,r){return e=+e,r=+r,function(o){return e*(1-o)+r*o}}function NS(e,r){var o={},s={},l;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(l in r)l in e?o[l]=pi(e[l],r[l]):s[l]=r[l];return function(u){for(l in o)s[l]=o[l](u);return s}}var vc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ec=new RegExp(vc.source,"g");function CS(e){return function(){return e}}function _S(e){return function(r){return e(r)+""}}function Bm(e,r){var o=vc.lastIndex=ec.lastIndex=0,s,l,u,c=-1,f=[],h=[];for(e=e+"",r=r+"";(s=vc.exec(e))&&(l=ec.exec(r));)(u=l.index)>o&&(u=r.slice(o,u),f[c]?f[c]+=u:f[++c]=u),(s=s[0])===(l=l[0])?f[c]?f[c]+=l:f[++c]=l:(f[++c]=null,h.push({i:c,x:Kt(s,l)})),o=ec.lastIndex;return o<r.length&&(u=r.slice(o),f[c]?f[c]+=u:f[++c]=u),f.length<2?h[0]?_S(h[0].x):CS(r):(r=h.length,function(g){for(var v=0,m;v<r;++v)f[(m=h[v]).i]=m.x(g);return f.join("")})}function pi(e,r){var o=typeof r,s;return r==null||o==="boolean"?Hc(r):(o==="number"?Kt:o==="string"?(s=yr(r))?(r=s,bl):Bm:r instanceof yr?bl:r instanceof Date?kS:SS(r)?wS:Array.isArray(r)?ES:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?NS:Kt)(e,r)}var ep=180/Math.PI,xc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Vm(e,r,o,s,l,u){var c,f,h;return(c=Math.sqrt(e*e+r*r))&&(e/=c,r/=c),(h=e*o+r*s)&&(o-=e*h,s-=r*h),(f=Math.sqrt(o*o+s*s))&&(o/=f,s/=f,h/=f),e*s<r*o&&(e=-e,r=-r,h=-h,c=-c),{translateX:l,translateY:u,rotate:Math.atan2(r,e)*ep,skewX:Math.atan(h)*ep,scaleX:c,scaleY:f}}var al;function bS(e){const r=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return r.isIdentity?xc:Vm(r.a,r.b,r.c,r.d,r.e,r.f)}function jS(e){return e==null||(al||(al=document.createElementNS("http://www.w3.org/2000/svg","g")),al.setAttribute("transform",e),!(e=al.transform.baseVal.consolidate()))?xc:(e=e.matrix,Vm(e.a,e.b,e.c,e.d,e.e,e.f))}function Wm(e,r,o,s){function l(g){return g.length?g.pop()+" ":""}function u(g,v,m,x,E,k){if(g!==m||v!==x){var b=E.push("translate(",null,r,null,o);k.push({i:b-4,x:Kt(g,m)},{i:b-2,x:Kt(v,x)})}else(m||x)&&E.push("translate("+m+r+x+o)}function c(g,v,m,x){g!==v?(g-v>180?v+=360:v-g>180&&(g+=360),x.push({i:m.push(l(m)+"rotate(",null,s)-2,x:Kt(g,v)})):v&&m.push(l(m)+"rotate("+v+s)}function f(g,v,m,x){g!==v?x.push({i:m.push(l(m)+"skewX(",null,s)-2,x:Kt(g,v)}):v&&m.push(l(m)+"skewX("+v+s)}function h(g,v,m,x,E,k){if(g!==m||v!==x){var b=E.push(l(E)+"scale(",null,",",null,")");k.push({i:b-4,x:Kt(g,m)},{i:b-2,x:Kt(v,x)})}else(m!==1||x!==1)&&E.push(l(E)+"scale("+m+","+x+")")}return function(g,v){var m=[],x=[];return g=e(g),v=e(v),u(g.translateX,g.translateY,v.translateX,v.translateY,m,x),c(g.rotate,v.rotate,m,x),f(g.skewX,v.skewX,m,x),h(g.scaleX,g.scaleY,v.scaleX,v.scaleY,m,x),g=v=null,function(E){for(var k=-1,b=x.length,C;++k<b;)m[(C=x[k]).i]=C.x(E);return m.join("")}}}var IS=Wm(bS,"px, ","px)","deg)"),MS=Wm(jS,", ",")",")"),PS=1e-12;function tp(e){return((e=Math.exp(e))+1/e)/2}function RS(e){return((e=Math.exp(e))-1/e)/2}function LS(e){return((e=Math.exp(2*e))-1)/(e+1)}const vl=(function e(r,o,s){function l(u,c){var f=u[0],h=u[1],g=u[2],v=c[0],m=c[1],x=c[2],E=v-f,k=m-h,b=E*E+k*k,C,N;if(b<PS)N=Math.log(x/g)/r,C=function(P){return[f+P*E,h+P*k,g*Math.exp(r*P*N)]};else{var I=Math.sqrt(b),S=(x*x-g*g+s*b)/(2*g*o*I),j=(x*x-g*g-s*b)/(2*x*o*I),O=Math.log(Math.sqrt(S*S+1)-S),z=Math.log(Math.sqrt(j*j+1)-j);N=(z-O)/r,C=function(P){var D=P*N,H=tp(O),Z=g/(o*I)*(H*LS(r*D+O)-RS(O));return[f+Z*E,h+Z*k,g*H/tp(r*D+O)]}}return C.duration=N*1e3*r/Math.SQRT2,C}return l.rho=function(u){var c=Math.max(.001,+u),f=c*c,h=f*f;return e(c,f,h)},l})(Math.SQRT2,2,4);var so=0,di=0,ui=0,Um=1e3,jl,fi,Il=0,vr=0,Bl=0,wi=typeof performance=="object"&&performance.now?performance:Date,Ym=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Bc(){return vr||(Ym(TS),vr=wi.now()+Bl)}function TS(){vr=0}function Ml(){this._call=this._time=this._next=null}Ml.prototype=Xm.prototype={constructor:Ml,restart:function(e,r,o){if(typeof e!="function")throw new TypeError("callback is not a function");o=(o==null?Bc():+o)+(r==null?0:+r),!this._next&&fi!==this&&(fi?fi._next=this:jl=this,fi=this),this._call=e,this._time=o,wc()},stop:function(){this._call&&(this._call=null,this._time=1/0,wc())}};function Xm(e,r,o){var s=new Ml;return s.restart(e,r,o),s}function zS(){Bc(),++so;for(var e=jl,r;e;)(r=vr-e._time)>=0&&e._call.call(void 0,r),e=e._next;--so}function np(){vr=(Il=wi.now())+Bl,so=di=0;try{zS()}finally{so=0,$S(),vr=0}}function AS(){var e=wi.now(),r=e-Il;r>Um&&(Bl-=r,Il=e)}function $S(){for(var e,r=jl,o,s=1/0;r;)r._call?(s>r._time&&(s=r._time),e=r,r=r._next):(o=r._next,r._next=null,r=e?e._next=o:jl=o);fi=e,wc(s)}function wc(e){if(!so){di&&(di=clearTimeout(di));var r=e-vr;r>24?(e<1/0&&(di=setTimeout(np,e-wi.now()-Bl)),ui&&(ui=clearInterval(ui))):(ui||(Il=wi.now(),ui=setInterval(AS,Um)),so=1,Ym(np))}}function rp(e,r,o){var s=new Ml;return r=r==null?0:+r,s.restart(l=>{s.stop(),e(l+r)},r,o),s}var DS=Fl("start","end","cancel","interrupt"),OS=[],Qm=0,op=1,Sc=2,xl=3,ip=4,Ec=5,wl=6;function Vl(e,r,o,s,l,u){var c=e.__transition;if(!c)e.__transition={};else if(o in c)return;FS(e,o,{name:r,index:s,group:l,on:DS,tween:OS,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:Qm})}function Vc(e,r){var o=Vt(e,r);if(o.state>Qm)throw new Error("too late; already scheduled");return o}function en(e,r){var o=Vt(e,r);if(o.state>xl)throw new Error("too late; already running");return o}function Vt(e,r){var o=e.__transition;if(!o||!(o=o[r]))throw new Error("transition not found");return o}function FS(e,r,o){var s=e.__transition,l;s[r]=o,o.timer=Xm(u,0,o.time);function u(g){o.state=op,o.timer.restart(c,o.delay,o.time),o.delay<=g&&c(g-o.delay)}function c(g){var v,m,x,E;if(o.state!==op)return h();for(v in s)if(E=s[v],E.name===o.name){if(E.state===xl)return rp(c);E.state===ip?(E.state=wl,E.timer.stop(),E.on.call("interrupt",e,e.__data__,E.index,E.group),delete s[v]):+v<r&&(E.state=wl,E.timer.stop(),E.on.call("cancel",e,e.__data__,E.index,E.group),delete s[v])}if(rp(function(){o.state===xl&&(o.state=ip,o.timer.restart(f,o.delay,o.time),f(g))}),o.state=Sc,o.on.call("start",e,e.__data__,o.index,o.group),o.state===Sc){for(o.state=xl,l=new Array(x=o.tween.length),v=0,m=-1;v<x;++v)(E=o.tween[v].value.call(e,e.__data__,o.index,o.group))&&(l[++m]=E);l.length=m+1}}function f(g){for(var v=g<o.duration?o.ease.call(null,g/o.duration):(o.timer.restart(h),o.state=Ec,1),m=-1,x=l.length;++m<x;)l[m].call(e,v);o.state===Ec&&(o.on.call("end",e,e.__data__,o.index,o.group),h())}function h(){o.state=wl,o.timer.stop(),delete s[r];for(var g in s)return;delete e.__transition}}function Sl(e,r){var o=e.__transition,s,l,u=!0,c;if(o){r=r==null?null:r+"";for(c in o){if((s=o[c]).name!==r){u=!1;continue}l=s.state>Sc&&s.state<Ec,s.state=wl,s.timer.stop(),s.on.call(l?"interrupt":"cancel",e,e.__data__,s.index,s.group),delete o[c]}u&&delete e.__transition}}function HS(e){return this.each(function(){Sl(this,e)})}function BS(e,r){var o,s;return function(){var l=en(this,e),u=l.tween;if(u!==o){s=o=u;for(var c=0,f=s.length;c<f;++c)if(s[c].name===r){s=s.slice(),s.splice(c,1);break}}l.tween=s}}function VS(e,r,o){var s,l;if(typeof o!="function")throw new Error;return function(){var u=en(this,e),c=u.tween;if(c!==s){l=(s=c).slice();for(var f={name:r,value:o},h=0,g=l.length;h<g;++h)if(l[h].name===r){l[h]=f;break}h===g&&l.push(f)}u.tween=l}}function WS(e,r){var o=this._id;if(e+="",arguments.length<2){for(var s=Vt(this.node(),o).tween,l=0,u=s.length,c;l<u;++l)if((c=s[l]).name===e)return c.value;return null}return this.each((r==null?BS:VS)(o,e,r))}function Wc(e,r,o){var s=e._id;return e.each(function(){var l=en(this,s);(l.value||(l.value={}))[r]=o.apply(this,arguments)}),function(l){return Vt(l,s).value[r]}}function Gm(e,r){var o;return(typeof r=="number"?Kt:r instanceof yr?bl:(o=yr(r))?(r=o,bl):Bm)(e,r)}function US(e){return function(){this.removeAttribute(e)}}function YS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function XS(e,r,o){var s,l=o+"",u;return function(){var c=this.getAttribute(e);return c===l?null:c===s?u:u=r(s=c,o)}}function QS(e,r,o){var s,l=o+"",u;return function(){var c=this.getAttributeNS(e.space,e.local);return c===l?null:c===s?u:u=r(s=c,o)}}function GS(e,r,o){var s,l,u;return function(){var c,f=o(this),h;return f==null?void this.removeAttribute(e):(c=this.getAttribute(e),h=f+"",c===h?null:c===s&&h===l?u:(l=h,u=r(s=c,f)))}}function KS(e,r,o){var s,l,u;return function(){var c,f=o(this),h;return f==null?void this.removeAttributeNS(e.space,e.local):(c=this.getAttributeNS(e.space,e.local),h=f+"",c===h?null:c===s&&h===l?u:(l=h,u=r(s=c,f)))}}function qS(e,r){var o=Hl(e),s=o==="transform"?MS:Gm;return this.attrTween(e,typeof r=="function"?(o.local?KS:GS)(o,s,Wc(this,"attr."+e,r)):r==null?(o.local?YS:US)(o):(o.local?QS:XS)(o,s,r))}function ZS(e,r){return function(o){this.setAttribute(e,r.call(this,o))}}function JS(e,r){return function(o){this.setAttributeNS(e.space,e.local,r.call(this,o))}}function e2(e,r){var o,s;function l(){var u=r.apply(this,arguments);return u!==s&&(o=(s=u)&&JS(e,u)),o}return l._value=r,l}function t2(e,r){var o,s;function l(){var u=r.apply(this,arguments);return u!==s&&(o=(s=u)&&ZS(e,u)),o}return l._value=r,l}function n2(e,r){var o="attr."+e;if(arguments.length<2)return(o=this.tween(o))&&o._value;if(r==null)return this.tween(o,null);if(typeof r!="function")throw new Error;var s=Hl(e);return this.tween(o,(s.local?e2:t2)(s,r))}function r2(e,r){return function(){Vc(this,e).delay=+r.apply(this,arguments)}}function o2(e,r){return r=+r,function(){Vc(this,e).delay=r}}function i2(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?r2:o2)(r,e)):Vt(this.node(),r).delay}function s2(e,r){return function(){en(this,e).duration=+r.apply(this,arguments)}}function l2(e,r){return r=+r,function(){en(this,e).duration=r}}function a2(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?s2:l2)(r,e)):Vt(this.node(),r).duration}function u2(e,r){if(typeof r!="function")throw new Error;return function(){en(this,e).ease=r}}function c2(e){var r=this._id;return arguments.length?this.each(u2(r,e)):Vt(this.node(),r).ease}function d2(e,r){return function(){var o=r.apply(this,arguments);if(typeof o!="function")throw new Error;en(this,e).ease=o}}function f2(e){if(typeof e!="function")throw new Error;return this.each(d2(this._id,e))}function h2(e){typeof e!="function"&&(e=_m(e));for(var r=this._groups,o=r.length,s=new Array(o),l=0;l<o;++l)for(var u=r[l],c=u.length,f=s[l]=[],h,g=0;g<c;++g)(h=u[g])&&e.call(h,h.__data__,g,u)&&f.push(h);return new vn(s,this._parents,this._name,this._id)}function p2(e){if(e._id!==this._id)throw new Error;for(var r=this._groups,o=e._groups,s=r.length,l=o.length,u=Math.min(s,l),c=new Array(s),f=0;f<u;++f)for(var h=r[f],g=o[f],v=h.length,m=c[f]=new Array(v),x,E=0;E<v;++E)(x=h[E]||g[E])&&(m[E]=x);for(;f<s;++f)c[f]=r[f];return new vn(c,this._parents,this._name,this._id)}function m2(e){return(e+"").trim().split(/^|\s+/).every(function(r){var o=r.indexOf(".");return o>=0&&(r=r.slice(0,o)),!r||r==="start"})}function g2(e,r,o){var s,l,u=m2(r)?Vc:en;return function(){var c=u(this,e),f=c.on;f!==s&&(l=(s=f).copy()).on(r,o),c.on=l}}function y2(e,r){var o=this._id;return arguments.length<2?Vt(this.node(),o).on.on(e):this.each(g2(o,e,r))}function v2(e){return function(){var r=this.parentNode;for(var o in this.__transition)if(+o!==e)return;r&&r.removeChild(this)}}function x2(){return this.on("end.remove",v2(this._id))}function w2(e){var r=this._name,o=this._id;typeof e!="function"&&(e=Dc(e));for(var s=this._groups,l=s.length,u=new Array(l),c=0;c<l;++c)for(var f=s[c],h=f.length,g=u[c]=new Array(h),v,m,x=0;x<h;++x)(v=f[x])&&(m=e.call(v,v.__data__,x,f))&&("__data__"in v&&(m.__data__=v.__data__),g[x]=m,Vl(g[x],r,o,x,g,Vt(v,o)));return new vn(u,this._parents,r,o)}function S2(e){var r=this._name,o=this._id;typeof e!="function"&&(e=Cm(e));for(var s=this._groups,l=s.length,u=[],c=[],f=0;f<l;++f)for(var h=s[f],g=h.length,v,m=0;m<g;++m)if(v=h[m]){for(var x=e.call(v,v.__data__,m,h),E,k=Vt(v,o),b=0,C=x.length;b<C;++b)(E=x[b])&&Vl(E,r,o,b,x,k);u.push(x),c.push(v)}return new vn(u,c,r,o)}var E2=Mi.prototype.constructor;function k2(){return new E2(this._groups,this._parents)}function N2(e,r){var o,s,l;return function(){var u=io(this,e),c=(this.style.removeProperty(e),io(this,e));return u===c?null:u===o&&c===s?l:l=r(o=u,s=c)}}function Km(e){return function(){this.style.removeProperty(e)}}function C2(e,r,o){var s,l=o+"",u;return function(){var c=io(this,e);return c===l?null:c===s?u:u=r(s=c,o)}}function _2(e,r,o){var s,l,u;return function(){var c=io(this,e),f=o(this),h=f+"";return f==null&&(h=f=(this.style.removeProperty(e),io(this,e))),c===h?null:c===s&&h===l?u:(l=h,u=r(s=c,f))}}function b2(e,r){var o,s,l,u="style."+r,c="end."+u,f;return function(){var h=en(this,e),g=h.on,v=h.value[u]==null?f||(f=Km(r)):void 0;(g!==o||l!==v)&&(s=(o=g).copy()).on(c,l=v),h.on=s}}function j2(e,r,o){var s=(e+="")=="transform"?IS:Gm;return r==null?this.styleTween(e,N2(e,s)).on("end.style."+e,Km(e)):typeof r=="function"?this.styleTween(e,_2(e,s,Wc(this,"style."+e,r))).each(b2(this._id,e)):this.styleTween(e,C2(e,s,r),o).on("end.style."+e,null)}function I2(e,r,o){return function(s){this.style.setProperty(e,r.call(this,s),o)}}function M2(e,r,o){var s,l;function u(){var c=r.apply(this,arguments);return c!==l&&(s=(l=c)&&I2(e,c,o)),s}return u._value=r,u}function P2(e,r,o){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(r==null)return this.tween(s,null);if(typeof r!="function")throw new Error;return this.tween(s,M2(e,r,o??""))}function R2(e){return function(){this.textContent=e}}function L2(e){return function(){var r=e(this);this.textContent=r??""}}function T2(e){return this.tween("text",typeof e=="function"?L2(Wc(this,"text",e)):R2(e==null?"":e+""))}function z2(e){return function(r){this.textContent=e.call(this,r)}}function A2(e){var r,o;function s(){var l=e.apply(this,arguments);return l!==o&&(r=(o=l)&&z2(l)),r}return s._value=e,s}function $2(e){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,A2(e))}function D2(){for(var e=this._name,r=this._id,o=qm(),s=this._groups,l=s.length,u=0;u<l;++u)for(var c=s[u],f=c.length,h,g=0;g<f;++g)if(h=c[g]){var v=Vt(h,r);Vl(h,e,o,g,c,{time:v.time+v.delay+v.duration,delay:0,duration:v.duration,ease:v.ease})}return new vn(s,this._parents,e,o)}function O2(){var e,r,o=this,s=o._id,l=o.size();return new Promise(function(u,c){var f={value:c},h={value:function(){--l===0&&u()}};o.each(function(){var g=en(this,s),v=g.on;v!==e&&(r=(e=v).copy(),r._.cancel.push(f),r._.interrupt.push(f),r._.end.push(h)),g.on=r}),l===0&&u()})}var F2=0;function vn(e,r,o,s){this._groups=e,this._parents=r,this._name=o,this._id=s}function qm(){return++F2}var pn=Mi.prototype;vn.prototype={constructor:vn,select:w2,selectAll:S2,selectChild:pn.selectChild,selectChildren:pn.selectChildren,filter:h2,merge:p2,selection:k2,transition:D2,call:pn.call,nodes:pn.nodes,node:pn.node,size:pn.size,empty:pn.empty,each:pn.each,on:y2,attr:qS,attrTween:n2,style:j2,styleTween:P2,text:T2,textTween:$2,remove:x2,tween:WS,delay:i2,duration:a2,ease:c2,easeVarying:f2,end:O2,[Symbol.iterator]:pn[Symbol.iterator]};function H2(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var B2={time:null,delay:0,duration:250,ease:H2};function V2(e,r){for(var o;!(o=e.__transition)||!(o=o[r]);)if(!(e=e.parentNode))throw new Error(`transition ${r} not found`);return o}function W2(e){var r,o;e instanceof vn?(r=e._id,e=e._name):(r=qm(),(o=B2).time=Bc(),e=e==null?null:e+"");for(var s=this._groups,l=s.length,u=0;u<l;++u)for(var c=s[u],f=c.length,h,g=0;g<f;++g)(h=c[g])&&Vl(h,e,r,g,c,o||V2(h,r));return new vn(s,this._parents,e,r)}Mi.prototype.interrupt=HS;Mi.prototype.transition=W2;const ul=e=>()=>e;function U2(e,{sourceEvent:r,target:o,transform:s,dispatch:l}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:l}})}function mn(e,r,o){this.k=e,this.x=r,this.y=o}mn.prototype={constructor:mn,scale:function(e){return e===1?this:new mn(this.k*e,this.x,this.y)},translate:function(e,r){return e===0&r===0?this:new mn(this.k,this.x+this.k*e,this.y+this.k*r)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Wl=new mn(1,0,0);Zm.prototype=mn.prototype;function Zm(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Wl;return e.__zoom}function tc(e){e.stopImmediatePropagation()}function ci(e){e.preventDefault(),e.stopImmediatePropagation()}function Y2(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function X2(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function sp(){return this.__zoom||Wl}function Q2(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function G2(){return navigator.maxTouchPoints||"ontouchstart"in this}function K2(e,r,o){var s=e.invertX(r[0][0])-o[0][0],l=e.invertX(r[1][0])-o[1][0],u=e.invertY(r[0][1])-o[0][1],c=e.invertY(r[1][1])-o[1][1];return e.translate(l>s?(s+l)/2:Math.min(0,s)||Math.max(0,l),c>u?(u+c)/2:Math.min(0,u)||Math.max(0,c))}function Jm(){var e=Y2,r=X2,o=K2,s=Q2,l=G2,u=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],f=250,h=vl,g=Fl("start","zoom","end"),v,m,x,E=500,k=150,b=0,C=10;function N(R){R.property("__zoom",sp).on("wheel.zoom",D,{passive:!1}).on("mousedown.zoom",H).on("dblclick.zoom",Z).filter(l).on("touchstart.zoom",W).on("touchmove.zoom",Y).on("touchend.zoom touchcancel.zoom",J).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}N.transform=function(R,G,V,Q){var T=R.selection?R.selection():R;T.property("__zoom",sp),R!==T?O(R,G,V,Q):T.interrupt().each(function(){z(this,arguments).event(Q).start().zoom(null,typeof G=="function"?G.apply(this,arguments):G).end()})},N.scaleBy=function(R,G,V,Q){N.scaleTo(R,function(){var T=this.__zoom.k,A=typeof G=="function"?G.apply(this,arguments):G;return T*A},V,Q)},N.scaleTo=function(R,G,V,Q){N.transform(R,function(){var T=r.apply(this,arguments),A=this.__zoom,U=V==null?j(T):typeof V=="function"?V.apply(this,arguments):V,M=A.invert(U),F=typeof G=="function"?G.apply(this,arguments):G;return o(S(I(A,F),U,M),T,c)},V,Q)},N.translateBy=function(R,G,V,Q){N.transform(R,function(){return o(this.__zoom.translate(typeof G=="function"?G.apply(this,arguments):G,typeof V=="function"?V.apply(this,arguments):V),r.apply(this,arguments),c)},null,Q)},N.translateTo=function(R,G,V,Q,T){N.transform(R,function(){var A=r.apply(this,arguments),U=this.__zoom,M=Q==null?j(A):typeof Q=="function"?Q.apply(this,arguments):Q;return o(Wl.translate(M[0],M[1]).scale(U.k).translate(typeof G=="function"?-G.apply(this,arguments):-G,typeof V=="function"?-V.apply(this,arguments):-V),A,c)},Q,T)};function I(R,G){return G=Math.max(u[0],Math.min(u[1],G)),G===R.k?R:new mn(G,R.x,R.y)}function S(R,G,V){var Q=G[0]-V[0]*R.k,T=G[1]-V[1]*R.k;return Q===R.x&&T===R.y?R:new mn(R.k,Q,T)}function j(R){return[(+R[0][0]+ +R[1][0])/2,(+R[0][1]+ +R[1][1])/2]}function O(R,G,V,Q){R.on("start.zoom",function(){z(this,arguments).event(Q).start()}).on("interrupt.zoom end.zoom",function(){z(this,arguments).event(Q).end()}).tween("zoom",function(){var T=this,A=arguments,U=z(T,A).event(Q),M=r.apply(T,A),F=V==null?j(M):typeof V=="function"?V.apply(T,A):V,ne=Math.max(M[1][0]-M[0][0],M[1][1]-M[0][1]),te=T.__zoom,le=typeof G=="function"?G.apply(T,A):G,ae=h(te.invert(F).concat(ne/te.k),le.invert(F).concat(ne/le.k));return function(ue){if(ue===1)ue=le;else{var ee=ae(ue),ce=ne/ee[2];ue=new mn(ce,F[0]-ee[0]*ce,F[1]-ee[1]*ce)}U.zoom(null,ue)}})}function z(R,G,V){return!V&&R.__zooming||new P(R,G)}function P(R,G){this.that=R,this.args=G,this.active=0,this.sourceEvent=null,this.extent=r.apply(R,G),this.taps=0}P.prototype={event:function(R){return R&&(this.sourceEvent=R),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(R,G){return this.mouse&&R!=="mouse"&&(this.mouse[1]=G.invert(this.mouse[0])),this.touch0&&R!=="touch"&&(this.touch0[1]=G.invert(this.touch0[0])),this.touch1&&R!=="touch"&&(this.touch1[1]=G.invert(this.touch1[0])),this.that.__zoom=G,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(R){var G=wt(this.that).datum();g.call(R,this.that,new U2(R,{sourceEvent:this.sourceEvent,target:N,transform:this.that.__zoom,dispatch:g}),G)}};function D(R,...G){if(!e.apply(this,arguments))return;var V=z(this,G).event(R),Q=this.__zoom,T=Math.max(u[0],Math.min(u[1],Q.k*Math.pow(2,s.apply(this,arguments)))),A=Dt(R);if(V.wheel)(V.mouse[0][0]!==A[0]||V.mouse[0][1]!==A[1])&&(V.mouse[1]=Q.invert(V.mouse[0]=A)),clearTimeout(V.wheel);else{if(Q.k===T)return;V.mouse=[A,Q.invert(A)],Sl(this),V.start()}ci(R),V.wheel=setTimeout(U,k),V.zoom("mouse",o(S(I(Q,T),V.mouse[0],V.mouse[1]),V.extent,c));function U(){V.wheel=null,V.end()}}function H(R,...G){if(x||!e.apply(this,arguments))return;var V=R.currentTarget,Q=z(this,G,!0).event(R),T=wt(R.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",ne,!0),A=Dt(R,V),U=R.clientX,M=R.clientY;Am(R.view),tc(R),Q.mouse=[A,this.__zoom.invert(A)],Sl(this),Q.start();function F(te){if(ci(te),!Q.moved){var le=te.clientX-U,ae=te.clientY-M;Q.moved=le*le+ae*ae>b}Q.event(te).zoom("mouse",o(S(Q.that.__zoom,Q.mouse[0]=Dt(te,V),Q.mouse[1]),Q.extent,c))}function ne(te){T.on("mousemove.zoom mouseup.zoom",null),$m(te.view,Q.moved),ci(te),Q.event(te).end()}}function Z(R,...G){if(e.apply(this,arguments)){var V=this.__zoom,Q=Dt(R.changedTouches?R.changedTouches[0]:R,this),T=V.invert(Q),A=V.k*(R.shiftKey?.5:2),U=o(S(I(V,A),Q,T),r.apply(this,G),c);ci(R),f>0?wt(this).transition().duration(f).call(O,U,Q,R):wt(this).call(N.transform,U,Q,R)}}function W(R,...G){if(e.apply(this,arguments)){var V=R.touches,Q=V.length,T=z(this,G,R.changedTouches.length===Q).event(R),A,U,M,F;for(tc(R),U=0;U<Q;++U)M=V[U],F=Dt(M,this),F=[F,this.__zoom.invert(F),M.identifier],T.touch0?!T.touch1&&T.touch0[2]!==F[2]&&(T.touch1=F,T.taps=0):(T.touch0=F,A=!0,T.taps=1+!!v);v&&(v=clearTimeout(v)),A&&(T.taps<2&&(m=F[0],v=setTimeout(function(){v=null},E)),Sl(this),T.start())}}function Y(R,...G){if(this.__zooming){var V=z(this,G).event(R),Q=R.changedTouches,T=Q.length,A,U,M,F;for(ci(R),A=0;A<T;++A)U=Q[A],M=Dt(U,this),V.touch0&&V.touch0[2]===U.identifier?V.touch0[0]=M:V.touch1&&V.touch1[2]===U.identifier&&(V.touch1[0]=M);if(U=V.that.__zoom,V.touch1){var ne=V.touch0[0],te=V.touch0[1],le=V.touch1[0],ae=V.touch1[1],ue=(ue=le[0]-ne[0])*ue+(ue=le[1]-ne[1])*ue,ee=(ee=ae[0]-te[0])*ee+(ee=ae[1]-te[1])*ee;U=I(U,Math.sqrt(ue/ee)),M=[(ne[0]+le[0])/2,(ne[1]+le[1])/2],F=[(te[0]+ae[0])/2,(te[1]+ae[1])/2]}else if(V.touch0)M=V.touch0[0],F=V.touch0[1];else return;V.zoom("touch",o(S(U,M,F),V.extent,c))}}function J(R,...G){if(this.__zooming){var V=z(this,G).event(R),Q=R.changedTouches,T=Q.length,A,U;for(tc(R),x&&clearTimeout(x),x=setTimeout(function(){x=null},E),A=0;A<T;++A)U=Q[A],V.touch0&&V.touch0[2]===U.identifier?delete V.touch0:V.touch1&&V.touch1[2]===U.identifier&&delete V.touch1;if(V.touch1&&!V.touch0&&(V.touch0=V.touch1,delete V.touch1),V.touch0)V.touch0[1]=this.__zoom.invert(V.touch0[0]);else if(V.end(),V.taps===2&&(U=Dt(U,this),Math.hypot(m[0]-U[0],m[1]-U[1])<C)){var M=wt(this).on("dblclick.zoom");M&&M.apply(this,arguments)}}}return N.wheelDelta=function(R){return arguments.length?(s=typeof R=="function"?R:ul(+R),N):s},N.filter=function(R){return arguments.length?(e=typeof R=="function"?R:ul(!!R),N):e},N.touchable=function(R){return arguments.length?(l=typeof R=="function"?R:ul(!!R),N):l},N.extent=function(R){return arguments.length?(r=typeof R=="function"?R:ul([[+R[0][0],+R[0][1]],[+R[1][0],+R[1][1]]]),N):r},N.scaleExtent=function(R){return arguments.length?(u[0]=+R[0],u[1]=+R[1],N):[u[0],u[1]]},N.translateExtent=function(R){return arguments.length?(c[0][0]=+R[0][0],c[1][0]=+R[1][0],c[0][1]=+R[0][1],c[1][1]=+R[1][1],N):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},N.constrain=function(R){return arguments.length?(o=R,N):o},N.duration=function(R){return arguments.length?(f=+R,N):f},N.interpolate=function(R){return arguments.length?(h=R,N):h},N.on=function(){var R=g.on.apply(g,arguments);return R===g?N:R},N.clickDistance=function(R){return arguments.length?(b=(R=+R)*R,N):Math.sqrt(b)},N.tapDistance=function(R){return arguments.length?(C=+R,N):C},N}const Zt={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:r,sourceHandle:o,targetHandle:s})=>`Couldn't create edge for ${e} handle id: "${e==="source"?o:s}", edge id: ${r}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Si=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],e0=["Enter"," ","Escape"],t0={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:r,y:o})=>`Moved selected node ${e}. New position, x: ${r}, y: ${o}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var lo;(function(e){e.Strict="strict",e.Loose="loose"})(lo||(lo={}));var gr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(gr||(gr={}));var Ei;(function(e){e.Partial="partial",e.Full="full"})(Ei||(Ei={}));const n0={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Wn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Wn||(Wn={}));var Pl;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Pl||(Pl={}));var ge;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ge||(ge={}));const lp={[ge.Left]:ge.Right,[ge.Right]:ge.Left,[ge.Top]:ge.Bottom,[ge.Bottom]:ge.Top};function r0(e){return e===null?null:e?"valid":"invalid"}const o0=e=>"id"in e&&"source"in e&&"target"in e,q2=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Uc=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Ri=(e,r=[0,0])=>{const{width:o,height:s}=xn(e),l=e.origin??r,u=o*l[0],c=s*l[1];return{x:e.position.x-u,y:e.position.y-c}},Z2=(e,r={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const o=e.reduce((s,l)=>{const u=typeof l=="string";let c=!r.nodeLookup&&!u?l:void 0;r.nodeLookup&&(c=u?r.nodeLookup.get(l):Uc(l)?l:r.nodeLookup.get(l.id));const f=c?Rl(c,r.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Ul(s,f)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Yl(o)},Li=(e,r={})=>{let o={x:1/0,y:1/0,x2:-1/0,y2:-1/0},s=!1;return e.forEach(l=>{(r.filter===void 0||r.filter(l))&&(o=Ul(o,Rl(l)),s=!0)}),s?Yl(o):{x:0,y:0,width:0,height:0}},Yc=(e,r,[o,s,l]=[0,0,1],u=!1,c=!1)=>{const f={...zi(r,[o,s,l]),width:r.width/l,height:r.height/l},h=[];for(const g of e.values()){const{measured:v,selectable:m=!0,hidden:x=!1}=g;if(c&&!m||x)continue;const E=v.width??g.width??g.initialWidth??null,k=v.height??g.height??g.initialHeight??null,b=ki(f,uo(g)),C=(E??0)*(k??0),N=u&&b>0;(!g.internals.handleBounds||N||b>=C||g.dragging)&&h.push(g)}return h},J2=(e,r)=>{const o=new Set;return e.forEach(s=>{o.add(s.id)}),r.filter(s=>o.has(s.source)||o.has(s.target))};function eE(e,r){const o=new Map,s=r!=null&&r.nodes?new Set(r.nodes.map(l=>l.id)):null;return e.forEach(l=>{l.measured.width&&l.measured.height&&((r==null?void 0:r.includeHiddenNodes)||!l.hidden)&&(!s||s.has(l.id))&&o.set(l.id,l)}),o}async function tE({nodes:e,width:r,height:o,panZoom:s,minZoom:l,maxZoom:u},c){if(e.size===0)return Promise.resolve(!0);const f=eE(e,c),h=Li(f),g=Xc(h,r,o,(c==null?void 0:c.minZoom)??l,(c==null?void 0:c.maxZoom)??u,(c==null?void 0:c.padding)??.1);return await s.setViewport(g,{duration:c==null?void 0:c.duration,ease:c==null?void 0:c.ease,interpolate:c==null?void 0:c.interpolate}),Promise.resolve(!0)}function i0({nodeId:e,nextPosition:r,nodeLookup:o,nodeOrigin:s=[0,0],nodeExtent:l,onError:u}){const c=o.get(e),f=c.parentId?o.get(c.parentId):void 0,{x:h,y:g}=f?f.internals.positionAbsolute:{x:0,y:0},v=c.origin??s;let m=c.extent||l;if(c.extent==="parent"&&!c.expandParent)if(!f)u==null||u("005",Zt.error005());else{const E=f.measured.width,k=f.measured.height;E&&k&&(m=[[h,g],[h+E,g+k]])}else f&&co(c.extent)&&(m=[[c.extent[0][0]+h,c.extent[0][1]+g],[c.extent[1][0]+h,c.extent[1][1]+g]]);const x=co(m)?xr(r,m,c.measured):r;return(c.measured.width===void 0||c.measured.height===void 0)&&(u==null||u("015",Zt.error015())),{position:{x:x.x-h+(c.measured.width??0)*v[0],y:x.y-g+(c.measured.height??0)*v[1]},positionAbsolute:x}}async function nE({nodesToRemove:e=[],edgesToRemove:r=[],nodes:o,edges:s,onBeforeDelete:l}){const u=new Set(e.map(x=>x.id)),c=[];for(const x of o){if(x.deletable===!1)continue;const E=u.has(x.id),k=!E&&x.parentId&&c.find(b=>b.id===x.parentId);(E||k)&&c.push(x)}const f=new Set(r.map(x=>x.id)),h=s.filter(x=>x.deletable!==!1),v=J2(c,h);for(const x of h)f.has(x.id)&&!v.find(k=>k.id===x.id)&&v.push(x);if(!l)return{edges:v,nodes:c};const m=await l({nodes:c,edges:v});return typeof m=="boolean"?m?{edges:v,nodes:c}:{edges:[],nodes:[]}:m}const ao=(e,r=0,o=1)=>Math.min(Math.max(e,r),o),xr=(e={x:0,y:0},r,o)=>({x:ao(e.x,r[0][0],r[1][0]-((o==null?void 0:o.width)??0)),y:ao(e.y,r[0][1],r[1][1]-((o==null?void 0:o.height)??0))});function s0(e,r,o){const{width:s,height:l}=xn(o),{x:u,y:c}=o.internals.positionAbsolute;return xr(e,[[u,c],[u+s,c+l]],r)}const ap=(e,r,o)=>e<r?ao(Math.abs(e-r),1,r)/r:e>o?-ao(Math.abs(e-o),1,r)/r:0,l0=(e,r,o=15,s=40)=>{const l=ap(e.x,s,r.width-s)*o,u=ap(e.y,s,r.height-s)*o;return[l,u]},Ul=(e,r)=>({x:Math.min(e.x,r.x),y:Math.min(e.y,r.y),x2:Math.max(e.x2,r.x2),y2:Math.max(e.y2,r.y2)}),kc=({x:e,y:r,width:o,height:s})=>({x:e,y:r,x2:e+o,y2:r+s}),Yl=({x:e,y:r,x2:o,y2:s})=>({x:e,y:r,width:o-e,height:s-r}),uo=(e,r=[0,0])=>{var l,u;const{x:o,y:s}=Uc(e)?e.internals.positionAbsolute:Ri(e,r);return{x:o,y:s,width:((l=e.measured)==null?void 0:l.width)??e.width??e.initialWidth??0,height:((u=e.measured)==null?void 0:u.height)??e.height??e.initialHeight??0}},Rl=(e,r=[0,0])=>{var l,u;const{x:o,y:s}=Uc(e)?e.internals.positionAbsolute:Ri(e,r);return{x:o,y:s,x2:o+(((l=e.measured)==null?void 0:l.width)??e.width??e.initialWidth??0),y2:s+(((u=e.measured)==null?void 0:u.height)??e.height??e.initialHeight??0)}},a0=(e,r)=>Yl(Ul(kc(e),kc(r))),ki=(e,r)=>{const o=Math.max(0,Math.min(e.x+e.width,r.x+r.width)-Math.max(e.x,r.x)),s=Math.max(0,Math.min(e.y+e.height,r.y+r.height)-Math.max(e.y,r.y));return Math.ceil(o*s)},up=e=>Ft(e.width)&&Ft(e.height)&&Ft(e.x)&&Ft(e.y),Ft=e=>!isNaN(e)&&isFinite(e),rE=(e,r)=>{},Ti=(e,r=[1,1])=>({x:r[0]*Math.round(e.x/r[0]),y:r[1]*Math.round(e.y/r[1])}),zi=({x:e,y:r},[o,s,l],u=!1,c=[1,1])=>{const f={x:(e-o)/l,y:(r-s)/l};return u?Ti(f,c):f},Ll=({x:e,y:r},[o,s,l])=>({x:e*l+o,y:r*l+s});function Zr(e,r){if(typeof e=="number")return Math.floor((r-r/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const o=parseFloat(e);if(!Number.isNaN(o))return Math.floor(o)}if(typeof e=="string"&&e.endsWith("%")){const o=parseFloat(e);if(!Number.isNaN(o))return Math.floor(r*o*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function oE(e,r,o){if(typeof e=="string"||typeof e=="number"){const s=Zr(e,o),l=Zr(e,r);return{top:s,right:l,bottom:s,left:l,x:l*2,y:s*2}}if(typeof e=="object"){const s=Zr(e.top??e.y??0,o),l=Zr(e.bottom??e.y??0,o),u=Zr(e.left??e.x??0,r),c=Zr(e.right??e.x??0,r);return{top:s,right:c,bottom:l,left:u,x:u+c,y:s+l}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function iE(e,r,o,s,l,u){const{x:c,y:f}=Ll(e,[r,o,s]),{x:h,y:g}=Ll({x:e.x+e.width,y:e.y+e.height},[r,o,s]),v=l-h,m=u-g;return{left:Math.floor(c),top:Math.floor(f),right:Math.floor(v),bottom:Math.floor(m)}}const Xc=(e,r,o,s,l,u)=>{const c=oE(u,r,o),f=(r-c.x)/e.width,h=(o-c.y)/e.height,g=Math.min(f,h),v=ao(g,s,l),m=e.x+e.width/2,x=e.y+e.height/2,E=r/2-m*v,k=o/2-x*v,b=iE(e,E,k,v,r,o),C={left:Math.min(b.left-c.left,0),top:Math.min(b.top-c.top,0),right:Math.min(b.right-c.right,0),bottom:Math.min(b.bottom-c.bottom,0)};return{x:E-C.left+C.right,y:k-C.top+C.bottom,zoom:v}},Ni=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function co(e){return e!=null&&e!=="parent"}function xn(e){var r,o;return{width:((r=e.measured)==null?void 0:r.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}}function u0(e){var r,o;return(((r=e.measured)==null?void 0:r.width)??e.width??e.initialWidth)!==void 0&&(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight)!==void 0}function c0(e,r={width:0,height:0},o,s,l){const u={...e},c=s.get(o);if(c){const f=c.origin||l;u.x+=c.internals.positionAbsolute.x-(r.width??0)*f[0],u.y+=c.internals.positionAbsolute.y-(r.height??0)*f[1]}return u}function cp(e,r){if(e.size!==r.size)return!1;for(const o of e)if(!r.has(o))return!1;return!0}function sE(){let e,r;return{promise:new Promise((s,l)=>{e=s,r=l}),resolve:e,reject:r}}function lE(e){return{...t0,...e||{}}}function mi(e,{snapGrid:r=[0,0],snapToGrid:o=!1,transform:s,containerBounds:l}){const{x:u,y:c}=Ht(e),f=zi({x:u-((l==null?void 0:l.left)??0),y:c-((l==null?void 0:l.top)??0)},s),{x:h,y:g}=o?Ti(f,r):f;return{xSnapped:h,ySnapped:g,...f}}const Qc=e=>({width:e.offsetWidth,height:e.offsetHeight}),d0=e=>{var r;return((r=e==null?void 0:e.getRootNode)==null?void 0:r.call(e))||(window==null?void 0:window.document)},aE=["INPUT","SELECT","TEXTAREA"];function f0(e){var s,l;const r=((l=(s=e.composedPath)==null?void 0:s.call(e))==null?void 0:l[0])||e.target;return(r==null?void 0:r.nodeType)!==1?!1:aE.includes(r.nodeName)||r.hasAttribute("contenteditable")||!!r.closest(".nokey")}const h0=e=>"clientX"in e,Ht=(e,r)=>{var u,c;const o=h0(e),s=o?e.clientX:(u=e.touches)==null?void 0:u[0].clientX,l=o?e.clientY:(c=e.touches)==null?void 0:c[0].clientY;return{x:s-((r==null?void 0:r.left)??0),y:l-((r==null?void 0:r.top)??0)}},dp=(e,r,o,s,l)=>{const u=r.querySelectorAll(`.${e}`);return!u||!u.length?null:Array.from(u).map(c=>{const f=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),type:e,nodeId:l,position:c.getAttribute("data-handlepos"),x:(f.left-o.left)/s,y:(f.top-o.top)/s,...Qc(c)}})};function p0({sourceX:e,sourceY:r,targetX:o,targetY:s,sourceControlX:l,sourceControlY:u,targetControlX:c,targetControlY:f}){const h=e*.125+l*.375+c*.375+o*.125,g=r*.125+u*.375+f*.375+s*.125,v=Math.abs(h-e),m=Math.abs(g-r);return[h,g,v,m]}function cl(e,r){return e>=0?.5*e:r*25*Math.sqrt(-e)}function fp({pos:e,x1:r,y1:o,x2:s,y2:l,c:u}){switch(e){case ge.Left:return[r-cl(r-s,u),o];case ge.Right:return[r+cl(s-r,u),o];case ge.Top:return[r,o-cl(o-l,u)];case ge.Bottom:return[r,o+cl(l-o,u)]}}function m0({sourceX:e,sourceY:r,sourcePosition:o=ge.Bottom,targetX:s,targetY:l,targetPosition:u=ge.Top,curvature:c=.25}){const[f,h]=fp({pos:o,x1:e,y1:r,x2:s,y2:l,c}),[g,v]=fp({pos:u,x1:s,y1:l,x2:e,y2:r,c}),[m,x,E,k]=p0({sourceX:e,sourceY:r,targetX:s,targetY:l,sourceControlX:f,sourceControlY:h,targetControlX:g,targetControlY:v});return[`M${e},${r} C${f},${h} ${g},${v} ${s},${l}`,m,x,E,k]}function g0({sourceX:e,sourceY:r,targetX:o,targetY:s}){const l=Math.abs(o-e)/2,u=o<e?o+l:o-l,c=Math.abs(s-r)/2,f=s<r?s+c:s-c;return[u,f,l,c]}function uE({sourceNode:e,targetNode:r,selected:o=!1,zIndex:s=0,elevateOnSelect:l=!1,zIndexMode:u="basic"}){if(u==="manual")return s;const c=l&&o?s+1e3:s,f=Math.max(e.parentId||l&&e.selected?e.internals.z:0,r.parentId||l&&r.selected?r.internals.z:0);return c+f}function cE({sourceNode:e,targetNode:r,width:o,height:s,transform:l}){const u=Ul(Rl(e),Rl(r));u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c={x:-l[0]/l[2],y:-l[1]/l[2],width:o/l[2],height:s/l[2]};return ki(c,Yl(u))>0}const dE=({source:e,sourceHandle:r,target:o,targetHandle:s})=>`xy-edge__${e}${r||""}-${o}${s||""}`,fE=(e,r)=>r.some(o=>o.source===e.source&&o.target===e.target&&(o.sourceHandle===e.sourceHandle||!o.sourceHandle&&!e.sourceHandle)&&(o.targetHandle===e.targetHandle||!o.targetHandle&&!e.targetHandle)),y0=(e,r,o={})=>{if(!e.source||!e.target)return r;const s=o.getEdgeId||dE;let l;return o0(e)?l={...e}:l={...e,id:s(e)},fE(l,r)?r:(l.sourceHandle===null&&delete l.sourceHandle,l.targetHandle===null&&delete l.targetHandle,r.concat(l))};function v0({sourceX:e,sourceY:r,targetX:o,targetY:s}){const[l,u,c,f]=g0({sourceX:e,sourceY:r,targetX:o,targetY:s});return[`M ${e},${r}L ${o},${s}`,l,u,c,f]}const hp={[ge.Left]:{x:-1,y:0},[ge.Right]:{x:1,y:0},[ge.Top]:{x:0,y:-1},[ge.Bottom]:{x:0,y:1}},hE=({source:e,sourcePosition:r=ge.Bottom,target:o})=>r===ge.Left||r===ge.Right?e.x<o.x?{x:1,y:0}:{x:-1,y:0}:e.y<o.y?{x:0,y:1}:{x:0,y:-1},pp=(e,r)=>Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2));function pE({source:e,sourcePosition:r=ge.Bottom,target:o,targetPosition:s=ge.Top,center:l,offset:u,stepPosition:c}){const f=hp[r],h=hp[s],g={x:e.x+f.x*u,y:e.y+f.y*u},v={x:o.x+h.x*u,y:o.y+h.y*u},m=hE({source:g,sourcePosition:r,target:v}),x=m.x!==0?"x":"y",E=m[x];let k=[],b,C;const N={x:0,y:0},I={x:0,y:0},[,,S,j]=g0({sourceX:e.x,sourceY:e.y,targetX:o.x,targetY:o.y});if(f[x]*h[x]===-1){x==="x"?(b=l.x??g.x+(v.x-g.x)*c,C=l.y??(g.y+v.y)/2):(b=l.x??(g.x+v.x)/2,C=l.y??g.y+(v.y-g.y)*c);const z=[{x:b,y:g.y},{x:b,y:v.y}],P=[{x:g.x,y:C},{x:v.x,y:C}];f[x]===E?k=x==="x"?z:P:k=x==="x"?P:z}else{const z=[{x:g.x,y:v.y}],P=[{x:v.x,y:g.y}];if(x==="x"?k=f.x===E?P:z:k=f.y===E?z:P,r===s){const Y=Math.abs(e[x]-o[x]);if(Y<=u){const J=Math.min(u-1,u-Y);f[x]===E?N[x]=(g[x]>e[x]?-1:1)*J:I[x]=(v[x]>o[x]?-1:1)*J}}if(r!==s){const Y=x==="x"?"y":"x",J=f[x]===h[Y],R=g[Y]>v[Y],G=g[Y]<v[Y];(f[x]===1&&(!J&&R||J&&G)||f[x]!==1&&(!J&&G||J&&R))&&(k=x==="x"?z:P)}const D={x:g.x+N.x,y:g.y+N.y},H={x:v.x+I.x,y:v.y+I.y},Z=Math.max(Math.abs(D.x-k[0].x),Math.abs(H.x-k[0].x)),W=Math.max(Math.abs(D.y-k[0].y),Math.abs(H.y-k[0].y));Z>=W?(b=(D.x+H.x)/2,C=k[0].y):(b=k[0].x,C=(D.y+H.y)/2)}return[[e,{x:g.x+N.x,y:g.y+N.y},...k,{x:v.x+I.x,y:v.y+I.y},o],b,C,S,j]}function mE(e,r,o,s){const l=Math.min(pp(e,r)/2,pp(r,o)/2,s),{x:u,y:c}=r;if(e.x===u&&u===o.x||e.y===c&&c===o.y)return`L${u} ${c}`;if(e.y===c){const g=e.x<o.x?-1:1,v=e.y<o.y?1:-1;return`L ${u+l*g},${c}Q ${u},${c} ${u},${c+l*v}`}const f=e.x<o.x?1:-1,h=e.y<o.y?-1:1;return`L ${u},${c+l*h}Q ${u},${c} ${u+l*f},${c}`}function Nc({sourceX:e,sourceY:r,sourcePosition:o=ge.Bottom,targetX:s,targetY:l,targetPosition:u=ge.Top,borderRadius:c=5,centerX:f,centerY:h,offset:g=20,stepPosition:v=.5}){const[m,x,E,k,b]=pE({source:{x:e,y:r},sourcePosition:o,target:{x:s,y:l},targetPosition:u,center:{x:f,y:h},offset:g,stepPosition:v});return[m.reduce((N,I,S)=>{let j="";return S>0&&S<m.length-1?j=mE(m[S-1],I,m[S+1],c):j=`${S===0?"M":"L"}${I.x} ${I.y}`,N+=j,N},""),x,E,k,b]}function mp(e){var r;return e&&!!(e.internals.handleBounds||(r=e.handles)!=null&&r.length)&&!!(e.measured.width||e.width||e.initialWidth)}function gE(e){var m;const{sourceNode:r,targetNode:o}=e;if(!mp(r)||!mp(o))return null;const s=r.internals.handleBounds||gp(r.handles),l=o.internals.handleBounds||gp(o.handles),u=yp((s==null?void 0:s.source)??[],e.sourceHandle),c=yp(e.connectionMode===lo.Strict?(l==null?void 0:l.target)??[]:((l==null?void 0:l.target)??[]).concat((l==null?void 0:l.source)??[]),e.targetHandle);if(!u||!c)return(m=e.onError)==null||m.call(e,"008",Zt.error008(u?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const f=(u==null?void 0:u.position)||ge.Bottom,h=(c==null?void 0:c.position)||ge.Top,g=wr(r,u,f),v=wr(o,c,h);return{sourceX:g.x,sourceY:g.y,targetX:v.x,targetY:v.y,sourcePosition:f,targetPosition:h}}function gp(e){if(!e)return null;const r=[],o=[];for(const s of e)s.width=s.width??1,s.height=s.height??1,s.type==="source"?r.push(s):s.type==="target"&&o.push(s);return{source:r,target:o}}function wr(e,r,o=ge.Left,s=!1){const l=((r==null?void 0:r.x)??0)+e.internals.positionAbsolute.x,u=((r==null?void 0:r.y)??0)+e.internals.positionAbsolute.y,{width:c,height:f}=r??xn(e);if(s)return{x:l+c/2,y:u+f/2};switch((r==null?void 0:r.position)??o){case ge.Top:return{x:l+c/2,y:u};case ge.Right:return{x:l+c,y:u+f/2};case ge.Bottom:return{x:l+c/2,y:u+f};case ge.Left:return{x:l,y:u+f/2}}}function yp(e,r){return e&&(r?e.find(o=>o.id===r):e[0])||null}function Cc(e,r){return e?typeof e=="string"?e:`${r?`${r}__`:""}${Object.keys(e).sort().map(s=>`${s}=${e[s]}`).join("&")}`:""}function yE(e,{id:r,defaultColor:o,defaultMarkerStart:s,defaultMarkerEnd:l}){const u=new Set;return e.reduce((c,f)=>([f.markerStart||s,f.markerEnd||l].forEach(h=>{if(h&&typeof h=="object"){const g=Cc(h,r);u.has(g)||(c.push({id:g,color:h.color||o,...h}),u.add(g))}}),c),[]).sort((c,f)=>c.id.localeCompare(f.id))}const x0=1e3,vE=10,Gc={nodeOrigin:[0,0],nodeExtent:Si,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},xE={...Gc,checkEquality:!0};function Kc(e,r){const o={...e};for(const s in r)r[s]!==void 0&&(o[s]=r[s]);return o}function wE(e,r,o){const s=Kc(Gc,o);for(const l of e.values())if(l.parentId)Zc(l,e,r,s);else{const u=Ri(l,s.nodeOrigin),c=co(l.extent)?l.extent:s.nodeExtent,f=xr(u,c,xn(l));l.internals.positionAbsolute=f}}function SE(e,r){if(!e.handles)return e.measured?r==null?void 0:r.internals.handleBounds:void 0;const o=[],s=[];for(const l of e.handles){const u={id:l.id,width:l.width??1,height:l.height??1,nodeId:e.id,x:l.x,y:l.y,position:l.position,type:l.type};l.type==="source"?o.push(u):l.type==="target"&&s.push(u)}return{source:o,target:s}}function qc(e){return e==="manual"}function _c(e,r,o,s={}){var g,v;const l=Kc(xE,s),u={i:0},c=new Map(r),f=l!=null&&l.elevateNodesOnSelect&&!qc(l.zIndexMode)?x0:0;let h=e.length>0;r.clear(),o.clear();for(const m of e){let x=c.get(m.id);if(l.checkEquality&&m===(x==null?void 0:x.internals.userNode))r.set(m.id,x);else{const E=Ri(m,l.nodeOrigin),k=co(m.extent)?m.extent:l.nodeExtent,b=xr(E,k,xn(m));x={...l.defaults,...m,measured:{width:(g=m.measured)==null?void 0:g.width,height:(v=m.measured)==null?void 0:v.height},internals:{positionAbsolute:b,handleBounds:SE(m,x),z:w0(m,f,l.zIndexMode),userNode:m}},r.set(m.id,x)}(x.measured===void 0||x.measured.width===void 0||x.measured.height===void 0)&&!x.hidden&&(h=!1),m.parentId&&Zc(x,r,o,s,u)}return h}function EE(e,r){if(!e.parentId)return;const o=r.get(e.parentId);o?o.set(e.id,e):r.set(e.parentId,new Map([[e.id,e]]))}function Zc(e,r,o,s,l){const{elevateNodesOnSelect:u,nodeOrigin:c,nodeExtent:f,zIndexMode:h}=Kc(Gc,s),g=e.parentId,v=r.get(g);if(!v){console.warn(`Parent node ${g} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}EE(e,o),l&&!v.parentId&&v.internals.rootParentIndex===void 0&&h==="auto"&&(v.internals.rootParentIndex=++l.i,v.internals.z=v.internals.z+l.i*vE),l&&v.internals.rootParentIndex!==void 0&&(l.i=v.internals.rootParentIndex);const m=u&&!qc(h)?x0:0,{x,y:E,z:k}=kE(e,v,c,f,m,h),{positionAbsolute:b}=e.internals,C=x!==b.x||E!==b.y;(C||k!==e.internals.z)&&r.set(e.id,{...e,internals:{...e.internals,positionAbsolute:C?{x,y:E}:b,z:k}})}function w0(e,r,o){const s=Ft(e.zIndex)?e.zIndex:0;return qc(o)?s:s+(e.selected?r:0)}function kE(e,r,o,s,l,u){const{x:c,y:f}=r.internals.positionAbsolute,h=xn(e),g=Ri(e,o),v=co(e.extent)?xr(g,e.extent,h):g;let m=xr({x:c+v.x,y:f+v.y},s,h);e.extent==="parent"&&(m=s0(m,h,r));const x=w0(e,l,u),E=r.internals.z??0;return{x:m.x,y:m.y,z:E>=x?E+1:x}}function Jc(e,r,o,s=[0,0]){var c;const l=[],u=new Map;for(const f of e){const h=r.get(f.parentId);if(!h)continue;const g=((c=u.get(f.parentId))==null?void 0:c.expandedRect)??uo(h),v=a0(g,f.rect);u.set(f.parentId,{expandedRect:v,parent:h})}return u.size>0&&u.forEach(({expandedRect:f,parent:h},g)=>{var S;const v=h.internals.positionAbsolute,m=xn(h),x=h.origin??s,E=f.x<v.x?Math.round(Math.abs(v.x-f.x)):0,k=f.y<v.y?Math.round(Math.abs(v.y-f.y)):0,b=Math.max(m.width,Math.round(f.width)),C=Math.max(m.height,Math.round(f.height)),N=(b-m.width)*x[0],I=(C-m.height)*x[1];(E>0||k>0||N||I)&&(l.push({id:g,type:"position",position:{x:h.position.x-E+N,y:h.position.y-k+I}}),(S=o.get(g))==null||S.forEach(j=>{e.some(O=>O.id===j.id)||l.push({id:j.id,type:"position",position:{x:j.position.x+E,y:j.position.y+k}})})),(m.width<f.width||m.height<f.height||E||k)&&l.push({id:g,type:"dimensions",setAttributes:!0,dimensions:{width:b+(E?x[0]*E-N:0),height:C+(k?x[1]*k-I:0)}})}),l}function NE(e,r,o,s,l,u,c){const f=s==null?void 0:s.querySelector(".xyflow__viewport");let h=!1;if(!f)return{changes:[],updatedInternals:h};const g=[],v=window.getComputedStyle(f),{m22:m}=new window.DOMMatrixReadOnly(v.transform),x=[];for(const E of e.values()){const k=r.get(E.id);if(!k)continue;if(k.hidden){r.set(k.id,{...k,internals:{...k.internals,handleBounds:void 0}}),h=!0;continue}const b=Qc(E.nodeElement),C=k.measured.width!==b.width||k.measured.height!==b.height;if(!!(b.width&&b.height&&(C||!k.internals.handleBounds||E.force))){const I=E.nodeElement.getBoundingClientRect(),S=co(k.extent)?k.extent:u;let{positionAbsolute:j}=k.internals;k.parentId&&k.extent==="parent"?j=s0(j,b,r.get(k.parentId)):S&&(j=xr(j,S,b));const O={...k,measured:b,internals:{...k.internals,positionAbsolute:j,handleBounds:{source:dp("source",E.nodeElement,I,m,k.id),target:dp("target",E.nodeElement,I,m,k.id)}}};r.set(k.id,O),k.parentId&&Zc(O,r,o,{nodeOrigin:l,zIndexMode:c}),h=!0,C&&(g.push({id:k.id,type:"dimensions",dimensions:b}),k.expandParent&&k.parentId&&x.push({id:k.id,parentId:k.parentId,rect:uo(O,l)}))}}if(x.length>0){const E=Jc(x,r,o,l);g.push(...E)}return{changes:g,updatedInternals:h}}async function CE({delta:e,panZoom:r,transform:o,translateExtent:s,width:l,height:u}){if(!r||!e.x&&!e.y)return Promise.resolve(!1);const c=await r.setViewportConstrained({x:o[0]+e.x,y:o[1]+e.y,zoom:o[2]},[[0,0],[l,u]],s),f=!!c&&(c.x!==o[0]||c.y!==o[1]||c.k!==o[2]);return Promise.resolve(f)}function vp(e,r,o,s,l,u){let c=l;const f=s.get(c)||new Map;s.set(c,f.set(o,r)),c=`${l}-${e}`;const h=s.get(c)||new Map;if(s.set(c,h.set(o,r)),u){c=`${l}-${e}-${u}`;const g=s.get(c)||new Map;s.set(c,g.set(o,r))}}function S0(e,r,o){e.clear(),r.clear();for(const s of o){const{source:l,target:u,sourceHandle:c=null,targetHandle:f=null}=s,h={edgeId:s.id,source:l,target:u,sourceHandle:c,targetHandle:f},g=`${l}-${c}--${u}-${f}`,v=`${u}-${f}--${l}-${c}`;vp("source",h,v,e,l,c),vp("target",h,g,e,u,f),r.set(s.id,s)}}function E0(e,r){if(!e.parentId)return!1;const o=r.get(e.parentId);return o?o.selected?!0:E0(o,r):!1}function xp(e,r,o){var l;let s=e;do{if((l=s==null?void 0:s.matches)!=null&&l.call(s,r))return!0;if(s===o)return!1;s=s==null?void 0:s.parentElement}while(s);return!1}function _E(e,r,o,s){const l=new Map;for(const[u,c]of e)if((c.selected||c.id===s)&&(!c.parentId||!E0(c,e))&&(c.draggable||r&&typeof c.draggable>"u")){const f=e.get(u);f&&l.set(u,{id:u,position:f.position||{x:0,y:0},distance:{x:o.x-f.internals.positionAbsolute.x,y:o.y-f.internals.positionAbsolute.y},extent:f.extent,parentId:f.parentId,origin:f.origin,expandParent:f.expandParent,internals:{positionAbsolute:f.internals.positionAbsolute||{x:0,y:0}},measured:{width:f.measured.width??0,height:f.measured.height??0}})}return l}function nc({nodeId:e,dragItems:r,nodeLookup:o,dragging:s=!0}){var c,f,h;const l=[];for(const[g,v]of r){const m=(c=o.get(g))==null?void 0:c.internals.userNode;m&&l.push({...m,position:v.position,dragging:s})}if(!e)return[l[0],l];const u=(f=o.get(e))==null?void 0:f.internals.userNode;return[u?{...u,position:((h=r.get(e))==null?void 0:h.position)||u.position,dragging:s}:l[0],l]}function bE({dragItems:e,snapGrid:r,x:o,y:s}){const l=e.values().next().value;if(!l)return null;const u={x:o-l.distance.x,y:s-l.distance.y},c=Ti(u,r);return{x:c.x-u.x,y:c.y-u.y}}function jE({onNodeMouseDown:e,getStoreItems:r,onDragStart:o,onDrag:s,onDragStop:l}){let u={x:null,y:null},c=0,f=new Map,h=!1,g={x:0,y:0},v=null,m=!1,x=null,E=!1,k=!1,b=null;function C({noDragClassName:I,handleSelector:S,domNode:j,isSelectable:O,nodeId:z,nodeClickDistance:P=0}){x=wt(j);function D({x:Y,y:J}){const{nodeLookup:R,nodeExtent:G,snapGrid:V,snapToGrid:Q,nodeOrigin:T,onNodeDrag:A,onSelectionDrag:U,onError:M,updateNodePositions:F}=r();u={x:Y,y:J};let ne=!1;const te=f.size>1,le=te&&G?kc(Li(f)):null,ae=te&&Q?bE({dragItems:f,snapGrid:V,x:Y,y:J}):null;for(const[ue,ee]of f){if(!R.has(ue))continue;let ce={x:Y-ee.distance.x,y:J-ee.distance.y};Q&&(ce=ae?{x:Math.round(ce.x+ae.x),y:Math.round(ce.y+ae.y)}:Ti(ce,V));let we=null;if(te&&G&&!ee.extent&&le){const{positionAbsolute:ye}=ee.internals,Ce=ye.x-le.x+G[0][0],Pe=ye.x+ee.measured.width-le.x2+G[1][0],_e=ye.y-le.y+G[0][1],We=ye.y+ee.measured.height-le.y2+G[1][1];we=[[Ce,_e],[Pe,We]]}const{position:Ee,positionAbsolute:Se}=i0({nodeId:ue,nextPosition:ce,nodeLookup:R,nodeExtent:we||G,nodeOrigin:T,onError:M});ne=ne||ee.position.x!==Ee.x||ee.position.y!==Ee.y,ee.position=Ee,ee.internals.positionAbsolute=Se}if(k=k||ne,!!ne&&(F(f,!0),b&&(s||A||!z&&U))){const[ue,ee]=nc({nodeId:z,dragItems:f,nodeLookup:R});s==null||s(b,f,ue,ee),A==null||A(b,ue,ee),z||U==null||U(b,ee)}}async function H(){if(!v)return;const{transform:Y,panBy:J,autoPanSpeed:R,autoPanOnNodeDrag:G}=r();if(!G){h=!1,cancelAnimationFrame(c);return}const[V,Q]=l0(g,v,R);(V!==0||Q!==0)&&(u.x=(u.x??0)-V/Y[2],u.y=(u.y??0)-Q/Y[2],await J({x:V,y:Q})&&D(u)),c=requestAnimationFrame(H)}function Z(Y){var te;const{nodeLookup:J,multiSelectionActive:R,nodesDraggable:G,transform:V,snapGrid:Q,snapToGrid:T,selectNodesOnDrag:A,onNodeDragStart:U,onSelectionDragStart:M,unselectNodesAndEdges:F}=r();m=!0,(!A||!O)&&!R&&z&&((te=J.get(z))!=null&&te.selected||F()),O&&A&&z&&(e==null||e(z));const ne=mi(Y.sourceEvent,{transform:V,snapGrid:Q,snapToGrid:T,containerBounds:v});if(u=ne,f=_E(J,G,ne,z),f.size>0&&(o||U||!z&&M)){const[le,ae]=nc({nodeId:z,dragItems:f,nodeLookup:J});o==null||o(Y.sourceEvent,f,le,ae),U==null||U(Y.sourceEvent,le,ae),z||M==null||M(Y.sourceEvent,ae)}}const W=Dm().clickDistance(P).on("start",Y=>{const{domNode:J,nodeDragThreshold:R,transform:G,snapGrid:V,snapToGrid:Q}=r();v=(J==null?void 0:J.getBoundingClientRect())||null,E=!1,k=!1,b=Y.sourceEvent,R===0&&Z(Y),u=mi(Y.sourceEvent,{transform:G,snapGrid:V,snapToGrid:Q,containerBounds:v}),g=Ht(Y.sourceEvent,v)}).on("drag",Y=>{const{autoPanOnNodeDrag:J,transform:R,snapGrid:G,snapToGrid:V,nodeDragThreshold:Q,nodeLookup:T}=r(),A=mi(Y.sourceEvent,{transform:R,snapGrid:G,snapToGrid:V,containerBounds:v});if(b=Y.sourceEvent,(Y.sourceEvent.type==="touchmove"&&Y.sourceEvent.touches.length>1||z&&!T.has(z))&&(E=!0),!E){if(!h&&J&&m&&(h=!0,H()),!m){const U=Ht(Y.sourceEvent,v),M=U.x-g.x,F=U.y-g.y;Math.sqrt(M*M+F*F)>Q&&Z(Y)}(u.x!==A.xSnapped||u.y!==A.ySnapped)&&f&&m&&(g=Ht(Y.sourceEvent,v),D(A))}}).on("end",Y=>{if(!(!m||E)&&(h=!1,m=!1,cancelAnimationFrame(c),f.size>0)){const{nodeLookup:J,updateNodePositions:R,onNodeDragStop:G,onSelectionDragStop:V}=r();if(k&&(R(f,!1),k=!1),l||G||!z&&V){const[Q,T]=nc({nodeId:z,dragItems:f,nodeLookup:J,dragging:!1});l==null||l(Y.sourceEvent,f,Q,T),G==null||G(Y.sourceEvent,Q,T),z||V==null||V(Y.sourceEvent,T)}}}).filter(Y=>{const J=Y.target;return!Y.button&&(!I||!xp(J,`.${I}`,j))&&(!S||xp(J,S,j))});x.call(W)}function N(){x==null||x.on(".drag",null)}return{update:C,destroy:N}}function IE(e,r,o){const s=[],l={x:e.x-o,y:e.y-o,width:o*2,height:o*2};for(const u of r.values())ki(l,uo(u))>0&&s.push(u);return s}const ME=250;function PE(e,r,o,s){var f,h;let l=[],u=1/0;const c=IE(e,o,r+ME);for(const g of c){const v=[...((f=g.internals.handleBounds)==null?void 0:f.source)??[],...((h=g.internals.handleBounds)==null?void 0:h.target)??[]];for(const m of v){if(s.nodeId===m.nodeId&&s.type===m.type&&s.id===m.id)continue;const{x,y:E}=wr(g,m,m.position,!0),k=Math.sqrt(Math.pow(x-e.x,2)+Math.pow(E-e.y,2));k>r||(k<u?(l=[{...m,x,y:E}],u=k):k===u&&l.push({...m,x,y:E}))}}if(!l.length)return null;if(l.length>1){const g=s.type==="source"?"target":"source";return l.find(v=>v.type===g)??l[0]}return l[0]}function k0(e,r,o,s,l,u=!1){var g,v,m;const c=s.get(e);if(!c)return null;const f=l==="strict"?(g=c.internals.handleBounds)==null?void 0:g[r]:[...((v=c.internals.handleBounds)==null?void 0:v.source)??[],...((m=c.internals.handleBounds)==null?void 0:m.target)??[]],h=(o?f==null?void 0:f.find(x=>x.id===o):f==null?void 0:f[0])??null;return h&&u?{...h,...wr(c,h,h.position,!0)}:h}function N0(e,r){return e||(r!=null&&r.classList.contains("target")?"target":r!=null&&r.classList.contains("source")?"source":null)}function RE(e,r){let o=null;return r?o=!0:e&&!r&&(o=!1),o}const C0=()=>!0;function LE(e,{connectionMode:r,connectionRadius:o,handleId:s,nodeId:l,edgeUpdaterType:u,isTarget:c,domNode:f,nodeLookup:h,lib:g,autoPanOnConnect:v,flowId:m,panBy:x,cancelConnection:E,onConnectStart:k,onConnect:b,onConnectEnd:C,isValidConnection:N=C0,onReconnectEnd:I,updateConnection:S,getTransform:j,getFromHandle:O,autoPanSpeed:z,dragThreshold:P=1,handleDomNode:D}){const H=d0(e.target);let Z=0,W;const{x:Y,y:J}=Ht(e),R=N0(u,D),G=f==null?void 0:f.getBoundingClientRect();let V=!1;if(!G||!R)return;const Q=k0(l,R,s,h,r);if(!Q)return;let T=Ht(e,G),A=!1,U=null,M=!1,F=null;function ne(){if(!v||!G)return;const[Ee,Se]=l0(T,G,z);x({x:Ee,y:Se}),Z=requestAnimationFrame(ne)}const te={...Q,nodeId:l,type:R,position:Q.position},le=h.get(l);let ue={inProgress:!0,isValid:null,from:wr(le,te,ge.Left,!0),fromHandle:te,fromPosition:te.position,fromNode:le,to:T,toHandle:null,toPosition:lp[te.position],toNode:null,pointer:T};function ee(){V=!0,S(ue),k==null||k(e,{nodeId:l,handleId:s,handleType:R})}P===0&&ee();function ce(Ee){if(!V){const{x:We,y:Pt}=Ht(Ee),ht=We-Y,pt=Pt-J;if(!(ht*ht+pt*pt>P*P))return;ee()}if(!O()||!te){we(Ee);return}const Se=j();T=Ht(Ee,G),W=PE(zi(T,Se,!1,[1,1]),o,h,te),A||(ne(),A=!0);const ye=_0(Ee,{handle:W,connectionMode:r,fromNodeId:l,fromHandleId:s,fromType:c?"target":"source",isValidConnection:N,doc:H,lib:g,flowId:m,nodeLookup:h});F=ye.handleDomNode,U=ye.connection,M=RE(!!W,ye.isValid);const Ce=h.get(l),Pe=Ce?wr(Ce,te,ge.Left,!0):ue.from,_e={...ue,from:Pe,isValid:M,to:ye.toHandle&&M?Ll({x:ye.toHandle.x,y:ye.toHandle.y},Se):T,toHandle:ye.toHandle,toPosition:M&&ye.toHandle?ye.toHandle.position:lp[te.position],toNode:ye.toHandle?h.get(ye.toHandle.nodeId):null,pointer:T};S(_e),ue=_e}function we(Ee){if(!("touches"in Ee&&Ee.touches.length>0)){if(V){(W||F)&&U&&M&&(b==null||b(U));const{inProgress:Se,...ye}=ue,Ce={...ye,toPosition:ue.toHandle?ue.toPosition:null};C==null||C(Ee,Ce),u&&(I==null||I(Ee,Ce))}E(),cancelAnimationFrame(Z),A=!1,M=!1,U=null,F=null,H.removeEventListener("mousemove",ce),H.removeEventListener("mouseup",we),H.removeEventListener("touchmove",ce),H.removeEventListener("touchend",we)}}H.addEventListener("mousemove",ce),H.addEventListener("mouseup",we),H.addEventListener("touchmove",ce),H.addEventListener("touchend",we)}function _0(e,{handle:r,connectionMode:o,fromNodeId:s,fromHandleId:l,fromType:u,doc:c,lib:f,flowId:h,isValidConnection:g=C0,nodeLookup:v}){const m=u==="target",x=r?c.querySelector(`.${f}-flow__handle[data-id="${h}-${r==null?void 0:r.nodeId}-${r==null?void 0:r.id}-${r==null?void 0:r.type}"]`):null,{x:E,y:k}=Ht(e),b=c.elementFromPoint(E,k),C=b!=null&&b.classList.contains(`${f}-flow__handle`)?b:x,N={handleDomNode:C,isValid:!1,connection:null,toHandle:null};if(C){const I=N0(void 0,C),S=C.getAttribute("data-nodeid"),j=C.getAttribute("data-handleid"),O=C.classList.contains("connectable"),z=C.classList.contains("connectableend");if(!S||!I)return N;const P={source:m?S:s,sourceHandle:m?j:l,target:m?s:S,targetHandle:m?l:j};N.connection=P;const H=O&&z&&(o===lo.Strict?m&&I==="source"||!m&&I==="target":S!==s||j!==l);N.isValid=H&&g(P),N.toHandle=k0(S,I,j,v,o,!0)}return N}const bc={onPointerDown:LE,isValid:_0};function TE({domNode:e,panZoom:r,getTransform:o,getViewScale:s}){const l=wt(e);function u({translateExtent:f,width:h,height:g,zoomStep:v=1,pannable:m=!0,zoomable:x=!0,inversePan:E=!1}){const k=S=>{if(S.sourceEvent.type!=="wheel"||!r)return;const j=o(),O=S.sourceEvent.ctrlKey&&Ni()?10:1,z=-S.sourceEvent.deltaY*(S.sourceEvent.deltaMode===1?.05:S.sourceEvent.deltaMode?1:.002)*v,P=j[2]*Math.pow(2,z*O);r.scaleTo(P)};let b=[0,0];const C=S=>{(S.sourceEvent.type==="mousedown"||S.sourceEvent.type==="touchstart")&&(b=[S.sourceEvent.clientX??S.sourceEvent.touches[0].clientX,S.sourceEvent.clientY??S.sourceEvent.touches[0].clientY])},N=S=>{const j=o();if(S.sourceEvent.type!=="mousemove"&&S.sourceEvent.type!=="touchmove"||!r)return;const O=[S.sourceEvent.clientX??S.sourceEvent.touches[0].clientX,S.sourceEvent.clientY??S.sourceEvent.touches[0].clientY],z=[O[0]-b[0],O[1]-b[1]];b=O;const P=s()*Math.max(j[2],Math.log(j[2]))*(E?-1:1),D={x:j[0]-z[0]*P,y:j[1]-z[1]*P},H=[[0,0],[h,g]];r.setViewportConstrained({x:D.x,y:D.y,zoom:j[2]},H,f)},I=Jm().on("start",C).on("zoom",m?N:null).on("zoom.wheel",x?k:null);l.call(I,{})}function c(){l.on("zoom",null)}return{update:u,destroy:c,pointer:Dt}}const Xl=e=>({x:e.x,y:e.y,zoom:e.k}),rc=({x:e,y:r,zoom:o})=>Wl.translate(e,r).scale(o),to=(e,r)=>e.target.closest(`.${r}`),b0=(e,r)=>r===2&&Array.isArray(e)&&e.includes(2),zE=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,oc=(e,r=0,o=zE,s=()=>{})=>{const l=typeof r=="number"&&r>0;return l||s(),l?e.transition().duration(r).ease(o).on("end",s):e},j0=e=>{const r=e.ctrlKey&&Ni()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*r};function AE({zoomPanValues:e,noWheelClassName:r,d3Selection:o,d3Zoom:s,panOnScrollMode:l,panOnScrollSpeed:u,zoomOnPinch:c,onPanZoomStart:f,onPanZoom:h,onPanZoomEnd:g}){return v=>{if(to(v,r))return v.ctrlKey&&v.preventDefault(),!1;v.preventDefault(),v.stopImmediatePropagation();const m=o.property("__zoom").k||1;if(v.ctrlKey&&c){const C=Dt(v),N=j0(v),I=m*Math.pow(2,N);s.scaleTo(o,I,C,v);return}const x=v.deltaMode===1?20:1;let E=l===gr.Vertical?0:v.deltaX*x,k=l===gr.Horizontal?0:v.deltaY*x;!Ni()&&v.shiftKey&&l!==gr.Vertical&&(E=v.deltaY*x,k=0),s.translateBy(o,-(E/m)*u,-(k/m)*u,{internal:!0});const b=Xl(o.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(h==null||h(v,b),e.panScrollTimeout=setTimeout(()=>{g==null||g(v,b),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,f==null||f(v,b))}}function $E({noWheelClassName:e,preventScrolling:r,d3ZoomHandler:o}){return function(s,l){const u=s.type==="wheel",c=!r&&u&&!s.ctrlKey,f=to(s,e);if(s.ctrlKey&&u&&f&&s.preventDefault(),c||f)return null;s.preventDefault(),o.call(this,s,l)}}function DE({zoomPanValues:e,onDraggingChange:r,onPanZoomStart:o}){return s=>{var u,c,f;if((u=s.sourceEvent)!=null&&u.internal)return;const l=Xl(s.transform);e.mouseButton=((c=s.sourceEvent)==null?void 0:c.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=l,((f=s.sourceEvent)==null?void 0:f.type)==="mousedown"&&r(!0),o&&(o==null||o(s.sourceEvent,l))}}function OE({zoomPanValues:e,panOnDrag:r,onPaneContextMenu:o,onTransformChange:s,onPanZoom:l}){return u=>{var c,f;e.usedRightMouseButton=!!(o&&b0(r,e.mouseButton??0)),(c=u.sourceEvent)!=null&&c.sync||s([u.transform.x,u.transform.y,u.transform.k]),l&&!((f=u.sourceEvent)!=null&&f.internal)&&(l==null||l(u.sourceEvent,Xl(u.transform)))}}function FE({zoomPanValues:e,panOnDrag:r,panOnScroll:o,onDraggingChange:s,onPanZoomEnd:l,onPaneContextMenu:u}){return c=>{var f;if(!((f=c.sourceEvent)!=null&&f.internal)&&(e.isZoomingOrPanning=!1,u&&b0(r,e.mouseButton??0)&&!e.usedRightMouseButton&&c.sourceEvent&&u(c.sourceEvent),e.usedRightMouseButton=!1,s(!1),l)){const h=Xl(c.transform);e.prevViewport=h,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{l==null||l(c.sourceEvent,h)},o?150:0)}}}function HE({zoomActivationKeyPressed:e,zoomOnScroll:r,zoomOnPinch:o,panOnDrag:s,panOnScroll:l,zoomOnDoubleClick:u,userSelectionActive:c,noWheelClassName:f,noPanClassName:h,lib:g,connectionInProgress:v}){return m=>{var C;const x=e||r,E=o&&m.ctrlKey,k=m.type==="wheel";if(m.button===1&&m.type==="mousedown"&&(to(m,`${g}-flow__node`)||to(m,`${g}-flow__edge`)))return!0;if(!s&&!x&&!l&&!u&&!o||c||v&&!k||to(m,f)&&k||to(m,h)&&(!k||l&&k&&!e)||!o&&m.ctrlKey&&k)return!1;if(!o&&m.type==="touchstart"&&((C=m.touches)==null?void 0:C.length)>1)return m.preventDefault(),!1;if(!x&&!l&&!E&&k||!s&&(m.type==="mousedown"||m.type==="touchstart")||Array.isArray(s)&&!s.includes(m.button)&&m.type==="mousedown")return!1;const b=Array.isArray(s)&&s.includes(m.button)||!m.button||m.button<=1;return(!m.ctrlKey||k)&&b}}function BE({domNode:e,minZoom:r,maxZoom:o,translateExtent:s,viewport:l,onPanZoom:u,onPanZoomStart:c,onPanZoomEnd:f,onDraggingChange:h}){const g={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},v=e.getBoundingClientRect(),m=Jm().scaleExtent([r,o]).translateExtent(s),x=wt(e).call(m);I({x:l.x,y:l.y,zoom:ao(l.zoom,r,o)},[[0,0],[v.width,v.height]],s);const E=x.on("wheel.zoom"),k=x.on("dblclick.zoom");m.wheelDelta(j0);function b(W,Y){return x?new Promise(J=>{m==null||m.interpolate((Y==null?void 0:Y.interpolate)==="linear"?pi:vl).transform(oc(x,Y==null?void 0:Y.duration,Y==null?void 0:Y.ease,()=>J(!0)),W)}):Promise.resolve(!1)}function C({noWheelClassName:W,noPanClassName:Y,onPaneContextMenu:J,userSelectionActive:R,panOnScroll:G,panOnDrag:V,panOnScrollMode:Q,panOnScrollSpeed:T,preventScrolling:A,zoomOnPinch:U,zoomOnScroll:M,zoomOnDoubleClick:F,zoomActivationKeyPressed:ne,lib:te,onTransformChange:le,connectionInProgress:ae,paneClickDistance:ue,selectionOnDrag:ee}){R&&!g.isZoomingOrPanning&&N();const ce=G&&!ne&&!R;m.clickDistance(ee?1/0:!Ft(ue)||ue<0?0:ue);const we=ce?AE({zoomPanValues:g,noWheelClassName:W,d3Selection:x,d3Zoom:m,panOnScrollMode:Q,panOnScrollSpeed:T,zoomOnPinch:U,onPanZoomStart:c,onPanZoom:u,onPanZoomEnd:f}):$E({noWheelClassName:W,preventScrolling:A,d3ZoomHandler:E});if(x.on("wheel.zoom",we,{passive:!1}),!R){const Se=DE({zoomPanValues:g,onDraggingChange:h,onPanZoomStart:c});m.on("start",Se);const ye=OE({zoomPanValues:g,panOnDrag:V,onPaneContextMenu:!!J,onPanZoom:u,onTransformChange:le});m.on("zoom",ye);const Ce=FE({zoomPanValues:g,panOnDrag:V,panOnScroll:G,onPaneContextMenu:J,onPanZoomEnd:f,onDraggingChange:h});m.on("end",Ce)}const Ee=HE({zoomActivationKeyPressed:ne,panOnDrag:V,zoomOnScroll:M,panOnScroll:G,zoomOnDoubleClick:F,zoomOnPinch:U,userSelectionActive:R,noPanClassName:Y,noWheelClassName:W,lib:te,connectionInProgress:ae});m.filter(Ee),F?x.on("dblclick.zoom",k):x.on("dblclick.zoom",null)}function N(){m.on("zoom",null)}async function I(W,Y,J){const R=rc(W),G=m==null?void 0:m.constrain()(R,Y,J);return G&&await b(G),new Promise(V=>V(G))}async function S(W,Y){const J=rc(W);return await b(J,Y),new Promise(R=>R(J))}function j(W){if(x){const Y=rc(W),J=x.property("__zoom");(J.k!==W.zoom||J.x!==W.x||J.y!==W.y)&&(m==null||m.transform(x,Y,null,{sync:!0}))}}function O(){const W=x?Zm(x.node()):{x:0,y:0,k:1};return{x:W.x,y:W.y,zoom:W.k}}function z(W,Y){return x?new Promise(J=>{m==null||m.interpolate((Y==null?void 0:Y.interpolate)==="linear"?pi:vl).scaleTo(oc(x,Y==null?void 0:Y.duration,Y==null?void 0:Y.ease,()=>J(!0)),W)}):Promise.resolve(!1)}function P(W,Y){return x?new Promise(J=>{m==null||m.interpolate((Y==null?void 0:Y.interpolate)==="linear"?pi:vl).scaleBy(oc(x,Y==null?void 0:Y.duration,Y==null?void 0:Y.ease,()=>J(!0)),W)}):Promise.resolve(!1)}function D(W){m==null||m.scaleExtent(W)}function H(W){m==null||m.translateExtent(W)}function Z(W){const Y=!Ft(W)||W<0?0:W;m==null||m.clickDistance(Y)}return{update:C,destroy:N,setViewport:S,setViewportConstrained:I,getViewport:O,scaleTo:z,scaleBy:P,setScaleExtent:D,setTranslateExtent:H,syncViewport:j,setClickDistance:Z}}var fo;(function(e){e.Line="line",e.Handle="handle"})(fo||(fo={}));function VE({width:e,prevWidth:r,height:o,prevHeight:s,affectsX:l,affectsY:u}){const c=e-r,f=o-s,h=[c>0?1:c<0?-1:0,f>0?1:f<0?-1:0];return c&&l&&(h[0]=h[0]*-1),f&&u&&(h[1]=h[1]*-1),h}function wp(e){const r=e.includes("right")||e.includes("left"),o=e.includes("bottom")||e.includes("top"),s=e.includes("left"),l=e.includes("top");return{isHorizontal:r,isVertical:o,affectsX:s,affectsY:l}}function Bn(e,r){return Math.max(0,r-e)}function Vn(e,r){return Math.max(0,e-r)}function dl(e,r,o){return Math.max(0,r-e,e-o)}function Sp(e,r){return e?!r:r}function WE(e,r,o,s,l,u,c,f){let{affectsX:h,affectsY:g}=r;const{isHorizontal:v,isVertical:m}=r,x=v&&m,{xSnapped:E,ySnapped:k}=o,{minWidth:b,maxWidth:C,minHeight:N,maxHeight:I}=s,{x:S,y:j,width:O,height:z,aspectRatio:P}=e;let D=Math.floor(v?E-e.pointerX:0),H=Math.floor(m?k-e.pointerY:0);const Z=O+(h?-D:D),W=z+(g?-H:H),Y=-u[0]*O,J=-u[1]*z;let R=dl(Z,b,C),G=dl(W,N,I);if(c){let T=0,A=0;h&&D<0?T=Bn(S+D+Y,c[0][0]):!h&&D>0&&(T=Vn(S+Z+Y,c[1][0])),g&&H<0?A=Bn(j+H+J,c[0][1]):!g&&H>0&&(A=Vn(j+W+J,c[1][1])),R=Math.max(R,T),G=Math.max(G,A)}if(f){let T=0,A=0;h&&D>0?T=Vn(S+D,f[0][0]):!h&&D<0&&(T=Bn(S+Z,f[1][0])),g&&H>0?A=Vn(j+H,f[0][1]):!g&&H<0&&(A=Bn(j+W,f[1][1])),R=Math.max(R,T),G=Math.max(G,A)}if(l){if(v){const T=dl(Z/P,N,I)*P;if(R=Math.max(R,T),c){let A=0;!h&&!g||h&&!g&&x?A=Vn(j+J+Z/P,c[1][1])*P:A=Bn(j+J+(h?D:-D)/P,c[0][1])*P,R=Math.max(R,A)}if(f){let A=0;!h&&!g||h&&!g&&x?A=Bn(j+Z/P,f[1][1])*P:A=Vn(j+(h?D:-D)/P,f[0][1])*P,R=Math.max(R,A)}}if(m){const T=dl(W*P,b,C)/P;if(G=Math.max(G,T),c){let A=0;!h&&!g||g&&!h&&x?A=Vn(S+W*P+Y,c[1][0])/P:A=Bn(S+(g?H:-H)*P+Y,c[0][0])/P,G=Math.max(G,A)}if(f){let A=0;!h&&!g||g&&!h&&x?A=Bn(S+W*P,f[1][0])/P:A=Vn(S+(g?H:-H)*P,f[0][0])/P,G=Math.max(G,A)}}}H=H+(H<0?G:-G),D=D+(D<0?R:-R),l&&(x?Z>W*P?H=(Sp(h,g)?-D:D)/P:D=(Sp(h,g)?-H:H)*P:v?(H=D/P,g=h):(D=H*P,h=g));const V=h?S+D:S,Q=g?j+H:j;return{width:O+(h?-D:D),height:z+(g?-H:H),x:u[0]*D*(h?-1:1)+V,y:u[1]*H*(g?-1:1)+Q}}const I0={width:0,height:0,x:0,y:0},UE={...I0,pointerX:0,pointerY:0,aspectRatio:1};function YE(e){return[[0,0],[e.measured.width,e.measured.height]]}function XE(e,r,o){const s=r.position.x+e.position.x,l=r.position.y+e.position.y,u=e.measured.width??0,c=e.measured.height??0,f=o[0]*u,h=o[1]*c;return[[s-f,l-h],[s+u-f,l+c-h]]}function QE({domNode:e,nodeId:r,getStoreItems:o,onChange:s,onEnd:l}){const u=wt(e);let c={controlDirection:wp("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function f({controlPosition:g,boundaries:v,keepAspectRatio:m,resizeDirection:x,onResizeStart:E,onResize:k,onResizeEnd:b,shouldResize:C}){let N={...I0},I={...UE};c={boundaries:v,resizeDirection:x,keepAspectRatio:m,controlDirection:wp(g)};let S,j=null,O=[],z,P,D,H=!1;const Z=Dm().on("start",W=>{const{nodeLookup:Y,transform:J,snapGrid:R,snapToGrid:G,nodeOrigin:V,paneDomNode:Q}=o();if(S=Y.get(r),!S)return;j=(Q==null?void 0:Q.getBoundingClientRect())??null;const{xSnapped:T,ySnapped:A}=mi(W.sourceEvent,{transform:J,snapGrid:R,snapToGrid:G,containerBounds:j});N={width:S.measured.width??0,height:S.measured.height??0,x:S.position.x??0,y:S.position.y??0},I={...N,pointerX:T,pointerY:A,aspectRatio:N.width/N.height},z=void 0,S.parentId&&(S.extent==="parent"||S.expandParent)&&(z=Y.get(S.parentId),P=z&&S.extent==="parent"?YE(z):void 0),O=[],D=void 0;for(const[U,M]of Y)if(M.parentId===r&&(O.push({id:U,position:{...M.position},extent:M.extent}),M.extent==="parent"||M.expandParent)){const F=XE(M,S,M.origin??V);D?D=[[Math.min(F[0][0],D[0][0]),Math.min(F[0][1],D[0][1])],[Math.max(F[1][0],D[1][0]),Math.max(F[1][1],D[1][1])]]:D=F}E==null||E(W,{...N})}).on("drag",W=>{const{transform:Y,snapGrid:J,snapToGrid:R,nodeOrigin:G}=o(),V=mi(W.sourceEvent,{transform:Y,snapGrid:J,snapToGrid:R,containerBounds:j}),Q=[];if(!S)return;const{x:T,y:A,width:U,height:M}=N,F={},ne=S.origin??G,{width:te,height:le,x:ae,y:ue}=WE(I,c.controlDirection,V,c.boundaries,c.keepAspectRatio,ne,P,D),ee=te!==U,ce=le!==M,we=ae!==T&&ee,Ee=ue!==A&&ce;if(!we&&!Ee&&!ee&&!ce)return;if((we||Ee||ne[0]===1||ne[1]===1)&&(F.x=we?ae:N.x,F.y=Ee?ue:N.y,N.x=F.x,N.y=F.y,O.length>0)){const Pe=ae-T,_e=ue-A;for(const We of O)We.position={x:We.position.x-Pe+ne[0]*(te-U),y:We.position.y-_e+ne[1]*(le-M)},Q.push(We)}if((ee||ce)&&(F.width=ee&&(!c.resizeDirection||c.resizeDirection==="horizontal")?te:N.width,F.height=ce&&(!c.resizeDirection||c.resizeDirection==="vertical")?le:N.height,N.width=F.width,N.height=F.height),z&&S.expandParent){const Pe=ne[0]*(F.width??0);F.x&&F.x<Pe&&(N.x=Pe,I.x=I.x-(F.x-Pe));const _e=ne[1]*(F.height??0);F.y&&F.y<_e&&(N.y=_e,I.y=I.y-(F.y-_e))}const Se=VE({width:N.width,prevWidth:U,height:N.height,prevHeight:M,affectsX:c.controlDirection.affectsX,affectsY:c.controlDirection.affectsY}),ye={...N,direction:Se};(C==null?void 0:C(W,ye))!==!1&&(H=!0,k==null||k(W,ye),s(F,Q))}).on("end",W=>{H&&(b==null||b(W,{...N}),l==null||l({...N}),H=!1)});u.call(Z)}function h(){u.on(".drag",null)}return{update:f,destroy:h}}var ic={exports:{}},sc={},lc={exports:{}},ac={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep;function GE(){if(Ep)return ac;Ep=1;var e=_i();function r(m,x){return m===x&&(m!==0||1/m===1/x)||m!==m&&x!==x}var o=typeof Object.is=="function"?Object.is:r,s=e.useState,l=e.useEffect,u=e.useLayoutEffect,c=e.useDebugValue;function f(m,x){var E=x(),k=s({inst:{value:E,getSnapshot:x}}),b=k[0].inst,C=k[1];return u(function(){b.value=E,b.getSnapshot=x,h(b)&&C({inst:b})},[m,E,x]),l(function(){return h(b)&&C({inst:b}),m(function(){h(b)&&C({inst:b})})},[m]),c(E),E}function h(m){var x=m.getSnapshot;m=m.value;try{var E=x();return!o(m,E)}catch{return!0}}function g(m,x){return x()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:f;return ac.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:v,ac}var kp;function KE(){return kp||(kp=1,lc.exports=GE()),lc.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function qE(){if(Np)return sc;Np=1;var e=_i(),r=KE();function o(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var s=typeof Object.is=="function"?Object.is:o,l=r.useSyncExternalStore,u=e.useRef,c=e.useEffect,f=e.useMemo,h=e.useDebugValue;return sc.useSyncExternalStoreWithSelector=function(g,v,m,x,E){var k=u(null);if(k.current===null){var b={hasValue:!1,value:null};k.current=b}else b=k.current;k=f(function(){function N(z){if(!I){if(I=!0,S=z,z=x(z),E!==void 0&&b.hasValue){var P=b.value;if(E(P,z))return j=P}return j=z}if(P=j,s(S,z))return P;var D=x(z);return E!==void 0&&E(P,D)?(S=z,P):(S=z,j=D)}var I=!1,S,j,O=m===void 0?null:m;return[function(){return N(v())},O===null?void 0:function(){return N(O())}]},[v,m,x,E]);var C=l(g,k[0],k[1]);return c(function(){b.hasValue=!0,b.value=C},[C]),h(C),C},sc}var Cp;function ZE(){return Cp||(Cp=1,ic.exports=qE()),ic.exports}var JE=ZE();const ek=Ic(JE),tk={},_p=e=>{let r;const o=new Set,s=(v,m)=>{const x=typeof v=="function"?v(r):v;if(!Object.is(x,r)){const E=r;r=m??(typeof x!="object"||x===null)?x:Object.assign({},r,x),o.forEach(k=>k(r,E))}},l=()=>r,h={setState:s,getState:l,getInitialState:()=>g,subscribe:v=>(o.add(v),()=>o.delete(v)),destroy:()=>{(tk?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),o.clear()}},g=r=e(s,l,h);return h},nk=e=>e?_p(e):_p,{useDebugValue:rk}=eo,{useSyncExternalStoreWithSelector:ok}=ek,ik=e=>e;function M0(e,r=ik,o){const s=ok(e.subscribe,e.getState,e.getServerState||e.getInitialState,r,o);return rk(s),s}const bp=(e,r)=>{const o=nk(e),s=(l,u=r)=>M0(o,l,u);return Object.assign(s,o),s},sk=(e,r)=>e?bp(e,r):bp;function Ae(e,r){if(Object.is(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(const[s,l]of e)if(!Object.is(l,r.get(s)))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(const s of e)if(!r.has(s))return!1;return!0}const o=Object.keys(e);if(o.length!==Object.keys(r).length)return!1;for(const s of o)if(!Object.prototype.hasOwnProperty.call(r,s)||!Object.is(e[s],r[s]))return!1;return!0}const Ql=_.createContext(null),lk=Ql.Provider,P0=Zt.error001();function be(e,r){const o=_.useContext(Ql);if(o===null)throw new Error(P0);return M0(o,e,r)}function $e(){const e=_.useContext(Ql);if(e===null)throw new Error(P0);return _.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const jp={display:"none"},ak={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},R0="react-flow__node-desc",L0="react-flow__edge-desc",uk="react-flow__aria-live",ck=e=>e.ariaLiveMessage,dk=e=>e.ariaLabelConfig;function fk({rfId:e}){const r=be(ck);return y.jsx("div",{id:`${uk}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:ak,children:r})}function hk({rfId:e,disableKeyboardA11y:r}){const o=be(dk);return y.jsxs(y.Fragment,{children:[y.jsx("div",{id:`${R0}-${e}`,style:jp,children:r?o["node.a11yDescription.default"]:o["node.a11yDescription.keyboardDisabled"]}),y.jsx("div",{id:`${L0}-${e}`,style:jp,children:o["edge.a11yDescription.default"]}),!r&&y.jsx(fk,{rfId:e})]})}const Gl=_.forwardRef(({position:e="top-left",children:r,className:o,style:s,...l},u)=>{const c=`${e}`.split("-");return y.jsx("div",{className:Ye(["react-flow__panel",o,...c]),style:s,ref:u,...l,children:r})});Gl.displayName="Panel";function pk({proOptions:e,position:r="bottom-right"}){return e!=null&&e.hideAttribution?null:y.jsx(Gl,{position:r,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:y.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const mk=e=>{const r=[],o=[];for(const[,s]of e.nodeLookup)s.selected&&r.push(s.internals.userNode);for(const[,s]of e.edgeLookup)s.selected&&o.push(s);return{selectedNodes:r,selectedEdges:o}},fl=e=>e.id;function gk(e,r){return Ae(e.selectedNodes.map(fl),r.selectedNodes.map(fl))&&Ae(e.selectedEdges.map(fl),r.selectedEdges.map(fl))}function yk({onSelectionChange:e}){const r=$e(),{selectedNodes:o,selectedEdges:s}=be(mk,gk);return _.useEffect(()=>{const l={nodes:o,edges:s};e==null||e(l),r.getState().onSelectionChangeHandlers.forEach(u=>u(l))},[o,s,e]),null}const vk=e=>!!e.onSelectionChangeHandlers;function xk({onSelectionChange:e}){const r=be(vk);return e||r?y.jsx(yk,{onSelectionChange:e}):null}const T0=[0,0],wk={x:0,y:0,zoom:1},Sk=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Ip=[...Sk,"rfId"],Ek=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),Mp={translateExtent:Si,nodeOrigin:T0,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function kk(e){const{setNodes:r,setEdges:o,setMinZoom:s,setMaxZoom:l,setTranslateExtent:u,setNodeExtent:c,reset:f,setDefaultNodesAndEdges:h}=be(Ek,Ae),g=$e();_.useEffect(()=>(h(e.defaultNodes,e.defaultEdges),()=>{v.current=Mp,f()}),[]);const v=_.useRef(Mp);return _.useEffect(()=>{for(const m of Ip){const x=e[m],E=v.current[m];x!==E&&(typeof e[m]>"u"||(m==="nodes"?r(x):m==="edges"?o(x):m==="minZoom"?s(x):m==="maxZoom"?l(x):m==="translateExtent"?u(x):m==="nodeExtent"?c(x):m==="ariaLabelConfig"?g.setState({ariaLabelConfig:lE(x)}):m==="fitView"?g.setState({fitViewQueued:x}):m==="fitViewOptions"?g.setState({fitViewOptions:x}):g.setState({[m]:x})))}v.current=e},Ip.map(m=>e[m])),null}function Pp(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Nk(e){var s;const[r,o]=_.useState(e==="system"?null:e);return _.useEffect(()=>{if(e!=="system"){o(e);return}const l=Pp(),u=()=>o(l!=null&&l.matches?"dark":"light");return u(),l==null||l.addEventListener("change",u),()=>{l==null||l.removeEventListener("change",u)}},[e]),r!==null?r:(s=Pp())!=null&&s.matches?"dark":"light"}const Rp=typeof document<"u"?document:null;function Ci(e=null,r={target:Rp,actInsideInputWithModifier:!0}){const[o,s]=_.useState(!1),l=_.useRef(!1),u=_.useRef(new Set([])),[c,f]=_.useMemo(()=>{if(e!==null){const g=(Array.isArray(e)?e:[e]).filter(m=>typeof m=="string").map(m=>m.replace("+",`
`).replace(`

`,`
+`).split(`
`)),v=g.reduce((m,x)=>m.concat(...x),[]);return[g,v]}return[[],[]]},[e]);return _.useEffect(()=>{const h=(r==null?void 0:r.target)??Rp,g=(r==null?void 0:r.actInsideInputWithModifier)??!0;if(e!==null){const v=E=>{var C,N;if(l.current=E.ctrlKey||E.metaKey||E.shiftKey||E.altKey,(!l.current||l.current&&!g)&&f0(E))return!1;const b=Tp(E.code,f);if(u.current.add(E[b]),Lp(c,u.current,!1)){const I=((N=(C=E.composedPath)==null?void 0:C.call(E))==null?void 0:N[0])||E.target,S=(I==null?void 0:I.nodeName)==="BUTTON"||(I==null?void 0:I.nodeName)==="A";r.preventDefault!==!1&&(l.current||!S)&&E.preventDefault(),s(!0)}},m=E=>{const k=Tp(E.code,f);Lp(c,u.current,!0)?(s(!1),u.current.clear()):u.current.delete(E[k]),E.key==="Meta"&&u.current.clear(),l.current=!1},x=()=>{u.current.clear(),s(!1)};return h==null||h.addEventListener("keydown",v),h==null||h.addEventListener("keyup",m),window.addEventListener("blur",x),window.addEventListener("contextmenu",x),()=>{h==null||h.removeEventListener("keydown",v),h==null||h.removeEventListener("keyup",m),window.removeEventListener("blur",x),window.removeEventListener("contextmenu",x)}}},[e,s]),o}function Lp(e,r,o){return e.filter(s=>o||s.length===r.size).some(s=>s.every(l=>r.has(l)))}function Tp(e,r){return r.includes(e)?"code":"key"}const Ck=()=>{const e=$e();return _.useMemo(()=>({zoomIn:r=>{const{panZoom:o}=e.getState();return o?o.scaleBy(1.2,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},zoomOut:r=>{const{panZoom:o}=e.getState();return o?o.scaleBy(1/1.2,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},zoomTo:(r,o)=>{const{panZoom:s}=e.getState();return s?s.scaleTo(r,{duration:o==null?void 0:o.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(r,o)=>{const{transform:[s,l,u],panZoom:c}=e.getState();return c?(await c.setViewport({x:r.x??s,y:r.y??l,zoom:r.zoom??u},o),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[r,o,s]=e.getState().transform;return{x:r,y:o,zoom:s}},setCenter:async(r,o,s)=>e.getState().setCenter(r,o,s),fitBounds:async(r,o)=>{const{width:s,height:l,minZoom:u,maxZoom:c,panZoom:f}=e.getState(),h=Xc(r,s,l,u,c,(o==null?void 0:o.padding)??.1);return f?(await f.setViewport(h,{duration:o==null?void 0:o.duration,ease:o==null?void 0:o.ease,interpolate:o==null?void 0:o.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(r,o={})=>{const{transform:s,snapGrid:l,snapToGrid:u,domNode:c}=e.getState();if(!c)return r;const{x:f,y:h}=c.getBoundingClientRect(),g={x:r.x-f,y:r.y-h},v=o.snapGrid??l,m=o.snapToGrid??u;return zi(g,s,m,v)},flowToScreenPosition:r=>{const{transform:o,domNode:s}=e.getState();if(!s)return r;const{x:l,y:u}=s.getBoundingClientRect(),c=Ll(r,o);return{x:c.x+l,y:c.y+u}}}),[])};function z0(e,r){const o=[],s=new Map,l=[];for(const u of e)if(u.type==="add"){l.push(u);continue}else if(u.type==="remove"||u.type==="replace")s.set(u.id,[u]);else{const c=s.get(u.id);c?c.push(u):s.set(u.id,[u])}for(const u of r){const c=s.get(u.id);if(!c){o.push(u);continue}if(c[0].type==="remove")continue;if(c[0].type==="replace"){o.push({...c[0].item});continue}const f={...u};for(const h of c)_k(h,f);o.push(f)}return l.length&&l.forEach(u=>{u.index!==void 0?o.splice(u.index,0,{...u.item}):o.push({...u.item})}),o}function _k(e,r){switch(e.type){case"select":{r.selected=e.selected;break}case"position":{typeof e.position<"u"&&(r.position=e.position),typeof e.dragging<"u"&&(r.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(r.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(r.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(r.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(r.resizing=e.resizing);break}}}function A0(e,r){return z0(e,r)}function $0(e,r){return z0(e,r)}function hr(e,r){return{id:e,type:"select",selected:r}}function no(e,r=new Set,o=!1){const s=[];for(const[l,u]of e){const c=r.has(l);!(u.selected===void 0&&!c)&&u.selected!==c&&(o&&(u.selected=c),s.push(hr(u.id,c)))}return s}function zp({items:e=[],lookup:r}){var l;const o=[],s=new Map(e.map(u=>[u.id,u]));for(const[u,c]of e.entries()){const f=r.get(c.id),h=((l=f==null?void 0:f.internals)==null?void 0:l.userNode)??f;h!==void 0&&h!==c&&o.push({id:c.id,item:c,type:"replace"}),h===void 0&&o.push({item:c,type:"add",index:u})}for(const[u]of r)s.get(u)===void 0&&o.push({id:u,type:"remove"});return o}function Ap(e){return{id:e.id,type:"remove"}}const $p=e=>q2(e),bk=e=>o0(e);function D0(e){return _.forwardRef(e)}const jk=typeof window<"u"?_.useLayoutEffect:_.useEffect;function Dp(e){const[r,o]=_.useState(BigInt(0)),[s]=_.useState(()=>Ik(()=>o(l=>l+BigInt(1))));return jk(()=>{const l=s.get();l.length&&(e(l),s.reset())},[r]),s}function Ik(e){let r=[];return{get:()=>r,reset:()=>{r=[]},push:o=>{r.push(o),e()}}}const O0=_.createContext(null);function Mk({children:e}){const r=$e(),o=_.useCallback(f=>{const{nodes:h=[],setNodes:g,hasDefaultNodes:v,onNodesChange:m,nodeLookup:x,fitViewQueued:E,onNodesChangeMiddlewareMap:k}=r.getState();let b=h;for(const N of f)b=typeof N=="function"?N(b):N;let C=zp({items:b,lookup:x});for(const N of k.values())C=N(C);v&&g(b),C.length>0?m==null||m(C):E&&window.requestAnimationFrame(()=>{const{fitViewQueued:N,nodes:I,setNodes:S}=r.getState();N&&S(I)})},[]),s=Dp(o),l=_.useCallback(f=>{const{edges:h=[],setEdges:g,hasDefaultEdges:v,onEdgesChange:m,edgeLookup:x}=r.getState();let E=h;for(const k of f)E=typeof k=="function"?k(E):k;v?g(E):m&&m(zp({items:E,lookup:x}))},[]),u=Dp(l),c=_.useMemo(()=>({nodeQueue:s,edgeQueue:u}),[]);return y.jsx(O0.Provider,{value:c,children:e})}function Pk(){const e=_.useContext(O0);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const Rk=e=>!!e.panZoom;function ed(){const e=Ck(),r=$e(),o=Pk(),s=be(Rk),l=_.useMemo(()=>{const u=m=>r.getState().nodeLookup.get(m),c=m=>{o.nodeQueue.push(m)},f=m=>{o.edgeQueue.push(m)},h=m=>{var N,I;const{nodeLookup:x,nodeOrigin:E}=r.getState(),k=$p(m)?m:x.get(m.id),b=k.parentId?c0(k.position,k.measured,k.parentId,x,E):k.position,C={...k,position:b,width:((N=k.measured)==null?void 0:N.width)??k.width,height:((I=k.measured)==null?void 0:I.height)??k.height};return uo(C)},g=(m,x,E={replace:!1})=>{c(k=>k.map(b=>{if(b.id===m){const C=typeof x=="function"?x(b):x;return E.replace&&$p(C)?C:{...b,...C}}return b}))},v=(m,x,E={replace:!1})=>{f(k=>k.map(b=>{if(b.id===m){const C=typeof x=="function"?x(b):x;return E.replace&&bk(C)?C:{...b,...C}}return b}))};return{getNodes:()=>r.getState().nodes.map(m=>({...m})),getNode:m=>{var x;return(x=u(m))==null?void 0:x.internals.userNode},getInternalNode:u,getEdges:()=>{const{edges:m=[]}=r.getState();return m.map(x=>({...x}))},getEdge:m=>r.getState().edgeLookup.get(m),setNodes:c,setEdges:f,addNodes:m=>{const x=Array.isArray(m)?m:[m];o.nodeQueue.push(E=>[...E,...x])},addEdges:m=>{const x=Array.isArray(m)?m:[m];o.edgeQueue.push(E=>[...E,...x])},toObject:()=>{const{nodes:m=[],edges:x=[],transform:E}=r.getState(),[k,b,C]=E;return{nodes:m.map(N=>({...N})),edges:x.map(N=>({...N})),viewport:{x:k,y:b,zoom:C}}},deleteElements:async({nodes:m=[],edges:x=[]})=>{const{nodes:E,edges:k,onNodesDelete:b,onEdgesDelete:C,triggerNodeChanges:N,triggerEdgeChanges:I,onDelete:S,onBeforeDelete:j}=r.getState(),{nodes:O,edges:z}=await nE({nodesToRemove:m,edgesToRemove:x,nodes:E,edges:k,onBeforeDelete:j}),P=z.length>0,D=O.length>0;if(P){const H=z.map(Ap);C==null||C(z),I(H)}if(D){const H=O.map(Ap);b==null||b(O),N(H)}return(D||P)&&(S==null||S({nodes:O,edges:z})),{deletedNodes:O,deletedEdges:z}},getIntersectingNodes:(m,x=!0,E)=>{const k=up(m),b=k?m:h(m),C=E!==void 0;return b?(E||r.getState().nodes).filter(N=>{const I=r.getState().nodeLookup.get(N.id);if(I&&!k&&(N.id===m.id||!I.internals.positionAbsolute))return!1;const S=uo(C?N:I),j=ki(S,b);return x&&j>0||j>=S.width*S.height||j>=b.width*b.height}):[]},isNodeIntersecting:(m,x,E=!0)=>{const b=up(m)?m:h(m);if(!b)return!1;const C=ki(b,x);return E&&C>0||C>=x.width*x.height||C>=b.width*b.height},updateNode:g,updateNodeData:(m,x,E={replace:!1})=>{g(m,k=>{const b=typeof x=="function"?x(k):x;return E.replace?{...k,data:b}:{...k,data:{...k.data,...b}}},E)},updateEdge:v,updateEdgeData:(m,x,E={replace:!1})=>{v(m,k=>{const b=typeof x=="function"?x(k):x;return E.replace?{...k,data:b}:{...k,data:{...k.data,...b}}},E)},getNodesBounds:m=>{const{nodeLookup:x,nodeOrigin:E}=r.getState();return Z2(m,{nodeLookup:x,nodeOrigin:E})},getHandleConnections:({type:m,id:x,nodeId:E})=>{var k;return Array.from(((k=r.getState().connectionLookup.get(`${E}-${m}${x?`-${x}`:""}`))==null?void 0:k.values())??[])},getNodeConnections:({type:m,handleId:x,nodeId:E})=>{var k;return Array.from(((k=r.getState().connectionLookup.get(`${E}${m?x?`-${m}-${x}`:`-${m}`:""}`))==null?void 0:k.values())??[])},fitView:async m=>{const x=r.getState().fitViewResolver??sE();return r.setState({fitViewQueued:!0,fitViewOptions:m,fitViewResolver:x}),o.nodeQueue.push(E=>[...E]),x.promise}}},[]);return _.useMemo(()=>({...l,...e,viewportInitialized:s}),[s])}const Op=e=>e.selected,Lk=typeof window<"u"?window:void 0;function Tk({deleteKeyCode:e,multiSelectionKeyCode:r}){const o=$e(),{deleteElements:s}=ed(),l=Ci(e,{actInsideInputWithModifier:!1}),u=Ci(r,{target:Lk});_.useEffect(()=>{if(l){const{edges:c,nodes:f}=o.getState();s({nodes:f.filter(Op),edges:c.filter(Op)}),o.setState({nodesSelectionActive:!1})}},[l]),_.useEffect(()=>{o.setState({multiSelectionActive:u})},[u])}function zk(e){const r=$e();_.useEffect(()=>{const o=()=>{var l,u,c,f;if(!e.current||!(((u=(l=e.current).checkVisibility)==null?void 0:u.call(l))??!0))return!1;const s=Qc(e.current);(s.height===0||s.width===0)&&((f=(c=r.getState()).onError)==null||f.call(c,"004",Zt.error004())),r.setState({width:s.width||500,height:s.height||500})};if(e.current){o(),window.addEventListener("resize",o);const s=new ResizeObserver(()=>o());return s.observe(e.current),()=>{window.removeEventListener("resize",o),s&&e.current&&s.unobserve(e.current)}}},[])}const Kl={position:"absolute",width:"100%",height:"100%",top:0,left:0},Ak=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function $k({onPaneContextMenu:e,zoomOnScroll:r=!0,zoomOnPinch:o=!0,panOnScroll:s=!1,panOnScrollSpeed:l=.5,panOnScrollMode:u=gr.Free,zoomOnDoubleClick:c=!0,panOnDrag:f=!0,defaultViewport:h,translateExtent:g,minZoom:v,maxZoom:m,zoomActivationKeyCode:x,preventScrolling:E=!0,children:k,noWheelClassName:b,noPanClassName:C,onViewportChange:N,isControlledViewport:I,paneClickDistance:S,selectionOnDrag:j}){const O=$e(),z=_.useRef(null),{userSelectionActive:P,lib:D,connectionInProgress:H}=be(Ak,Ae),Z=Ci(x),W=_.useRef();zk(z);const Y=_.useCallback(J=>{N==null||N({x:J[0],y:J[1],zoom:J[2]}),I||O.setState({transform:J})},[N,I]);return _.useEffect(()=>{if(z.current){W.current=BE({domNode:z.current,minZoom:v,maxZoom:m,translateExtent:g,viewport:h,onDraggingChange:V=>O.setState({paneDragging:V}),onPanZoomStart:(V,Q)=>{const{onViewportChangeStart:T,onMoveStart:A}=O.getState();A==null||A(V,Q),T==null||T(Q)},onPanZoom:(V,Q)=>{const{onViewportChange:T,onMove:A}=O.getState();A==null||A(V,Q),T==null||T(Q)},onPanZoomEnd:(V,Q)=>{const{onViewportChangeEnd:T,onMoveEnd:A}=O.getState();A==null||A(V,Q),T==null||T(Q)}});const{x:J,y:R,zoom:G}=W.current.getViewport();return O.setState({panZoom:W.current,transform:[J,R,G],domNode:z.current.closest(".react-flow")}),()=>{var V;(V=W.current)==null||V.destroy()}}},[]),_.useEffect(()=>{var J;(J=W.current)==null||J.update({onPaneContextMenu:e,zoomOnScroll:r,zoomOnPinch:o,panOnScroll:s,panOnScrollSpeed:l,panOnScrollMode:u,zoomOnDoubleClick:c,panOnDrag:f,zoomActivationKeyPressed:Z,preventScrolling:E,noPanClassName:C,userSelectionActive:P,noWheelClassName:b,lib:D,onTransformChange:Y,connectionInProgress:H,selectionOnDrag:j,paneClickDistance:S})},[e,r,o,s,l,u,c,f,Z,E,C,P,b,D,Y,H,j,S]),y.jsx("div",{className:"react-flow__renderer",ref:z,style:Kl,children:k})}const Dk=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Ok(){const{userSelectionActive:e,userSelectionRect:r}=be(Dk,Ae);return e&&r?y.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:r.width,height:r.height,transform:`translate(${r.x}px, ${r.y}px)`}}):null}const uc=(e,r)=>o=>{o.target===r.current&&(e==null||e(o))},Fk=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function Hk({isSelecting:e,selectionKeyPressed:r,selectionMode:o=Ei.Full,panOnDrag:s,paneClickDistance:l,selectionOnDrag:u,onSelectionStart:c,onSelectionEnd:f,onPaneClick:h,onPaneContextMenu:g,onPaneScroll:v,onPaneMouseEnter:m,onPaneMouseMove:x,onPaneMouseLeave:E,children:k}){const b=$e(),{userSelectionActive:C,elementsSelectable:N,dragging:I,connectionInProgress:S}=be(Fk,Ae),j=N&&(e||C),O=_.useRef(null),z=_.useRef(),P=_.useRef(new Set),D=_.useRef(new Set),H=_.useRef(!1),Z=T=>{if(H.current||S){H.current=!1;return}h==null||h(T),b.getState().resetSelectedElements(),b.setState({nodesSelectionActive:!1})},W=T=>{if(Array.isArray(s)&&(s!=null&&s.includes(2))){T.preventDefault();return}g==null||g(T)},Y=v?T=>v(T):void 0,J=T=>{H.current&&(T.stopPropagation(),H.current=!1)},R=T=>{var le,ae;const{domNode:A}=b.getState();if(z.current=A==null?void 0:A.getBoundingClientRect(),!z.current)return;const U=T.target===O.current;if(!U&&!!T.target.closest(".nokey")||!e||!(u&&U||r)||T.button!==0||!T.isPrimary)return;(ae=(le=T.target)==null?void 0:le.setPointerCapture)==null||ae.call(le,T.pointerId),H.current=!1;const{x:ne,y:te}=Ht(T.nativeEvent,z.current);b.setState({userSelectionRect:{width:0,height:0,startX:ne,startY:te,x:ne,y:te}}),U||(T.stopPropagation(),T.preventDefault())},G=T=>{const{userSelectionRect:A,transform:U,nodeLookup:M,edgeLookup:F,connectionLookup:ne,triggerNodeChanges:te,triggerEdgeChanges:le,defaultEdgeOptions:ae,resetSelectedElements:ue}=b.getState();if(!z.current||!A)return;const{x:ee,y:ce}=Ht(T.nativeEvent,z.current),{startX:we,startY:Ee}=A;if(!H.current){const _e=r?0:l;if(Math.hypot(ee-we,ce-Ee)<=_e)return;ue(),c==null||c(T)}H.current=!0;const Se={startX:we,startY:Ee,x:ee<we?ee:we,y:ce<Ee?ce:Ee,width:Math.abs(ee-we),height:Math.abs(ce-Ee)},ye=P.current,Ce=D.current;P.current=new Set(Yc(M,Se,U,o===Ei.Partial,!0).map(_e=>_e.id)),D.current=new Set;const Pe=(ae==null?void 0:ae.selectable)??!0;for(const _e of P.current){const We=ne.get(_e);if(We)for(const{edgeId:Pt}of We.values()){const ht=F.get(Pt);ht&&(ht.selectable??Pe)&&D.current.add(Pt)}}if(!cp(ye,P.current)){const _e=no(M,P.current,!0);te(_e)}if(!cp(Ce,D.current)){const _e=no(F,D.current);le(_e)}b.setState({userSelectionRect:Se,userSelectionActive:!0,nodesSelectionActive:!1})},V=T=>{var A,U;T.button===0&&((U=(A=T.target)==null?void 0:A.releasePointerCapture)==null||U.call(A,T.pointerId),!C&&T.target===O.current&&b.getState().userSelectionRect&&(Z==null||Z(T)),b.setState({userSelectionActive:!1,userSelectionRect:null}),H.current&&(f==null||f(T),b.setState({nodesSelectionActive:P.current.size>0})))},Q=s===!0||Array.isArray(s)&&s.includes(0);return y.jsxs("div",{className:Ye(["react-flow__pane",{draggable:Q,dragging:I,selection:e}]),onClick:j?void 0:uc(Z,O),onContextMenu:uc(W,O),onWheel:uc(Y,O),onPointerEnter:j?void 0:m,onPointerMove:j?G:x,onPointerUp:j?V:void 0,onPointerDownCapture:j?R:void 0,onClickCapture:j?J:void 0,onPointerLeave:E,ref:O,style:Kl,children:[k,y.jsx(Ok,{})]})}function jc({id:e,store:r,unselect:o=!1,nodeRef:s}){const{addSelectedNodes:l,unselectNodesAndEdges:u,multiSelectionActive:c,nodeLookup:f,onError:h}=r.getState(),g=f.get(e);if(!g){h==null||h("012",Zt.error012(e));return}r.setState({nodesSelectionActive:!1}),g.selected?(o||g.selected&&c)&&(u({nodes:[g],edges:[]}),requestAnimationFrame(()=>{var v;return(v=s==null?void 0:s.current)==null?void 0:v.blur()})):l([e])}function F0({nodeRef:e,disabled:r=!1,noDragClassName:o,handleSelector:s,nodeId:l,isSelectable:u,nodeClickDistance:c}){const f=$e(),[h,g]=_.useState(!1),v=_.useRef();return _.useEffect(()=>{v.current=jE({getStoreItems:()=>f.getState(),onNodeMouseDown:m=>{jc({id:m,store:f,nodeRef:e})},onDragStart:()=>{g(!0)},onDragStop:()=>{g(!1)}})},[]),_.useEffect(()=>{var m,x;if(r)(m=v.current)==null||m.destroy();else if(e.current)return(x=v.current)==null||x.update({noDragClassName:o,handleSelector:s,domNode:e.current,isSelectable:u,nodeId:l,nodeClickDistance:c}),()=>{var E;(E=v.current)==null||E.destroy()}},[o,s,r,u,e,l]),h}const Bk=e=>r=>r.selected&&(r.draggable||e&&typeof r.draggable>"u");function H0(){const e=$e();return _.useCallback(o=>{const{nodeExtent:s,snapToGrid:l,snapGrid:u,nodesDraggable:c,onError:f,updateNodePositions:h,nodeLookup:g,nodeOrigin:v}=e.getState(),m=new Map,x=Bk(c),E=l?u[0]:5,k=l?u[1]:5,b=o.direction.x*E*o.factor,C=o.direction.y*k*o.factor;for(const[,N]of g){if(!x(N))continue;let I={x:N.internals.positionAbsolute.x+b,y:N.internals.positionAbsolute.y+C};l&&(I=Ti(I,u));const{position:S,positionAbsolute:j}=i0({nodeId:N.id,nextPosition:I,nodeLookup:g,nodeExtent:s,nodeOrigin:v,onError:f});N.position=S,N.internals.positionAbsolute=j,m.set(N.id,N)}h(m)},[])}const td=_.createContext(null),Vk=td.Provider;td.Consumer;const B0=()=>_.useContext(td),Wk=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),Uk=(e,r,o)=>s=>{const{connectionClickStartHandle:l,connectionMode:u,connection:c}=s,{fromHandle:f,toHandle:h,isValid:g}=c,v=(h==null?void 0:h.nodeId)===e&&(h==null?void 0:h.id)===r&&(h==null?void 0:h.type)===o;return{connectingFrom:(f==null?void 0:f.nodeId)===e&&(f==null?void 0:f.id)===r&&(f==null?void 0:f.type)===o,connectingTo:v,clickConnecting:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===r&&(l==null?void 0:l.type)===o,isPossibleEndHandle:u===lo.Strict?(f==null?void 0:f.type)!==o:e!==(f==null?void 0:f.nodeId)||r!==(f==null?void 0:f.id),connectionInProcess:!!f,clickConnectionInProcess:!!l,valid:v&&g}};function Yk({type:e="source",position:r=ge.Top,isValidConnection:o,isConnectable:s=!0,isConnectableStart:l=!0,isConnectableEnd:u=!0,id:c,onConnect:f,children:h,className:g,onMouseDown:v,onTouchStart:m,...x},E){var G,V;const k=c||null,b=e==="target",C=$e(),N=B0(),{connectOnClick:I,noPanClassName:S,rfId:j}=be(Wk,Ae),{connectingFrom:O,connectingTo:z,clickConnecting:P,isPossibleEndHandle:D,connectionInProcess:H,clickConnectionInProcess:Z,valid:W}=be(Uk(N,k,e),Ae);N||(V=(G=C.getState()).onError)==null||V.call(G,"010",Zt.error010());const Y=Q=>{const{defaultEdgeOptions:T,onConnect:A,hasDefaultEdges:U}=C.getState(),M={...T,...Q};if(U){const{edges:F,setEdges:ne}=C.getState();ne(y0(M,F))}A==null||A(M),f==null||f(M)},J=Q=>{if(!N)return;const T=h0(Q.nativeEvent);if(l&&(T&&Q.button===0||!T)){const A=C.getState();bc.onPointerDown(Q.nativeEvent,{handleDomNode:Q.currentTarget,autoPanOnConnect:A.autoPanOnConnect,connectionMode:A.connectionMode,connectionRadius:A.connectionRadius,domNode:A.domNode,nodeLookup:A.nodeLookup,lib:A.lib,isTarget:b,handleId:k,nodeId:N,flowId:A.rfId,panBy:A.panBy,cancelConnection:A.cancelConnection,onConnectStart:A.onConnectStart,onConnectEnd:A.onConnectEnd,updateConnection:A.updateConnection,onConnect:Y,isValidConnection:o||A.isValidConnection,getTransform:()=>C.getState().transform,getFromHandle:()=>C.getState().connection.fromHandle,autoPanSpeed:A.autoPanSpeed,dragThreshold:A.connectionDragThreshold})}T?v==null||v(Q):m==null||m(Q)},R=Q=>{const{onClickConnectStart:T,onClickConnectEnd:A,connectionClickStartHandle:U,connectionMode:M,isValidConnection:F,lib:ne,rfId:te,nodeLookup:le,connection:ae}=C.getState();if(!N||!U&&!l)return;if(!U){T==null||T(Q.nativeEvent,{nodeId:N,handleId:k,handleType:e}),C.setState({connectionClickStartHandle:{nodeId:N,type:e,id:k}});return}const ue=d0(Q.target),ee=o||F,{connection:ce,isValid:we}=bc.isValid(Q.nativeEvent,{handle:{nodeId:N,id:k,type:e},connectionMode:M,fromNodeId:U.nodeId,fromHandleId:U.id||null,fromType:U.type,isValidConnection:ee,flowId:te,doc:ue,lib:ne,nodeLookup:le});we&&ce&&Y(ce);const Ee=structuredClone(ae);delete Ee.inProgress,Ee.toPosition=Ee.toHandle?Ee.toHandle.position:null,A==null||A(Q,Ee),C.setState({connectionClickStartHandle:null})};return y.jsx("div",{"data-handleid":k,"data-nodeid":N,"data-handlepos":r,"data-id":`${j}-${N}-${k}-${e}`,className:Ye(["react-flow__handle",`react-flow__handle-${r}`,"nodrag",S,g,{source:!b,target:b,connectable:s,connectablestart:l,connectableend:u,clickconnecting:P,connectingfrom:O,connectingto:z,valid:W,connectionindicator:s&&(!H||D)&&(H||Z?u:l)}]),onMouseDown:J,onTouchStart:J,onClick:I?R:void 0,ref:E,...x,children:h})}const ho=_.memo(D0(Yk));function Xk({data:e,isConnectable:r,sourcePosition:o=ge.Bottom}){return y.jsxs(y.Fragment,{children:[e==null?void 0:e.label,y.jsx(ho,{type:"source",position:o,isConnectable:r})]})}function Qk({data:e,isConnectable:r,targetPosition:o=ge.Top,sourcePosition:s=ge.Bottom}){return y.jsxs(y.Fragment,{children:[y.jsx(ho,{type:"target",position:o,isConnectable:r}),e==null?void 0:e.label,y.jsx(ho,{type:"source",position:s,isConnectable:r})]})}function Gk(){return null}function Kk({data:e,isConnectable:r,targetPosition:o=ge.Top}){return y.jsxs(y.Fragment,{children:[y.jsx(ho,{type:"target",position:o,isConnectable:r}),e==null?void 0:e.label]})}const Tl={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Fp={input:Xk,default:Qk,output:Kk,group:Gk};function qk(e){var r,o,s,l;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((r=e.style)==null?void 0:r.width),height:e.height??e.initialHeight??((o=e.style)==null?void 0:o.height)}:{width:e.width??((s=e.style)==null?void 0:s.width),height:e.height??((l=e.style)==null?void 0:l.height)}}const Zk=e=>{const{width:r,height:o,x:s,y:l}=Li(e.nodeLookup,{filter:u=>!!u.selected});return{width:Ft(r)?r:null,height:Ft(o)?o:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${s}px,${l}px)`}};function Jk({onSelectionContextMenu:e,noPanClassName:r,disableKeyboardA11y:o}){const s=$e(),{width:l,height:u,transformString:c,userSelectionActive:f}=be(Zk,Ae),h=H0(),g=_.useRef(null);if(_.useEffect(()=>{var x;o||(x=g.current)==null||x.focus({preventScroll:!0})},[o]),F0({nodeRef:g}),f||!l||!u)return null;const v=e?x=>{const E=s.getState().nodes.filter(k=>k.selected);e(x,E)}:void 0,m=x=>{Object.prototype.hasOwnProperty.call(Tl,x.key)&&(x.preventDefault(),h({direction:Tl[x.key],factor:x.shiftKey?4:1}))};return y.jsx("div",{className:Ye(["react-flow__nodesselection","react-flow__container",r]),style:{transform:c},children:y.jsx("div",{ref:g,className:"react-flow__nodesselection-rect",onContextMenu:v,tabIndex:o?void 0:-1,onKeyDown:o?void 0:m,style:{width:l,height:u}})})}const Hp=typeof window<"u"?window:void 0,eN=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function V0({children:e,onPaneClick:r,onPaneMouseEnter:o,onPaneMouseMove:s,onPaneMouseLeave:l,onPaneContextMenu:u,onPaneScroll:c,paneClickDistance:f,deleteKeyCode:h,selectionKeyCode:g,selectionOnDrag:v,selectionMode:m,onSelectionStart:x,onSelectionEnd:E,multiSelectionKeyCode:k,panActivationKeyCode:b,zoomActivationKeyCode:C,elementsSelectable:N,zoomOnScroll:I,zoomOnPinch:S,panOnScroll:j,panOnScrollSpeed:O,panOnScrollMode:z,zoomOnDoubleClick:P,panOnDrag:D,defaultViewport:H,translateExtent:Z,minZoom:W,maxZoom:Y,preventScrolling:J,onSelectionContextMenu:R,noWheelClassName:G,noPanClassName:V,disableKeyboardA11y:Q,onViewportChange:T,isControlledViewport:A}){const{nodesSelectionActive:U,userSelectionActive:M}=be(eN,Ae),F=Ci(g,{target:Hp}),ne=Ci(b,{target:Hp}),te=ne||D,le=ne||j,ae=v&&te!==!0,ue=F||M||ae;return Tk({deleteKeyCode:h,multiSelectionKeyCode:k}),y.jsx($k,{onPaneContextMenu:u,elementsSelectable:N,zoomOnScroll:I,zoomOnPinch:S,panOnScroll:le,panOnScrollSpeed:O,panOnScrollMode:z,zoomOnDoubleClick:P,panOnDrag:!F&&te,defaultViewport:H,translateExtent:Z,minZoom:W,maxZoom:Y,zoomActivationKeyCode:C,preventScrolling:J,noWheelClassName:G,noPanClassName:V,onViewportChange:T,isControlledViewport:A,paneClickDistance:f,selectionOnDrag:ae,children:y.jsxs(Hk,{onSelectionStart:x,onSelectionEnd:E,onPaneClick:r,onPaneMouseEnter:o,onPaneMouseMove:s,onPaneMouseLeave:l,onPaneContextMenu:u,onPaneScroll:c,panOnDrag:te,isSelecting:!!ue,selectionMode:m,selectionKeyPressed:F,paneClickDistance:f,selectionOnDrag:ae,children:[e,U&&y.jsx(Jk,{onSelectionContextMenu:R,noPanClassName:V,disableKeyboardA11y:Q})]})})}V0.displayName="FlowRenderer";const tN=_.memo(V0),nN=e=>r=>e?Yc(r.nodeLookup,{x:0,y:0,width:r.width,height:r.height},r.transform,!0).map(o=>o.id):Array.from(r.nodeLookup.keys());function rN(e){return be(_.useCallback(nN(e),[e]),Ae)}const oN=e=>e.updateNodeInternals;function iN(){const e=be(oN),[r]=_.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(o=>{const s=new Map;o.forEach(l=>{const u=l.target.getAttribute("data-id");s.set(u,{id:u,nodeElement:l.target,force:!0})}),e(s)}));return _.useEffect(()=>()=>{r==null||r.disconnect()},[r]),r}function sN({node:e,nodeType:r,hasDimensions:o,resizeObserver:s}){const l=$e(),u=_.useRef(null),c=_.useRef(null),f=_.useRef(e.sourcePosition),h=_.useRef(e.targetPosition),g=_.useRef(r),v=o&&!!e.internals.handleBounds;return _.useEffect(()=>{u.current&&!e.hidden&&(!v||c.current!==u.current)&&(c.current&&(s==null||s.unobserve(c.current)),s==null||s.observe(u.current),c.current=u.current)},[v,e.hidden]),_.useEffect(()=>()=>{c.current&&(s==null||s.unobserve(c.current),c.current=null)},[]),_.useEffect(()=>{if(u.current){const m=g.current!==r,x=f.current!==e.sourcePosition,E=h.current!==e.targetPosition;(m||x||E)&&(g.current=r,f.current=e.sourcePosition,h.current=e.targetPosition,l.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:u.current,force:!0}]])))}},[e.id,r,e.sourcePosition,e.targetPosition]),u}function lN({id:e,onClick:r,onMouseEnter:o,onMouseMove:s,onMouseLeave:l,onContextMenu:u,onDoubleClick:c,nodesDraggable:f,elementsSelectable:h,nodesConnectable:g,nodesFocusable:v,resizeObserver:m,noDragClassName:x,noPanClassName:E,disableKeyboardA11y:k,rfId:b,nodeTypes:C,nodeClickDistance:N,onError:I}){const{node:S,internals:j,isParent:O}=be(ee=>{const ce=ee.nodeLookup.get(e),we=ee.parentLookup.has(e);return{node:ce,internals:ce.internals,isParent:we}},Ae);let z=S.type||"default",P=(C==null?void 0:C[z])||Fp[z];P===void 0&&(I==null||I("003",Zt.error003(z)),z="default",P=(C==null?void 0:C.default)||Fp.default);const D=!!(S.draggable||f&&typeof S.draggable>"u"),H=!!(S.selectable||h&&typeof S.selectable>"u"),Z=!!(S.connectable||g&&typeof S.connectable>"u"),W=!!(S.focusable||v&&typeof S.focusable>"u"),Y=$e(),J=u0(S),R=sN({node:S,nodeType:z,hasDimensions:J,resizeObserver:m}),G=F0({nodeRef:R,disabled:S.hidden||!D,noDragClassName:x,handleSelector:S.dragHandle,nodeId:e,isSelectable:H,nodeClickDistance:N}),V=H0();if(S.hidden)return null;const Q=xn(S),T=qk(S),A=H||D||r||o||s||l,U=o?ee=>o(ee,{...j.userNode}):void 0,M=s?ee=>s(ee,{...j.userNode}):void 0,F=l?ee=>l(ee,{...j.userNode}):void 0,ne=u?ee=>u(ee,{...j.userNode}):void 0,te=c?ee=>c(ee,{...j.userNode}):void 0,le=ee=>{const{selectNodesOnDrag:ce,nodeDragThreshold:we}=Y.getState();H&&(!ce||!D||we>0)&&jc({id:e,store:Y,nodeRef:R}),r&&r(ee,{...j.userNode})},ae=ee=>{if(!(f0(ee.nativeEvent)||k)){if(e0.includes(ee.key)&&H){const ce=ee.key==="Escape";jc({id:e,store:Y,unselect:ce,nodeRef:R})}else if(D&&S.selected&&Object.prototype.hasOwnProperty.call(Tl,ee.key)){ee.preventDefault();const{ariaLabelConfig:ce}=Y.getState();Y.setState({ariaLiveMessage:ce["node.a11yDescription.ariaLiveMessage"]({direction:ee.key.replace("Arrow","").toLowerCase(),x:~~j.positionAbsolute.x,y:~~j.positionAbsolute.y})}),V({direction:Tl[ee.key],factor:ee.shiftKey?4:1})}}},ue=()=>{var Ce;if(k||!((Ce=R.current)!=null&&Ce.matches(":focus-visible")))return;const{transform:ee,width:ce,height:we,autoPanOnNodeFocus:Ee,setCenter:Se}=Y.getState();if(!Ee)return;Yc(new Map([[e,S]]),{x:0,y:0,width:ce,height:we},ee,!0).length>0||Se(S.position.x+Q.width/2,S.position.y+Q.height/2,{zoom:ee[2]})};return y.jsx("div",{className:Ye(["react-flow__node",`react-flow__node-${z}`,{[E]:D},S.className,{selected:S.selected,selectable:H,parent:O,draggable:D,dragging:G}]),ref:R,style:{zIndex:j.z,transform:`translate(${j.positionAbsolute.x}px,${j.positionAbsolute.y}px)`,pointerEvents:A?"all":"none",visibility:J?"visible":"hidden",...S.style,...T},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:U,onMouseMove:M,onMouseLeave:F,onContextMenu:ne,onClick:le,onDoubleClick:te,onKeyDown:W?ae:void 0,tabIndex:W?0:void 0,onFocus:W?ue:void 0,role:S.ariaRole??(W?"group":void 0),"aria-roledescription":"node","aria-describedby":k?void 0:`${R0}-${b}`,"aria-label":S.ariaLabel,...S.domAttributes,children:y.jsx(Vk,{value:e,children:y.jsx(P,{id:e,data:S.data,type:z,positionAbsoluteX:j.positionAbsolute.x,positionAbsoluteY:j.positionAbsolute.y,selected:S.selected??!1,selectable:H,draggable:D,deletable:S.deletable??!0,isConnectable:Z,sourcePosition:S.sourcePosition,targetPosition:S.targetPosition,dragging:G,dragHandle:S.dragHandle,zIndex:j.z,parentId:S.parentId,...Q})})})}var aN=_.memo(lN);const uN=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function W0(e){const{nodesDraggable:r,nodesConnectable:o,nodesFocusable:s,elementsSelectable:l,onError:u}=be(uN,Ae),c=rN(e.onlyRenderVisibleElements),f=iN();return y.jsx("div",{className:"react-flow__nodes",style:Kl,children:c.map(h=>y.jsx(aN,{id:h,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:f,nodesDraggable:r,nodesConnectable:o,nodesFocusable:s,elementsSelectable:l,nodeClickDistance:e.nodeClickDistance,onError:u},h))})}W0.displayName="NodeRenderer";const cN=_.memo(W0);function dN(e){return be(_.useCallback(o=>{if(!e)return o.edges.map(l=>l.id);const s=[];if(o.width&&o.height)for(const l of o.edges){const u=o.nodeLookup.get(l.source),c=o.nodeLookup.get(l.target);u&&c&&cE({sourceNode:u,targetNode:c,width:o.width,height:o.height,transform:o.transform})&&s.push(l.id)}return s},[e]),Ae)}const fN=({color:e="none",strokeWidth:r=1})=>{const o={strokeWidth:r,...e&&{stroke:e}};return y.jsx("polyline",{className:"arrow",style:o,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},hN=({color:e="none",strokeWidth:r=1})=>{const o={strokeWidth:r,...e&&{stroke:e,fill:e}};return y.jsx("polyline",{className:"arrowclosed",style:o,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Bp={[Pl.Arrow]:fN,[Pl.ArrowClosed]:hN};function pN(e){const r=$e();return _.useMemo(()=>{var l,u;return Object.prototype.hasOwnProperty.call(Bp,e)?Bp[e]:((u=(l=r.getState()).onError)==null||u.call(l,"009",Zt.error009(e)),null)},[e])}const mN=({id:e,type:r,color:o,width:s=12.5,height:l=12.5,markerUnits:u="strokeWidth",strokeWidth:c,orient:f="auto-start-reverse"})=>{const h=pN(r);return h?y.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${s}`,markerHeight:`${l}`,viewBox:"-10 -10 20 20",markerUnits:u,orient:f,refX:"0",refY:"0",children:y.jsx(h,{color:o,strokeWidth:c})}):null},U0=({defaultColor:e,rfId:r})=>{const o=be(u=>u.edges),s=be(u=>u.defaultEdgeOptions),l=_.useMemo(()=>yE(o,{id:r,defaultColor:e,defaultMarkerStart:s==null?void 0:s.markerStart,defaultMarkerEnd:s==null?void 0:s.markerEnd}),[o,s,r,e]);return l.length?y.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:y.jsx("defs",{children:l.map(u=>y.jsx(mN,{id:u.id,type:u.type,color:u.color,width:u.width,height:u.height,markerUnits:u.markerUnits,strokeWidth:u.strokeWidth,orient:u.orient},u.id))})}):null};U0.displayName="MarkerDefinitions";var gN=_.memo(U0);function Y0({x:e,y:r,label:o,labelStyle:s,labelShowBg:l=!0,labelBgStyle:u,labelBgPadding:c=[2,4],labelBgBorderRadius:f=2,children:h,className:g,...v}){const[m,x]=_.useState({x:1,y:0,width:0,height:0}),E=Ye(["react-flow__edge-textwrapper",g]),k=_.useRef(null);return _.useEffect(()=>{if(k.current){const b=k.current.getBBox();x({x:b.x,y:b.y,width:b.width,height:b.height})}},[o]),o?y.jsxs("g",{transform:`translate(${e-m.width/2} ${r-m.height/2})`,className:E,visibility:m.width?"visible":"hidden",...v,children:[l&&y.jsx("rect",{width:m.width+2*c[0],x:-c[0],y:-c[1],height:m.height+2*c[1],className:"react-flow__edge-textbg",style:u,rx:f,ry:f}),y.jsx("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:k,style:s,children:o}),h]}):null}Y0.displayName="EdgeText";const yN=_.memo(Y0);function ql({path:e,labelX:r,labelY:o,label:s,labelStyle:l,labelShowBg:u,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:h,interactionWidth:g=20,...v}){return y.jsxs(y.Fragment,{children:[y.jsx("path",{...v,d:e,fill:"none",className:Ye(["react-flow__edge-path",v.className])}),g?y.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:g,className:"react-flow__edge-interaction"}):null,s&&Ft(r)&&Ft(o)?y.jsx(yN,{x:r,y:o,label:s,labelStyle:l,labelShowBg:u,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:h}):null]})}function Vp({pos:e,x1:r,y1:o,x2:s,y2:l}){return e===ge.Left||e===ge.Right?[.5*(r+s),o]:[r,.5*(o+l)]}function X0({sourceX:e,sourceY:r,sourcePosition:o=ge.Bottom,targetX:s,targetY:l,targetPosition:u=ge.Top}){const[c,f]=Vp({pos:o,x1:e,y1:r,x2:s,y2:l}),[h,g]=Vp({pos:u,x1:s,y1:l,x2:e,y2:r}),[v,m,x,E]=p0({sourceX:e,sourceY:r,targetX:s,targetY:l,sourceControlX:c,sourceControlY:f,targetControlX:h,targetControlY:g});return[`M${e},${r} C${c},${f} ${h},${g} ${s},${l}`,v,m,x,E]}function Q0(e){return _.memo(({id:r,sourceX:o,sourceY:s,targetX:l,targetY:u,sourcePosition:c,targetPosition:f,label:h,labelStyle:g,labelShowBg:v,labelBgStyle:m,labelBgPadding:x,labelBgBorderRadius:E,style:k,markerEnd:b,markerStart:C,interactionWidth:N})=>{const[I,S,j]=X0({sourceX:o,sourceY:s,sourcePosition:c,targetX:l,targetY:u,targetPosition:f}),O=e.isInternal?void 0:r;return y.jsx(ql,{id:O,path:I,labelX:S,labelY:j,label:h,labelStyle:g,labelShowBg:v,labelBgStyle:m,labelBgPadding:x,labelBgBorderRadius:E,style:k,markerEnd:b,markerStart:C,interactionWidth:N})})}const vN=Q0({isInternal:!1}),G0=Q0({isInternal:!0});vN.displayName="SimpleBezierEdge";G0.displayName="SimpleBezierEdgeInternal";function K0(e){return _.memo(({id:r,sourceX:o,sourceY:s,targetX:l,targetY:u,label:c,labelStyle:f,labelShowBg:h,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:m,style:x,sourcePosition:E=ge.Bottom,targetPosition:k=ge.Top,markerEnd:b,markerStart:C,pathOptions:N,interactionWidth:I})=>{const[S,j,O]=Nc({sourceX:o,sourceY:s,sourcePosition:E,targetX:l,targetY:u,targetPosition:k,borderRadius:N==null?void 0:N.borderRadius,offset:N==null?void 0:N.offset,stepPosition:N==null?void 0:N.stepPosition}),z=e.isInternal?void 0:r;return y.jsx(ql,{id:z,path:S,labelX:j,labelY:O,label:c,labelStyle:f,labelShowBg:h,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:m,style:x,markerEnd:b,markerStart:C,interactionWidth:I})})}const q0=K0({isInternal:!1}),Z0=K0({isInternal:!0});q0.displayName="SmoothStepEdge";Z0.displayName="SmoothStepEdgeInternal";function J0(e){return _.memo(({id:r,...o})=>{var l;const s=e.isInternal?void 0:r;return y.jsx(q0,{...o,id:s,pathOptions:_.useMemo(()=>{var u;return{borderRadius:0,offset:(u=o.pathOptions)==null?void 0:u.offset}},[(l=o.pathOptions)==null?void 0:l.offset])})})}const xN=J0({isInternal:!1}),eg=J0({isInternal:!0});xN.displayName="StepEdge";eg.displayName="StepEdgeInternal";function tg(e){return _.memo(({id:r,sourceX:o,sourceY:s,targetX:l,targetY:u,label:c,labelStyle:f,labelShowBg:h,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:m,style:x,markerEnd:E,markerStart:k,interactionWidth:b})=>{const[C,N,I]=v0({sourceX:o,sourceY:s,targetX:l,targetY:u}),S=e.isInternal?void 0:r;return y.jsx(ql,{id:S,path:C,labelX:N,labelY:I,label:c,labelStyle:f,labelShowBg:h,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:m,style:x,markerEnd:E,markerStart:k,interactionWidth:b})})}const wN=tg({isInternal:!1}),ng=tg({isInternal:!0});wN.displayName="StraightEdge";ng.displayName="StraightEdgeInternal";function rg(e){return _.memo(({id:r,sourceX:o,sourceY:s,targetX:l,targetY:u,sourcePosition:c=ge.Bottom,targetPosition:f=ge.Top,label:h,labelStyle:g,labelShowBg:v,labelBgStyle:m,labelBgPadding:x,labelBgBorderRadius:E,style:k,markerEnd:b,markerStart:C,pathOptions:N,interactionWidth:I})=>{const[S,j,O]=m0({sourceX:o,sourceY:s,sourcePosition:c,targetX:l,targetY:u,targetPosition:f,curvature:N==null?void 0:N.curvature}),z=e.isInternal?void 0:r;return y.jsx(ql,{id:z,path:S,labelX:j,labelY:O,label:h,labelStyle:g,labelShowBg:v,labelBgStyle:m,labelBgPadding:x,labelBgBorderRadius:E,style:k,markerEnd:b,markerStart:C,interactionWidth:I})})}const SN=rg({isInternal:!1}),og=rg({isInternal:!0});SN.displayName="BezierEdge";og.displayName="BezierEdgeInternal";const Wp={default:og,straight:ng,step:eg,smoothstep:Z0,simplebezier:G0},Up={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},EN=(e,r,o)=>o===ge.Left?e-r:o===ge.Right?e+r:e,kN=(e,r,o)=>o===ge.Top?e-r:o===ge.Bottom?e+r:e,Yp="react-flow__edgeupdater";function Xp({position:e,centerX:r,centerY:o,radius:s=10,onMouseDown:l,onMouseEnter:u,onMouseOut:c,type:f}){return y.jsx("circle",{onMouseDown:l,onMouseEnter:u,onMouseOut:c,className:Ye([Yp,`${Yp}-${f}`]),cx:EN(r,s,e),cy:kN(o,s,e),r:s,stroke:"transparent",fill:"transparent"})}function NN({isReconnectable:e,reconnectRadius:r,edge:o,sourceX:s,sourceY:l,targetX:u,targetY:c,sourcePosition:f,targetPosition:h,onReconnect:g,onReconnectStart:v,onReconnectEnd:m,setReconnecting:x,setUpdateHover:E}){const k=$e(),b=(j,O)=>{if(j.button!==0)return;const{autoPanOnConnect:z,domNode:P,isValidConnection:D,connectionMode:H,connectionRadius:Z,lib:W,onConnectStart:Y,onConnectEnd:J,cancelConnection:R,nodeLookup:G,rfId:V,panBy:Q,updateConnection:T}=k.getState(),A=O.type==="target",U=(ne,te)=>{x(!1),m==null||m(ne,o,O.type,te)},M=ne=>g==null?void 0:g(o,ne),F=(ne,te)=>{x(!0),v==null||v(j,o,O.type),Y==null||Y(ne,te)};bc.onPointerDown(j.nativeEvent,{autoPanOnConnect:z,connectionMode:H,connectionRadius:Z,domNode:P,handleId:O.id,nodeId:O.nodeId,nodeLookup:G,isTarget:A,edgeUpdaterType:O.type,lib:W,flowId:V,cancelConnection:R,panBy:Q,isValidConnection:D,onConnect:M,onConnectStart:F,onConnectEnd:J,onReconnectEnd:U,updateConnection:T,getTransform:()=>k.getState().transform,getFromHandle:()=>k.getState().connection.fromHandle,dragThreshold:k.getState().connectionDragThreshold,handleDomNode:j.currentTarget})},C=j=>b(j,{nodeId:o.target,id:o.targetHandle??null,type:"target"}),N=j=>b(j,{nodeId:o.source,id:o.sourceHandle??null,type:"source"}),I=()=>E(!0),S=()=>E(!1);return y.jsxs(y.Fragment,{children:[(e===!0||e==="source")&&y.jsx(Xp,{position:f,centerX:s,centerY:l,radius:r,onMouseDown:C,onMouseEnter:I,onMouseOut:S,type:"source"}),(e===!0||e==="target")&&y.jsx(Xp,{position:h,centerX:u,centerY:c,radius:r,onMouseDown:N,onMouseEnter:I,onMouseOut:S,type:"target"})]})}function CN({id:e,edgesFocusable:r,edgesReconnectable:o,elementsSelectable:s,onClick:l,onDoubleClick:u,onContextMenu:c,onMouseEnter:f,onMouseMove:h,onMouseLeave:g,reconnectRadius:v,onReconnect:m,onReconnectStart:x,onReconnectEnd:E,rfId:k,edgeTypes:b,noPanClassName:C,onError:N,disableKeyboardA11y:I}){let S=be(Se=>Se.edgeLookup.get(e));const j=be(Se=>Se.defaultEdgeOptions);S=j?{...j,...S}:S;let O=S.type||"default",z=(b==null?void 0:b[O])||Wp[O];z===void 0&&(N==null||N("011",Zt.error011(O)),O="default",z=(b==null?void 0:b.default)||Wp.default);const P=!!(S.focusable||r&&typeof S.focusable>"u"),D=typeof m<"u"&&(S.reconnectable||o&&typeof S.reconnectable>"u"),H=!!(S.selectable||s&&typeof S.selectable>"u"),Z=_.useRef(null),[W,Y]=_.useState(!1),[J,R]=_.useState(!1),G=$e(),{zIndex:V,sourceX:Q,sourceY:T,targetX:A,targetY:U,sourcePosition:M,targetPosition:F}=be(_.useCallback(Se=>{const ye=Se.nodeLookup.get(S.source),Ce=Se.nodeLookup.get(S.target);if(!ye||!Ce)return{zIndex:S.zIndex,...Up};const Pe=gE({id:e,sourceNode:ye,targetNode:Ce,sourceHandle:S.sourceHandle||null,targetHandle:S.targetHandle||null,connectionMode:Se.connectionMode,onError:N});return{zIndex:uE({selected:S.selected,zIndex:S.zIndex,sourceNode:ye,targetNode:Ce,elevateOnSelect:Se.elevateEdgesOnSelect,zIndexMode:Se.zIndexMode}),...Pe||Up}},[S.source,S.target,S.sourceHandle,S.targetHandle,S.selected,S.zIndex]),Ae),ne=_.useMemo(()=>S.markerStart?`url('#${Cc(S.markerStart,k)}')`:void 0,[S.markerStart,k]),te=_.useMemo(()=>S.markerEnd?`url('#${Cc(S.markerEnd,k)}')`:void 0,[S.markerEnd,k]);if(S.hidden||Q===null||T===null||A===null||U===null)return null;const le=Se=>{var _e;const{addSelectedEdges:ye,unselectNodesAndEdges:Ce,multiSelectionActive:Pe}=G.getState();H&&(G.setState({nodesSelectionActive:!1}),S.selected&&Pe?(Ce({nodes:[],edges:[S]}),(_e=Z.current)==null||_e.blur()):ye([e])),l&&l(Se,S)},ae=u?Se=>{u(Se,{...S})}:void 0,ue=c?Se=>{c(Se,{...S})}:void 0,ee=f?Se=>{f(Se,{...S})}:void 0,ce=h?Se=>{h(Se,{...S})}:void 0,we=g?Se=>{g(Se,{...S})}:void 0,Ee=Se=>{var ye;if(!I&&e0.includes(Se.key)&&H){const{unselectNodesAndEdges:Ce,addSelectedEdges:Pe}=G.getState();Se.key==="Escape"?((ye=Z.current)==null||ye.blur(),Ce({edges:[S]})):Pe([e])}};return y.jsx("svg",{style:{zIndex:V},children:y.jsxs("g",{className:Ye(["react-flow__edge",`react-flow__edge-${O}`,S.className,C,{selected:S.selected,animated:S.animated,inactive:!H&&!l,updating:W,selectable:H}]),onClick:le,onDoubleClick:ae,onContextMenu:ue,onMouseEnter:ee,onMouseMove:ce,onMouseLeave:we,onKeyDown:P?Ee:void 0,tabIndex:P?0:void 0,role:S.ariaRole??(P?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":S.ariaLabel===null?void 0:S.ariaLabel||`Edge from ${S.source} to ${S.target}`,"aria-describedby":P?`${L0}-${k}`:void 0,ref:Z,...S.domAttributes,children:[!J&&y.jsx(z,{id:e,source:S.source,target:S.target,type:S.type,selected:S.selected,animated:S.animated,selectable:H,deletable:S.deletable??!0,label:S.label,labelStyle:S.labelStyle,labelShowBg:S.labelShowBg,labelBgStyle:S.labelBgStyle,labelBgPadding:S.labelBgPadding,labelBgBorderRadius:S.labelBgBorderRadius,sourceX:Q,sourceY:T,targetX:A,targetY:U,sourcePosition:M,targetPosition:F,data:S.data,style:S.style,sourceHandleId:S.sourceHandle,targetHandleId:S.targetHandle,markerStart:ne,markerEnd:te,pathOptions:"pathOptions"in S?S.pathOptions:void 0,interactionWidth:S.interactionWidth}),D&&y.jsx(NN,{edge:S,isReconnectable:D,reconnectRadius:v,onReconnect:m,onReconnectStart:x,onReconnectEnd:E,sourceX:Q,sourceY:T,targetX:A,targetY:U,sourcePosition:M,targetPosition:F,setUpdateHover:Y,setReconnecting:R})]})})}var _N=_.memo(CN);const bN=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function ig({defaultMarkerColor:e,onlyRenderVisibleElements:r,rfId:o,edgeTypes:s,noPanClassName:l,onReconnect:u,onEdgeContextMenu:c,onEdgeMouseEnter:f,onEdgeMouseMove:h,onEdgeMouseLeave:g,onEdgeClick:v,reconnectRadius:m,onEdgeDoubleClick:x,onReconnectStart:E,onReconnectEnd:k,disableKeyboardA11y:b}){const{edgesFocusable:C,edgesReconnectable:N,elementsSelectable:I,onError:S}=be(bN,Ae),j=dN(r);return y.jsxs("div",{className:"react-flow__edges",children:[y.jsx(gN,{defaultColor:e,rfId:o}),j.map(O=>y.jsx(_N,{id:O,edgesFocusable:C,edgesReconnectable:N,elementsSelectable:I,noPanClassName:l,onReconnect:u,onContextMenu:c,onMouseEnter:f,onMouseMove:h,onMouseLeave:g,onClick:v,reconnectRadius:m,onDoubleClick:x,onReconnectStart:E,onReconnectEnd:k,rfId:o,onError:S,edgeTypes:s,disableKeyboardA11y:b},O))]})}ig.displayName="EdgeRenderer";const jN=_.memo(ig),IN=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function MN({children:e}){const r=be(IN);return y.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:r},children:e})}function PN(e){const r=ed(),o=_.useRef(!1);_.useEffect(()=>{!o.current&&r.viewportInitialized&&e&&(setTimeout(()=>e(r),1),o.current=!0)},[e,r.viewportInitialized])}const RN=e=>{var r;return(r=e.panZoom)==null?void 0:r.syncViewport};function LN(e){const r=be(RN),o=$e();return _.useEffect(()=>{e&&(r==null||r(e),o.setState({transform:[e.x,e.y,e.zoom]}))},[e,r]),null}function TN(e){return e.connection.inProgress?{...e.connection,to:zi(e.connection.to,e.transform)}:{...e.connection}}function zN(e){return TN}function AN(e){const r=zN();return be(r,Ae)}const $N=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function DN({containerStyle:e,style:r,type:o,component:s}){const{nodesConnectable:l,width:u,height:c,isValid:f,inProgress:h}=be($N,Ae);return!(u&&l&&h)?null:y.jsx("svg",{style:e,width:u,height:c,className:"react-flow__connectionline react-flow__container",children:y.jsx("g",{className:Ye(["react-flow__connection",r0(f)]),children:y.jsx(sg,{style:r,type:o,CustomComponent:s,isValid:f})})})}const sg=({style:e,type:r=Wn.Bezier,CustomComponent:o,isValid:s})=>{const{inProgress:l,from:u,fromNode:c,fromHandle:f,fromPosition:h,to:g,toNode:v,toHandle:m,toPosition:x,pointer:E}=AN();if(!l)return;if(o)return y.jsx(o,{connectionLineType:r,connectionLineStyle:e,fromNode:c,fromHandle:f,fromX:u.x,fromY:u.y,toX:g.x,toY:g.y,fromPosition:h,toPosition:x,connectionStatus:r0(s),toNode:v,toHandle:m,pointer:E});let k="";const b={sourceX:u.x,sourceY:u.y,sourcePosition:h,targetX:g.x,targetY:g.y,targetPosition:x};switch(r){case Wn.Bezier:[k]=m0(b);break;case Wn.SimpleBezier:[k]=X0(b);break;case Wn.Step:[k]=Nc({...b,borderRadius:0});break;case Wn.SmoothStep:[k]=Nc(b);break;default:[k]=v0(b)}return y.jsx("path",{d:k,fill:"none",className:"react-flow__connection-path",style:e})};sg.displayName="ConnectionLine";const ON={};function Qp(e=ON){_.useRef(e),$e(),_.useEffect(()=>{},[e])}function FN(){$e(),_.useRef(!1),_.useEffect(()=>{},[])}function lg({nodeTypes:e,edgeTypes:r,onInit:o,onNodeClick:s,onEdgeClick:l,onNodeDoubleClick:u,onEdgeDoubleClick:c,onNodeMouseEnter:f,onNodeMouseMove:h,onNodeMouseLeave:g,onNodeContextMenu:v,onSelectionContextMenu:m,onSelectionStart:x,onSelectionEnd:E,connectionLineType:k,connectionLineStyle:b,connectionLineComponent:C,connectionLineContainerStyle:N,selectionKeyCode:I,selectionOnDrag:S,selectionMode:j,multiSelectionKeyCode:O,panActivationKeyCode:z,zoomActivationKeyCode:P,deleteKeyCode:D,onlyRenderVisibleElements:H,elementsSelectable:Z,defaultViewport:W,translateExtent:Y,minZoom:J,maxZoom:R,preventScrolling:G,defaultMarkerColor:V,zoomOnScroll:Q,zoomOnPinch:T,panOnScroll:A,panOnScrollSpeed:U,panOnScrollMode:M,zoomOnDoubleClick:F,panOnDrag:ne,onPaneClick:te,onPaneMouseEnter:le,onPaneMouseMove:ae,onPaneMouseLeave:ue,onPaneScroll:ee,onPaneContextMenu:ce,paneClickDistance:we,nodeClickDistance:Ee,onEdgeContextMenu:Se,onEdgeMouseEnter:ye,onEdgeMouseMove:Ce,onEdgeMouseLeave:Pe,reconnectRadius:_e,onReconnect:We,onReconnectStart:Pt,onReconnectEnd:ht,noDragClassName:pt,noWheelClassName:Et,noPanClassName:tn,disableKeyboardA11y:wn,nodeExtent:Sr,rfId:Xn,viewport:nn,onViewportChange:rn}){return Qp(e),Qp(r),FN(),PN(o),LN(nn),y.jsx(tN,{onPaneClick:te,onPaneMouseEnter:le,onPaneMouseMove:ae,onPaneMouseLeave:ue,onPaneContextMenu:ce,onPaneScroll:ee,paneClickDistance:we,deleteKeyCode:D,selectionKeyCode:I,selectionOnDrag:S,selectionMode:j,onSelectionStart:x,onSelectionEnd:E,multiSelectionKeyCode:O,panActivationKeyCode:z,zoomActivationKeyCode:P,elementsSelectable:Z,zoomOnScroll:Q,zoomOnPinch:T,zoomOnDoubleClick:F,panOnScroll:A,panOnScrollSpeed:U,panOnScrollMode:M,panOnDrag:ne,defaultViewport:W,translateExtent:Y,minZoom:J,maxZoom:R,onSelectionContextMenu:m,preventScrolling:G,noDragClassName:pt,noWheelClassName:Et,noPanClassName:tn,disableKeyboardA11y:wn,onViewportChange:rn,isControlledViewport:!!nn,children:y.jsxs(MN,{children:[y.jsx(jN,{edgeTypes:r,onEdgeClick:l,onEdgeDoubleClick:c,onReconnect:We,onReconnectStart:Pt,onReconnectEnd:ht,onlyRenderVisibleElements:H,onEdgeContextMenu:Se,onEdgeMouseEnter:ye,onEdgeMouseMove:Ce,onEdgeMouseLeave:Pe,reconnectRadius:_e,defaultMarkerColor:V,noPanClassName:tn,disableKeyboardA11y:wn,rfId:Xn}),y.jsx(DN,{style:b,type:k,component:C,containerStyle:N}),y.jsx("div",{className:"react-flow__edgelabel-renderer"}),y.jsx(cN,{nodeTypes:e,onNodeClick:s,onNodeDoubleClick:u,onNodeMouseEnter:f,onNodeMouseMove:h,onNodeMouseLeave:g,onNodeContextMenu:v,nodeClickDistance:Ee,onlyRenderVisibleElements:H,noPanClassName:tn,noDragClassName:pt,disableKeyboardA11y:wn,nodeExtent:Sr,rfId:Xn}),y.jsx("div",{className:"react-flow__viewport-portal"})]})})}lg.displayName="GraphView";const HN=_.memo(lg),Gp=({nodes:e,edges:r,defaultNodes:o,defaultEdges:s,width:l,height:u,fitView:c,fitViewOptions:f,minZoom:h=.5,maxZoom:g=2,nodeOrigin:v,nodeExtent:m,zIndexMode:x="basic"}={})=>{const E=new Map,k=new Map,b=new Map,C=new Map,N=s??r??[],I=o??e??[],S=v??[0,0],j=m??Si;S0(b,C,N);const O=_c(I,E,k,{nodeOrigin:S,nodeExtent:j,zIndexMode:x});let z=[0,0,1];if(c&&l&&u){const P=Li(E,{filter:W=>!!((W.width||W.initialWidth)&&(W.height||W.initialHeight))}),{x:D,y:H,zoom:Z}=Xc(P,l,u,h,g,(f==null?void 0:f.padding)??.1);z=[D,H,Z]}return{rfId:"1",width:l??0,height:u??0,transform:z,nodes:I,nodesInitialized:O,nodeLookup:E,parentLookup:k,edges:N,edgeLookup:C,connectionLookup:b,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:o!==void 0,hasDefaultEdges:s!==void 0,panZoom:null,minZoom:h,maxZoom:g,translateExtent:Si,nodeExtent:j,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:lo.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:S,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:c??!1,fitViewOptions:f,fitViewResolver:null,connection:{...n0},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:rE,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:t0,zIndexMode:x,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},BN=({nodes:e,edges:r,defaultNodes:o,defaultEdges:s,width:l,height:u,fitView:c,fitViewOptions:f,minZoom:h,maxZoom:g,nodeOrigin:v,nodeExtent:m,zIndexMode:x})=>sk((E,k)=>{async function b(){const{nodeLookup:C,panZoom:N,fitViewOptions:I,fitViewResolver:S,width:j,height:O,minZoom:z,maxZoom:P}=k();N&&(await tE({nodes:C,width:j,height:O,panZoom:N,minZoom:z,maxZoom:P},I),S==null||S.resolve(!0),E({fitViewResolver:null}))}return{...Gp({nodes:e,edges:r,width:l,height:u,fitView:c,fitViewOptions:f,minZoom:h,maxZoom:g,nodeOrigin:v,nodeExtent:m,defaultNodes:o,defaultEdges:s,zIndexMode:x}),setNodes:C=>{const{nodeLookup:N,parentLookup:I,nodeOrigin:S,elevateNodesOnSelect:j,fitViewQueued:O,zIndexMode:z}=k(),P=_c(C,N,I,{nodeOrigin:S,nodeExtent:m,elevateNodesOnSelect:j,checkEquality:!0,zIndexMode:z});O&&P?(b(),E({nodes:C,nodesInitialized:P,fitViewQueued:!1,fitViewOptions:void 0})):E({nodes:C,nodesInitialized:P})},setEdges:C=>{const{connectionLookup:N,edgeLookup:I}=k();S0(N,I,C),E({edges:C})},setDefaultNodesAndEdges:(C,N)=>{if(C){const{setNodes:I}=k();I(C),E({hasDefaultNodes:!0})}if(N){const{setEdges:I}=k();I(N),E({hasDefaultEdges:!0})}},updateNodeInternals:C=>{const{triggerNodeChanges:N,nodeLookup:I,parentLookup:S,domNode:j,nodeOrigin:O,nodeExtent:z,debug:P,fitViewQueued:D,zIndexMode:H}=k(),{changes:Z,updatedInternals:W}=NE(C,I,S,j,O,z,H);W&&(wE(I,S,{nodeOrigin:O,nodeExtent:z,zIndexMode:H}),D?(b(),E({fitViewQueued:!1,fitViewOptions:void 0})):E({}),(Z==null?void 0:Z.length)>0&&(P&&console.log("React Flow: trigger node changes",Z),N==null||N(Z)))},updateNodePositions:(C,N=!1)=>{const I=[];let S=[];const{nodeLookup:j,triggerNodeChanges:O,connection:z,updateConnection:P,onNodesChangeMiddlewareMap:D}=k();for(const[H,Z]of C){const W=j.get(H),Y=!!(W!=null&&W.expandParent&&(W!=null&&W.parentId)&&(Z!=null&&Z.position)),J={id:H,type:"position",position:Y?{x:Math.max(0,Z.position.x),y:Math.max(0,Z.position.y)}:Z.position,dragging:N};if(W&&z.inProgress&&z.fromNode.id===W.id){const R=wr(W,z.fromHandle,ge.Left,!0);P({...z,from:R})}Y&&W.parentId&&I.push({id:H,parentId:W.parentId,rect:{...Z.internals.positionAbsolute,width:Z.measured.width??0,height:Z.measured.height??0}}),S.push(J)}if(I.length>0){const{parentLookup:H,nodeOrigin:Z}=k(),W=Jc(I,j,H,Z);S.push(...W)}for(const H of D.values())S=H(S);O(S)},triggerNodeChanges:C=>{const{onNodesChange:N,setNodes:I,nodes:S,hasDefaultNodes:j,debug:O}=k();if(C!=null&&C.length){if(j){const z=A0(C,S);I(z)}O&&console.log("React Flow: trigger node changes",C),N==null||N(C)}},triggerEdgeChanges:C=>{const{onEdgesChange:N,setEdges:I,edges:S,hasDefaultEdges:j,debug:O}=k();if(C!=null&&C.length){if(j){const z=$0(C,S);I(z)}O&&console.log("React Flow: trigger edge changes",C),N==null||N(C)}},addSelectedNodes:C=>{const{multiSelectionActive:N,edgeLookup:I,nodeLookup:S,triggerNodeChanges:j,triggerEdgeChanges:O}=k();if(N){const z=C.map(P=>hr(P,!0));j(z);return}j(no(S,new Set([...C]),!0)),O(no(I))},addSelectedEdges:C=>{const{multiSelectionActive:N,edgeLookup:I,nodeLookup:S,triggerNodeChanges:j,triggerEdgeChanges:O}=k();if(N){const z=C.map(P=>hr(P,!0));O(z);return}O(no(I,new Set([...C]))),j(no(S,new Set,!0))},unselectNodesAndEdges:({nodes:C,edges:N}={})=>{const{edges:I,nodes:S,nodeLookup:j,triggerNodeChanges:O,triggerEdgeChanges:z}=k(),P=C||S,D=N||I,H=P.map(W=>{const Y=j.get(W.id);return Y&&(Y.selected=!1),hr(W.id,!1)}),Z=D.map(W=>hr(W.id,!1));O(H),z(Z)},setMinZoom:C=>{const{panZoom:N,maxZoom:I}=k();N==null||N.setScaleExtent([C,I]),E({minZoom:C})},setMaxZoom:C=>{const{panZoom:N,minZoom:I}=k();N==null||N.setScaleExtent([I,C]),E({maxZoom:C})},setTranslateExtent:C=>{var N;(N=k().panZoom)==null||N.setTranslateExtent(C),E({translateExtent:C})},resetSelectedElements:()=>{const{edges:C,nodes:N,triggerNodeChanges:I,triggerEdgeChanges:S,elementsSelectable:j}=k();if(!j)return;const O=N.reduce((P,D)=>D.selected?[...P,hr(D.id,!1)]:P,[]),z=C.reduce((P,D)=>D.selected?[...P,hr(D.id,!1)]:P,[]);I(O),S(z)},setNodeExtent:C=>{const{nodes:N,nodeLookup:I,parentLookup:S,nodeOrigin:j,elevateNodesOnSelect:O,nodeExtent:z,zIndexMode:P}=k();C[0][0]===z[0][0]&&C[0][1]===z[0][1]&&C[1][0]===z[1][0]&&C[1][1]===z[1][1]||(_c(N,I,S,{nodeOrigin:j,nodeExtent:C,elevateNodesOnSelect:O,checkEquality:!1,zIndexMode:P}),E({nodeExtent:C}))},panBy:C=>{const{transform:N,width:I,height:S,panZoom:j,translateExtent:O}=k();return CE({delta:C,panZoom:j,transform:N,translateExtent:O,width:I,height:S})},setCenter:async(C,N,I)=>{const{width:S,height:j,maxZoom:O,panZoom:z}=k();if(!z)return Promise.resolve(!1);const P=typeof(I==null?void 0:I.zoom)<"u"?I.zoom:O;return await z.setViewport({x:S/2-C*P,y:j/2-N*P,zoom:P},{duration:I==null?void 0:I.duration,ease:I==null?void 0:I.ease,interpolate:I==null?void 0:I.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{E({connection:{...n0}})},updateConnection:C=>{E({connection:C})},reset:()=>E({...Gp()})}},Object.is);function VN({initialNodes:e,initialEdges:r,defaultNodes:o,defaultEdges:s,initialWidth:l,initialHeight:u,initialMinZoom:c,initialMaxZoom:f,initialFitViewOptions:h,fitView:g,nodeOrigin:v,nodeExtent:m,zIndexMode:x,children:E}){const[k]=_.useState(()=>BN({nodes:e,edges:r,defaultNodes:o,defaultEdges:s,width:l,height:u,fitView:g,minZoom:c,maxZoom:f,fitViewOptions:h,nodeOrigin:v,nodeExtent:m,zIndexMode:x}));return y.jsx(lk,{value:k,children:y.jsx(Mk,{children:E})})}function WN({children:e,nodes:r,edges:o,defaultNodes:s,defaultEdges:l,width:u,height:c,fitView:f,fitViewOptions:h,minZoom:g,maxZoom:v,nodeOrigin:m,nodeExtent:x,zIndexMode:E}){return _.useContext(Ql)?y.jsx(y.Fragment,{children:e}):y.jsx(VN,{initialNodes:r,initialEdges:o,defaultNodes:s,defaultEdges:l,initialWidth:u,initialHeight:c,fitView:f,initialFitViewOptions:h,initialMinZoom:g,initialMaxZoom:v,nodeOrigin:m,nodeExtent:x,zIndexMode:E,children:e})}const UN={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function YN({nodes:e,edges:r,defaultNodes:o,defaultEdges:s,className:l,nodeTypes:u,edgeTypes:c,onNodeClick:f,onEdgeClick:h,onInit:g,onMove:v,onMoveStart:m,onMoveEnd:x,onConnect:E,onConnectStart:k,onConnectEnd:b,onClickConnectStart:C,onClickConnectEnd:N,onNodeMouseEnter:I,onNodeMouseMove:S,onNodeMouseLeave:j,onNodeContextMenu:O,onNodeDoubleClick:z,onNodeDragStart:P,onNodeDrag:D,onNodeDragStop:H,onNodesDelete:Z,onEdgesDelete:W,onDelete:Y,onSelectionChange:J,onSelectionDragStart:R,onSelectionDrag:G,onSelectionDragStop:V,onSelectionContextMenu:Q,onSelectionStart:T,onSelectionEnd:A,onBeforeDelete:U,connectionMode:M,connectionLineType:F=Wn.Bezier,connectionLineStyle:ne,connectionLineComponent:te,connectionLineContainerStyle:le,deleteKeyCode:ae="Backspace",selectionKeyCode:ue="Shift",selectionOnDrag:ee=!1,selectionMode:ce=Ei.Full,panActivationKeyCode:we="Space",multiSelectionKeyCode:Ee=Ni()?"Meta":"Control",zoomActivationKeyCode:Se=Ni()?"Meta":"Control",snapToGrid:ye,snapGrid:Ce,onlyRenderVisibleElements:Pe=!1,selectNodesOnDrag:_e,nodesDraggable:We,autoPanOnNodeFocus:Pt,nodesConnectable:ht,nodesFocusable:pt,nodeOrigin:Et=T0,edgesFocusable:tn,edgesReconnectable:wn,elementsSelectable:Sr=!0,defaultViewport:Xn=wk,minZoom:nn=.5,maxZoom:rn=2,translateExtent:Qn=Si,preventScrolling:Ai=!0,nodeExtent:on,defaultMarkerColor:Gn="#b1b1b7",zoomOnScroll:Zl=!0,zoomOnPinch:$i=!0,panOnScroll:Di=!1,panOnScrollSpeed:Jl=.5,panOnScrollMode:go=gr.Free,zoomOnDoubleClick:yo=!0,panOnDrag:vo=!0,onPaneClick:xo,onPaneMouseEnter:wo,onPaneMouseMove:Sn,onPaneMouseLeave:En,onPaneScroll:Oi,onPaneContextMenu:Fi,paneClickDistance:Hi=1,nodeClickDistance:Bi=0,children:Vi,onReconnect:So,onReconnectStart:Wi,onReconnectEnd:Kn,onEdgeContextMenu:Eo,onEdgeDoubleClick:qn,onEdgeMouseEnter:ea,onEdgeMouseMove:Zn,onEdgeMouseLeave:Er,reconnectRadius:kr=10,onNodesChange:ko,onEdgesChange:ta,noDragClassName:na="nodrag",noWheelClassName:ra="nowheel",noPanClassName:Wt="nopan",fitView:No,fitViewOptions:Co,connectOnClick:oa,attributionPosition:Ui,proOptions:Yi,defaultEdgeOptions:Xi,elevateNodesOnSelect:Qi=!0,elevateEdgesOnSelect:ia=!1,disableKeyboardA11y:Gi=!1,autoPanOnConnect:De,autoPanOnNodeDrag:sa,autoPanSpeed:_o,connectionRadius:Ki,isValidConnection:Nr,onError:la,style:qi,id:Jn,nodeDragThreshold:kt,connectionDragThreshold:aa,viewport:mt,onViewportChange:ua,width:ca,height:da,colorMode:Cr="light",debug:_r,onScroll:Ut,ariaLabelConfig:br,zIndexMode:Zi="basic",...fa},bo){const jr=Jn||"1",jo=Nk(Cr),er=_.useCallback(Ji=>{Ji.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Ut==null||Ut(Ji)},[Ut]);return y.jsx("div",{"data-testid":"rf__wrapper",...fa,onScroll:er,style:{...qi,...UN},ref:bo,className:Ye(["react-flow",l,jo]),id:Jn,role:"application",children:y.jsxs(WN,{nodes:e,edges:r,width:ca,height:da,fitView:No,fitViewOptions:Co,minZoom:nn,maxZoom:rn,nodeOrigin:Et,nodeExtent:on,zIndexMode:Zi,children:[y.jsx(HN,{onInit:g,onNodeClick:f,onEdgeClick:h,onNodeMouseEnter:I,onNodeMouseMove:S,onNodeMouseLeave:j,onNodeContextMenu:O,onNodeDoubleClick:z,nodeTypes:u,edgeTypes:c,connectionLineType:F,connectionLineStyle:ne,connectionLineComponent:te,connectionLineContainerStyle:le,selectionKeyCode:ue,selectionOnDrag:ee,selectionMode:ce,deleteKeyCode:ae,multiSelectionKeyCode:Ee,panActivationKeyCode:we,zoomActivationKeyCode:Se,onlyRenderVisibleElements:Pe,defaultViewport:Xn,translateExtent:Qn,minZoom:nn,maxZoom:rn,preventScrolling:Ai,zoomOnScroll:Zl,zoomOnPinch:$i,zoomOnDoubleClick:yo,panOnScroll:Di,panOnScrollSpeed:Jl,panOnScrollMode:go,panOnDrag:vo,onPaneClick:xo,onPaneMouseEnter:wo,onPaneMouseMove:Sn,onPaneMouseLeave:En,onPaneScroll:Oi,onPaneContextMenu:Fi,paneClickDistance:Hi,nodeClickDistance:Bi,onSelectionContextMenu:Q,onSelectionStart:T,onSelectionEnd:A,onReconnect:So,onReconnectStart:Wi,onReconnectEnd:Kn,onEdgeContextMenu:Eo,onEdgeDoubleClick:qn,onEdgeMouseEnter:ea,onEdgeMouseMove:Zn,onEdgeMouseLeave:Er,reconnectRadius:kr,defaultMarkerColor:Gn,noDragClassName:na,noWheelClassName:ra,noPanClassName:Wt,rfId:jr,disableKeyboardA11y:Gi,nodeExtent:on,viewport:mt,onViewportChange:ua}),y.jsx(kk,{nodes:e,edges:r,defaultNodes:o,defaultEdges:s,onConnect:E,onConnectStart:k,onConnectEnd:b,onClickConnectStart:C,onClickConnectEnd:N,nodesDraggable:We,autoPanOnNodeFocus:Pt,nodesConnectable:ht,nodesFocusable:pt,edgesFocusable:tn,edgesReconnectable:wn,elementsSelectable:Sr,elevateNodesOnSelect:Qi,elevateEdgesOnSelect:ia,minZoom:nn,maxZoom:rn,nodeExtent:on,onNodesChange:ko,onEdgesChange:ta,snapToGrid:ye,snapGrid:Ce,connectionMode:M,translateExtent:Qn,connectOnClick:oa,defaultEdgeOptions:Xi,fitView:No,fitViewOptions:Co,onNodesDelete:Z,onEdgesDelete:W,onDelete:Y,onNodeDragStart:P,onNodeDrag:D,onNodeDragStop:H,onSelectionDrag:G,onSelectionDragStart:R,onSelectionDragStop:V,onMove:v,onMoveStart:m,onMoveEnd:x,noPanClassName:Wt,nodeOrigin:Et,rfId:jr,autoPanOnConnect:De,autoPanOnNodeDrag:sa,autoPanSpeed:_o,onError:la,connectionRadius:Ki,isValidConnection:Nr,selectNodesOnDrag:_e,nodeDragThreshold:kt,connectionDragThreshold:aa,onBeforeDelete:U,debug:_r,ariaLabelConfig:br,zIndexMode:Zi}),y.jsx(xk,{onSelectionChange:J}),Vi,y.jsx(pk,{proOptions:Yi,position:Ui}),y.jsx(hk,{rfId:jr,disableKeyboardA11y:Gi})]})})}var XN=D0(YN);function QN(e){const[r,o]=_.useState(e),s=_.useCallback(l=>o(u=>A0(l,u)),[]);return[r,o,s]}function GN(e){const[r,o]=_.useState(e),s=_.useCallback(l=>o(u=>$0(l,u)),[]);return[r,o,s]}function KN({dimensions:e,lineWidth:r,variant:o,className:s}){return y.jsx("path",{strokeWidth:r,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Ye(["react-flow__background-pattern",o,s])})}function qN({radius:e,className:r}){return y.jsx("circle",{cx:e,cy:e,r:e,className:Ye(["react-flow__background-pattern","dots",r])})}var Un;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Un||(Un={}));const ZN={[Un.Dots]:1,[Un.Lines]:1,[Un.Cross]:6},JN=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function ag({id:e,variant:r=Un.Dots,gap:o=20,size:s,lineWidth:l=1,offset:u=0,color:c,bgColor:f,style:h,className:g,patternClassName:v}){const m=_.useRef(null),{transform:x,patternId:E}=be(JN,Ae),k=s||ZN[r],b=r===Un.Dots,C=r===Un.Cross,N=Array.isArray(o)?o:[o,o],I=[N[0]*x[2]||1,N[1]*x[2]||1],S=k*x[2],j=Array.isArray(u)?u:[u,u],O=C?[S,S]:I,z=[j[0]*x[2]||1+O[0]/2,j[1]*x[2]||1+O[1]/2],P=`${E}${e||""}`;return y.jsxs("svg",{className:Ye(["react-flow__background",g]),style:{...h,...Kl,"--xy-background-color-props":f,"--xy-background-pattern-color-props":c},ref:m,"data-testid":"rf__background",children:[y.jsx("pattern",{id:P,x:x[0]%I[0],y:x[1]%I[1],width:I[0],height:I[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${z[0]},-${z[1]})`,children:b?y.jsx(qN,{radius:S/2,className:v}):y.jsx(KN,{dimensions:O,lineWidth:l,variant:r,className:v})}),y.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${P})`})]})}ag.displayName="Background";_.memo(ag);function eC(){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:y.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function tC(){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:y.jsx("path",{d:"M0 0h32v4.2H0z"})})}function nC(){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:y.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function rC(){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:y.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function oC(){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:y.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function hl({children:e,className:r,...o}){return y.jsx("button",{type:"button",className:Ye(["react-flow__controls-button",r]),...o,children:e})}const iC=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function ug({style:e,showZoom:r=!0,showFitView:o=!0,showInteractive:s=!0,fitViewOptions:l,onZoomIn:u,onZoomOut:c,onFitView:f,onInteractiveChange:h,className:g,children:v,position:m="bottom-left",orientation:x="vertical","aria-label":E}){const k=$e(),{isInteractive:b,minZoomReached:C,maxZoomReached:N,ariaLabelConfig:I}=be(iC,Ae),{zoomIn:S,zoomOut:j,fitView:O}=ed(),z=()=>{S(),u==null||u()},P=()=>{j(),c==null||c()},D=()=>{O(l),f==null||f()},H=()=>{k.setState({nodesDraggable:!b,nodesConnectable:!b,elementsSelectable:!b}),h==null||h(!b)},Z=x==="horizontal"?"horizontal":"vertical";return y.jsxs(Gl,{className:Ye(["react-flow__controls",Z,g]),position:m,style:e,"data-testid":"rf__controls","aria-label":E??I["controls.ariaLabel"],children:[r&&y.jsxs(y.Fragment,{children:[y.jsx(hl,{onClick:z,className:"react-flow__controls-zoomin",title:I["controls.zoomIn.ariaLabel"],"aria-label":I["controls.zoomIn.ariaLabel"],disabled:N,children:y.jsx(eC,{})}),y.jsx(hl,{onClick:P,className:"react-flow__controls-zoomout",title:I["controls.zoomOut.ariaLabel"],"aria-label":I["controls.zoomOut.ariaLabel"],disabled:C,children:y.jsx(tC,{})})]}),o&&y.jsx(hl,{className:"react-flow__controls-fitview",onClick:D,title:I["controls.fitView.ariaLabel"],"aria-label":I["controls.fitView.ariaLabel"],children:y.jsx(nC,{})}),s&&y.jsx(hl,{className:"react-flow__controls-interactive",onClick:H,title:I["controls.interactive.ariaLabel"],"aria-label":I["controls.interactive.ariaLabel"],children:b?y.jsx(oC,{}):y.jsx(rC,{})}),v]})}ug.displayName="Controls";const sC=_.memo(ug);function lC({id:e,x:r,y:o,width:s,height:l,style:u,color:c,strokeColor:f,strokeWidth:h,className:g,borderRadius:v,shapeRendering:m,selected:x,onClick:E}){const{background:k,backgroundColor:b}=u||{},C=c||k||b;return y.jsx("rect",{className:Ye(["react-flow__minimap-node",{selected:x},g]),x:r,y:o,rx:v,ry:v,width:s,height:l,style:{fill:C,stroke:f,strokeWidth:h},shapeRendering:m,onClick:E?N=>E(N,e):void 0})}const aC=_.memo(lC),uC=e=>e.nodes.map(r=>r.id),cc=e=>e instanceof Function?e:()=>e;function cC({nodeStrokeColor:e,nodeColor:r,nodeClassName:o="",nodeBorderRadius:s=5,nodeStrokeWidth:l,nodeComponent:u=aC,onClick:c}){const f=be(uC,Ae),h=cc(r),g=cc(e),v=cc(o),m=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return y.jsx(y.Fragment,{children:f.map(x=>y.jsx(fC,{id:x,nodeColorFunc:h,nodeStrokeColorFunc:g,nodeClassNameFunc:v,nodeBorderRadius:s,nodeStrokeWidth:l,NodeComponent:u,onClick:c,shapeRendering:m},x))})}function dC({id:e,nodeColorFunc:r,nodeStrokeColorFunc:o,nodeClassNameFunc:s,nodeBorderRadius:l,nodeStrokeWidth:u,shapeRendering:c,NodeComponent:f,onClick:h}){const{node:g,x:v,y:m,width:x,height:E}=be(k=>{const{internals:b}=k.nodeLookup.get(e),C=b.userNode,{x:N,y:I}=b.positionAbsolute,{width:S,height:j}=xn(C);return{node:C,x:N,y:I,width:S,height:j}},Ae);return!g||g.hidden||!u0(g)?null:y.jsx(f,{x:v,y:m,width:x,height:E,style:g.style,selected:!!g.selected,className:s(g),color:r(g),borderRadius:l,strokeColor:o(g),strokeWidth:u,shapeRendering:c,onClick:h,id:g.id})}const fC=_.memo(dC);var hC=_.memo(cC);const pC=200,mC=150,gC=e=>!e.hidden,yC=e=>{const r={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:r,boundingRect:e.nodeLookup.size>0?a0(Li(e.nodeLookup,{filter:gC}),r):r,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},vC="react-flow__minimap-desc";function cg({style:e,className:r,nodeStrokeColor:o,nodeColor:s,nodeClassName:l="",nodeBorderRadius:u=5,nodeStrokeWidth:c,nodeComponent:f,bgColor:h,maskColor:g,maskStrokeColor:v,maskStrokeWidth:m,position:x="bottom-right",onClick:E,onNodeClick:k,pannable:b=!1,zoomable:C=!1,ariaLabel:N,inversePan:I,zoomStep:S=1,offsetScale:j=5}){const O=$e(),z=_.useRef(null),{boundingRect:P,viewBB:D,rfId:H,panZoom:Z,translateExtent:W,flowWidth:Y,flowHeight:J,ariaLabelConfig:R}=be(yC,Ae),G=(e==null?void 0:e.width)??pC,V=(e==null?void 0:e.height)??mC,Q=P.width/G,T=P.height/V,A=Math.max(Q,T),U=A*G,M=A*V,F=j*A,ne=P.x-(U-P.width)/2-F,te=P.y-(M-P.height)/2-F,le=U+F*2,ae=M+F*2,ue=`${vC}-${H}`,ee=_.useRef(0),ce=_.useRef();ee.current=A,_.useEffect(()=>{if(z.current&&Z)return ce.current=TE({domNode:z.current,panZoom:Z,getTransform:()=>O.getState().transform,getViewScale:()=>ee.current}),()=>{var ye;(ye=ce.current)==null||ye.destroy()}},[Z]),_.useEffect(()=>{var ye;(ye=ce.current)==null||ye.update({translateExtent:W,width:Y,height:J,inversePan:I,pannable:b,zoomStep:S,zoomable:C})},[b,C,I,S,W,Y,J]);const we=E?ye=>{var _e;const[Ce,Pe]=((_e=ce.current)==null?void 0:_e.pointer(ye))||[0,0];E(ye,{x:Ce,y:Pe})}:void 0,Ee=k?_.useCallback((ye,Ce)=>{const Pe=O.getState().nodeLookup.get(Ce).internals.userNode;k(ye,Pe)},[]):void 0,Se=N??R["minimap.ariaLabel"];return y.jsx(Gl,{position:x,style:{...e,"--xy-minimap-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-background-color-props":typeof g=="string"?g:void 0,"--xy-minimap-mask-stroke-color-props":typeof v=="string"?v:void 0,"--xy-minimap-mask-stroke-width-props":typeof m=="number"?m*A:void 0,"--xy-minimap-node-background-color-props":typeof s=="string"?s:void 0,"--xy-minimap-node-stroke-color-props":typeof o=="string"?o:void 0,"--xy-minimap-node-stroke-width-props":typeof c=="number"?c:void 0},className:Ye(["react-flow__minimap",r]),"data-testid":"rf__minimap",children:y.jsxs("svg",{width:G,height:V,viewBox:`${ne} ${te} ${le} ${ae}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ue,ref:z,onClick:we,children:[Se&&y.jsx("title",{id:ue,children:Se}),y.jsx(hC,{onClick:Ee,nodeColor:s,nodeStrokeColor:o,nodeBorderRadius:u,nodeClassName:l,nodeStrokeWidth:c,nodeComponent:f}),y.jsx("path",{className:"react-flow__minimap-mask",d:`M${ne-F},${te-F}h${le+F*2}v${ae+F*2}h${-le-F*2}z
        M${D.x},${D.y}h${D.width}v${D.height}h${-D.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}cg.displayName="MiniMap";const xC=_.memo(cg),wC=e=>r=>e?`${Math.max(1/r.transform[2],1)}`:void 0,SC={[fo.Line]:"right",[fo.Handle]:"bottom-right"};function EC({nodeId:e,position:r,variant:o=fo.Handle,className:s,style:l=void 0,children:u,color:c,minWidth:f=10,minHeight:h=10,maxWidth:g=Number.MAX_VALUE,maxHeight:v=Number.MAX_VALUE,keepAspectRatio:m=!1,resizeDirection:x,autoScale:E=!0,shouldResize:k,onResizeStart:b,onResize:C,onResizeEnd:N}){const I=B0(),S=typeof e=="string"?e:I,j=$e(),O=_.useRef(null),z=o===fo.Handle,P=be(_.useCallback(wC(z&&E),[z,E]),Ae),D=_.useRef(null),H=r??SC[o];_.useEffect(()=>{if(!(!O.current||!S))return D.current||(D.current=QE({domNode:O.current,nodeId:S,getStoreItems:()=>{const{nodeLookup:W,transform:Y,snapGrid:J,snapToGrid:R,nodeOrigin:G,domNode:V}=j.getState();return{nodeLookup:W,transform:Y,snapGrid:J,snapToGrid:R,nodeOrigin:G,paneDomNode:V}},onChange:(W,Y)=>{const{triggerNodeChanges:J,nodeLookup:R,parentLookup:G,nodeOrigin:V}=j.getState(),Q=[],T={x:W.x,y:W.y},A=R.get(S);if(A&&A.expandParent&&A.parentId){const U=A.origin??V,M=W.width??A.measured.width??0,F=W.height??A.measured.height??0,ne={id:A.id,parentId:A.parentId,rect:{width:M,height:F,...c0({x:W.x??A.position.x,y:W.y??A.position.y},{width:M,height:F},A.parentId,R,U)}},te=Jc([ne],R,G,V);Q.push(...te),T.x=W.x?Math.max(U[0]*M,W.x):void 0,T.y=W.y?Math.max(U[1]*F,W.y):void 0}if(T.x!==void 0&&T.y!==void 0){const U={id:S,type:"position",position:{...T}};Q.push(U)}if(W.width!==void 0&&W.height!==void 0){const M={id:S,type:"dimensions",resizing:!0,setAttributes:x?x==="horizontal"?"width":"height":!0,dimensions:{width:W.width,height:W.height}};Q.push(M)}for(const U of Y){const M={...U,type:"position"};Q.push(M)}J(Q)},onEnd:({width:W,height:Y})=>{const J={id:S,type:"dimensions",resizing:!1,dimensions:{width:W,height:Y}};j.getState().triggerNodeChanges([J])}})),D.current.update({controlPosition:H,boundaries:{minWidth:f,minHeight:h,maxWidth:g,maxHeight:v},keepAspectRatio:m,resizeDirection:x,onResizeStart:b,onResize:C,onResizeEnd:N,shouldResize:k}),()=>{var W;(W=D.current)==null||W.destroy()}},[H,f,h,g,v,m,b,C,N,k]);const Z=H.split("-");return y.jsx("div",{className:Ye(["react-flow__resize-control","nodrag",...Z,o,s]),ref:O,style:{...l,scale:P,...c&&{[z?"backgroundColor":"borderColor"]:c}},children:u})}_.memo(EC);const dg="cnthub-node-positions",fg="cnthub-edges",hg="cnthub-connected-sessions",kC=180,NC=70,CC=260,_C=140,zl=20;function Kp(e){return e.type==="context"?{width:CC,height:_C}:{width:kC,height:NC}}function bC(e,r){const o=Kp(e),s=Kp(r),l={x:e.position.x+o.width/2,y:e.position.y+o.height/2},u={x:r.position.x+s.width/2,y:r.position.y+s.height/2},c=(o.width+s.width)/2+zl,f=(o.height+s.height)/2+zl,h=Math.abs(l.x-u.x),g=Math.abs(l.y-u.y);return h<c&&g<f}function jC(e,r){const o={...e.position},s=r.filter(h=>h.id!==e.id),l={...e,position:o};let u=!0,c=0;const f=50;for(;u&&c<f;){u=!1;for(const h of s)if(bC(l,h)){u=!0,o.x+=zl+10,o.y+=zl+10,l.position=o;break}c++}return o}function IC(){try{const e=localStorage.getItem(dg);return e?JSON.parse(e):{}}catch{return{}}}function pl(e){try{localStorage.setItem(dg,JSON.stringify(e))}catch{}}function MC(){try{const e=localStorage.getItem(fg);return e?JSON.parse(e):[]}catch{return[]}}function dc(e){try{localStorage.setItem(fg,JSON.stringify(e))}catch{}}function PC(){try{const e=localStorage.getItem(hg);return e?JSON.parse(e):[]}catch{return[]}}function qp(e){try{localStorage.setItem(hg,JSON.stringify(e))}catch{}}function pg(e){return e>=1e3?(e/1e3).toFixed(1)+"k":e.toString()}function RC({data:e}){return y.jsxs("div",{className:"px-4 py-3 bg-[var(--bg-surface)] border border-[var(--border-default)] rounded-lg shadow-md min-w-[150px] relative",children:[y.jsx(ho,{type:"source",position:ge.Right,className:"w-3 h-3 bg-[var(--color-primary-500)]"}),e.tokenCount!==void 0&&y.jsx("div",{className:"absolute -top-2 -right-2 bg-[var(--bg-elevated)] text-[var(--text-muted)] text-xs px-1.5 py-0.5 rounded-full border border-[var(--border-default)]",children:pg(e.tokenCount)}),y.jsx("div",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:e.label}),e.date&&y.jsx("div",{className:"text-xs text-[var(--text-muted)] mt-1",children:e.date})]})}function LC({data:e}){const r=_.useCallback(()=>{var s;(s=e.onExport)==null||s.call(e)},[e]),o=!!e.sessionId;return y.jsxs("div",{className:"px-6 py-4 bg-[var(--color-primary-600)] text-white rounded-xl shadow-lg min-w-[240px] text-center cursor-pointer hover:bg-[var(--color-primary-500)] transition-colors relative",onClick:r,children:[y.jsx(ho,{type:"target",position:ge.Left,className:"w-3 h-3 bg-[var(--color-cream-100)]"}),e.tokenCount!==void 0&&y.jsx("div",{className:"absolute -top-2 -right-2 bg-white text-[var(--color-primary-600)] text-xs font-bold px-1.5 py-0.5 rounded-full border-2 border-[var(--color-primary-600)]",children:pg(e.tokenCount)}),y.jsx("div",{className:"text-sm font-bold truncate max-w-[220px]",children:o?e.sessionName||e.sessionId:""}),o&&e.sessionId&&y.jsx("div",{className:"text-xs opacity-60 mt-1 font-mono",children:e.sessionId}),y.jsxs("div",{className:"text-xs opacity-90 mt-3 flex justify-center gap-3",children:[y.jsxs("span",{className:"bg-white/20 px-2 py-0.5 rounded",children:[e.observationCount," obs"]}),y.jsxs("span",{className:"bg-white/20 px-2 py-0.5 rounded",children:["+",e.connectedCount," merged"]})]}),y.jsx("div",{className:"text-xs opacity-60 mt-2",children:" Export"})]})}const TC={session:RC,context:LC};function zC({sessions:e=[],currentSessionData:r,onGetSession:o,onExportSession:s}){const l=_.useRef(IC()),u=_.useRef(MC()),c=_.useRef(PC()),[f,h]=_.useState(c.current),g=(r==null?void 0:r.observationCount)??0,v=l.current.context||{x:400,y:200},[m,x,E]=QN([{id:"context",type:"context",position:v,data:{label:"",connectedCount:c.current.length,observationCount:0}}]),[k,b,C]=GN(u.current),N=_.useCallback(P=>{E(P),P.filter(H=>H.type==="position"&&"position"in H&&H.position).length>0&&requestAnimationFrame(()=>{x(H=>{const Z={};return H.forEach(W=>{Z[W.id]=W.position}),pl(Z),H})})},[E,x]),I=_.useCallback(P=>{C(P),requestAnimationFrame(()=>{b(D=>(dc(D),D))})},[C,b]),S=_.useCallback(()=>{var D;if(g+f.length===0){console.log("[Viewer] Export: ");return}console.log("[Viewer] Export? ("+g+" observations + "+f.length+" merged sessions)",{currentSession:(D=r==null?void 0:r.session)==null?void 0:D.sessionId,connectedSessionIds:f}),s==null||s(f)},[g,f,r,s]);_.useEffect(()=>{const P=r==null?void 0:r.session;x(D=>D.map(H=>H.id==="context"?{...H,data:{...H.data,onExport:S,observationCount:g,sessionId:P==null?void 0:P.sessionId,sessionName:P==null?void 0:P.name,status:P==null?void 0:P.status,tokenCount:r==null?void 0:r.tokenCount}}:H))},[S,g,r,x]),_.useEffect(()=>{x(P=>{const D=new Set(P.map(R=>R.id)),H=[],Z=l.current;e.forEach((R,G)=>{const V="session-"+R.sessionId;if(!D.has(V)){const Q=Z[V],T={x:50+Math.floor(G/5)*200,y:80+G%5*100};H.push({id:V,type:"session",position:Q||T,data:{label:R.name,sessionId:R.sessionId,status:R.status,date:new Date(R.updatedAt).toLocaleDateString("ja-JP"),tokenCount:R.tokenCount}})}});const W=new Set(e.map(R=>"session-"+R.sessionId)),J=[...P.filter(R=>R.id==="context"||W.has(R.id)),...H];if(H.length>0){const R={};J.forEach(G=>{R[G.id]=G.position}),pl(R)}return J})},[e,x]);const j=_.useCallback(P=>{if(!(!P.source||!P.target)&&P.source.startsWith("session-")&&P.target==="context"){const D=P.source.replace("session-","");if(f.includes(D))return;b(Z=>{const W=y0(P,Z);return dc(W),W});const H=[...f,D];h(H),qp(H),x(Z=>Z.map(W=>W.id==="context"?{...W,data:{...W.data,connectedCount:H.length}}:W)),o==null||o(D)}},[f,b,x,o]),O=_.useCallback(P=>{const D=P.filter(Z=>Z.source.startsWith("session-")).map(Z=>Z.source.replace("session-","")),H=f.filter(Z=>!D.includes(Z));h(H),qp(H),b(Z=>(dc(Z),Z)),x(Z=>Z.map(W=>W.id==="context"?{...W,data:{...W.data,connectedCount:H.length}}:W))},[f,x,b]),z=_.useCallback((P,D)=>{const H=m.map(W=>W.id===D.id?{...W,position:D.position}:W),Z=jC(D,H);if(Z.x!==D.position.x||Z.y!==D.position.y)x(W=>{const Y=W.map(R=>R.id===D.id?{...R,position:Z}:R),J={};return Y.forEach(R=>{J[R.id]=R.position}),pl(J),Y});else{const W={};H.forEach(Y=>{W[Y.id]=Y.position}),pl(W)}},[m,x]);return y.jsx("div",{className:"w-full h-full bg-[var(--bg-base)]",children:y.jsxs(XN,{nodes:m,edges:k,onNodesChange:N,onEdgesChange:I,onConnect:j,onEdgesDelete:O,onNodeDragStop:z,nodeTypes:TC,fitView:!0,proOptions:{hideAttribution:!0},className:"bg-[var(--bg-base)]",children:[y.jsx(sC,{className:"bg-[var(--bg-surface)] border border-[var(--border-default)] rounded-lg"}),y.jsx(xC,{className:"bg-[var(--bg-surface)] border border-[var(--border-default)] rounded-lg",nodeColor:"#d97757",maskColor:"rgba(15, 15, 14, 0.8)"})]})})}function fc(e){return e>=1e3?(e/1e3).toFixed(1)+"k":e.toString()}function AC(e){switch(e){case"feature":return"";case"bugfix":return"";case"refactor":return"";case"docs":return"";case"test":return"";case"config":return"";case"exploration":return"";default:return""}}function $C({isOpen:e,onClose:r,sessionId:o,sessionName:s,onExportComplete:l}){const[u,c]=_.useState(!1),[f,h]=_.useState(!1),[g,v]=_.useState(null),[m,x]=_.useState(new Set),[E,k]=_.useState(null),[b,C]=_.useState(new Set),N=_.useCallback(async()=>{var P;c(!0),k(null);try{const D=await fetch(`/api/sessions/${o}/analyze`,{method:"POST"});if(!D.ok){const Z=await D.json();throw new Error(((P=Z.error)==null?void 0:P.message)||"")}const H=await D.json();v(H)}catch(D){k(D instanceof Error?D.message:"")}finally{c(!1)}},[o]);_.useEffect(()=>{e&&!g&&!u&&N()},[e,g,u,N]),_.useEffect(()=>{e||(v(null),x(new Set),k(null),C(new Set))},[e]);const I=_.useCallback(P=>{x(D=>{const H=new Set(D);return H.has(P)?H.delete(P):H.add(P),H})},[]),S=_.useCallback(P=>{C(D=>{const H=new Set(D);return H.has(P)?H.delete(P):H.add(P),H})},[]),j=_.useCallback(()=>g?g.groups.filter(P=>m.has(P.category)).flatMap(P=>P.observationIds):[],[g,m]),O=_.useCallback(()=>g?g.groups.filter(P=>m.has(P.category)).reduce((P,D)=>P+D.estimatedTokens,0):0,[g,m]),z=_.useCallback(async()=>{var Z,W;const P=j();if(P.length===0)return;const D=g==null?void 0:g.groups.filter(Y=>m.has(Y.category)).map(Y=>Y.description).join(", "),H=window.prompt(`Export: ${P.length} observations

:`,`Export: ${D}`)||`Export from ${s}`;if(H){h(!0),k(null);try{const Y=await fetch(`/api/sessions/${o}/smart-export`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({observationIds:P,groupName:H,deleteAfterExport:!0})});if(!Y.ok){const R=await Y.json();throw new Error(((Z=R.error)==null?void 0:Z.message)||"Export ")}const J=await Y.json();alert(`Export !

: ${(W=J.session)==null?void 0:W.sessionId}
 observations: ${J.deletedCount}`),l(),r()}catch(Y){k(Y instanceof Error?Y.message:"Export ")}finally{h(!1)}}},[j,g,m,o,s,l,r]);return e?y.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[y.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:r}),y.jsxs("div",{className:"relative bg-[var(--bg-surface)] rounded-xl shadow-2xl w-[600px] max-h-[80vh] flex flex-col border border-[var(--border-default)]",children:[y.jsxs("div",{className:"px-6 py-4 border-b border-[var(--border-subtle)] flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-semibold text-[var(--text-primary)]",children:"Smart Export"}),y.jsx("p",{className:"text-sm text-[var(--text-muted)] mt-1",children:s})]}),y.jsx("button",{onClick:r,className:"p-2 hover:bg-[var(--bg-elevated)] rounded-lg transition-colors",children:y.jsx("svg",{className:"w-5 h-5 text-[var(--text-muted)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[u&&y.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[y.jsx("div",{className:"w-8 h-8 border-2 border-[var(--color-primary-500)] border-t-transparent rounded-full animate-spin"}),y.jsx("p",{className:"mt-4 text-[var(--text-muted)]",children:"AI ..."})]}),E&&y.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-4",children:[y.jsx("p",{className:"text-red-400",children:E}),y.jsx("button",{onClick:N,className:"mt-2 text-sm text-red-400 hover:text-red-300 underline",children:""})]}),g&&!u&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex gap-4 mb-6 text-sm",children:[y.jsxs("div",{className:"bg-[var(--bg-elevated)] px-3 py-2 rounded-lg",children:[y.jsx("span",{className:"text-[var(--text-muted)]",children:": "}),y.jsxs("span",{className:"text-[var(--text-primary)] font-medium",children:[g.totalObservations," obs"]})]}),y.jsxs("div",{className:"bg-[var(--bg-elevated)] px-3 py-2 rounded-lg",children:[y.jsx("span",{className:"text-[var(--text-muted)]",children:": "}),y.jsx("span",{className:"text-[var(--text-primary)] font-medium",children:fc(g.totalEstimatedTokens)})]}),y.jsxs("div",{className:"bg-[var(--bg-elevated)] px-3 py-2 rounded-lg",children:[y.jsx("span",{className:"text-[var(--text-muted)]",children:": "}),y.jsxs("span",{className:"text-[var(--text-primary)] font-medium",children:[(g.analysisTimeMs/1e3).toFixed(1),"s"]})]})]}),y.jsx("div",{className:"space-y-3",children:g.groups.map(P=>y.jsxs("div",{className:`border rounded-lg overflow-hidden transition-colors ${m.has(P.category)?"border-[var(--color-primary-500)] bg-[var(--color-primary-500)]/10":"border-[var(--border-default)] bg-[var(--bg-elevated)]"}`,children:[y.jsxs("div",{className:"flex items-center gap-3 p-4 cursor-pointer",onClick:()=>I(P.category),children:[y.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${m.has(P.category)?"bg-[var(--color-primary-500)] border-[var(--color-primary-500)]":"border-[var(--border-default)]"}`,children:m.has(P.category)&&y.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),y.jsx("span",{className:"text-xl",children:AC(P.category)}),y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"font-medium text-[var(--text-primary)]",children:P.categoryLabel}),y.jsxs("span",{className:"text-sm text-[var(--text-muted)]",children:["(",P.observationIds.length," obs)"]})]}),y.jsx("p",{className:"text-sm text-[var(--text-muted)] mt-0.5",children:P.description})]}),y.jsxs("div",{className:"text-sm text-[var(--text-muted)]",children:[fc(P.estimatedTokens)," tokens"]}),y.jsx("button",{onClick:D=>{D.stopPropagation(),S(P.category)},className:"p-1 hover:bg-[var(--bg-surface)] rounded transition-colors",children:y.jsx("svg",{className:`w-4 h-4 text-[var(--text-muted)] transition-transform ${b.has(P.category)?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),b.has(P.category)&&y.jsx("div",{className:"px-4 pb-4 pt-0",children:y.jsx("div",{className:"bg-[var(--bg-base)] rounded-lg p-3 text-xs font-mono text-[var(--text-muted)] max-h-32 overflow-y-auto",children:P.observationIds.map((D,H)=>y.jsxs("div",{children:[D,H<P.observationIds.length-1&&", "]},D))})})]},P.category))})]})]}),y.jsxs("div",{className:"px-6 py-4 border-t border-[var(--border-subtle)] flex items-center justify-between",children:[y.jsx("div",{className:"text-sm text-[var(--text-muted)]",children:m.size>0&&y.jsxs(y.Fragment,{children:[": ",j().length," obs (",fc(O())," tokens)"]})}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:r,className:"px-4 py-2 text-sm text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)] rounded-lg transition-colors",children:""}),y.jsx("button",{onClick:z,disabled:m.size===0||f||u,className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${m.size===0||f||u?"bg-[var(--bg-elevated)] text-[var(--text-muted)] cursor-not-allowed":"bg-[var(--color-primary-500)] text-white hover:bg-[var(--color-primary-600)]"}`,children:f?"Exporting...":"Export & "})]})]})]})]}):null}function DC(){const{theme:e,toggleTheme:r}=Em(),[o,s]=_.useState([]),[l,u]=_.useState([]),[c,f]=_.useState({session:null,observations:[],observationCount:0,tokenCount:0}),[h,g]=_.useState(!1),v=o.filter(N=>!l.includes(N.sessionId)),m=_.useCallback(async()=>{try{const N=await fetch("/api/sessions?limit=100&status=completed");if(!N.ok)throw new Error("Failed to fetch");const I=await N.json();s(I.items||[])}catch(N){console.error("[ViewerPage] Failed to fetch sessions:",N),s([])}},[]);_.useEffect(()=>{m()},[m]),_.useEffect(()=>{const N=async()=>{var S,j,O;try{let z=await fetch("/api/sessions?limit=1&status=processing");if(!z.ok)return;let P=await z.json(),D=((S=P.items)==null?void 0:S[0])||null;if(!D){if(z=await fetch("/api/sessions?limit=1&status=idle"),!z.ok)return;P=await z.json(),D=((j=P.items)==null?void 0:j[0])||null}if(D){const H=await fetch(`/api/sessions/${D.sessionId}/observations?limit=100`);if(H.ok){const Z=await H.json();f({session:D,observations:Z.items||[],observationCount:((O=Z.items)==null?void 0:O.length)||0,tokenCount:D.tokenCount||0})}}}catch(z){console.error("[ViewerPage] Failed to fetch current session:",z)}};N();const I=setInterval(N,5e3);return()=>clearInterval(I)},[]);const x=_.useCallback(N=>{u(I=>I.includes(N.sessionId)?I.filter(S=>S!==N.sessionId):[...I,N.sessionId])},[]),E=_.useCallback(N=>{console.log("[Viewer] Session clicked:",N.sessionId),alert(": "+N.name+`

ID: `+N.sessionId)},[]),k=_.useCallback(N=>{console.log("[Viewer] Get session:",N)},[]),b=_.useCallback(()=>{const N=c.session,I=c.observationCount;if(!N||I===0){alert("observations");return}console.log("[Viewer] Opening Smart Export modal:",N.sessionId),g(!0)},[c]),C=_.useCallback(async()=>{console.log("[Viewer] Smart Export completed"),await m()},[m]);return y.jsxs("div",{className:"h-screen flex flex-col bg-[var(--bg-base)]",children:[y.jsxs("header",{className:"h-12 flex items-center justify-between px-4 bg-[var(--bg-surface)] border-b border-[var(--border-subtle)]",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-lg font-semibold text-[var(--color-primary-500)]",children:"cnthub"}),y.jsx("span",{className:"text-sm text-[var(--text-muted)]",children:"Viewer"})]}),y.jsx("button",{onClick:r,className:"p-2 rounded-lg hover:bg-[var(--bg-elevated)] transition-colors","aria-label":e==="dark"?"":"",children:e==="dark"?y.jsx(Sm,{className:"w-5 h-5 text-[var(--text-secondary)]"}):y.jsx(wm,{className:"w-5 h-5 text-[var(--text-secondary)]"})})]}),y.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[y.jsx(m1,{onSessionSelect:x,onSessionClick:E,selectedSessionIds:l}),y.jsx("main",{className:"flex-1 overflow-hidden",children:y.jsx(zC,{sessions:v,currentSessionData:c,onGetSession:k,onExportSession:b})})]}),c.session&&y.jsx($C,{isOpen:h,onClose:()=>g(!1),sessionId:c.session.sessionId,sessionName:c.session.name,onExportComplete:C})]})}function OC(){return y.jsxs(Jv,{children:[y.jsx(Jr,{path:"/",element:y.jsx(DC,{})}),y.jsx(Jr,{path:"/sessions",element:y.jsx(rl,{children:y.jsx(Ux,{})})}),y.jsx(Jr,{path:"/sessions/:id",element:y.jsx(rl,{children:y.jsx(Gx,{})})}),y.jsx(Jr,{path:"/search",element:y.jsx(rl,{children:y.jsx(o1,{})})}),y.jsx(Jr,{path:"/work-items",element:y.jsx(rl,{children:y.jsx(l1,{})})})]})}const FC="/viewer/";tv.createRoot(document.getElementById("root")).render(y.jsx(eo.StrictMode,{children:y.jsx(kx,{basename:FC,children:y.jsx(OC,{})})}));
//# sourceMappingURL=index-BKQFb8cm.js.map
