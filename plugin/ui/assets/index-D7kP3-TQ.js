(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=o(l);fetch(l.href,u)}})();function Pc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wu={exports:{}},li={},Uu={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bh;function qy(){if(bh)return Ne;bh=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.iterator;function x(j){return j===null||typeof j!="object"?null:(j=m&&j[m]||j["@@iterator"],typeof j=="function"?j:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,_={};function N(j,z,Z){this.props=j,this.context=z,this.refs=_,this.updater=Z||S}N.prototype.isReactComponent={},N.prototype.setState=function(j,z){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,z,"setState")},N.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function b(){}b.prototype=N.prototype;function R(j,z,Z){this.props=j,this.context=z,this.refs=_,this.updater=Z||S}var E=R.prototype=new b;E.constructor=R,k(E,N.prototype),E.isPureReactComponent=!0;var I=Array.isArray,B=Object.prototype.hasOwnProperty,O={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function U(j,z,Z){var J,ie={},se=null,ce=null;if(z!=null)for(J in z.ref!==void 0&&(ce=z.ref),z.key!==void 0&&(se=""+z.key),z)B.call(z,J)&&!T.hasOwnProperty(J)&&(ie[J]=z[J]);var te=arguments.length-2;if(te===1)ie.children=Z;else if(1<te){for(var ue=Array(te),me=0;me<te;me++)ue[me]=arguments[me+2];ie.children=ue}if(j&&j.defaultProps)for(J in te=j.defaultProps,te)ie[J]===void 0&&(ie[J]=te[J]);return{$$typeof:e,type:j,key:se,ref:ce,props:ie,_owner:O.current}}function Y(j,z){return{$$typeof:e,type:j.type,key:z,ref:j.ref,props:j.props,_owner:j._owner}}function ne(j){return typeof j=="object"&&j!==null&&j.$$typeof===e}function G(j){var z={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Z){return z[Z]})}var X=/\/+/g;function ee(j,z){return typeof j=="object"&&j!==null&&j.key!=null?G(""+j.key):z.toString(36)}function M(j,z,Z,J,ie){var se=typeof j;(se==="undefined"||se==="boolean")&&(j=null);var ce=!1;if(j===null)ce=!0;else switch(se){case"string":case"number":ce=!0;break;case"object":switch(j.$$typeof){case e:case r:ce=!0}}if(ce)return ce=j,ie=ie(ce),j=J===""?"."+ee(ce,0):J,I(ie)?(Z="",j!=null&&(Z=j.replace(X,"$&/")+"/"),M(ie,z,Z,"",function(me){return me})):ie!=null&&(ne(ie)&&(ie=Y(ie,Z+(!ie.key||ce&&ce.key===ie.key?"":(""+ie.key).replace(X,"$&/")+"/")+j)),z.push(ie)),1;if(ce=0,J=J===""?".":J+":",I(j))for(var te=0;te<j.length;te++){se=j[te];var ue=J+ee(se,te);ce+=M(se,z,Z,ue,ie)}else if(ue=x(j),typeof ue=="function")for(j=ue.call(j),te=0;!(se=j.next()).done;)se=se.value,ue=J+ee(se,te++),ce+=M(se,z,Z,ue,ie);else if(se==="object")throw z=String(j),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return ce}function V(j,z,Z){if(j==null)return j;var J=[],ie=0;return M(j,J,"","",function(se){return z.call(Z,se,ie++)}),J}function $(j){if(j._status===-1){var z=j._result;z=z(),z.then(function(Z){(j._status===0||j._status===-1)&&(j._status=1,j._result=Z)},function(Z){(j._status===0||j._status===-1)&&(j._status=2,j._result=Z)}),j._status===-1&&(j._status=0,j._result=z)}if(j._status===1)return j._result.default;throw j._result}var H={current:null},P={transition:null},A={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:P,ReactCurrentOwner:O};function D(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:V,forEach:function(j,z,Z){V(j,function(){z.apply(this,arguments)},Z)},count:function(j){var z=0;return V(j,function(){z++}),z},toArray:function(j){return V(j,function(z){return z})||[]},only:function(j){if(!ne(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ne.Component=N,Ne.Fragment=o,Ne.Profiler=l,Ne.PureComponent=R,Ne.StrictMode=s,Ne.Suspense=h,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,Ne.act=D,Ne.cloneElement=function(j,z,Z){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var J=k({},j.props),ie=j.key,se=j.ref,ce=j._owner;if(z!=null){if(z.ref!==void 0&&(se=z.ref,ce=O.current),z.key!==void 0&&(ie=""+z.key),j.type&&j.type.defaultProps)var te=j.type.defaultProps;for(ue in z)B.call(z,ue)&&!T.hasOwnProperty(ue)&&(J[ue]=z[ue]===void 0&&te!==void 0?te[ue]:z[ue])}var ue=arguments.length-2;if(ue===1)J.children=Z;else if(1<ue){te=Array(ue);for(var me=0;me<ue;me++)te[me]=arguments[me+2];J.children=te}return{$$typeof:e,type:j.type,key:ie,ref:se,props:J,_owner:ce}},Ne.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:u,_context:j},j.Consumer=j},Ne.createElement=U,Ne.createFactory=function(j){var z=U.bind(null,j);return z.type=j,z},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(j){return{$$typeof:f,render:j}},Ne.isValidElement=ne,Ne.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:$}},Ne.memo=function(j,z){return{$$typeof:y,type:j,compare:z===void 0?null:z}},Ne.startTransition=function(j){var z=P.transition;P.transition={};try{j()}finally{P.transition=z}},Ne.unstable_act=D,Ne.useCallback=function(j,z){return H.current.useCallback(j,z)},Ne.useContext=function(j){return H.current.useContext(j)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(j){return H.current.useDeferredValue(j)},Ne.useEffect=function(j,z){return H.current.useEffect(j,z)},Ne.useId=function(){return H.current.useId()},Ne.useImperativeHandle=function(j,z,Z){return H.current.useImperativeHandle(j,z,Z)},Ne.useInsertionEffect=function(j,z){return H.current.useInsertionEffect(j,z)},Ne.useLayoutEffect=function(j,z){return H.current.useLayoutEffect(j,z)},Ne.useMemo=function(j,z){return H.current.useMemo(j,z)},Ne.useReducer=function(j,z,Z){return H.current.useReducer(j,z,Z)},Ne.useRef=function(j){return H.current.useRef(j)},Ne.useState=function(j){return H.current.useState(j)},Ne.useSyncExternalStore=function(j,z,Z){return H.current.useSyncExternalStore(j,z,Z)},Ne.useTransition=function(){return H.current.useTransition()},Ne.version="18.3.1",Ne}var jh;function bi(){return jh||(jh=1,Uu.exports=qy()),Uu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ih;function Zy(){if(Ih)return li;Ih=1;var e=bi(),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(f,h,y){var v,m={},x=null,S=null;y!==void 0&&(x=""+y),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(S=h.ref);for(v in h)s.call(h,v)&&!u.hasOwnProperty(v)&&(m[v]=h[v]);if(f&&f.defaultProps)for(v in h=f.defaultProps,h)m[v]===void 0&&(m[v]=h[v]);return{$$typeof:r,type:f,key:x,ref:S,props:m,_owner:l.current}}return li.Fragment=o,li.jsx=c,li.jsxs=c,li}var Mh;function Jy(){return Mh||(Mh=1,Wu.exports=Zy()),Wu.exports}var g=Jy(),C=bi();const to=Pc(C);var tl={},Yu={exports:{}},dt={},Xu={exports:{}},Qu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ph;function ev(){return Ph||(Ph=1,(function(e){function r(P,A){var D=P.length;P.push(A);e:for(;0<D;){var j=D-1>>>1,z=P[j];if(0<l(z,A))P[j]=A,P[D]=z,D=j;else break e}}function o(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var A=P[0],D=P.pop();if(D!==A){P[0]=D;e:for(var j=0,z=P.length,Z=z>>>1;j<Z;){var J=2*(j+1)-1,ie=P[J],se=J+1,ce=P[se];if(0>l(ie,D))se<z&&0>l(ce,ie)?(P[j]=ce,P[se]=D,j=se):(P[j]=ie,P[J]=D,j=J);else if(se<z&&0>l(ce,D))P[j]=ce,P[se]=D,j=se;else break e}}return A}function l(P,A){var D=P.sortIndex-A.sortIndex;return D!==0?D:P.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var h=[],y=[],v=1,m=null,x=3,S=!1,k=!1,_=!1,N=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(P){for(var A=o(y);A!==null;){if(A.callback===null)s(y);else if(A.startTime<=P)s(y),A.sortIndex=A.expirationTime,r(h,A);else break;A=o(y)}}function I(P){if(_=!1,E(P),!k)if(o(h)!==null)k=!0,$(B);else{var A=o(y);A!==null&&H(I,A.startTime-P)}}function B(P,A){k=!1,_&&(_=!1,b(U),U=-1),S=!0;var D=x;try{for(E(A),m=o(h);m!==null&&(!(m.expirationTime>A)||P&&!G());){var j=m.callback;if(typeof j=="function"){m.callback=null,x=m.priorityLevel;var z=j(m.expirationTime<=A);A=e.unstable_now(),typeof z=="function"?m.callback=z:m===o(h)&&s(h),E(A)}else s(h);m=o(h)}if(m!==null)var Z=!0;else{var J=o(y);J!==null&&H(I,J.startTime-A),Z=!1}return Z}finally{m=null,x=D,S=!1}}var O=!1,T=null,U=-1,Y=5,ne=-1;function G(){return!(e.unstable_now()-ne<Y)}function X(){if(T!==null){var P=e.unstable_now();ne=P;var A=!0;try{A=T(!0,P)}finally{A?ee():(O=!1,T=null)}}else O=!1}var ee;if(typeof R=="function")ee=function(){R(X)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,V=M.port2;M.port1.onmessage=X,ee=function(){V.postMessage(null)}}else ee=function(){N(X,0)};function $(P){T=P,O||(O=!0,ee())}function H(P,A){U=N(function(){P(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){k||S||(k=!0,$(B))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return o(h)},e.unstable_next=function(P){switch(x){case 1:case 2:case 3:var A=3;break;default:A=x}var D=x;x=A;try{return P()}finally{x=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,A){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var D=x;x=P;try{return A()}finally{x=D}},e.unstable_scheduleCallback=function(P,A,D){var j=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?j+D:j):D=j,P){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=D+z,P={id:v++,callback:A,priorityLevel:P,startTime:D,expirationTime:z,sortIndex:-1},D>j?(P.sortIndex=D,r(y,P),o(h)===null&&P===o(y)&&(_?(b(U),U=-1):_=!0,H(I,D-j))):(P.sortIndex=z,r(h,P),k||S||(k=!0,$(B))),P},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(P){var A=x;return function(){var D=x;x=A;try{return P.apply(this,arguments)}finally{x=D}}}})(Qu)),Qu}var Rh;function tv(){return Rh||(Rh=1,Xu.exports=ev()),Xu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lh;function nv(){if(Lh)return dt;Lh=1;var e=bi(),r=tv();function o(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function u(t,n){c(t,n),c(t+"Capture",n)}function c(t,n){for(l[t]=n,t=0;t<n.length;t++)s.add(n[t])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},m={};function x(t){return h.call(m,t)?!0:h.call(v,t)?!1:y.test(t)?m[t]=!0:(v[t]=!0,!1)}function S(t,n,i,a){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function k(t,n,i,a){if(n===null||typeof n>"u"||S(t,n,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function _(t,n,i,a,d,p,w){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=d,this.mustUseProperty=i,this.propertyName=t,this.type=n,this.sanitizeURL=p,this.removeEmptyString=w}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){N[t]=new _(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];N[n]=new _(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){N[t]=new _(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){N[t]=new _(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){N[t]=new _(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){N[t]=new _(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){N[t]=new _(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){N[t]=new _(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){N[t]=new _(t,5,!1,t.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function R(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(b,R);N[n]=new _(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(b,R);N[n]=new _(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(b,R);N[n]=new _(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){N[t]=new _(t,1,!1,t.toLowerCase(),null,!1,!1)}),N.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){N[t]=new _(t,1,!1,t.toLowerCase(),null,!0,!0)});function E(t,n,i,a){var d=N.hasOwnProperty(n)?N[n]:null;(d!==null?d.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(k(n,i,d,a)&&(i=null),a||d===null?x(n)&&(i===null?t.removeAttribute(n):t.setAttribute(n,""+i)):d.mustUseProperty?t[d.propertyName]=i===null?d.type===3?!1:"":i:(n=d.attributeName,a=d.attributeNamespace,i===null?t.removeAttribute(n):(d=d.type,i=d===3||d===4&&i===!0?"":""+i,a?t.setAttributeNS(a,n,i):t.setAttribute(n,i))))}var I=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),O=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),G=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),P=Symbol.iterator;function A(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var D=Object.assign,j;function z(t){if(j===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);j=n&&n[1]||""}return`
`+j+t}var Z=!1;function J(t,n){if(!t||Z)return"";Z=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(q){var a=q}Reflect.construct(t,[],n)}else{try{n.call()}catch(q){a=q}t.call(n.prototype)}else{try{throw Error()}catch(q){a=q}t()}}catch(q){if(q&&a&&typeof q.stack=="string"){for(var d=q.stack.split(`
`),p=a.stack.split(`
`),w=d.length-1,L=p.length-1;1<=w&&0<=L&&d[w]!==p[L];)L--;for(;1<=w&&0<=L;w--,L--)if(d[w]!==p[L]){if(w!==1||L!==1)do if(w--,L--,0>L||d[w]!==p[L]){var F=`
`+d[w].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=w&&0<=L);break}}}finally{Z=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?z(t):""}function ie(t){switch(t.tag){case 5:return z(t.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return t=J(t.type,!1),t;case 11:return t=J(t.type.render,!1),t;case 1:return t=J(t.type,!0),t;default:return""}}function se(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case T:return"Fragment";case O:return"Portal";case Y:return"Profiler";case U:return"StrictMode";case ee:return"Suspense";case M:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case G:return(t.displayName||"Context")+".Consumer";case ne:return(t._context.displayName||"Context")+".Provider";case X:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return n=t.displayName||null,n!==null?n:se(t.type)||"Memo";case $:n=t._payload,t=t._init;try{return se(t(n))}catch{}}return null}function ce(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return se(n);case 8:return n===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function te(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ue(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function me(t){var n=ue(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),a=""+t[n];if(!t.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,p=i.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return d.call(this)},set:function(w){a=""+w,p.call(this,w)}}),Object.defineProperty(t,n,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(w){a=""+w},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function we(t){t._valueTracker||(t._valueTracker=me(t))}function xe(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var i=n.getValue(),a="";return t&&(a=ue(t)?t.checked?"true":"false":t.value),t=a,t!==i?(n.setValue(t),!0):!1}function ve(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ce(t,n){var i=n.checked;return D({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??t._wrapperState.initialChecked})}function Pe(t,n){var i=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;i=te(n.value!=null?n.value:i),t._wrapperState={initialChecked:a,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function _e(t,n){n=n.checked,n!=null&&E(t,"checked",n,!1)}function We(t,n){_e(t,n);var i=te(n.value),a=n.type;if(i!=null)a==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if(a==="submit"||a==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?ht(t,n.type,i):n.hasOwnProperty("defaultValue")&&ht(t,n.type,te(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function Pt(t,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,i||n===t.value||(t.value=n),t.defaultValue=n}i=t.name,i!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,i!==""&&(t.name=i)}function ht(t,n,i){(n!=="number"||ve(t.ownerDocument)!==t)&&(i==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var pt=Array.isArray;function Et(t,n,i,a){if(t=t.options,n){n={};for(var d=0;d<i.length;d++)n["$"+i[d]]=!0;for(i=0;i<t.length;i++)d=n.hasOwnProperty("$"+t[i].value),t[i].selected!==d&&(t[i].selected=d),d&&a&&(t[i].defaultSelected=!0)}else{for(i=""+te(i),n=null,d=0;d<t.length;d++){if(t[d].value===i){t[d].selected=!0,a&&(t[d].defaultSelected=!0);return}n!==null||t[d].disabled||(n=t[d])}n!==null&&(n.selected=!0)}}function tn(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(o(91));return D({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wn(t,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(o(92));if(pt(i)){if(1<i.length)throw Error(o(93));i=i[0]}n=i}n==null&&(n=""),i=n}t._wrapperState={initialValue:te(i)}}function Sr(t,n){var i=te(n.value),a=te(n.defaultValue);i!=null&&(i=""+i,i!==t.value&&(t.value=i),n.defaultValue==null&&t.defaultValue!==i&&(t.defaultValue=i)),a!=null&&(t.defaultValue=""+a)}function Xn(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function nn(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rn(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?nn(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qn,$i=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,a,d){MSApp.execUnsafeLocalFunction(function(){return t(n,i,a,d)})}:t})(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(Qn=Qn||document.createElement("div"),Qn.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Qn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function on(t,n){if(n){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=n;return}}t.textContent=n}var Gn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zl=["Webkit","ms","Moz","O"];Object.keys(Gn).forEach(function(t){Zl.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),Gn[n]=Gn[t]})});function Di(t,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||Gn.hasOwnProperty(t)&&Gn[t]?(""+n).trim():n+"px"}function Oi(t,n){t=t.style;for(var i in n)if(n.hasOwnProperty(i)){var a=i.indexOf("--")===0,d=Di(i,n[i],a);i==="float"&&(i="cssFloat"),a?t.setProperty(i,d):t[i]=d}}var Jl=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yo(t,n){if(n){if(Jl[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(o(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(o(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(o(61))}if(n.style!=null&&typeof n.style!="object")throw Error(o(62))}}function vo(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xo=null;function wo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var So=null,Sn=null,En=null;function Fi(t){if(t=Yo(t)){if(typeof So!="function")throw Error(o(280));var n=t.stateNode;n&&(n=gs(n),So(t.stateNode,t.type,n))}}function Hi(t){Sn?En?En.push(t):En=[t]:Sn=t}function Bi(){if(Sn){var t=Sn,n=En;if(En=Sn=null,Fi(t),n)for(t=0;t<n.length;t++)Fi(n[t])}}function Vi(t,n){return t(n)}function Wi(){}var Eo=!1;function Ui(t,n,i){if(Eo)return t(n,i);Eo=!0;try{return Vi(t,n,i)}finally{Eo=!1,(Sn!==null||En!==null)&&(Wi(),Bi())}}function Kn(t,n){var i=t.stateNode;if(i===null)return null;var a=gs(i);if(a===null)return null;i=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(o(231,n,typeof i));return i}var ko=!1;if(f)try{var qn={};Object.defineProperty(qn,"passive",{get:function(){ko=!0}}),window.addEventListener("test",qn,qn),window.removeEventListener("test",qn,qn)}catch{ko=!1}function ea(t,n,i,a,d,p,w,L,F){var q=Array.prototype.slice.call(arguments,3);try{n.apply(i,q)}catch(oe){this.onError(oe)}}var Zn=!1,Er=null,kr=!1,No=null,ta={onError:function(t){Zn=!0,Er=t}};function na(t,n,i,a,d,p,w,L,F){Zn=!1,Er=null,ea.apply(ta,arguments)}function ra(t,n,i,a,d,p,w,L,F){if(na.apply(this,arguments),Zn){if(Zn){var q=Er;Zn=!1,Er=null}else throw Error(o(198));kr||(kr=!0,No=q)}}function Wt(t){var n=t,i=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(i=n.return),t=n.return;while(t)}return n.tag===3?i:null}function Co(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _o(t){if(Wt(t)!==t)throw Error(o(188))}function oa(t){var n=t.alternate;if(!n){if(n=Wt(t),n===null)throw Error(o(188));return n!==t?null:t}for(var i=t,a=n;;){var d=i.return;if(d===null)break;var p=d.alternate;if(p===null){if(a=d.return,a!==null){i=a;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===i)return _o(d),t;if(p===a)return _o(d),n;p=p.sibling}throw Error(o(188))}if(i.return!==a.return)i=d,a=p;else{for(var w=!1,L=d.child;L;){if(L===i){w=!0,i=d,a=p;break}if(L===a){w=!0,a=d,i=p;break}L=L.sibling}if(!w){for(L=p.child;L;){if(L===i){w=!0,i=p,a=d;break}if(L===a){w=!0,a=p,i=d;break}L=L.sibling}if(!w)throw Error(o(189))}}if(i.alternate!==a)throw Error(o(190))}if(i.tag!==3)throw Error(o(188));return i.stateNode.current===i?t:n}function Yi(t){return t=oa(t),t!==null?Xi(t):null}function Xi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=Xi(t);if(n!==null)return n;t=t.sibling}return null}var Qi=r.unstable_scheduleCallback,Gi=r.unstable_cancelCallback,ia=r.unstable_shouldYield,Ki=r.unstable_requestPaint,De=r.unstable_now,sa=r.unstable_getCurrentPriorityLevel,bo=r.unstable_ImmediatePriority,qi=r.unstable_UserBlockingPriority,Nr=r.unstable_NormalPriority,la=r.unstable_LowPriority,Zi=r.unstable_IdlePriority,Jn=null,kt=null;function aa(t){if(kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(Jn,t,void 0,(t.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:da,ua=Math.log,ca=Math.LN2;function da(t){return t>>>=0,t===0?32:31-(ua(t)/ca|0)|0}var Cr=64,_r=4194304;function Ut(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function br(t,n){var i=t.pendingLanes;if(i===0)return 0;var a=0,d=t.suspendedLanes,p=t.pingedLanes,w=i&268435455;if(w!==0){var L=w&~d;L!==0?a=Ut(L):(p&=w,p!==0&&(a=Ut(p)))}else w=i&~d,w!==0?a=Ut(w):p!==0&&(a=Ut(p));if(a===0)return 0;if(n!==0&&n!==a&&(n&d)===0&&(d=a&-a,p=n&-n,d>=p||d===16&&(p&4194240)!==0))return n;if((a&4)!==0&&(a|=i&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=a;0<n;)i=31-mt(n),d=1<<i,a|=t[i],n&=~d;return a}function Ji(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fa(t,n){for(var i=t.suspendedLanes,a=t.pingedLanes,d=t.expirationTimes,p=t.pendingLanes;0<p;){var w=31-mt(p),L=1<<w,F=d[w];F===-1?((L&i)===0||(L&a)!==0)&&(d[w]=Ji(L,n)):F<=n&&(t.expiredLanes|=L),p&=~L}}function jo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function jr(){var t=Cr;return Cr<<=1,(Cr&4194240)===0&&(Cr=64),t}function Io(t){for(var n=[],i=0;31>i;i++)n.push(t);return n}function er(t,n,i){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-mt(n),t[n]=i}function es(t,n){var i=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var a=t.eventTimes;for(t=t.expirationTimes;0<i;){var d=31-mt(i),p=1<<d;n[d]=0,a[d]=-1,t[d]=-1,i&=~p}}function ha(t,n){var i=t.entangledLanes|=n;for(t=t.entanglements;i;){var a=31-mt(i),d=1<<a;d&n|t[a]&n&&(t[a]|=n),i&=~d}}var Me=0;function od(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var id,pa,sd,ld,ad,ma=!1,ts=[],kn=null,Nn=null,Cn=null,Mo=new Map,Po=new Map,_n=[],xg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ud(t,n){switch(t){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":Cn=null;break;case"pointerover":case"pointerout":Mo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Po.delete(n.pointerId)}}function Ro(t,n,i,a,d,p){return t===null||t.nativeEvent!==p?(t={blockedOn:n,domEventName:i,eventSystemFlags:a,nativeEvent:p,targetContainers:[d]},n!==null&&(n=Yo(n),n!==null&&pa(n)),t):(t.eventSystemFlags|=a,n=t.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),t)}function wg(t,n,i,a,d){switch(n){case"focusin":return kn=Ro(kn,t,n,i,a,d),!0;case"dragenter":return Nn=Ro(Nn,t,n,i,a,d),!0;case"mouseover":return Cn=Ro(Cn,t,n,i,a,d),!0;case"pointerover":var p=d.pointerId;return Mo.set(p,Ro(Mo.get(p)||null,t,n,i,a,d)),!0;case"gotpointercapture":return p=d.pointerId,Po.set(p,Ro(Po.get(p)||null,t,n,i,a,d)),!0}return!1}function cd(t){var n=tr(t.target);if(n!==null){var i=Wt(n);if(i!==null){if(n=i.tag,n===13){if(n=Co(i),n!==null){t.blockedOn=n,ad(t.priority,function(){sd(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ns(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var i=ya(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(i===null){i=t.nativeEvent;var a=new i.constructor(i.type,i);xo=a,i.target.dispatchEvent(a),xo=null}else return n=Yo(i),n!==null&&pa(n),t.blockedOn=i,!1;n.shift()}return!0}function dd(t,n,i){ns(t)&&i.delete(n)}function Sg(){ma=!1,kn!==null&&ns(kn)&&(kn=null),Nn!==null&&ns(Nn)&&(Nn=null),Cn!==null&&ns(Cn)&&(Cn=null),Mo.forEach(dd),Po.forEach(dd)}function Lo(t,n){t.blockedOn===n&&(t.blockedOn=null,ma||(ma=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Sg)))}function To(t){function n(d){return Lo(d,t)}if(0<ts.length){Lo(ts[0],t);for(var i=1;i<ts.length;i++){var a=ts[i];a.blockedOn===t&&(a.blockedOn=null)}}for(kn!==null&&Lo(kn,t),Nn!==null&&Lo(Nn,t),Cn!==null&&Lo(Cn,t),Mo.forEach(n),Po.forEach(n),i=0;i<_n.length;i++)a=_n[i],a.blockedOn===t&&(a.blockedOn=null);for(;0<_n.length&&(i=_n[0],i.blockedOn===null);)cd(i),i.blockedOn===null&&_n.shift()}var Ir=I.ReactCurrentBatchConfig,rs=!0;function Eg(t,n,i,a){var d=Me,p=Ir.transition;Ir.transition=null;try{Me=1,ga(t,n,i,a)}finally{Me=d,Ir.transition=p}}function kg(t,n,i,a){var d=Me,p=Ir.transition;Ir.transition=null;try{Me=4,ga(t,n,i,a)}finally{Me=d,Ir.transition=p}}function ga(t,n,i,a){if(rs){var d=ya(t,n,i,a);if(d===null)Ta(t,n,a,os,i),ud(t,a);else if(wg(d,t,n,i,a))a.stopPropagation();else if(ud(t,a),n&4&&-1<xg.indexOf(t)){for(;d!==null;){var p=Yo(d);if(p!==null&&id(p),p=ya(t,n,i,a),p===null&&Ta(t,n,a,os,i),p===d)break;d=p}d!==null&&a.stopPropagation()}else Ta(t,n,a,null,i)}}var os=null;function ya(t,n,i,a){if(os=null,t=wo(a),t=tr(t),t!==null)if(n=Wt(t),n===null)t=null;else if(i=n.tag,i===13){if(t=Co(n),t!==null)return t;t=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return os=t,null}function fd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sa()){case bo:return 1;case qi:return 4;case Nr:case la:return 16;case Zi:return 536870912;default:return 16}default:return 16}}var bn=null,va=null,is=null;function hd(){if(is)return is;var t,n=va,i=n.length,a,d="value"in bn?bn.value:bn.textContent,p=d.length;for(t=0;t<i&&n[t]===d[t];t++);var w=i-t;for(a=1;a<=w&&n[i-a]===d[p-a];a++);return is=d.slice(t,1<a?1-a:void 0)}function ss(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ls(){return!0}function pd(){return!1}function gt(t){function n(i,a,d,p,w){this._reactName=i,this._targetInst=d,this.type=a,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var L in t)t.hasOwnProperty(L)&&(i=t[L],this[L]=i?i(p):p[L]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ls:pd,this.isPropagationStopped=pd,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),n}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=gt(Mr),zo=D({},Mr,{view:0,detail:0}),Ng=gt(zo),wa,Sa,Ao,as=D({},zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ka,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ao&&(Ao&&t.type==="mousemove"?(wa=t.screenX-Ao.screenX,Sa=t.screenY-Ao.screenY):Sa=wa=0,Ao=t),wa)},movementY:function(t){return"movementY"in t?t.movementY:Sa}}),md=gt(as),Cg=D({},as,{dataTransfer:0}),_g=gt(Cg),bg=D({},zo,{relatedTarget:0}),Ea=gt(bg),jg=D({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ig=gt(jg),Mg=D({},Mr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pg=gt(Mg),Rg=D({},Mr,{data:0}),gd=gt(Rg),Lg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ag(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=zg[t])?!!n[t]:!1}function ka(){return Ag}var $g=D({},zo,{key:function(t){if(t.key){var n=Lg[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ss(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ka,charCode:function(t){return t.type==="keypress"?ss(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ss(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Dg=gt($g),Og=D({},as,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yd=gt(Og),Fg=D({},zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ka}),Hg=gt(Fg),Bg=D({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vg=gt(Bg),Wg=D({},as,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ug=gt(Wg),Yg=[9,13,27,32],Na=f&&"CompositionEvent"in window,$o=null;f&&"documentMode"in document&&($o=document.documentMode);var Xg=f&&"TextEvent"in window&&!$o,vd=f&&(!Na||$o&&8<$o&&11>=$o),xd=" ",wd=!1;function Sd(t,n){switch(t){case"keyup":return Yg.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ed(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pr=!1;function Qg(t,n){switch(t){case"compositionend":return Ed(n);case"keypress":return n.which!==32?null:(wd=!0,xd);case"textInput":return t=n.data,t===xd&&wd?null:t;default:return null}}function Gg(t,n){if(Pr)return t==="compositionend"||!Na&&Sd(t,n)?(t=hd(),is=va=bn=null,Pr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vd&&n.locale!=="ko"?null:n.data;default:return null}}var Kg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Kg[t.type]:n==="textarea"}function Nd(t,n,i,a){Hi(a),n=hs(n,"onChange"),0<n.length&&(i=new xa("onChange","change",null,i,a),t.push({event:i,listeners:n}))}var Do=null,Oo=null;function qg(t){Bd(t,0)}function us(t){var n=Ar(t);if(xe(n))return t}function Zg(t,n){if(t==="change")return n}var Cd=!1;if(f){var Ca;if(f){var _a="oninput"in document;if(!_a){var _d=document.createElement("div");_d.setAttribute("oninput","return;"),_a=typeof _d.oninput=="function"}Ca=_a}else Ca=!1;Cd=Ca&&(!document.documentMode||9<document.documentMode)}function bd(){Do&&(Do.detachEvent("onpropertychange",jd),Oo=Do=null)}function jd(t){if(t.propertyName==="value"&&us(Oo)){var n=[];Nd(n,Oo,t,wo(t)),Ui(qg,n)}}function Jg(t,n,i){t==="focusin"?(bd(),Do=n,Oo=i,Do.attachEvent("onpropertychange",jd)):t==="focusout"&&bd()}function ey(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return us(Oo)}function ty(t,n){if(t==="click")return us(n)}function ny(t,n){if(t==="input"||t==="change")return us(n)}function ry(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Rt=typeof Object.is=="function"?Object.is:ry;function Fo(t,n){if(Rt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var i=Object.keys(t),a=Object.keys(n);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var d=i[a];if(!h.call(n,d)||!Rt(t[d],n[d]))return!1}return!0}function Id(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Md(t,n){var i=Id(t);t=0;for(var a;i;){if(i.nodeType===3){if(a=t+i.textContent.length,t<=n&&a>=n)return{node:i,offset:n-t};t=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Id(i)}}function Pd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Pd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Rd(){for(var t=window,n=ve();n instanceof t.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)t=n.contentWindow;else break;n=ve(t.document)}return n}function ba(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function oy(t){var n=Rd(),i=t.focusedElem,a=t.selectionRange;if(n!==i&&i&&i.ownerDocument&&Pd(i.ownerDocument.documentElement,i)){if(a!==null&&ba(i)){if(n=a.start,t=a.end,t===void 0&&(t=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(t,i.value.length);else if(t=(n=i.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var d=i.textContent.length,p=Math.min(a.start,d);a=a.end===void 0?p:Math.min(a.end,d),!t.extend&&p>a&&(d=a,a=p,p=d),d=Md(i,p);var w=Md(i,a);d&&w&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==w.node||t.focusOffset!==w.offset)&&(n=n.createRange(),n.setStart(d.node,d.offset),t.removeAllRanges(),p>a?(t.addRange(n),t.extend(w.node,w.offset)):(n.setEnd(w.node,w.offset),t.addRange(n)))}}for(n=[],t=i;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)t=n[i],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var iy=f&&"documentMode"in document&&11>=document.documentMode,Rr=null,ja=null,Ho=null,Ia=!1;function Ld(t,n,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Ia||Rr==null||Rr!==ve(a)||(a=Rr,"selectionStart"in a&&ba(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ho&&Fo(Ho,a)||(Ho=a,a=hs(ja,"onSelect"),0<a.length&&(n=new xa("onSelect","select",null,n,i),t.push({event:n,listeners:a}),n.target=Rr)))}function cs(t,n){var i={};return i[t.toLowerCase()]=n.toLowerCase(),i["Webkit"+t]="webkit"+n,i["Moz"+t]="moz"+n,i}var Lr={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionend:cs("Transition","TransitionEnd")},Ma={},Td={};f&&(Td=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function ds(t){if(Ma[t])return Ma[t];if(!Lr[t])return t;var n=Lr[t],i;for(i in n)if(n.hasOwnProperty(i)&&i in Td)return Ma[t]=n[i];return t}var zd=ds("animationend"),Ad=ds("animationiteration"),$d=ds("animationstart"),Dd=ds("transitionend"),Od=new Map,Fd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jn(t,n){Od.set(t,n),u(n,[t])}for(var Pa=0;Pa<Fd.length;Pa++){var Ra=Fd[Pa],sy=Ra.toLowerCase(),ly=Ra[0].toUpperCase()+Ra.slice(1);jn(sy,"on"+ly)}jn(zd,"onAnimationEnd"),jn(Ad,"onAnimationIteration"),jn($d,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(Dd,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ay=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bo));function Hd(t,n,i){var a=t.type||"unknown-event";t.currentTarget=i,ra(a,n,void 0,t),t.currentTarget=null}function Bd(t,n){n=(n&4)!==0;for(var i=0;i<t.length;i++){var a=t[i],d=a.event;a=a.listeners;e:{var p=void 0;if(n)for(var w=a.length-1;0<=w;w--){var L=a[w],F=L.instance,q=L.currentTarget;if(L=L.listener,F!==p&&d.isPropagationStopped())break e;Hd(d,L,q),p=F}else for(w=0;w<a.length;w++){if(L=a[w],F=L.instance,q=L.currentTarget,L=L.listener,F!==p&&d.isPropagationStopped())break e;Hd(d,L,q),p=F}}}if(kr)throw t=No,kr=!1,No=null,t}function Le(t,n){var i=n[Fa];i===void 0&&(i=n[Fa]=new Set);var a=t+"__bubble";i.has(a)||(Vd(n,t,2,!1),i.add(a))}function La(t,n,i){var a=0;n&&(a|=4),Vd(i,t,a,n)}var fs="_reactListening"+Math.random().toString(36).slice(2);function Vo(t){if(!t[fs]){t[fs]=!0,s.forEach(function(i){i!=="selectionchange"&&(ay.has(i)||La(i,!1,t),La(i,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[fs]||(n[fs]=!0,La("selectionchange",!1,n))}}function Vd(t,n,i,a){switch(fd(n)){case 1:var d=Eg;break;case 4:d=kg;break;default:d=ga}i=d.bind(null,n,i,t),d=void 0,!ko||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),a?d!==void 0?t.addEventListener(n,i,{capture:!0,passive:d}):t.addEventListener(n,i,!0):d!==void 0?t.addEventListener(n,i,{passive:d}):t.addEventListener(n,i,!1)}function Ta(t,n,i,a,d){var p=a;if((n&1)===0&&(n&2)===0&&a!==null)e:for(;;){if(a===null)return;var w=a.tag;if(w===3||w===4){var L=a.stateNode.containerInfo;if(L===d||L.nodeType===8&&L.parentNode===d)break;if(w===4)for(w=a.return;w!==null;){var F=w.tag;if((F===3||F===4)&&(F=w.stateNode.containerInfo,F===d||F.nodeType===8&&F.parentNode===d))return;w=w.return}for(;L!==null;){if(w=tr(L),w===null)return;if(F=w.tag,F===5||F===6){a=p=w;continue e}L=L.parentNode}}a=a.return}Ui(function(){var q=p,oe=wo(i),le=[];e:{var re=Od.get(t);if(re!==void 0){var de=xa,he=t;switch(t){case"keypress":if(ss(i)===0)break e;case"keydown":case"keyup":de=Dg;break;case"focusin":he="focus",de=Ea;break;case"focusout":he="blur",de=Ea;break;case"beforeblur":case"afterblur":de=Ea;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=md;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=_g;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Hg;break;case zd:case Ad:case $d:de=Ig;break;case Dd:de=Vg;break;case"scroll":de=Ng;break;case"wheel":de=Ug;break;case"copy":case"cut":case"paste":de=Pg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=yd}var pe=(n&4)!==0,Ve=!pe&&t==="scroll",Q=pe?re!==null?re+"Capture":null:re;pe=[];for(var W=q,K;W!==null;){K=W;var ae=K.stateNode;if(K.tag===5&&ae!==null&&(K=ae,Q!==null&&(ae=Kn(W,Q),ae!=null&&pe.push(Wo(W,ae,K)))),Ve)break;W=W.return}0<pe.length&&(re=new de(re,he,null,i,oe),le.push({event:re,listeners:pe}))}}if((n&7)===0){e:{if(re=t==="mouseover"||t==="pointerover",de=t==="mouseout"||t==="pointerout",re&&i!==xo&&(he=i.relatedTarget||i.fromElement)&&(tr(he)||he[sn]))break e;if((de||re)&&(re=oe.window===oe?oe:(re=oe.ownerDocument)?re.defaultView||re.parentWindow:window,de?(he=i.relatedTarget||i.toElement,de=q,he=he?tr(he):null,he!==null&&(Ve=Wt(he),he!==Ve||he.tag!==5&&he.tag!==6)&&(he=null)):(de=null,he=q),de!==he)){if(pe=md,ae="onMouseLeave",Q="onMouseEnter",W="mouse",(t==="pointerout"||t==="pointerover")&&(pe=yd,ae="onPointerLeave",Q="onPointerEnter",W="pointer"),Ve=de==null?re:Ar(de),K=he==null?re:Ar(he),re=new pe(ae,W+"leave",de,i,oe),re.target=Ve,re.relatedTarget=K,ae=null,tr(oe)===q&&(pe=new pe(Q,W+"enter",he,i,oe),pe.target=K,pe.relatedTarget=Ve,ae=pe),Ve=ae,de&&he)t:{for(pe=de,Q=he,W=0,K=pe;K;K=Tr(K))W++;for(K=0,ae=Q;ae;ae=Tr(ae))K++;for(;0<W-K;)pe=Tr(pe),W--;for(;0<K-W;)Q=Tr(Q),K--;for(;W--;){if(pe===Q||Q!==null&&pe===Q.alternate)break t;pe=Tr(pe),Q=Tr(Q)}pe=null}else pe=null;de!==null&&Wd(le,re,de,pe,!1),he!==null&&Ve!==null&&Wd(le,Ve,he,pe,!0)}}e:{if(re=q?Ar(q):window,de=re.nodeName&&re.nodeName.toLowerCase(),de==="select"||de==="input"&&re.type==="file")var ge=Zg;else if(kd(re))if(Cd)ge=ny;else{ge=ey;var Se=Jg}else(de=re.nodeName)&&de.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(ge=ty);if(ge&&(ge=ge(t,q))){Nd(le,ge,i,oe);break e}Se&&Se(t,re,q),t==="focusout"&&(Se=re._wrapperState)&&Se.controlled&&re.type==="number"&&ht(re,"number",re.value)}switch(Se=q?Ar(q):window,t){case"focusin":(kd(Se)||Se.contentEditable==="true")&&(Rr=Se,ja=q,Ho=null);break;case"focusout":Ho=ja=Rr=null;break;case"mousedown":Ia=!0;break;case"contextmenu":case"mouseup":case"dragend":Ia=!1,Ld(le,i,oe);break;case"selectionchange":if(iy)break;case"keydown":case"keyup":Ld(le,i,oe)}var Ee;if(Na)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Pr?Sd(t,i)&&(ke="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(ke="onCompositionStart");ke&&(vd&&i.locale!=="ko"&&(Pr||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Pr&&(Ee=hd()):(bn=oe,va="value"in bn?bn.value:bn.textContent,Pr=!0)),Se=hs(q,ke),0<Se.length&&(ke=new gd(ke,t,null,i,oe),le.push({event:ke,listeners:Se}),Ee?ke.data=Ee:(Ee=Ed(i),Ee!==null&&(ke.data=Ee)))),(Ee=Xg?Qg(t,i):Gg(t,i))&&(q=hs(q,"onBeforeInput"),0<q.length&&(oe=new gd("onBeforeInput","beforeinput",null,i,oe),le.push({event:oe,listeners:q}),oe.data=Ee))}Bd(le,n)})}function Wo(t,n,i){return{instance:t,listener:n,currentTarget:i}}function hs(t,n){for(var i=n+"Capture",a=[];t!==null;){var d=t,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=Kn(t,i),p!=null&&a.unshift(Wo(t,p,d)),p=Kn(t,n),p!=null&&a.push(Wo(t,p,d))),t=t.return}return a}function Tr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wd(t,n,i,a,d){for(var p=n._reactName,w=[];i!==null&&i!==a;){var L=i,F=L.alternate,q=L.stateNode;if(F!==null&&F===a)break;L.tag===5&&q!==null&&(L=q,d?(F=Kn(i,p),F!=null&&w.unshift(Wo(i,F,L))):d||(F=Kn(i,p),F!=null&&w.push(Wo(i,F,L)))),i=i.return}w.length!==0&&t.push({event:n,listeners:w})}var uy=/\r\n?/g,cy=/\u0000|\uFFFD/g;function Ud(t){return(typeof t=="string"?t:""+t).replace(uy,`
`).replace(cy,"")}function ps(t,n,i){if(n=Ud(n),Ud(t)!==n&&i)throw Error(o(425))}function ms(){}var za=null,Aa=null;function $a(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Da=typeof setTimeout=="function"?setTimeout:void 0,dy=typeof clearTimeout=="function"?clearTimeout:void 0,Yd=typeof Promise=="function"?Promise:void 0,fy=typeof queueMicrotask=="function"?queueMicrotask:typeof Yd<"u"?function(t){return Yd.resolve(null).then(t).catch(hy)}:Da;function hy(t){setTimeout(function(){throw t})}function Oa(t,n){var i=n,a=0;do{var d=i.nextSibling;if(t.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(a===0){t.removeChild(d),To(n);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=d}while(i);To(n)}function In(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function Xd(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return t;n--}else i==="/$"&&n++}t=t.previousSibling}return null}var zr=Math.random().toString(36).slice(2),Yt="__reactFiber$"+zr,Uo="__reactProps$"+zr,sn="__reactContainer$"+zr,Fa="__reactEvents$"+zr,py="__reactListeners$"+zr,my="__reactHandles$"+zr;function tr(t){var n=t[Yt];if(n)return n;for(var i=t.parentNode;i;){if(n=i[sn]||i[Yt]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(t=Xd(t);t!==null;){if(i=t[Yt])return i;t=Xd(t)}return n}t=i,i=t.parentNode}return null}function Yo(t){return t=t[Yt]||t[sn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ar(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(o(33))}function gs(t){return t[Uo]||null}var Ha=[],$r=-1;function Mn(t){return{current:t}}function Te(t){0>$r||(t.current=Ha[$r],Ha[$r]=null,$r--)}function Re(t,n){$r++,Ha[$r]=t.current,t.current=n}var Pn={},et=Mn(Pn),st=Mn(!1),nr=Pn;function Dr(t,n){var i=t.type.contextTypes;if(!i)return Pn;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in i)d[p]=n[p];return a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=d),d}function lt(t){return t=t.childContextTypes,t!=null}function ys(){Te(st),Te(et)}function Qd(t,n,i){if(et.current!==Pn)throw Error(o(168));Re(et,n),Re(st,i)}function Gd(t,n,i){var a=t.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var d in a)if(!(d in n))throw Error(o(108,ce(t)||"Unknown",d));return D({},i,a)}function vs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pn,nr=et.current,Re(et,t),Re(st,st.current),!0}function Kd(t,n,i){var a=t.stateNode;if(!a)throw Error(o(169));i?(t=Gd(t,n,nr),a.__reactInternalMemoizedMergedChildContext=t,Te(st),Te(et),Re(et,t)):Te(st),Re(st,i)}var ln=null,xs=!1,Ba=!1;function qd(t){ln===null?ln=[t]:ln.push(t)}function gy(t){xs=!0,qd(t)}function Rn(){if(!Ba&&ln!==null){Ba=!0;var t=0,n=Me;try{var i=ln;for(Me=1;t<i.length;t++){var a=i[t];do a=a(!0);while(a!==null)}ln=null,xs=!1}catch(d){throw ln!==null&&(ln=ln.slice(t+1)),Qi(bo,Rn),d}finally{Me=n,Ba=!1}}return null}var Or=[],Fr=0,ws=null,Ss=0,Nt=[],Ct=0,rr=null,an=1,un="";function or(t,n){Or[Fr++]=Ss,Or[Fr++]=ws,ws=t,Ss=n}function Zd(t,n,i){Nt[Ct++]=an,Nt[Ct++]=un,Nt[Ct++]=rr,rr=t;var a=an;t=un;var d=32-mt(a)-1;a&=~(1<<d),i+=1;var p=32-mt(n)+d;if(30<p){var w=d-d%5;p=(a&(1<<w)-1).toString(32),a>>=w,d-=w,an=1<<32-mt(n)+d|i<<d|a,un=p+t}else an=1<<p|i<<d|a,un=t}function Va(t){t.return!==null&&(or(t,1),Zd(t,1,0))}function Wa(t){for(;t===ws;)ws=Or[--Fr],Or[Fr]=null,Ss=Or[--Fr],Or[Fr]=null;for(;t===rr;)rr=Nt[--Ct],Nt[Ct]=null,un=Nt[--Ct],Nt[Ct]=null,an=Nt[--Ct],Nt[Ct]=null}var yt=null,vt=null,ze=!1,Lt=null;function Jd(t,n){var i=It(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=t,n=t.deletions,n===null?(t.deletions=[i],t.flags|=16):n.push(i)}function ef(t,n){switch(t.tag){case 5:var i=t.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,yt=t,vt=In(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,yt=t,vt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=rr!==null?{id:an,overflow:un}:null,t.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=It(18,null,null,0),i.stateNode=n,i.return=t,t.child=i,yt=t,vt=null,!0):!1;default:return!1}}function Ua(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ya(t){if(ze){var n=vt;if(n){var i=n;if(!ef(t,n)){if(Ua(t))throw Error(o(418));n=In(i.nextSibling);var a=yt;n&&ef(t,n)?Jd(a,i):(t.flags=t.flags&-4097|2,ze=!1,yt=t)}}else{if(Ua(t))throw Error(o(418));t.flags=t.flags&-4097|2,ze=!1,yt=t}}}function tf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yt=t}function Es(t){if(t!==yt)return!1;if(!ze)return tf(t),ze=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!$a(t.type,t.memoizedProps)),n&&(n=vt)){if(Ua(t))throw nf(),Error(o(418));for(;n;)Jd(t,n),n=In(n.nextSibling)}if(tf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"){if(n===0){vt=In(t.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}t=t.nextSibling}vt=null}}else vt=yt?In(t.stateNode.nextSibling):null;return!0}function nf(){for(var t=vt;t;)t=In(t.nextSibling)}function Hr(){vt=yt=null,ze=!1}function Xa(t){Lt===null?Lt=[t]:Lt.push(t)}var yy=I.ReactCurrentBatchConfig;function Xo(t,n,i){if(t=i.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(o(309));var a=i.stateNode}if(!a)throw Error(o(147,t));var d=a,p=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===p?n.ref:(n=function(w){var L=d.refs;w===null?delete L[p]:L[p]=w},n._stringRef=p,n)}if(typeof t!="string")throw Error(o(284));if(!i._owner)throw Error(o(290,t))}return t}function ks(t,n){throw t=Object.prototype.toString.call(n),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function rf(t){var n=t._init;return n(t._payload)}function of(t){function n(Q,W){if(t){var K=Q.deletions;K===null?(Q.deletions=[W],Q.flags|=16):K.push(W)}}function i(Q,W){if(!t)return null;for(;W!==null;)n(Q,W),W=W.sibling;return null}function a(Q,W){for(Q=new Map;W!==null;)W.key!==null?Q.set(W.key,W):Q.set(W.index,W),W=W.sibling;return Q}function d(Q,W){return Q=Fn(Q,W),Q.index=0,Q.sibling=null,Q}function p(Q,W,K){return Q.index=K,t?(K=Q.alternate,K!==null?(K=K.index,K<W?(Q.flags|=2,W):K):(Q.flags|=2,W)):(Q.flags|=1048576,W)}function w(Q){return t&&Q.alternate===null&&(Q.flags|=2),Q}function L(Q,W,K,ae){return W===null||W.tag!==6?(W=Du(K,Q.mode,ae),W.return=Q,W):(W=d(W,K),W.return=Q,W)}function F(Q,W,K,ae){var ge=K.type;return ge===T?oe(Q,W,K.props.children,ae,K.key):W!==null&&(W.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===$&&rf(ge)===W.type)?(ae=d(W,K.props),ae.ref=Xo(Q,W,K),ae.return=Q,ae):(ae=Xs(K.type,K.key,K.props,null,Q.mode,ae),ae.ref=Xo(Q,W,K),ae.return=Q,ae)}function q(Q,W,K,ae){return W===null||W.tag!==4||W.stateNode.containerInfo!==K.containerInfo||W.stateNode.implementation!==K.implementation?(W=Ou(K,Q.mode,ae),W.return=Q,W):(W=d(W,K.children||[]),W.return=Q,W)}function oe(Q,W,K,ae,ge){return W===null||W.tag!==7?(W=fr(K,Q.mode,ae,ge),W.return=Q,W):(W=d(W,K),W.return=Q,W)}function le(Q,W,K){if(typeof W=="string"&&W!==""||typeof W=="number")return W=Du(""+W,Q.mode,K),W.return=Q,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case B:return K=Xs(W.type,W.key,W.props,null,Q.mode,K),K.ref=Xo(Q,null,W),K.return=Q,K;case O:return W=Ou(W,Q.mode,K),W.return=Q,W;case $:var ae=W._init;return le(Q,ae(W._payload),K)}if(pt(W)||A(W))return W=fr(W,Q.mode,K,null),W.return=Q,W;ks(Q,W)}return null}function re(Q,W,K,ae){var ge=W!==null?W.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return ge!==null?null:L(Q,W,""+K,ae);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case B:return K.key===ge?F(Q,W,K,ae):null;case O:return K.key===ge?q(Q,W,K,ae):null;case $:return ge=K._init,re(Q,W,ge(K._payload),ae)}if(pt(K)||A(K))return ge!==null?null:oe(Q,W,K,ae,null);ks(Q,K)}return null}function de(Q,W,K,ae,ge){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Q=Q.get(K)||null,L(W,Q,""+ae,ge);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case B:return Q=Q.get(ae.key===null?K:ae.key)||null,F(W,Q,ae,ge);case O:return Q=Q.get(ae.key===null?K:ae.key)||null,q(W,Q,ae,ge);case $:var Se=ae._init;return de(Q,W,K,Se(ae._payload),ge)}if(pt(ae)||A(ae))return Q=Q.get(K)||null,oe(W,Q,ae,ge,null);ks(W,ae)}return null}function he(Q,W,K,ae){for(var ge=null,Se=null,Ee=W,ke=W=0,qe=null;Ee!==null&&ke<K.length;ke++){Ee.index>ke?(qe=Ee,Ee=null):qe=Ee.sibling;var Ie=re(Q,Ee,K[ke],ae);if(Ie===null){Ee===null&&(Ee=qe);break}t&&Ee&&Ie.alternate===null&&n(Q,Ee),W=p(Ie,W,ke),Se===null?ge=Ie:Se.sibling=Ie,Se=Ie,Ee=qe}if(ke===K.length)return i(Q,Ee),ze&&or(Q,ke),ge;if(Ee===null){for(;ke<K.length;ke++)Ee=le(Q,K[ke],ae),Ee!==null&&(W=p(Ee,W,ke),Se===null?ge=Ee:Se.sibling=Ee,Se=Ee);return ze&&or(Q,ke),ge}for(Ee=a(Q,Ee);ke<K.length;ke++)qe=de(Ee,Q,ke,K[ke],ae),qe!==null&&(t&&qe.alternate!==null&&Ee.delete(qe.key===null?ke:qe.key),W=p(qe,W,ke),Se===null?ge=qe:Se.sibling=qe,Se=qe);return t&&Ee.forEach(function(Hn){return n(Q,Hn)}),ze&&or(Q,ke),ge}function pe(Q,W,K,ae){var ge=A(K);if(typeof ge!="function")throw Error(o(150));if(K=ge.call(K),K==null)throw Error(o(151));for(var Se=ge=null,Ee=W,ke=W=0,qe=null,Ie=K.next();Ee!==null&&!Ie.done;ke++,Ie=K.next()){Ee.index>ke?(qe=Ee,Ee=null):qe=Ee.sibling;var Hn=re(Q,Ee,Ie.value,ae);if(Hn===null){Ee===null&&(Ee=qe);break}t&&Ee&&Hn.alternate===null&&n(Q,Ee),W=p(Hn,W,ke),Se===null?ge=Hn:Se.sibling=Hn,Se=Hn,Ee=qe}if(Ie.done)return i(Q,Ee),ze&&or(Q,ke),ge;if(Ee===null){for(;!Ie.done;ke++,Ie=K.next())Ie=le(Q,Ie.value,ae),Ie!==null&&(W=p(Ie,W,ke),Se===null?ge=Ie:Se.sibling=Ie,Se=Ie);return ze&&or(Q,ke),ge}for(Ee=a(Q,Ee);!Ie.done;ke++,Ie=K.next())Ie=de(Ee,Q,ke,Ie.value,ae),Ie!==null&&(t&&Ie.alternate!==null&&Ee.delete(Ie.key===null?ke:Ie.key),W=p(Ie,W,ke),Se===null?ge=Ie:Se.sibling=Ie,Se=Ie);return t&&Ee.forEach(function(Ky){return n(Q,Ky)}),ze&&or(Q,ke),ge}function Ve(Q,W,K,ae){if(typeof K=="object"&&K!==null&&K.type===T&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case B:e:{for(var ge=K.key,Se=W;Se!==null;){if(Se.key===ge){if(ge=K.type,ge===T){if(Se.tag===7){i(Q,Se.sibling),W=d(Se,K.props.children),W.return=Q,Q=W;break e}}else if(Se.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===$&&rf(ge)===Se.type){i(Q,Se.sibling),W=d(Se,K.props),W.ref=Xo(Q,Se,K),W.return=Q,Q=W;break e}i(Q,Se);break}else n(Q,Se);Se=Se.sibling}K.type===T?(W=fr(K.props.children,Q.mode,ae,K.key),W.return=Q,Q=W):(ae=Xs(K.type,K.key,K.props,null,Q.mode,ae),ae.ref=Xo(Q,W,K),ae.return=Q,Q=ae)}return w(Q);case O:e:{for(Se=K.key;W!==null;){if(W.key===Se)if(W.tag===4&&W.stateNode.containerInfo===K.containerInfo&&W.stateNode.implementation===K.implementation){i(Q,W.sibling),W=d(W,K.children||[]),W.return=Q,Q=W;break e}else{i(Q,W);break}else n(Q,W);W=W.sibling}W=Ou(K,Q.mode,ae),W.return=Q,Q=W}return w(Q);case $:return Se=K._init,Ve(Q,W,Se(K._payload),ae)}if(pt(K))return he(Q,W,K,ae);if(A(K))return pe(Q,W,K,ae);ks(Q,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,W!==null&&W.tag===6?(i(Q,W.sibling),W=d(W,K),W.return=Q,Q=W):(i(Q,W),W=Du(K,Q.mode,ae),W.return=Q,Q=W),w(Q)):i(Q,W)}return Ve}var Br=of(!0),sf=of(!1),Ns=Mn(null),Cs=null,Vr=null,Qa=null;function Ga(){Qa=Vr=Cs=null}function Ka(t){var n=Ns.current;Te(Ns),t._currentValue=n}function qa(t,n,i){for(;t!==null;){var a=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),t===i)break;t=t.return}}function Wr(t,n){Cs=t,Qa=Vr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&n)!==0&&(at=!0),t.firstContext=null)}function _t(t){var n=t._currentValue;if(Qa!==t)if(t={context:t,memoizedValue:n,next:null},Vr===null){if(Cs===null)throw Error(o(308));Vr=t,Cs.dependencies={lanes:0,firstContext:t}}else Vr=Vr.next=t;return n}var ir=null;function Za(t){ir===null?ir=[t]:ir.push(t)}function lf(t,n,i,a){var d=n.interleaved;return d===null?(i.next=i,Za(n)):(i.next=d.next,d.next=i),n.interleaved=i,cn(t,a)}function cn(t,n){t.lanes|=n;var i=t.alternate;for(i!==null&&(i.lanes|=n),i=t,t=t.return;t!==null;)t.childLanes|=n,i=t.alternate,i!==null&&(i.childLanes|=n),i=t,t=t.return;return i.tag===3?i.stateNode:null}var Ln=!1;function Ja(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function af(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dn(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function Tn(t,n,i){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(je&2)!==0){var d=a.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),a.pending=n,cn(t,i)}return d=a.interleaved,d===null?(n.next=n,Za(a)):(n.next=d.next,d.next=n),a.interleaved=n,cn(t,i)}function _s(t,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var a=n.lanes;a&=t.pendingLanes,i|=a,n.lanes=i,ha(t,i)}}function uf(t,n){var i=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var d=null,p=null;if(i=i.firstBaseUpdate,i!==null){do{var w={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};p===null?d=p=w:p=p.next=w,i=i.next}while(i!==null);p===null?d=p=n:p=p.next=n}else d=p=n;i={baseState:a.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:a.shared,effects:a.effects},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=n:t.next=n,i.lastBaseUpdate=n}function bs(t,n,i,a){var d=t.updateQueue;Ln=!1;var p=d.firstBaseUpdate,w=d.lastBaseUpdate,L=d.shared.pending;if(L!==null){d.shared.pending=null;var F=L,q=F.next;F.next=null,w===null?p=q:w.next=q,w=F;var oe=t.alternate;oe!==null&&(oe=oe.updateQueue,L=oe.lastBaseUpdate,L!==w&&(L===null?oe.firstBaseUpdate=q:L.next=q,oe.lastBaseUpdate=F))}if(p!==null){var le=d.baseState;w=0,oe=q=F=null,L=p;do{var re=L.lane,de=L.eventTime;if((a&re)===re){oe!==null&&(oe=oe.next={eventTime:de,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var he=t,pe=L;switch(re=n,de=i,pe.tag){case 1:if(he=pe.payload,typeof he=="function"){le=he.call(de,le,re);break e}le=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=pe.payload,re=typeof he=="function"?he.call(de,le,re):he,re==null)break e;le=D({},le,re);break e;case 2:Ln=!0}}L.callback!==null&&L.lane!==0&&(t.flags|=64,re=d.effects,re===null?d.effects=[L]:re.push(L))}else de={eventTime:de,lane:re,tag:L.tag,payload:L.payload,callback:L.callback,next:null},oe===null?(q=oe=de,F=le):oe=oe.next=de,w|=re;if(L=L.next,L===null){if(L=d.shared.pending,L===null)break;re=L,L=re.next,re.next=null,d.lastBaseUpdate=re,d.shared.pending=null}}while(!0);if(oe===null&&(F=le),d.baseState=F,d.firstBaseUpdate=q,d.lastBaseUpdate=oe,n=d.shared.interleaved,n!==null){d=n;do w|=d.lane,d=d.next;while(d!==n)}else p===null&&(d.shared.lanes=0);ar|=w,t.lanes=w,t.memoizedState=le}}function cf(t,n,i){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var a=t[n],d=a.callback;if(d!==null){if(a.callback=null,a=i,typeof d!="function")throw Error(o(191,d));d.call(a)}}}var Qo={},Xt=Mn(Qo),Go=Mn(Qo),Ko=Mn(Qo);function sr(t){if(t===Qo)throw Error(o(174));return t}function eu(t,n){switch(Re(Ko,n),Re(Go,t),Re(Xt,Qo),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:rn(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=rn(n,t)}Te(Xt),Re(Xt,n)}function Ur(){Te(Xt),Te(Go),Te(Ko)}function df(t){sr(Ko.current);var n=sr(Xt.current),i=rn(n,t.type);n!==i&&(Re(Go,t),Re(Xt,i))}function tu(t){Go.current===t&&(Te(Xt),Te(Go))}var Oe=Mn(0);function js(t){for(var n=t;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var nu=[];function ru(){for(var t=0;t<nu.length;t++)nu[t]._workInProgressVersionPrimary=null;nu.length=0}var Is=I.ReactCurrentDispatcher,ou=I.ReactCurrentBatchConfig,lr=0,Fe=null,Xe=null,Ge=null,Ms=!1,qo=!1,Zo=0,vy=0;function tt(){throw Error(o(321))}function iu(t,n){if(n===null)return!1;for(var i=0;i<n.length&&i<t.length;i++)if(!Rt(t[i],n[i]))return!1;return!0}function su(t,n,i,a,d,p){if(lr=p,Fe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Is.current=t===null||t.memoizedState===null?Ey:ky,t=i(a,d),qo){p=0;do{if(qo=!1,Zo=0,25<=p)throw Error(o(301));p+=1,Ge=Xe=null,n.updateQueue=null,Is.current=Ny,t=i(a,d)}while(qo)}if(Is.current=Ls,n=Xe!==null&&Xe.next!==null,lr=0,Ge=Xe=Fe=null,Ms=!1,n)throw Error(o(300));return t}function lu(){var t=Zo!==0;return Zo=0,t}function Qt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Fe.memoizedState=Ge=t:Ge=Ge.next=t,Ge}function bt(){if(Xe===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var n=Ge===null?Fe.memoizedState:Ge.next;if(n!==null)Ge=n,Xe=t;else{if(t===null)throw Error(o(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Ge===null?Fe.memoizedState=Ge=t:Ge=Ge.next=t}return Ge}function Jo(t,n){return typeof n=="function"?n(t):n}function au(t){var n=bt(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=t;var a=Xe,d=a.baseQueue,p=i.pending;if(p!==null){if(d!==null){var w=d.next;d.next=p.next,p.next=w}a.baseQueue=d=p,i.pending=null}if(d!==null){p=d.next,a=a.baseState;var L=w=null,F=null,q=p;do{var oe=q.lane;if((lr&oe)===oe)F!==null&&(F=F.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),a=q.hasEagerState?q.eagerState:t(a,q.action);else{var le={lane:oe,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};F===null?(L=F=le,w=a):F=F.next=le,Fe.lanes|=oe,ar|=oe}q=q.next}while(q!==null&&q!==p);F===null?w=a:F.next=L,Rt(a,n.memoizedState)||(at=!0),n.memoizedState=a,n.baseState=w,n.baseQueue=F,i.lastRenderedState=a}if(t=i.interleaved,t!==null){d=t;do p=d.lane,Fe.lanes|=p,ar|=p,d=d.next;while(d!==t)}else d===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function uu(t){var n=bt(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=t;var a=i.dispatch,d=i.pending,p=n.memoizedState;if(d!==null){i.pending=null;var w=d=d.next;do p=t(p,w.action),w=w.next;while(w!==d);Rt(p,n.memoizedState)||(at=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),i.lastRenderedState=p}return[p,a]}function ff(){}function hf(t,n){var i=Fe,a=bt(),d=n(),p=!Rt(a.memoizedState,d);if(p&&(a.memoizedState=d,at=!0),a=a.queue,cu(gf.bind(null,i,a,t),[t]),a.getSnapshot!==n||p||Ge!==null&&Ge.memoizedState.tag&1){if(i.flags|=2048,ei(9,mf.bind(null,i,a,d,n),void 0,null),Ke===null)throw Error(o(349));(lr&30)!==0||pf(i,n,d)}return d}function pf(t,n,i){t.flags|=16384,t={getSnapshot:n,value:i},n=Fe.updateQueue,n===null?(n={lastEffect:null,stores:null},Fe.updateQueue=n,n.stores=[t]):(i=n.stores,i===null?n.stores=[t]:i.push(t))}function mf(t,n,i,a){n.value=i,n.getSnapshot=a,yf(n)&&vf(t)}function gf(t,n,i){return i(function(){yf(n)&&vf(t)})}function yf(t){var n=t.getSnapshot;t=t.value;try{var i=n();return!Rt(t,i)}catch{return!0}}function vf(t){var n=cn(t,1);n!==null&&$t(n,t,1,-1)}function xf(t){var n=Qt();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:t},n.queue=t,t=t.dispatch=Sy.bind(null,Fe,t),[n.memoizedState,t]}function ei(t,n,i,a){return t={tag:t,create:n,destroy:i,deps:a,next:null},n=Fe.updateQueue,n===null?(n={lastEffect:null,stores:null},Fe.updateQueue=n,n.lastEffect=t.next=t):(i=n.lastEffect,i===null?n.lastEffect=t.next=t:(a=i.next,i.next=t,t.next=a,n.lastEffect=t)),t}function wf(){return bt().memoizedState}function Ps(t,n,i,a){var d=Qt();Fe.flags|=t,d.memoizedState=ei(1|n,i,void 0,a===void 0?null:a)}function Rs(t,n,i,a){var d=bt();a=a===void 0?null:a;var p=void 0;if(Xe!==null){var w=Xe.memoizedState;if(p=w.destroy,a!==null&&iu(a,w.deps)){d.memoizedState=ei(n,i,p,a);return}}Fe.flags|=t,d.memoizedState=ei(1|n,i,p,a)}function Sf(t,n){return Ps(8390656,8,t,n)}function cu(t,n){return Rs(2048,8,t,n)}function Ef(t,n){return Rs(4,2,t,n)}function kf(t,n){return Rs(4,4,t,n)}function Nf(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Cf(t,n,i){return i=i!=null?i.concat([t]):null,Rs(4,4,Nf.bind(null,n,t),i)}function du(){}function _f(t,n){var i=bt();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&iu(n,a[1])?a[0]:(i.memoizedState=[t,n],t)}function bf(t,n){var i=bt();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&iu(n,a[1])?a[0]:(t=t(),i.memoizedState=[t,n],t)}function jf(t,n,i){return(lr&21)===0?(t.baseState&&(t.baseState=!1,at=!0),t.memoizedState=i):(Rt(i,n)||(i=jr(),Fe.lanes|=i,ar|=i,t.baseState=!0),n)}function xy(t,n){var i=Me;Me=i!==0&&4>i?i:4,t(!0);var a=ou.transition;ou.transition={};try{t(!1),n()}finally{Me=i,ou.transition=a}}function If(){return bt().memoizedState}function wy(t,n,i){var a=Dn(t);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},Mf(t))Pf(n,i);else if(i=lf(t,n,i,a),i!==null){var d=it();$t(i,t,a,d),Rf(i,n,a)}}function Sy(t,n,i){var a=Dn(t),d={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(Mf(t))Pf(n,d);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var w=n.lastRenderedState,L=p(w,i);if(d.hasEagerState=!0,d.eagerState=L,Rt(L,w)){var F=n.interleaved;F===null?(d.next=d,Za(n)):(d.next=F.next,F.next=d),n.interleaved=d;return}}catch{}finally{}i=lf(t,n,d,a),i!==null&&(d=it(),$t(i,t,a,d),Rf(i,n,a))}}function Mf(t){var n=t.alternate;return t===Fe||n!==null&&n===Fe}function Pf(t,n){qo=Ms=!0;var i=t.pending;i===null?n.next=n:(n.next=i.next,i.next=n),t.pending=n}function Rf(t,n,i){if((i&4194240)!==0){var a=n.lanes;a&=t.pendingLanes,i|=a,n.lanes=i,ha(t,i)}}var Ls={readContext:_t,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},Ey={readContext:_t,useCallback:function(t,n){return Qt().memoizedState=[t,n===void 0?null:n],t},useContext:_t,useEffect:Sf,useImperativeHandle:function(t,n,i){return i=i!=null?i.concat([t]):null,Ps(4194308,4,Nf.bind(null,n,t),i)},useLayoutEffect:function(t,n){return Ps(4194308,4,t,n)},useInsertionEffect:function(t,n){return Ps(4,2,t,n)},useMemo:function(t,n){var i=Qt();return n=n===void 0?null:n,t=t(),i.memoizedState=[t,n],t},useReducer:function(t,n,i){var a=Qt();return n=i!==void 0?i(n):n,a.memoizedState=a.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},a.queue=t,t=t.dispatch=wy.bind(null,Fe,t),[a.memoizedState,t]},useRef:function(t){var n=Qt();return t={current:t},n.memoizedState=t},useState:xf,useDebugValue:du,useDeferredValue:function(t){return Qt().memoizedState=t},useTransition:function(){var t=xf(!1),n=t[0];return t=xy.bind(null,t[1]),Qt().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,i){var a=Fe,d=Qt();if(ze){if(i===void 0)throw Error(o(407));i=i()}else{if(i=n(),Ke===null)throw Error(o(349));(lr&30)!==0||pf(a,n,i)}d.memoizedState=i;var p={value:i,getSnapshot:n};return d.queue=p,Sf(gf.bind(null,a,p,t),[t]),a.flags|=2048,ei(9,mf.bind(null,a,p,i,n),void 0,null),i},useId:function(){var t=Qt(),n=Ke.identifierPrefix;if(ze){var i=un,a=an;i=(a&~(1<<32-mt(a)-1)).toString(32)+i,n=":"+n+"R"+i,i=Zo++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=vy++,n=":"+n+"r"+i.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},ky={readContext:_t,useCallback:_f,useContext:_t,useEffect:cu,useImperativeHandle:Cf,useInsertionEffect:Ef,useLayoutEffect:kf,useMemo:bf,useReducer:au,useRef:wf,useState:function(){return au(Jo)},useDebugValue:du,useDeferredValue:function(t){var n=bt();return jf(n,Xe.memoizedState,t)},useTransition:function(){var t=au(Jo)[0],n=bt().memoizedState;return[t,n]},useMutableSource:ff,useSyncExternalStore:hf,useId:If,unstable_isNewReconciler:!1},Ny={readContext:_t,useCallback:_f,useContext:_t,useEffect:cu,useImperativeHandle:Cf,useInsertionEffect:Ef,useLayoutEffect:kf,useMemo:bf,useReducer:uu,useRef:wf,useState:function(){return uu(Jo)},useDebugValue:du,useDeferredValue:function(t){var n=bt();return Xe===null?n.memoizedState=t:jf(n,Xe.memoizedState,t)},useTransition:function(){var t=uu(Jo)[0],n=bt().memoizedState;return[t,n]},useMutableSource:ff,useSyncExternalStore:hf,useId:If,unstable_isNewReconciler:!1};function Tt(t,n){if(t&&t.defaultProps){n=D({},n),t=t.defaultProps;for(var i in t)n[i]===void 0&&(n[i]=t[i]);return n}return n}function fu(t,n,i,a){n=t.memoizedState,i=i(a,n),i=i==null?n:D({},n,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Ts={isMounted:function(t){return(t=t._reactInternals)?Wt(t)===t:!1},enqueueSetState:function(t,n,i){t=t._reactInternals;var a=it(),d=Dn(t),p=dn(a,d);p.payload=n,i!=null&&(p.callback=i),n=Tn(t,p,d),n!==null&&($t(n,t,d,a),_s(n,t,d))},enqueueReplaceState:function(t,n,i){t=t._reactInternals;var a=it(),d=Dn(t),p=dn(a,d);p.tag=1,p.payload=n,i!=null&&(p.callback=i),n=Tn(t,p,d),n!==null&&($t(n,t,d,a),_s(n,t,d))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var i=it(),a=Dn(t),d=dn(i,a);d.tag=2,n!=null&&(d.callback=n),n=Tn(t,d,a),n!==null&&($t(n,t,a,i),_s(n,t,a))}};function Lf(t,n,i,a,d,p,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,p,w):n.prototype&&n.prototype.isPureReactComponent?!Fo(i,a)||!Fo(d,p):!0}function Tf(t,n,i){var a=!1,d=Pn,p=n.contextType;return typeof p=="object"&&p!==null?p=_t(p):(d=lt(n)?nr:et.current,a=n.contextTypes,p=(a=a!=null)?Dr(t,d):Pn),n=new n(i,p),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Ts,t.stateNode=n,n._reactInternals=t,a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=p),n}function zf(t,n,i,a){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,a),n.state!==t&&Ts.enqueueReplaceState(n,n.state,null)}function hu(t,n,i,a){var d=t.stateNode;d.props=i,d.state=t.memoizedState,d.refs={},Ja(t);var p=n.contextType;typeof p=="object"&&p!==null?d.context=_t(p):(p=lt(n)?nr:et.current,d.context=Dr(t,p)),d.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(fu(t,n,p,i),d.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(n=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),n!==d.state&&Ts.enqueueReplaceState(d,d.state,null),bs(t,i,d,a),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function Yr(t,n){try{var i="",a=n;do i+=ie(a),a=a.return;while(a);var d=i}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:n,stack:d,digest:null}}function pu(t,n,i){return{value:t,source:null,stack:i??null,digest:n??null}}function mu(t,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var Cy=typeof WeakMap=="function"?WeakMap:Map;function Af(t,n,i){i=dn(-1,i),i.tag=3,i.payload={element:null};var a=n.value;return i.callback=function(){Hs||(Hs=!0,Mu=a),mu(t,n)},i}function $f(t,n,i){i=dn(-1,i),i.tag=3;var a=t.type.getDerivedStateFromError;if(typeof a=="function"){var d=n.value;i.payload=function(){return a(d)},i.callback=function(){mu(t,n)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(i.callback=function(){mu(t,n),typeof a!="function"&&(An===null?An=new Set([this]):An.add(this));var w=n.stack;this.componentDidCatch(n.value,{componentStack:w!==null?w:""})}),i}function Df(t,n,i){var a=t.pingCache;if(a===null){a=t.pingCache=new Cy;var d=new Set;a.set(n,d)}else d=a.get(n),d===void 0&&(d=new Set,a.set(n,d));d.has(i)||(d.add(i),t=Oy.bind(null,t,n,i),n.then(t,t))}function Of(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function Ff(t,n,i,a,d){return(t.mode&1)===0?(t===n?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=dn(-1,1),n.tag=2,Tn(i,n,1))),i.lanes|=1),t):(t.flags|=65536,t.lanes=d,t)}var _y=I.ReactCurrentOwner,at=!1;function ot(t,n,i,a){n.child=t===null?sf(n,null,i,a):Br(n,t.child,i,a)}function Hf(t,n,i,a,d){i=i.render;var p=n.ref;return Wr(n,d),a=su(t,n,i,a,p,d),i=lu(),t!==null&&!at?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~d,fn(t,n,d)):(ze&&i&&Va(n),n.flags|=1,ot(t,n,a,d),n.child)}function Bf(t,n,i,a,d){if(t===null){var p=i.type;return typeof p=="function"&&!$u(p)&&p.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=p,Vf(t,n,p,a,d)):(t=Xs(i.type,null,a,n,n.mode,d),t.ref=n.ref,t.return=n,n.child=t)}if(p=t.child,(t.lanes&d)===0){var w=p.memoizedProps;if(i=i.compare,i=i!==null?i:Fo,i(w,a)&&t.ref===n.ref)return fn(t,n,d)}return n.flags|=1,t=Fn(p,a),t.ref=n.ref,t.return=n,n.child=t}function Vf(t,n,i,a,d){if(t!==null){var p=t.memoizedProps;if(Fo(p,a)&&t.ref===n.ref)if(at=!1,n.pendingProps=a=p,(t.lanes&d)!==0)(t.flags&131072)!==0&&(at=!0);else return n.lanes=t.lanes,fn(t,n,d)}return gu(t,n,i,a,d)}function Wf(t,n,i){var a=n.pendingProps,d=a.children,p=t!==null?t.memoizedState:null;if(a.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Qr,xt),xt|=i;else{if((i&1073741824)===0)return t=p!==null?p.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,Re(Qr,xt),xt|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=p!==null?p.baseLanes:i,Re(Qr,xt),xt|=a}else p!==null?(a=p.baseLanes|i,n.memoizedState=null):a=i,Re(Qr,xt),xt|=a;return ot(t,n,d,i),n.child}function Uf(t,n){var i=n.ref;(t===null&&i!==null||t!==null&&t.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function gu(t,n,i,a,d){var p=lt(i)?nr:et.current;return p=Dr(n,p),Wr(n,d),i=su(t,n,i,a,p,d),a=lu(),t!==null&&!at?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~d,fn(t,n,d)):(ze&&a&&Va(n),n.flags|=1,ot(t,n,i,d),n.child)}function Yf(t,n,i,a,d){if(lt(i)){var p=!0;vs(n)}else p=!1;if(Wr(n,d),n.stateNode===null)As(t,n),Tf(n,i,a),hu(n,i,a,d),a=!0;else if(t===null){var w=n.stateNode,L=n.memoizedProps;w.props=L;var F=w.context,q=i.contextType;typeof q=="object"&&q!==null?q=_t(q):(q=lt(i)?nr:et.current,q=Dr(n,q));var oe=i.getDerivedStateFromProps,le=typeof oe=="function"||typeof w.getSnapshotBeforeUpdate=="function";le||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(L!==a||F!==q)&&zf(n,w,a,q),Ln=!1;var re=n.memoizedState;w.state=re,bs(n,a,w,d),F=n.memoizedState,L!==a||re!==F||st.current||Ln?(typeof oe=="function"&&(fu(n,i,oe,a),F=n.memoizedState),(L=Ln||Lf(n,i,L,a,re,F,q))?(le||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(n.flags|=4194308)):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=F),w.props=a,w.state=F,w.context=q,a=L):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{w=n.stateNode,af(t,n),L=n.memoizedProps,q=n.type===n.elementType?L:Tt(n.type,L),w.props=q,le=n.pendingProps,re=w.context,F=i.contextType,typeof F=="object"&&F!==null?F=_t(F):(F=lt(i)?nr:et.current,F=Dr(n,F));var de=i.getDerivedStateFromProps;(oe=typeof de=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(L!==le||re!==F)&&zf(n,w,a,F),Ln=!1,re=n.memoizedState,w.state=re,bs(n,a,w,d);var he=n.memoizedState;L!==le||re!==he||st.current||Ln?(typeof de=="function"&&(fu(n,i,de,a),he=n.memoizedState),(q=Ln||Lf(n,i,q,a,re,he,F)||!1)?(oe||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(a,he,F),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(a,he,F)),typeof w.componentDidUpdate=="function"&&(n.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof w.componentDidUpdate!="function"||L===t.memoizedProps&&re===t.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||L===t.memoizedProps&&re===t.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=he),w.props=a,w.state=he,w.context=F,a=q):(typeof w.componentDidUpdate!="function"||L===t.memoizedProps&&re===t.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||L===t.memoizedProps&&re===t.memoizedState||(n.flags|=1024),a=!1)}return yu(t,n,i,a,p,d)}function yu(t,n,i,a,d,p){Uf(t,n);var w=(n.flags&128)!==0;if(!a&&!w)return d&&Kd(n,i,!1),fn(t,n,p);a=n.stateNode,_y.current=n;var L=w&&typeof i.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,t!==null&&w?(n.child=Br(n,t.child,null,p),n.child=Br(n,null,L,p)):ot(t,n,L,p),n.memoizedState=a.state,d&&Kd(n,i,!0),n.child}function Xf(t){var n=t.stateNode;n.pendingContext?Qd(t,n.pendingContext,n.pendingContext!==n.context):n.context&&Qd(t,n.context,!1),eu(t,n.containerInfo)}function Qf(t,n,i,a,d){return Hr(),Xa(d),n.flags|=256,ot(t,n,i,a),n.child}var vu={dehydrated:null,treeContext:null,retryLane:0};function xu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Gf(t,n,i){var a=n.pendingProps,d=Oe.current,p=!1,w=(n.flags&128)!==0,L;if((L=w)||(L=t!==null&&t.memoizedState===null?!1:(d&2)!==0),L?(p=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),Re(Oe,d&1),t===null)return Ya(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((n.mode&1)===0?n.lanes=1:t.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(w=a.children,t=a.fallback,p?(a=n.mode,p=n.child,w={mode:"hidden",children:w},(a&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=w):p=Qs(w,a,0,null),t=fr(t,a,i,null),p.return=n,t.return=n,p.sibling=t,n.child=p,n.child.memoizedState=xu(i),n.memoizedState=vu,t):wu(n,w));if(d=t.memoizedState,d!==null&&(L=d.dehydrated,L!==null))return by(t,n,w,a,L,d,i);if(p){p=a.fallback,w=n.mode,d=t.child,L=d.sibling;var F={mode:"hidden",children:a.children};return(w&1)===0&&n.child!==d?(a=n.child,a.childLanes=0,a.pendingProps=F,n.deletions=null):(a=Fn(d,F),a.subtreeFlags=d.subtreeFlags&14680064),L!==null?p=Fn(L,p):(p=fr(p,w,i,null),p.flags|=2),p.return=n,a.return=n,a.sibling=p,n.child=a,a=p,p=n.child,w=t.child.memoizedState,w=w===null?xu(i):{baseLanes:w.baseLanes|i,cachePool:null,transitions:w.transitions},p.memoizedState=w,p.childLanes=t.childLanes&~i,n.memoizedState=vu,a}return p=t.child,t=p.sibling,a=Fn(p,{mode:"visible",children:a.children}),(n.mode&1)===0&&(a.lanes=i),a.return=n,a.sibling=null,t!==null&&(i=n.deletions,i===null?(n.deletions=[t],n.flags|=16):i.push(t)),n.child=a,n.memoizedState=null,a}function wu(t,n){return n=Qs({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function zs(t,n,i,a){return a!==null&&Xa(a),Br(n,t.child,null,i),t=wu(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function by(t,n,i,a,d,p,w){if(i)return n.flags&256?(n.flags&=-257,a=pu(Error(o(422))),zs(t,n,w,a)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(p=a.fallback,d=n.mode,a=Qs({mode:"visible",children:a.children},d,0,null),p=fr(p,d,w,null),p.flags|=2,a.return=n,p.return=n,a.sibling=p,n.child=a,(n.mode&1)!==0&&Br(n,t.child,null,w),n.child.memoizedState=xu(w),n.memoizedState=vu,p);if((n.mode&1)===0)return zs(t,n,w,null);if(d.data==="$!"){if(a=d.nextSibling&&d.nextSibling.dataset,a)var L=a.dgst;return a=L,p=Error(o(419)),a=pu(p,a,void 0),zs(t,n,w,a)}if(L=(w&t.childLanes)!==0,at||L){if(a=Ke,a!==null){switch(w&-w){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(a.suspendedLanes|w))!==0?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,cn(t,d),$t(a,t,d,-1))}return Au(),a=pu(Error(o(421))),zs(t,n,w,a)}return d.data==="$?"?(n.flags|=128,n.child=t.child,n=Fy.bind(null,t),d._reactRetry=n,null):(t=p.treeContext,vt=In(d.nextSibling),yt=n,ze=!0,Lt=null,t!==null&&(Nt[Ct++]=an,Nt[Ct++]=un,Nt[Ct++]=rr,an=t.id,un=t.overflow,rr=n),n=wu(n,a.children),n.flags|=4096,n)}function Kf(t,n,i){t.lanes|=n;var a=t.alternate;a!==null&&(a.lanes|=n),qa(t.return,n,i)}function Su(t,n,i,a,d){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:d}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=a,p.tail=i,p.tailMode=d)}function qf(t,n,i){var a=n.pendingProps,d=a.revealOrder,p=a.tail;if(ot(t,n,a.children,i),a=Oe.current,(a&2)!==0)a=a&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Kf(t,i,n);else if(t.tag===19)Kf(t,i,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}if(Re(Oe,a),(n.mode&1)===0)n.memoizedState=null;else switch(d){case"forwards":for(i=n.child,d=null;i!==null;)t=i.alternate,t!==null&&js(t)===null&&(d=i),i=i.sibling;i=d,i===null?(d=n.child,n.child=null):(d=i.sibling,i.sibling=null),Su(n,!1,d,i,p);break;case"backwards":for(i=null,d=n.child,n.child=null;d!==null;){if(t=d.alternate,t!==null&&js(t)===null){n.child=d;break}t=d.sibling,d.sibling=i,i=d,d=t}Su(n,!0,i,null,p);break;case"together":Su(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function As(t,n){(n.mode&1)===0&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function fn(t,n,i){if(t!==null&&(n.dependencies=t.dependencies),ar|=n.lanes,(i&n.childLanes)===0)return null;if(t!==null&&n.child!==t.child)throw Error(o(153));if(n.child!==null){for(t=n.child,i=Fn(t,t.pendingProps),n.child=i,i.return=n;t.sibling!==null;)t=t.sibling,i=i.sibling=Fn(t,t.pendingProps),i.return=n;i.sibling=null}return n.child}function jy(t,n,i){switch(n.tag){case 3:Xf(n),Hr();break;case 5:df(n);break;case 1:lt(n.type)&&vs(n);break;case 4:eu(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,d=n.memoizedProps.value;Re(Ns,a._currentValue),a._currentValue=d;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(Re(Oe,Oe.current&1),n.flags|=128,null):(i&n.child.childLanes)!==0?Gf(t,n,i):(Re(Oe,Oe.current&1),t=fn(t,n,i),t!==null?t.sibling:null);Re(Oe,Oe.current&1);break;case 19:if(a=(i&n.childLanes)!==0,(t.flags&128)!==0){if(a)return qf(t,n,i);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Re(Oe,Oe.current),a)break;return null;case 22:case 23:return n.lanes=0,Wf(t,n,i)}return fn(t,n,i)}var Zf,Eu,Jf,eh;Zf=function(t,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Eu=function(){},Jf=function(t,n,i,a){var d=t.memoizedProps;if(d!==a){t=n.stateNode,sr(Xt.current);var p=null;switch(i){case"input":d=Ce(t,d),a=Ce(t,a),p=[];break;case"select":d=D({},d,{value:void 0}),a=D({},a,{value:void 0}),p=[];break;case"textarea":d=tn(t,d),a=tn(t,a),p=[];break;default:typeof d.onClick!="function"&&typeof a.onClick=="function"&&(t.onclick=ms)}yo(i,a);var w;i=null;for(q in d)if(!a.hasOwnProperty(q)&&d.hasOwnProperty(q)&&d[q]!=null)if(q==="style"){var L=d[q];for(w in L)L.hasOwnProperty(w)&&(i||(i={}),i[w]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(l.hasOwnProperty(q)?p||(p=[]):(p=p||[]).push(q,null));for(q in a){var F=a[q];if(L=d!=null?d[q]:void 0,a.hasOwnProperty(q)&&F!==L&&(F!=null||L!=null))if(q==="style")if(L){for(w in L)!L.hasOwnProperty(w)||F&&F.hasOwnProperty(w)||(i||(i={}),i[w]="");for(w in F)F.hasOwnProperty(w)&&L[w]!==F[w]&&(i||(i={}),i[w]=F[w])}else i||(p||(p=[]),p.push(q,i)),i=F;else q==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,L=L?L.__html:void 0,F!=null&&L!==F&&(p=p||[]).push(q,F)):q==="children"?typeof F!="string"&&typeof F!="number"||(p=p||[]).push(q,""+F):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(l.hasOwnProperty(q)?(F!=null&&q==="onScroll"&&Le("scroll",t),p||L===F||(p=[])):(p=p||[]).push(q,F))}i&&(p=p||[]).push("style",i);var q=p;(n.updateQueue=q)&&(n.flags|=4)}},eh=function(t,n,i,a){i!==a&&(n.flags|=4)};function ti(t,n){if(!ze)switch(t.tailMode){case"hidden":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function nt(t){var n=t.alternate!==null&&t.alternate.child===t.child,i=0,a=0;if(n)for(var d=t.child;d!==null;)i|=d.lanes|d.childLanes,a|=d.subtreeFlags&14680064,a|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)i|=d.lanes|d.childLanes,a|=d.subtreeFlags,a|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=a,t.childLanes=i,n}function Iy(t,n,i){var a=n.pendingProps;switch(Wa(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(n),null;case 1:return lt(n.type)&&ys(),nt(n),null;case 3:return a=n.stateNode,Ur(),Te(st),Te(et),ru(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Es(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Lt!==null&&(Lu(Lt),Lt=null))),Eu(t,n),nt(n),null;case 5:tu(n);var d=sr(Ko.current);if(i=n.type,t!==null&&n.stateNode!=null)Jf(t,n,i,a,d),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(o(166));return nt(n),null}if(t=sr(Xt.current),Es(n)){a=n.stateNode,i=n.type;var p=n.memoizedProps;switch(a[Yt]=n,a[Uo]=p,t=(n.mode&1)!==0,i){case"dialog":Le("cancel",a),Le("close",a);break;case"iframe":case"object":case"embed":Le("load",a);break;case"video":case"audio":for(d=0;d<Bo.length;d++)Le(Bo[d],a);break;case"source":Le("error",a);break;case"img":case"image":case"link":Le("error",a),Le("load",a);break;case"details":Le("toggle",a);break;case"input":Pe(a,p),Le("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!p.multiple},Le("invalid",a);break;case"textarea":wn(a,p),Le("invalid",a)}yo(i,p),d=null;for(var w in p)if(p.hasOwnProperty(w)){var L=p[w];w==="children"?typeof L=="string"?a.textContent!==L&&(p.suppressHydrationWarning!==!0&&ps(a.textContent,L,t),d=["children",L]):typeof L=="number"&&a.textContent!==""+L&&(p.suppressHydrationWarning!==!0&&ps(a.textContent,L,t),d=["children",""+L]):l.hasOwnProperty(w)&&L!=null&&w==="onScroll"&&Le("scroll",a)}switch(i){case"input":we(a),Pt(a,p,!0);break;case"textarea":we(a),Xn(a);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(a.onclick=ms)}a=d,n.updateQueue=a,a!==null&&(n.flags|=4)}else{w=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=nn(i)),t==="http://www.w3.org/1999/xhtml"?i==="script"?(t=w.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof a.is=="string"?t=w.createElement(i,{is:a.is}):(t=w.createElement(i),i==="select"&&(w=t,a.multiple?w.multiple=!0:a.size&&(w.size=a.size))):t=w.createElementNS(t,i),t[Yt]=n,t[Uo]=a,Zf(t,n,!1,!1),n.stateNode=t;e:{switch(w=vo(i,a),i){case"dialog":Le("cancel",t),Le("close",t),d=a;break;case"iframe":case"object":case"embed":Le("load",t),d=a;break;case"video":case"audio":for(d=0;d<Bo.length;d++)Le(Bo[d],t);d=a;break;case"source":Le("error",t),d=a;break;case"img":case"image":case"link":Le("error",t),Le("load",t),d=a;break;case"details":Le("toggle",t),d=a;break;case"input":Pe(t,a),d=Ce(t,a),Le("invalid",t);break;case"option":d=a;break;case"select":t._wrapperState={wasMultiple:!!a.multiple},d=D({},a,{value:void 0}),Le("invalid",t);break;case"textarea":wn(t,a),d=tn(t,a),Le("invalid",t);break;default:d=a}yo(i,d),L=d;for(p in L)if(L.hasOwnProperty(p)){var F=L[p];p==="style"?Oi(t,F):p==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&$i(t,F)):p==="children"?typeof F=="string"?(i!=="textarea"||F!=="")&&on(t,F):typeof F=="number"&&on(t,""+F):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(l.hasOwnProperty(p)?F!=null&&p==="onScroll"&&Le("scroll",t):F!=null&&E(t,p,F,w))}switch(i){case"input":we(t),Pt(t,a,!1);break;case"textarea":we(t),Xn(t);break;case"option":a.value!=null&&t.setAttribute("value",""+te(a.value));break;case"select":t.multiple=!!a.multiple,p=a.value,p!=null?Et(t,!!a.multiple,p,!1):a.defaultValue!=null&&Et(t,!!a.multiple,a.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=ms)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return nt(n),null;case 6:if(t&&n.stateNode!=null)eh(t,n,t.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(o(166));if(i=sr(Ko.current),sr(Xt.current),Es(n)){if(a=n.stateNode,i=n.memoizedProps,a[Yt]=n,(p=a.nodeValue!==i)&&(t=yt,t!==null))switch(t.tag){case 3:ps(a.nodeValue,i,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ps(a.nodeValue,i,(t.mode&1)!==0)}p&&(n.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[Yt]=n,n.stateNode=a}return nt(n),null;case 13:if(Te(Oe),a=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&vt!==null&&(n.mode&1)!==0&&(n.flags&128)===0)nf(),Hr(),n.flags|=98560,p=!1;else if(p=Es(n),a!==null&&a.dehydrated!==null){if(t===null){if(!p)throw Error(o(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));p[Yt]=n}else Hr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;nt(n),p=!1}else Lt!==null&&(Lu(Lt),Lt=null),p=!0;if(!p)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=i,n):(a=a!==null,a!==(t!==null&&t.memoizedState!==null)&&a&&(n.child.flags|=8192,(n.mode&1)!==0&&(t===null||(Oe.current&1)!==0?Qe===0&&(Qe=3):Au())),n.updateQueue!==null&&(n.flags|=4),nt(n),null);case 4:return Ur(),Eu(t,n),t===null&&Vo(n.stateNode.containerInfo),nt(n),null;case 10:return Ka(n.type._context),nt(n),null;case 17:return lt(n.type)&&ys(),nt(n),null;case 19:if(Te(Oe),p=n.memoizedState,p===null)return nt(n),null;if(a=(n.flags&128)!==0,w=p.rendering,w===null)if(a)ti(p,!1);else{if(Qe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(w=js(t),w!==null){for(n.flags|=128,ti(p,!1),a=w.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=i,i=n.child;i!==null;)p=i,t=a,p.flags&=14680066,w=p.alternate,w===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=w.childLanes,p.lanes=w.lanes,p.child=w.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=w.memoizedProps,p.memoizedState=w.memoizedState,p.updateQueue=w.updateQueue,p.type=w.type,t=w.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return Re(Oe,Oe.current&1|2),n.child}t=t.sibling}p.tail!==null&&De()>Gr&&(n.flags|=128,a=!0,ti(p,!1),n.lanes=4194304)}else{if(!a)if(t=js(w),t!==null){if(n.flags|=128,a=!0,i=t.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),ti(p,!0),p.tail===null&&p.tailMode==="hidden"&&!w.alternate&&!ze)return nt(n),null}else 2*De()-p.renderingStartTime>Gr&&i!==1073741824&&(n.flags|=128,a=!0,ti(p,!1),n.lanes=4194304);p.isBackwards?(w.sibling=n.child,n.child=w):(i=p.last,i!==null?i.sibling=w:n.child=w,p.last=w)}return p.tail!==null?(n=p.tail,p.rendering=n,p.tail=n.sibling,p.renderingStartTime=De(),n.sibling=null,i=Oe.current,Re(Oe,a?i&1|2:i&1),n):(nt(n),null);case 22:case 23:return zu(),a=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==a&&(n.flags|=8192),a&&(n.mode&1)!==0?(xt&1073741824)!==0&&(nt(n),n.subtreeFlags&6&&(n.flags|=8192)):nt(n),null;case 24:return null;case 25:return null}throw Error(o(156,n.tag))}function My(t,n){switch(Wa(n),n.tag){case 1:return lt(n.type)&&ys(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ur(),Te(st),Te(et),ru(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 5:return tu(n),null;case 13:if(Te(Oe),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(o(340));Hr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Te(Oe),null;case 4:return Ur(),null;case 10:return Ka(n.type._context),null;case 22:case 23:return zu(),null;case 24:return null;default:return null}}var $s=!1,rt=!1,Py=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Xr(t,n){var i=t.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){Be(t,n,a)}else i.current=null}function ku(t,n,i){try{i()}catch(a){Be(t,n,a)}}var th=!1;function Ry(t,n){if(za=rs,t=Rd(),ba(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var d=a.anchorOffset,p=a.focusNode;a=a.focusOffset;try{i.nodeType,p.nodeType}catch{i=null;break e}var w=0,L=-1,F=-1,q=0,oe=0,le=t,re=null;t:for(;;){for(var de;le!==i||d!==0&&le.nodeType!==3||(L=w+d),le!==p||a!==0&&le.nodeType!==3||(F=w+a),le.nodeType===3&&(w+=le.nodeValue.length),(de=le.firstChild)!==null;)re=le,le=de;for(;;){if(le===t)break t;if(re===i&&++q===d&&(L=w),re===p&&++oe===a&&(F=w),(de=le.nextSibling)!==null)break;le=re,re=le.parentNode}le=de}i=L===-1||F===-1?null:{start:L,end:F}}else i=null}i=i||{start:0,end:0}}else i=null;for(Aa={focusedElem:t,selectionRange:i},rs=!1,fe=n;fe!==null;)if(n=fe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,fe=t;else for(;fe!==null;){n=fe;try{var he=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var pe=he.memoizedProps,Ve=he.memoizedState,Q=n.stateNode,W=Q.getSnapshotBeforeUpdate(n.elementType===n.type?pe:Tt(n.type,pe),Ve);Q.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var K=n.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ae){Be(n,n.return,ae)}if(t=n.sibling,t!==null){t.return=n.return,fe=t;break}fe=n.return}return he=th,th=!1,he}function ni(t,n,i){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&t)===t){var p=d.destroy;d.destroy=void 0,p!==void 0&&ku(n,i,p)}d=d.next}while(d!==a)}}function Ds(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.create;i.destroy=a()}i=i.next}while(i!==n)}}function Nu(t){var n=t.ref;if(n!==null){var i=t.stateNode;switch(t.tag){case 5:t=i;break;default:t=i}typeof n=="function"?n(t):n.current=t}}function nh(t){var n=t.alternate;n!==null&&(t.alternate=null,nh(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[Yt],delete n[Uo],delete n[Fa],delete n[py],delete n[my])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rh(t){return t.tag===5||t.tag===3||t.tag===4}function oh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cu(t,n,i){var a=t.tag;if(a===5||a===6)t=t.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(t,n):i.insertBefore(t,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(t,i)):(n=i,n.appendChild(t)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=ms));else if(a!==4&&(t=t.child,t!==null))for(Cu(t,n,i),t=t.sibling;t!==null;)Cu(t,n,i),t=t.sibling}function _u(t,n,i){var a=t.tag;if(a===5||a===6)t=t.stateNode,n?i.insertBefore(t,n):i.appendChild(t);else if(a!==4&&(t=t.child,t!==null))for(_u(t,n,i),t=t.sibling;t!==null;)_u(t,n,i),t=t.sibling}var Ze=null,zt=!1;function zn(t,n,i){for(i=i.child;i!==null;)ih(t,n,i),i=i.sibling}function ih(t,n,i){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(Jn,i)}catch{}switch(i.tag){case 5:rt||Xr(i,n);case 6:var a=Ze,d=zt;Ze=null,zn(t,n,i),Ze=a,zt=d,Ze!==null&&(zt?(t=Ze,i=i.stateNode,t.nodeType===8?t.parentNode.removeChild(i):t.removeChild(i)):Ze.removeChild(i.stateNode));break;case 18:Ze!==null&&(zt?(t=Ze,i=i.stateNode,t.nodeType===8?Oa(t.parentNode,i):t.nodeType===1&&Oa(t,i),To(t)):Oa(Ze,i.stateNode));break;case 4:a=Ze,d=zt,Ze=i.stateNode.containerInfo,zt=!0,zn(t,n,i),Ze=a,zt=d;break;case 0:case 11:case 14:case 15:if(!rt&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){d=a=a.next;do{var p=d,w=p.destroy;p=p.tag,w!==void 0&&((p&2)!==0||(p&4)!==0)&&ku(i,n,w),d=d.next}while(d!==a)}zn(t,n,i);break;case 1:if(!rt&&(Xr(i,n),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(L){Be(i,n,L)}zn(t,n,i);break;case 21:zn(t,n,i);break;case 22:i.mode&1?(rt=(a=rt)||i.memoizedState!==null,zn(t,n,i),rt=a):zn(t,n,i);break;default:zn(t,n,i)}}function sh(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var i=t.stateNode;i===null&&(i=t.stateNode=new Py),n.forEach(function(a){var d=Hy.bind(null,t,a);i.has(a)||(i.add(a),a.then(d,d))})}}function At(t,n){var i=n.deletions;if(i!==null)for(var a=0;a<i.length;a++){var d=i[a];try{var p=t,w=n,L=w;e:for(;L!==null;){switch(L.tag){case 5:Ze=L.stateNode,zt=!1;break e;case 3:Ze=L.stateNode.containerInfo,zt=!0;break e;case 4:Ze=L.stateNode.containerInfo,zt=!0;break e}L=L.return}if(Ze===null)throw Error(o(160));ih(p,w,d),Ze=null,zt=!1;var F=d.alternate;F!==null&&(F.return=null),d.return=null}catch(q){Be(d,n,q)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)lh(n,t),n=n.sibling}function lh(t,n){var i=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(At(n,t),Gt(t),a&4){try{ni(3,t,t.return),Ds(3,t)}catch(pe){Be(t,t.return,pe)}try{ni(5,t,t.return)}catch(pe){Be(t,t.return,pe)}}break;case 1:At(n,t),Gt(t),a&512&&i!==null&&Xr(i,i.return);break;case 5:if(At(n,t),Gt(t),a&512&&i!==null&&Xr(i,i.return),t.flags&32){var d=t.stateNode;try{on(d,"")}catch(pe){Be(t,t.return,pe)}}if(a&4&&(d=t.stateNode,d!=null)){var p=t.memoizedProps,w=i!==null?i.memoizedProps:p,L=t.type,F=t.updateQueue;if(t.updateQueue=null,F!==null)try{L==="input"&&p.type==="radio"&&p.name!=null&&_e(d,p),vo(L,w);var q=vo(L,p);for(w=0;w<F.length;w+=2){var oe=F[w],le=F[w+1];oe==="style"?Oi(d,le):oe==="dangerouslySetInnerHTML"?$i(d,le):oe==="children"?on(d,le):E(d,oe,le,q)}switch(L){case"input":We(d,p);break;case"textarea":Sr(d,p);break;case"select":var re=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var de=p.value;de!=null?Et(d,!!p.multiple,de,!1):re!==!!p.multiple&&(p.defaultValue!=null?Et(d,!!p.multiple,p.defaultValue,!0):Et(d,!!p.multiple,p.multiple?[]:"",!1))}d[Uo]=p}catch(pe){Be(t,t.return,pe)}}break;case 6:if(At(n,t),Gt(t),a&4){if(t.stateNode===null)throw Error(o(162));d=t.stateNode,p=t.memoizedProps;try{d.nodeValue=p}catch(pe){Be(t,t.return,pe)}}break;case 3:if(At(n,t),Gt(t),a&4&&i!==null&&i.memoizedState.isDehydrated)try{To(n.containerInfo)}catch(pe){Be(t,t.return,pe)}break;case 4:At(n,t),Gt(t);break;case 13:At(n,t),Gt(t),d=t.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(Iu=De())),a&4&&sh(t);break;case 22:if(oe=i!==null&&i.memoizedState!==null,t.mode&1?(rt=(q=rt)||oe,At(n,t),rt=q):At(n,t),Gt(t),a&8192){if(q=t.memoizedState!==null,(t.stateNode.isHidden=q)&&!oe&&(t.mode&1)!==0)for(fe=t,oe=t.child;oe!==null;){for(le=fe=oe;fe!==null;){switch(re=fe,de=re.child,re.tag){case 0:case 11:case 14:case 15:ni(4,re,re.return);break;case 1:Xr(re,re.return);var he=re.stateNode;if(typeof he.componentWillUnmount=="function"){a=re,i=re.return;try{n=a,he.props=n.memoizedProps,he.state=n.memoizedState,he.componentWillUnmount()}catch(pe){Be(a,i,pe)}}break;case 5:Xr(re,re.return);break;case 22:if(re.memoizedState!==null){ch(le);continue}}de!==null?(de.return=re,fe=de):ch(le)}oe=oe.sibling}e:for(oe=null,le=t;;){if(le.tag===5){if(oe===null){oe=le;try{d=le.stateNode,q?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(L=le.stateNode,F=le.memoizedProps.style,w=F!=null&&F.hasOwnProperty("display")?F.display:null,L.style.display=Di("display",w))}catch(pe){Be(t,t.return,pe)}}}else if(le.tag===6){if(oe===null)try{le.stateNode.nodeValue=q?"":le.memoizedProps}catch(pe){Be(t,t.return,pe)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===t)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===t)break e;for(;le.sibling===null;){if(le.return===null||le.return===t)break e;oe===le&&(oe=null),le=le.return}oe===le&&(oe=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:At(n,t),Gt(t),a&4&&sh(t);break;case 21:break;default:At(n,t),Gt(t)}}function Gt(t){var n=t.flags;if(n&2){try{e:{for(var i=t.return;i!==null;){if(rh(i)){var a=i;break e}i=i.return}throw Error(o(160))}switch(a.tag){case 5:var d=a.stateNode;a.flags&32&&(on(d,""),a.flags&=-33);var p=oh(t);_u(t,p,d);break;case 3:case 4:var w=a.stateNode.containerInfo,L=oh(t);Cu(t,L,w);break;default:throw Error(o(161))}}catch(F){Be(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ly(t,n,i){fe=t,ah(t)}function ah(t,n,i){for(var a=(t.mode&1)!==0;fe!==null;){var d=fe,p=d.child;if(d.tag===22&&a){var w=d.memoizedState!==null||$s;if(!w){var L=d.alternate,F=L!==null&&L.memoizedState!==null||rt;L=$s;var q=rt;if($s=w,(rt=F)&&!q)for(fe=d;fe!==null;)w=fe,F=w.child,w.tag===22&&w.memoizedState!==null?dh(d):F!==null?(F.return=w,fe=F):dh(d);for(;p!==null;)fe=p,ah(p),p=p.sibling;fe=d,$s=L,rt=q}uh(t)}else(d.subtreeFlags&8772)!==0&&p!==null?(p.return=d,fe=p):uh(t)}}function uh(t){for(;fe!==null;){var n=fe;if((n.flags&8772)!==0){var i=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:rt||Ds(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!rt)if(i===null)a.componentDidMount();else{var d=n.elementType===n.type?i.memoizedProps:Tt(n.type,i.memoizedProps);a.componentDidUpdate(d,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var p=n.updateQueue;p!==null&&cf(n,p,a);break;case 3:var w=n.updateQueue;if(w!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}cf(n,w,i)}break;case 5:var L=n.stateNode;if(i===null&&n.flags&4){i=L;var F=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&i.focus();break;case"img":F.src&&(i.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var q=n.alternate;if(q!==null){var oe=q.memoizedState;if(oe!==null){var le=oe.dehydrated;le!==null&&To(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}rt||n.flags&512&&Nu(n)}catch(re){Be(n,n.return,re)}}if(n===t){fe=null;break}if(i=n.sibling,i!==null){i.return=n.return,fe=i;break}fe=n.return}}function ch(t){for(;fe!==null;){var n=fe;if(n===t){fe=null;break}var i=n.sibling;if(i!==null){i.return=n.return,fe=i;break}fe=n.return}}function dh(t){for(;fe!==null;){var n=fe;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{Ds(4,n)}catch(F){Be(n,i,F)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var d=n.return;try{a.componentDidMount()}catch(F){Be(n,d,F)}}var p=n.return;try{Nu(n)}catch(F){Be(n,p,F)}break;case 5:var w=n.return;try{Nu(n)}catch(F){Be(n,w,F)}}}catch(F){Be(n,n.return,F)}if(n===t){fe=null;break}var L=n.sibling;if(L!==null){L.return=n.return,fe=L;break}fe=n.return}}var Ty=Math.ceil,Os=I.ReactCurrentDispatcher,bu=I.ReactCurrentOwner,jt=I.ReactCurrentBatchConfig,je=0,Ke=null,Ue=null,Je=0,xt=0,Qr=Mn(0),Qe=0,ri=null,ar=0,Fs=0,ju=0,oi=null,ut=null,Iu=0,Gr=1/0,hn=null,Hs=!1,Mu=null,An=null,Bs=!1,$n=null,Vs=0,ii=0,Pu=null,Ws=-1,Us=0;function it(){return(je&6)!==0?De():Ws!==-1?Ws:Ws=De()}function Dn(t){return(t.mode&1)===0?1:(je&2)!==0&&Je!==0?Je&-Je:yy.transition!==null?(Us===0&&(Us=jr()),Us):(t=Me,t!==0||(t=window.event,t=t===void 0?16:fd(t.type)),t)}function $t(t,n,i,a){if(50<ii)throw ii=0,Pu=null,Error(o(185));er(t,i,a),((je&2)===0||t!==Ke)&&(t===Ke&&((je&2)===0&&(Fs|=i),Qe===4&&On(t,Je)),ct(t,a),i===1&&je===0&&(n.mode&1)===0&&(Gr=De()+500,xs&&Rn()))}function ct(t,n){var i=t.callbackNode;fa(t,n);var a=br(t,t===Ke?Je:0);if(a===0)i!==null&&Gi(i),t.callbackNode=null,t.callbackPriority=0;else if(n=a&-a,t.callbackPriority!==n){if(i!=null&&Gi(i),n===1)t.tag===0?gy(hh.bind(null,t)):qd(hh.bind(null,t)),fy(function(){(je&6)===0&&Rn()}),i=null;else{switch(od(a)){case 1:i=bo;break;case 4:i=qi;break;case 16:i=Nr;break;case 536870912:i=Zi;break;default:i=Nr}i=Sh(i,fh.bind(null,t))}t.callbackPriority=n,t.callbackNode=i}}function fh(t,n){if(Ws=-1,Us=0,(je&6)!==0)throw Error(o(327));var i=t.callbackNode;if(Kr()&&t.callbackNode!==i)return null;var a=br(t,t===Ke?Je:0);if(a===0)return null;if((a&30)!==0||(a&t.expiredLanes)!==0||n)n=Ys(t,a);else{n=a;var d=je;je|=2;var p=mh();(Ke!==t||Je!==n)&&(hn=null,Gr=De()+500,cr(t,n));do try{$y();break}catch(L){ph(t,L)}while(!0);Ga(),Os.current=p,je=d,Ue!==null?n=0:(Ke=null,Je=0,n=Qe)}if(n!==0){if(n===2&&(d=jo(t),d!==0&&(a=d,n=Ru(t,d))),n===1)throw i=ri,cr(t,0),On(t,a),ct(t,De()),i;if(n===6)On(t,a);else{if(d=t.current.alternate,(a&30)===0&&!zy(d)&&(n=Ys(t,a),n===2&&(p=jo(t),p!==0&&(a=p,n=Ru(t,p))),n===1))throw i=ri,cr(t,0),On(t,a),ct(t,De()),i;switch(t.finishedWork=d,t.finishedLanes=a,n){case 0:case 1:throw Error(o(345));case 2:dr(t,ut,hn);break;case 3:if(On(t,a),(a&130023424)===a&&(n=Iu+500-De(),10<n)){if(br(t,0)!==0)break;if(d=t.suspendedLanes,(d&a)!==a){it(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=Da(dr.bind(null,t,ut,hn),n);break}dr(t,ut,hn);break;case 4:if(On(t,a),(a&4194240)===a)break;for(n=t.eventTimes,d=-1;0<a;){var w=31-mt(a);p=1<<w,w=n[w],w>d&&(d=w),a&=~p}if(a=d,a=De()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Ty(a/1960))-a,10<a){t.timeoutHandle=Da(dr.bind(null,t,ut,hn),a);break}dr(t,ut,hn);break;case 5:dr(t,ut,hn);break;default:throw Error(o(329))}}}return ct(t,De()),t.callbackNode===i?fh.bind(null,t):null}function Ru(t,n){var i=oi;return t.current.memoizedState.isDehydrated&&(cr(t,n).flags|=256),t=Ys(t,n),t!==2&&(n=ut,ut=i,n!==null&&Lu(n)),t}function Lu(t){ut===null?ut=t:ut.push.apply(ut,t)}function zy(t){for(var n=t;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var d=i[a],p=d.getSnapshot;d=d.value;try{if(!Rt(p(),d))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function On(t,n){for(n&=~ju,n&=~Fs,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var i=31-mt(n),a=1<<i;t[i]=-1,n&=~a}}function hh(t){if((je&6)!==0)throw Error(o(327));Kr();var n=br(t,0);if((n&1)===0)return ct(t,De()),null;var i=Ys(t,n);if(t.tag!==0&&i===2){var a=jo(t);a!==0&&(n=a,i=Ru(t,a))}if(i===1)throw i=ri,cr(t,0),On(t,n),ct(t,De()),i;if(i===6)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,dr(t,ut,hn),ct(t,De()),null}function Tu(t,n){var i=je;je|=1;try{return t(n)}finally{je=i,je===0&&(Gr=De()+500,xs&&Rn())}}function ur(t){$n!==null&&$n.tag===0&&(je&6)===0&&Kr();var n=je;je|=1;var i=jt.transition,a=Me;try{if(jt.transition=null,Me=1,t)return t()}finally{Me=a,jt.transition=i,je=n,(je&6)===0&&Rn()}}function zu(){xt=Qr.current,Te(Qr)}function cr(t,n){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(i!==-1&&(t.timeoutHandle=-1,dy(i)),Ue!==null)for(i=Ue.return;i!==null;){var a=i;switch(Wa(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&ys();break;case 3:Ur(),Te(st),Te(et),ru();break;case 5:tu(a);break;case 4:Ur();break;case 13:Te(Oe);break;case 19:Te(Oe);break;case 10:Ka(a.type._context);break;case 22:case 23:zu()}i=i.return}if(Ke=t,Ue=t=Fn(t.current,null),Je=xt=n,Qe=0,ri=null,ju=Fs=ar=0,ut=oi=null,ir!==null){for(n=0;n<ir.length;n++)if(i=ir[n],a=i.interleaved,a!==null){i.interleaved=null;var d=a.next,p=i.pending;if(p!==null){var w=p.next;p.next=d,a.next=w}i.pending=a}ir=null}return t}function ph(t,n){do{var i=Ue;try{if(Ga(),Is.current=Ls,Ms){for(var a=Fe.memoizedState;a!==null;){var d=a.queue;d!==null&&(d.pending=null),a=a.next}Ms=!1}if(lr=0,Ge=Xe=Fe=null,qo=!1,Zo=0,bu.current=null,i===null||i.return===null){Qe=1,ri=n,Ue=null;break}e:{var p=t,w=i.return,L=i,F=n;if(n=Je,L.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var q=F,oe=L,le=oe.tag;if((oe.mode&1)===0&&(le===0||le===11||le===15)){var re=oe.alternate;re?(oe.updateQueue=re.updateQueue,oe.memoizedState=re.memoizedState,oe.lanes=re.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var de=Of(w);if(de!==null){de.flags&=-257,Ff(de,w,L,p,n),de.mode&1&&Df(p,q,n),n=de,F=q;var he=n.updateQueue;if(he===null){var pe=new Set;pe.add(F),n.updateQueue=pe}else he.add(F);break e}else{if((n&1)===0){Df(p,q,n),Au();break e}F=Error(o(426))}}else if(ze&&L.mode&1){var Ve=Of(w);if(Ve!==null){(Ve.flags&65536)===0&&(Ve.flags|=256),Ff(Ve,w,L,p,n),Xa(Yr(F,L));break e}}p=F=Yr(F,L),Qe!==4&&(Qe=2),oi===null?oi=[p]:oi.push(p),p=w;do{switch(p.tag){case 3:p.flags|=65536,n&=-n,p.lanes|=n;var Q=Af(p,F,n);uf(p,Q);break e;case 1:L=F;var W=p.type,K=p.stateNode;if((p.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(An===null||!An.has(K)))){p.flags|=65536,n&=-n,p.lanes|=n;var ae=$f(p,L,n);uf(p,ae);break e}}p=p.return}while(p!==null)}yh(i)}catch(ge){n=ge,Ue===i&&i!==null&&(Ue=i=i.return);continue}break}while(!0)}function mh(){var t=Os.current;return Os.current=Ls,t===null?Ls:t}function Au(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),Ke===null||(ar&268435455)===0&&(Fs&268435455)===0||On(Ke,Je)}function Ys(t,n){var i=je;je|=2;var a=mh();(Ke!==t||Je!==n)&&(hn=null,cr(t,n));do try{Ay();break}catch(d){ph(t,d)}while(!0);if(Ga(),je=i,Os.current=a,Ue!==null)throw Error(o(261));return Ke=null,Je=0,Qe}function Ay(){for(;Ue!==null;)gh(Ue)}function $y(){for(;Ue!==null&&!ia();)gh(Ue)}function gh(t){var n=wh(t.alternate,t,xt);t.memoizedProps=t.pendingProps,n===null?yh(t):Ue=n,bu.current=null}function yh(t){var n=t;do{var i=n.alternate;if(t=n.return,(n.flags&32768)===0){if(i=Iy(i,n,xt),i!==null){Ue=i;return}}else{if(i=My(i,n),i!==null){i.flags&=32767,Ue=i;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,Ue=null;return}}if(n=n.sibling,n!==null){Ue=n;return}Ue=n=t}while(n!==null);Qe===0&&(Qe=5)}function dr(t,n,i){var a=Me,d=jt.transition;try{jt.transition=null,Me=1,Dy(t,n,i,a)}finally{jt.transition=d,Me=a}return null}function Dy(t,n,i,a){do Kr();while($n!==null);if((je&6)!==0)throw Error(o(327));i=t.finishedWork;var d=t.finishedLanes;if(i===null)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var p=i.lanes|i.childLanes;if(es(t,p),t===Ke&&(Ue=Ke=null,Je=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Bs||(Bs=!0,Sh(Nr,function(){return Kr(),null})),p=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||p){p=jt.transition,jt.transition=null;var w=Me;Me=1;var L=je;je|=4,bu.current=null,Ry(t,i),lh(i,t),oy(Aa),rs=!!za,Aa=za=null,t.current=i,Ly(i),Ki(),je=L,Me=w,jt.transition=p}else t.current=i;if(Bs&&(Bs=!1,$n=t,Vs=d),p=t.pendingLanes,p===0&&(An=null),aa(i.stateNode),ct(t,De()),n!==null)for(a=t.onRecoverableError,i=0;i<n.length;i++)d=n[i],a(d.value,{componentStack:d.stack,digest:d.digest});if(Hs)throw Hs=!1,t=Mu,Mu=null,t;return(Vs&1)!==0&&t.tag!==0&&Kr(),p=t.pendingLanes,(p&1)!==0?t===Pu?ii++:(ii=0,Pu=t):ii=0,Rn(),null}function Kr(){if($n!==null){var t=od(Vs),n=jt.transition,i=Me;try{if(jt.transition=null,Me=16>t?16:t,$n===null)var a=!1;else{if(t=$n,$n=null,Vs=0,(je&6)!==0)throw Error(o(331));var d=je;for(je|=4,fe=t.current;fe!==null;){var p=fe,w=p.child;if((fe.flags&16)!==0){var L=p.deletions;if(L!==null){for(var F=0;F<L.length;F++){var q=L[F];for(fe=q;fe!==null;){var oe=fe;switch(oe.tag){case 0:case 11:case 15:ni(8,oe,p)}var le=oe.child;if(le!==null)le.return=oe,fe=le;else for(;fe!==null;){oe=fe;var re=oe.sibling,de=oe.return;if(nh(oe),oe===q){fe=null;break}if(re!==null){re.return=de,fe=re;break}fe=de}}}var he=p.alternate;if(he!==null){var pe=he.child;if(pe!==null){he.child=null;do{var Ve=pe.sibling;pe.sibling=null,pe=Ve}while(pe!==null)}}fe=p}}if((p.subtreeFlags&2064)!==0&&w!==null)w.return=p,fe=w;else e:for(;fe!==null;){if(p=fe,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:ni(9,p,p.return)}var Q=p.sibling;if(Q!==null){Q.return=p.return,fe=Q;break e}fe=p.return}}var W=t.current;for(fe=W;fe!==null;){w=fe;var K=w.child;if((w.subtreeFlags&2064)!==0&&K!==null)K.return=w,fe=K;else e:for(w=W;fe!==null;){if(L=fe,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:Ds(9,L)}}catch(ge){Be(L,L.return,ge)}if(L===w){fe=null;break e}var ae=L.sibling;if(ae!==null){ae.return=L.return,fe=ae;break e}fe=L.return}}if(je=d,Rn(),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(Jn,t)}catch{}a=!0}return a}finally{Me=i,jt.transition=n}}return!1}function vh(t,n,i){n=Yr(i,n),n=Af(t,n,1),t=Tn(t,n,1),n=it(),t!==null&&(er(t,1,n),ct(t,n))}function Be(t,n,i){if(t.tag===3)vh(t,t,i);else for(;n!==null;){if(n.tag===3){vh(n,t,i);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(An===null||!An.has(a))){t=Yr(i,t),t=$f(n,t,1),n=Tn(n,t,1),t=it(),n!==null&&(er(n,1,t),ct(n,t));break}}n=n.return}}function Oy(t,n,i){var a=t.pingCache;a!==null&&a.delete(n),n=it(),t.pingedLanes|=t.suspendedLanes&i,Ke===t&&(Je&i)===i&&(Qe===4||Qe===3&&(Je&130023424)===Je&&500>De()-Iu?cr(t,0):ju|=i),ct(t,n)}function xh(t,n){n===0&&((t.mode&1)===0?n=1:(n=_r,_r<<=1,(_r&130023424)===0&&(_r=4194304)));var i=it();t=cn(t,n),t!==null&&(er(t,n,i),ct(t,i))}function Fy(t){var n=t.memoizedState,i=0;n!==null&&(i=n.retryLane),xh(t,i)}function Hy(t,n){var i=0;switch(t.tag){case 13:var a=t.stateNode,d=t.memoizedState;d!==null&&(i=d.retryLane);break;case 19:a=t.stateNode;break;default:throw Error(o(314))}a!==null&&a.delete(n),xh(t,i)}var wh;wh=function(t,n,i){if(t!==null)if(t.memoizedProps!==n.pendingProps||st.current)at=!0;else{if((t.lanes&i)===0&&(n.flags&128)===0)return at=!1,jy(t,n,i);at=(t.flags&131072)!==0}else at=!1,ze&&(n.flags&1048576)!==0&&Zd(n,Ss,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;As(t,n),t=n.pendingProps;var d=Dr(n,et.current);Wr(n,i),d=su(null,n,a,t,d,i);var p=lu();return n.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,lt(a)?(p=!0,vs(n)):p=!1,n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Ja(n),d.updater=Ts,n.stateNode=d,d._reactInternals=n,hu(n,a,t,i),n=yu(null,n,a,!0,p,i)):(n.tag=0,ze&&p&&Va(n),ot(null,n,d,i),n=n.child),n;case 16:a=n.elementType;e:{switch(As(t,n),t=n.pendingProps,d=a._init,a=d(a._payload),n.type=a,d=n.tag=Vy(a),t=Tt(a,t),d){case 0:n=gu(null,n,a,t,i);break e;case 1:n=Yf(null,n,a,t,i);break e;case 11:n=Hf(null,n,a,t,i);break e;case 14:n=Bf(null,n,a,Tt(a.type,t),i);break e}throw Error(o(306,a,""))}return n;case 0:return a=n.type,d=n.pendingProps,d=n.elementType===a?d:Tt(a,d),gu(t,n,a,d,i);case 1:return a=n.type,d=n.pendingProps,d=n.elementType===a?d:Tt(a,d),Yf(t,n,a,d,i);case 3:e:{if(Xf(n),t===null)throw Error(o(387));a=n.pendingProps,p=n.memoizedState,d=p.element,af(t,n),bs(n,a,null,i);var w=n.memoizedState;if(a=w.element,p.isDehydrated)if(p={element:a,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){d=Yr(Error(o(423)),n),n=Qf(t,n,a,i,d);break e}else if(a!==d){d=Yr(Error(o(424)),n),n=Qf(t,n,a,i,d);break e}else for(vt=In(n.stateNode.containerInfo.firstChild),yt=n,ze=!0,Lt=null,i=sf(n,null,a,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Hr(),a===d){n=fn(t,n,i);break e}ot(t,n,a,i)}n=n.child}return n;case 5:return df(n),t===null&&Ya(n),a=n.type,d=n.pendingProps,p=t!==null?t.memoizedProps:null,w=d.children,$a(a,d)?w=null:p!==null&&$a(a,p)&&(n.flags|=32),Uf(t,n),ot(t,n,w,i),n.child;case 6:return t===null&&Ya(n),null;case 13:return Gf(t,n,i);case 4:return eu(n,n.stateNode.containerInfo),a=n.pendingProps,t===null?n.child=Br(n,null,a,i):ot(t,n,a,i),n.child;case 11:return a=n.type,d=n.pendingProps,d=n.elementType===a?d:Tt(a,d),Hf(t,n,a,d,i);case 7:return ot(t,n,n.pendingProps,i),n.child;case 8:return ot(t,n,n.pendingProps.children,i),n.child;case 12:return ot(t,n,n.pendingProps.children,i),n.child;case 10:e:{if(a=n.type._context,d=n.pendingProps,p=n.memoizedProps,w=d.value,Re(Ns,a._currentValue),a._currentValue=w,p!==null)if(Rt(p.value,w)){if(p.children===d.children&&!st.current){n=fn(t,n,i);break e}}else for(p=n.child,p!==null&&(p.return=n);p!==null;){var L=p.dependencies;if(L!==null){w=p.child;for(var F=L.firstContext;F!==null;){if(F.context===a){if(p.tag===1){F=dn(-1,i&-i),F.tag=2;var q=p.updateQueue;if(q!==null){q=q.shared;var oe=q.pending;oe===null?F.next=F:(F.next=oe.next,oe.next=F),q.pending=F}}p.lanes|=i,F=p.alternate,F!==null&&(F.lanes|=i),qa(p.return,i,n),L.lanes|=i;break}F=F.next}}else if(p.tag===10)w=p.type===n.type?null:p.child;else if(p.tag===18){if(w=p.return,w===null)throw Error(o(341));w.lanes|=i,L=w.alternate,L!==null&&(L.lanes|=i),qa(w,i,n),w=p.sibling}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===n){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}ot(t,n,d.children,i),n=n.child}return n;case 9:return d=n.type,a=n.pendingProps.children,Wr(n,i),d=_t(d),a=a(d),n.flags|=1,ot(t,n,a,i),n.child;case 14:return a=n.type,d=Tt(a,n.pendingProps),d=Tt(a.type,d),Bf(t,n,a,d,i);case 15:return Vf(t,n,n.type,n.pendingProps,i);case 17:return a=n.type,d=n.pendingProps,d=n.elementType===a?d:Tt(a,d),As(t,n),n.tag=1,lt(a)?(t=!0,vs(n)):t=!1,Wr(n,i),Tf(n,a,d),hu(n,a,d,i),yu(null,n,a,!0,t,i);case 19:return qf(t,n,i);case 22:return Wf(t,n,i)}throw Error(o(156,n.tag))};function Sh(t,n){return Qi(t,n)}function By(t,n,i,a){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(t,n,i,a){return new By(t,n,i,a)}function $u(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vy(t){if(typeof t=="function")return $u(t)?1:0;if(t!=null){if(t=t.$$typeof,t===X)return 11;if(t===V)return 14}return 2}function Fn(t,n){var i=t.alternate;return i===null?(i=It(t.tag,n,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=n,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&14680064,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,n=t.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function Xs(t,n,i,a,d,p){var w=2;if(a=t,typeof t=="function")$u(t)&&(w=1);else if(typeof t=="string")w=5;else e:switch(t){case T:return fr(i.children,d,p,n);case U:w=8,d|=8;break;case Y:return t=It(12,i,n,d|2),t.elementType=Y,t.lanes=p,t;case ee:return t=It(13,i,n,d),t.elementType=ee,t.lanes=p,t;case M:return t=It(19,i,n,d),t.elementType=M,t.lanes=p,t;case H:return Qs(i,d,p,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:w=10;break e;case G:w=9;break e;case X:w=11;break e;case V:w=14;break e;case $:w=16,a=null;break e}throw Error(o(130,t==null?t:typeof t,""))}return n=It(w,i,n,d),n.elementType=t,n.type=a,n.lanes=p,n}function fr(t,n,i,a){return t=It(7,t,a,n),t.lanes=i,t}function Qs(t,n,i,a){return t=It(22,t,a,n),t.elementType=H,t.lanes=i,t.stateNode={isHidden:!1},t}function Du(t,n,i){return t=It(6,t,null,n),t.lanes=i,t}function Ou(t,n,i){return n=It(4,t.children!==null?t.children:[],t.key,n),n.lanes=i,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Wy(t,n,i,a,d){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Io(0),this.expirationTimes=Io(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Io(0),this.identifierPrefix=a,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Fu(t,n,i,a,d,p,w,L,F){return t=new Wy(t,n,i,L,F),n===1?(n=1,p===!0&&(n|=8)):n=0,p=It(3,null,null,n),t.current=p,p.stateNode=t,p.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ja(p),t}function Uy(t,n,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:a==null?null:""+a,children:t,containerInfo:n,implementation:i}}function Eh(t){if(!t)return Pn;t=t._reactInternals;e:{if(Wt(t)!==t||t.tag!==1)throw Error(o(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(lt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(o(171))}if(t.tag===1){var i=t.type;if(lt(i))return Gd(t,i,n)}return n}function kh(t,n,i,a,d,p,w,L,F){return t=Fu(i,a,!0,t,d,p,w,L,F),t.context=Eh(null),i=t.current,a=it(),d=Dn(i),p=dn(a,d),p.callback=n??null,Tn(i,p,d),t.current.lanes=d,er(t,d,a),ct(t,a),t}function Gs(t,n,i,a){var d=n.current,p=it(),w=Dn(d);return i=Eh(i),n.context===null?n.context=i:n.pendingContext=i,n=dn(p,w),n.payload={element:t},a=a===void 0?null:a,a!==null&&(n.callback=a),t=Tn(d,n,w),t!==null&&($t(t,d,w,p),_s(t,d,w)),w}function Ks(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Nh(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<n?i:n}}function Hu(t,n){Nh(t,n),(t=t.alternate)&&Nh(t,n)}function Yy(){return null}var Ch=typeof reportError=="function"?reportError:function(t){console.error(t)};function Bu(t){this._internalRoot=t}qs.prototype.render=Bu.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(o(409));Gs(t,n,null,null)},qs.prototype.unmount=Bu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ur(function(){Gs(null,t,null,null)}),n[sn]=null}};function qs(t){this._internalRoot=t}qs.prototype.unstable_scheduleHydration=function(t){if(t){var n=ld();t={blockedOn:null,target:t,priority:n};for(var i=0;i<_n.length&&n!==0&&n<_n[i].priority;i++);_n.splice(i,0,t),i===0&&cd(t)}};function Vu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zs(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _h(){}function Xy(t,n,i,a,d){if(d){if(typeof a=="function"){var p=a;a=function(){var q=Ks(w);p.call(q)}}var w=kh(n,a,t,0,null,!1,!1,"",_h);return t._reactRootContainer=w,t[sn]=w.current,Vo(t.nodeType===8?t.parentNode:t),ur(),w}for(;d=t.lastChild;)t.removeChild(d);if(typeof a=="function"){var L=a;a=function(){var q=Ks(F);L.call(q)}}var F=Fu(t,0,!1,null,null,!1,!1,"",_h);return t._reactRootContainer=F,t[sn]=F.current,Vo(t.nodeType===8?t.parentNode:t),ur(function(){Gs(n,F,i,a)}),F}function Js(t,n,i,a,d){var p=i._reactRootContainer;if(p){var w=p;if(typeof d=="function"){var L=d;d=function(){var F=Ks(w);L.call(F)}}Gs(n,w,t,d)}else w=Xy(i,n,t,d,a);return Ks(w)}id=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var i=Ut(n.pendingLanes);i!==0&&(ha(n,i|1),ct(n,De()),(je&6)===0&&(Gr=De()+500,Rn()))}break;case 13:ur(function(){var a=cn(t,1);if(a!==null){var d=it();$t(a,t,1,d)}}),Hu(t,1)}},pa=function(t){if(t.tag===13){var n=cn(t,134217728);if(n!==null){var i=it();$t(n,t,134217728,i)}Hu(t,134217728)}},sd=function(t){if(t.tag===13){var n=Dn(t),i=cn(t,n);if(i!==null){var a=it();$t(i,t,n,a)}Hu(t,n)}},ld=function(){return Me},ad=function(t,n){var i=Me;try{return Me=t,n()}finally{Me=i}},So=function(t,n,i){switch(n){case"input":if(We(t,i),n=i.name,i.type==="radio"&&n!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var a=i[n];if(a!==t&&a.form===t.form){var d=gs(a);if(!d)throw Error(o(90));xe(a),We(a,d)}}}break;case"textarea":Sr(t,i);break;case"select":n=i.value,n!=null&&Et(t,!!i.multiple,n,!1)}},Vi=Tu,Wi=ur;var Qy={usingClientEntryPoint:!1,Events:[Yo,Ar,gs,Hi,Bi,Tu]},si={findFiberByHostInstance:tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gy={bundleType:si.bundleType,version:si.version,rendererPackageName:si.rendererPackageName,rendererConfig:si.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Yi(t),t===null?null:t.stateNode},findFiberByHostInstance:si.findFiberByHostInstance||Yy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var el=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!el.isDisabled&&el.supportsFiber)try{Jn=el.inject(Gy),kt=el}catch{}}return dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qy,dt.createPortal=function(t,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vu(n))throw Error(o(200));return Uy(t,n,null,i)},dt.createRoot=function(t,n){if(!Vu(t))throw Error(o(299));var i=!1,a="",d=Ch;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=Fu(t,1,!1,null,null,i,!1,a,d),t[sn]=n.current,Vo(t.nodeType===8?t.parentNode:t),new Bu(n)},dt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=Yi(n),t=t===null?null:t.stateNode,t},dt.flushSync=function(t){return ur(t)},dt.hydrate=function(t,n,i){if(!Zs(n))throw Error(o(200));return Js(null,t,n,!0,i)},dt.hydrateRoot=function(t,n,i){if(!Vu(t))throw Error(o(405));var a=i!=null&&i.hydratedSources||null,d=!1,p="",w=Ch;if(i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(p=i.identifierPrefix),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),n=kh(n,null,t,1,i??null,d,!1,p,w),t[sn]=n.current,Vo(t),a)for(t=0;t<a.length;t++)i=a[t],d=i._getVersion,d=d(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,d]:n.mutableSourceEagerHydrationData.push(i,d);return new qs(n)},dt.render=function(t,n,i){if(!Zs(n))throw Error(o(200));return Js(null,t,n,!1,i)},dt.unmountComponentAtNode=function(t){if(!Zs(t))throw Error(o(40));return t._reactRootContainer?(ur(function(){Js(null,null,t,!1,function(){t._reactRootContainer=null,t[sn]=null})}),!0):!1},dt.unstable_batchedUpdates=Tu,dt.unstable_renderSubtreeIntoContainer=function(t,n,i,a){if(!Zs(i))throw Error(o(200));if(t==null||t._reactInternals===void 0)throw Error(o(38));return Js(t,n,i,!1,a)},dt.version="18.3.1-next-f1338f8080-20240426",dt}var Th;function rm(){if(Th)return Yu.exports;Th=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),Yu.exports=nv(),Yu.exports}var zh;function rv(){if(zh)return tl;zh=1;var e=rm();return tl.createRoot=e.createRoot,tl.hydrateRoot=e.hydrateRoot,tl}var ov=rv();const iv=Pc(ov);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ah="popstate";function sv(e={}){function r(s,l){let{pathname:u,search:c,hash:f}=s.location;return hc("",{pathname:u,search:c,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function o(s,l){return typeof l=="string"?l:yi(l)}return av(r,o,null,e)}function He(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function Bt(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function lv(){return Math.random().toString(36).substring(2,10)}function $h(e,r){return{usr:e.state,key:e.key,idx:r}}function hc(e,r,o=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof r=="string"?mo(r):r,state:o,key:r&&r.key||s||lv()}}function yi({pathname:e="/",search:r="",hash:o=""}){return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(e+=o.charAt(0)==="#"?o:"#"+o),e}function mo(e){let r={};if(e){let o=e.indexOf("#");o>=0&&(r.hash=e.substring(o),e=e.substring(0,o));let s=e.indexOf("?");s>=0&&(r.search=e.substring(s),e=e.substring(0,s)),e&&(r.pathname=e)}return r}function av(e,r,o,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,c=l.history,f="POP",h=null,y=v();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function v(){return(c.state||{idx:null}).idx}function m(){f="POP";let N=v(),b=N==null?null:N-y;y=N,h&&h({action:f,location:_.location,delta:b})}function x(N,b){f="PUSH";let R=hc(_.location,N,b);y=v()+1;let E=$h(R,y),I=_.createHref(R);try{c.pushState(E,"",I)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;l.location.assign(I)}u&&h&&h({action:f,location:_.location,delta:1})}function S(N,b){f="REPLACE";let R=hc(_.location,N,b);y=v();let E=$h(R,y),I=_.createHref(R);c.replaceState(E,"",I),u&&h&&h({action:f,location:_.location,delta:0})}function k(N){return uv(N)}let _={get action(){return f},get location(){return e(l,c)},listen(N){if(h)throw new Error("A history only accepts one active listener");return l.addEventListener(Ah,m),h=N,()=>{l.removeEventListener(Ah,m),h=null}},createHref(N){return r(l,N)},createURL:k,encodeLocation(N){let b=k(N);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:x,replace:S,go(N){return c.go(N)}};return _}function uv(e,r=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),He(o,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:yi(e);return s=s.replace(/ $/,"%20"),!r&&s.startsWith("//")&&(s=o+s),new URL(s,o)}function om(e,r,o="/"){return cv(e,r,o,!1)}function cv(e,r,o,s){let l=typeof r=="string"?mo(r):r,u=yn(l.pathname||"/",o);if(u==null)return null;let c=im(e);dv(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let y=Ev(u);f=wv(c[h],y,s)}return f}function im(e,r=[],o=[],s="",l=!1){let u=(c,f,h=l,y)=>{let v={relativePath:y===void 0?c.path||"":y,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&h)return;He(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let m=gn([s,v.relativePath]),x=o.concat(v);c.children&&c.children.length>0&&(He(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),im(c.children,r,x,m,h)),!(c.path==null&&!c.index)&&r.push({path:m,score:vv(m,c.index),routesMeta:x})};return e.forEach((c,f)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))u(c,f);else for(let y of sm(c.path))u(c,f,!0,y)}),r}function sm(e){let r=e.split("/");if(r.length===0)return[];let[o,...s]=r,l=o.endsWith("?"),u=o.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let c=sm(s.join("/")),f=[];return f.push(...c.map(h=>h===""?u:[u,h].join("/"))),l&&f.push(...c),f.map(h=>e.startsWith("/")&&h===""?"/":h)}function dv(e){e.sort((r,o)=>r.score!==o.score?o.score-r.score:xv(r.routesMeta.map(s=>s.childrenIndex),o.routesMeta.map(s=>s.childrenIndex)))}var fv=/^:[\w-]+$/,hv=3,pv=2,mv=1,gv=10,yv=-2,Dh=e=>e==="*";function vv(e,r){let o=e.split("/"),s=o.length;return o.some(Dh)&&(s+=yv),r&&(s+=pv),o.filter(l=>!Dh(l)).reduce((l,u)=>l+(fv.test(u)?hv:u===""?mv:gv),s)}function xv(e,r){return e.length===r.length&&e.slice(0,-1).every((s,l)=>s===r[l])?e[e.length-1]-r[r.length-1]:0}function wv(e,r,o=!1){let{routesMeta:s}=e,l={},u="/",c=[];for(let f=0;f<s.length;++f){let h=s[f],y=f===s.length-1,v=u==="/"?r:r.slice(u.length)||"/",m=El({path:h.relativePath,caseSensitive:h.caseSensitive,end:y},v),x=h.route;if(!m&&y&&o&&!s[s.length-1].route.index&&(m=El({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!m)return null;Object.assign(l,m.params),c.push({params:l,pathname:gn([u,m.pathname]),pathnameBase:_v(gn([u,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(u=gn([u,m.pathnameBase]))}return c}function El(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[o,s]=Sv(e.path,e.caseSensitive,e.end),l=r.match(o);if(!l)return null;let u=l[0],c=u.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:s.reduce((y,{paramName:v,isOptional:m},x)=>{if(v==="*"){let k=f[x]||"";c=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const S=f[x];return m&&!S?y[v]=void 0:y[v]=(S||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:c,pattern:e}}function Sv(e,r=!1,o=!0){Bt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(s.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,r?void 0:"i"),s]}function Ev(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Bt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),e}}function yn(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let o=r.endsWith("/")?r.length-1:r.length,s=e.charAt(o);return s&&s!=="/"?null:e.slice(o)||"/"}var lm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kv=e=>lm.test(e);function Nv(e,r="/"){let{pathname:o,search:s="",hash:l=""}=typeof e=="string"?mo(e):e,u;if(o)if(kv(o))u=o;else{if(o.includes("//")){let c=o;o=o.replace(/\/\/+/g,"/"),Bt(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${o}`)}o.startsWith("/")?u=Oh(o.substring(1),"/"):u=Oh(o,r)}else u=r;return{pathname:u,search:bv(s),hash:jv(l)}}function Oh(e,r){let o=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?o.length>1&&o.pop():l!=="."&&o.push(l)}),o.length>1?o.join("/"):"/"}function Gu(e,r,o,s){return`Cannot include a '${e}' character in a manually specified \`to.${r}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Cv(e){return e.filter((r,o)=>o===0||r.route.path&&r.route.path.length>0)}function am(e){let r=Cv(e);return r.map((o,s)=>s===r.length-1?o.pathname:o.pathnameBase)}function um(e,r,o,s=!1){let l;typeof e=="string"?l=mo(e):(l={...e},He(!l.pathname||!l.pathname.includes("?"),Gu("?","pathname","search",l)),He(!l.pathname||!l.pathname.includes("#"),Gu("#","pathname","hash",l)),He(!l.search||!l.search.includes("#"),Gu("#","search","hash",l)));let u=e===""||l.pathname==="",c=u?"/":l.pathname,f;if(c==null)f=o;else{let m=r.length-1;if(!s&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),m-=1;l.pathname=x.join("/")}f=m>=0?r[m]:"/"}let h=Nv(l,f),y=c&&c!=="/"&&c.endsWith("/"),v=(u||c===".")&&o.endsWith("/");return!h.pathname.endsWith("/")&&(y||v)&&(h.pathname+="/"),h}var gn=e=>e.join("/").replace(/\/\/+/g,"/"),_v=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),bv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,jv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Iv=class{constructor(e,r,o,s=!1){this.status=e,this.statusText=r||"",this.internal=s,o instanceof Error?(this.data=o.toString(),this.error=o):this.data=o}};function Mv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Pv(e){return e.map(r=>r.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var cm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function dm(e,r){let o=e;if(typeof o!="string"||!lm.test(o))return{absoluteURL:void 0,isExternal:!1,to:o};let s=o,l=!1;if(cm)try{let u=new URL(window.location.href),c=o.startsWith("//")?new URL(u.protocol+o):new URL(o),f=yn(c.pathname,r);c.origin===u.origin&&f!=null?o=f+c.search+c.hash:l=!0}catch{Bt(!1,`<Link to="${o}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:l,to:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var fm=["POST","PUT","PATCH","DELETE"];new Set(fm);var Rv=["GET",...fm];new Set(Rv);var go=C.createContext(null);go.displayName="DataRouter";var Al=C.createContext(null);Al.displayName="DataRouterState";var Lv=C.createContext(!1),hm=C.createContext({isTransitioning:!1});hm.displayName="ViewTransition";var Tv=C.createContext(new Map);Tv.displayName="Fetchers";var zv=C.createContext(null);zv.displayName="Await";var Mt=C.createContext(null);Mt.displayName="Navigation";var ji=C.createContext(null);ji.displayName="Location";var Jt=C.createContext({outlet:null,matches:[],isDataRoute:!1});Jt.displayName="Route";var Rc=C.createContext(null);Rc.displayName="RouteError";var pm="REACT_ROUTER_ERROR",Av="REDIRECT",$v="ROUTE_ERROR_RESPONSE";function Dv(e){if(e.startsWith(`${pm}:${Av}:{`))try{let r=JSON.parse(e.slice(28));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.location=="string"&&typeof r.reloadDocument=="boolean"&&typeof r.replace=="boolean")return r}catch{}}function Ov(e){if(e.startsWith(`${pm}:${$v}:{`))try{let r=JSON.parse(e.slice(40));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string")return new Iv(r.status,r.statusText,r.data)}catch{}}function Fv(e,{relative:r}={}){He(Ii(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:s}=C.useContext(Mt),{hash:l,pathname:u,search:c}=Mi(e,{relative:r}),f=u;return o!=="/"&&(f=u==="/"?o:gn([o,u])),s.createHref({pathname:f,search:c,hash:l})}function Ii(){return C.useContext(ji)!=null}function Yn(){return He(Ii(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(ji).location}var mm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gm(e){C.useContext(Mt).static||C.useLayoutEffect(e)}function $l(){let{isDataRoute:e}=C.useContext(Jt);return e?ex():Hv()}function Hv(){He(Ii(),"useNavigate() may be used only in the context of a <Router> component.");let e=C.useContext(go),{basename:r,navigator:o}=C.useContext(Mt),{matches:s}=C.useContext(Jt),{pathname:l}=Yn(),u=JSON.stringify(am(s)),c=C.useRef(!1);return gm(()=>{c.current=!0}),C.useCallback((h,y={})=>{if(Bt(c.current,mm),!c.current)return;if(typeof h=="number"){o.go(h);return}let v=um(h,JSON.parse(u),l,y.relative==="path");e==null&&r!=="/"&&(v.pathname=v.pathname==="/"?r:gn([r,v.pathname])),(y.replace?o.replace:o.push)(v,y.state,y)},[r,o,u,l,e])}C.createContext(null);function Bv(){let{matches:e}=C.useContext(Jt),r=e[e.length-1];return r?r.params:{}}function Mi(e,{relative:r}={}){let{matches:o}=C.useContext(Jt),{pathname:s}=Yn(),l=JSON.stringify(am(o));return C.useMemo(()=>um(e,JSON.parse(l),s,r==="path"),[e,l,s,r])}function Vv(e,r){return ym(e,r)}function ym(e,r,o,s,l){var R;He(Ii(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=C.useContext(Mt),{matches:c}=C.useContext(Jt),f=c[c.length-1],h=f?f.params:{},y=f?f.pathname:"/",v=f?f.pathnameBase:"/",m=f&&f.route;{let E=m&&m.path||"";xm(y,!m||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let x=Yn(),S;if(r){let E=typeof r=="string"?mo(r):r;He(v==="/"||((R=E.pathname)==null?void 0:R.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${E.pathname}" was given in the \`location\` prop.`),S=E}else S=x;let k=S.pathname||"/",_=k;if(v!=="/"){let E=v.replace(/^\//,"").split("/");_="/"+k.replace(/^\//,"").split("/").slice(E.length).join("/")}let N=om(e,{pathname:_});Bt(m||N!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Bt(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=Qv(N&&N.map(E=>Object.assign({},E,{params:Object.assign({},h,E.params),pathname:gn([v,u.encodeLocation?u.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?v:gn([v,u.encodeLocation?u.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),c,o,s,l);return r&&b?C.createElement(ji.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},b):b}function Wv(){let e=Jv(),r=Mv(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),o=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:u},"ErrorBoundary")," or"," ",C.createElement("code",{style:u},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},r),o?C.createElement("pre",{style:l},o):null,c)}var Uv=C.createElement(Wv,null),vm=class extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){this.props.onError?this.props.onError(e,r):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const o=Ov(e.digest);o&&(e=o)}let r=e!==void 0?C.createElement(Jt.Provider,{value:this.props.routeContext},C.createElement(Rc.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?C.createElement(Yv,{error:e},r):r}};vm.contextType=Lv;var Ku=new WeakMap;function Yv({children:e,error:r}){let{basename:o}=C.useContext(Mt);if(typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){let s=Dv(r.digest);if(s){let l=Ku.get(r);if(l)throw l;let u=dm(s.location,o);if(cm&&!Ku.get(r))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Ku.set(r,c),c}return C.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return e}function Xv({routeContext:e,match:r,children:o}){let s=C.useContext(go);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(Jt.Provider,{value:e},o)}function Qv(e,r=[],o=null,s=null,l=null){if(e==null){if(!o)return null;if(o.errors)e=o.matches;else if(r.length===0&&!o.initialized&&o.matches.length>0)e=o.matches;else return null}let u=e,c=o==null?void 0:o.errors;if(c!=null){let v=u.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);He(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let f=!1,h=-1;if(o)for(let v=0;v<u.length;v++){let m=u[v];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=v),m.route.id){let{loaderData:x,errors:S}=o,k=m.route.loader&&!x.hasOwnProperty(m.route.id)&&(!S||S[m.route.id]===void 0);if(m.route.lazy||k){f=!0,h>=0?u=u.slice(0,h+1):u=[u[0]];break}}}let y=o&&s?(v,m)=>{var x,S;s(v,{location:o.location,params:((S=(x=o.matches)==null?void 0:x[0])==null?void 0:S.params)??{},unstable_pattern:Pv(o.matches),errorInfo:m})}:void 0;return u.reduceRight((v,m,x)=>{let S,k=!1,_=null,N=null;o&&(S=c&&m.route.id?c[m.route.id]:void 0,_=m.route.errorElement||Uv,f&&(h<0&&x===0?(xm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,N=null):h===x&&(k=!0,N=m.route.hydrateFallbackElement||null)));let b=r.concat(u.slice(0,x+1)),R=()=>{let E;return S?E=_:k?E=N:m.route.Component?E=C.createElement(m.route.Component,null):m.route.element?E=m.route.element:E=v,C.createElement(Xv,{match:m,routeContext:{outlet:v,matches:b,isDataRoute:o!=null},children:E})};return o&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?C.createElement(vm,{location:o.location,revalidation:o.revalidation,component:_,error:S,children:R(),routeContext:{outlet:null,matches:b,isDataRoute:!0},onError:y}):R()},null)}function Lc(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gv(e){let r=C.useContext(go);return He(r,Lc(e)),r}function Kv(e){let r=C.useContext(Al);return He(r,Lc(e)),r}function qv(e){let r=C.useContext(Jt);return He(r,Lc(e)),r}function Tc(e){let r=qv(e),o=r.matches[r.matches.length-1];return He(o.route.id,`${e} can only be used on routes that contain a unique "id"`),o.route.id}function Zv(){return Tc("useRouteId")}function Jv(){var s;let e=C.useContext(Rc),r=Kv("useRouteError"),o=Tc("useRouteError");return e!==void 0?e:(s=r.errors)==null?void 0:s[o]}function ex(){let{router:e}=Gv("useNavigate"),r=Tc("useNavigate"),o=C.useRef(!1);return gm(()=>{o.current=!0}),C.useCallback(async(l,u={})=>{Bt(o.current,mm),o.current&&(typeof l=="number"?await e.navigate(l):await e.navigate(l,{fromRouteId:r,...u}))},[e,r])}var Fh={};function xm(e,r,o){!r&&!Fh[e]&&(Fh[e]=!0,Bt(!1,o))}C.memo(tx);function tx({routes:e,future:r,state:o,onError:s}){return ym(e,void 0,o,s,r)}function eo(e){He(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nx({basename:e="/",children:r=null,location:o,navigationType:s="POP",navigator:l,static:u=!1,unstable_useTransitions:c}){He(!Ii(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),h=C.useMemo(()=>({basename:f,navigator:l,static:u,unstable_useTransitions:c,future:{}}),[f,l,u,c]);typeof o=="string"&&(o=mo(o));let{pathname:y="/",search:v="",hash:m="",state:x=null,key:S="default"}=o,k=C.useMemo(()=>{let _=yn(y,f);return _==null?null:{location:{pathname:_,search:v,hash:m,state:x,key:S},navigationType:s}},[f,y,v,m,x,S,s]);return Bt(k!=null,`<Router basename="${f}"> is not able to match the URL "${y}${v}${m}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:C.createElement(Mt.Provider,{value:h},C.createElement(ji.Provider,{children:r,value:k}))}function rx({children:e,location:r}){return Vv(pc(e),r)}function pc(e,r=[]){let o=[];return C.Children.forEach(e,(s,l)=>{if(!C.isValidElement(s))return;let u=[...r,l];if(s.type===C.Fragment){o.push.apply(o,pc(s.props.children,u));return}He(s.type===eo,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),He(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=pc(s.props.children,u)),o.push(c)}),o}var ml="get",gl="application/x-www-form-urlencoded";function Dl(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function ox(e){return Dl(e)&&e.tagName.toLowerCase()==="button"}function ix(e){return Dl(e)&&e.tagName.toLowerCase()==="form"}function sx(e){return Dl(e)&&e.tagName.toLowerCase()==="input"}function lx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ax(e,r){return e.button===0&&(!r||r==="_self")&&!lx(e)}var nl=null;function ux(){if(nl===null)try{new FormData(document.createElement("form"),0),nl=!1}catch{nl=!0}return nl}var cx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qu(e){return e!=null&&!cx.has(e)?(Bt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gl}"`),null):e}function dx(e,r){let o,s,l,u,c;if(ix(e)){let f=e.getAttribute("action");s=f?yn(f,r):null,o=e.getAttribute("method")||ml,l=qu(e.getAttribute("enctype"))||gl,u=new FormData(e)}else if(ox(e)||sx(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||f.getAttribute("action");if(s=h?yn(h,r):null,o=e.getAttribute("formmethod")||f.getAttribute("method")||ml,l=qu(e.getAttribute("formenctype"))||qu(f.getAttribute("enctype"))||gl,u=new FormData(f,e),!ux()){let{name:y,type:v,value:m}=e;if(v==="image"){let x=y?`${y}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else y&&u.append(y,m)}}else{if(Dl(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=ml,s=null,l=gl,c=e}return u&&l==="text/plain"&&(c=u,u=void 0),{action:s,method:o.toLowerCase(),encType:l,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zc(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function fx(e,r,o){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${o}`:r&&yn(s.pathname,r)==="/"?s.pathname=`${r.replace(/\/$/,"")}/_root.${o}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${o}`,s}async function hx(e,r){if(e.id in r)return r[e.id];try{let o=await import(e.module);return r[e.id]=o,o}catch(o){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function px(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function mx(e,r,o){let s=await Promise.all(e.map(async l=>{let u=r.routes[l.route.id];if(u){let c=await hx(u,o);return c.links?c.links():[]}return[]}));return xx(s.flat(1).filter(px).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Hh(e,r,o,s,l,u){let c=(h,y)=>o[y]?h.route.id!==o[y].route.id:!0,f=(h,y)=>{var v;return o[y].pathname!==h.pathname||((v=o[y].route.path)==null?void 0:v.endsWith("*"))&&o[y].params["*"]!==h.params["*"]};return u==="assets"?r.filter((h,y)=>c(h,y)||f(h,y)):u==="data"?r.filter((h,y)=>{var m;let v=s.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(c(h,y)||f(h,y))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((m=o[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function gx(e,r,{includeHydrateFallback:o}={}){return yx(e.map(s=>{let l=r.routes[s.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),o&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function yx(e){return[...new Set(e)]}function vx(e){let r={},o=Object.keys(e).sort();for(let s of o)r[s]=e[s];return r}function xx(e,r){let o=new Set;return new Set(r),e.reduce((s,l)=>{let u=JSON.stringify(vx(l));return o.has(u)||(o.add(u),s.push({key:u,link:l})),s},[])}function wm(){let e=C.useContext(go);return zc(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function wx(){let e=C.useContext(Al);return zc(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ac=C.createContext(void 0);Ac.displayName="FrameworkContext";function Sm(){let e=C.useContext(Ac);return zc(e,"You must render this element inside a <HydratedRouter> element"),e}function Sx(e,r){let o=C.useContext(Ac),[s,l]=C.useState(!1),[u,c]=C.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:y,onMouseLeave:v,onTouchStart:m}=r,x=C.useRef(null);C.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let _=b=>{b.forEach(R=>{c(R.isIntersecting)})},N=new IntersectionObserver(_,{threshold:.5});return x.current&&N.observe(x.current),()=>{N.disconnect()}}},[e]),C.useEffect(()=>{if(s){let _=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(_)}}},[s]);let S=()=>{l(!0)},k=()=>{l(!1),c(!1)};return o?e!=="intent"?[u,x,{}]:[u,x,{onFocus:ai(f,S),onBlur:ai(h,k),onMouseEnter:ai(y,S),onMouseLeave:ai(v,k),onTouchStart:ai(m,S)}]:[!1,x,{}]}function ai(e,r){return o=>{e&&e(o),o.defaultPrevented||r(o)}}function Ex({page:e,...r}){let{router:o}=wm(),s=C.useMemo(()=>om(o.routes,e,o.basename),[o.routes,e,o.basename]);return s?C.createElement(Nx,{page:e,matches:s,...r}):null}function kx(e){let{manifest:r,routeModules:o}=Sm(),[s,l]=C.useState([]);return C.useEffect(()=>{let u=!1;return mx(e,r,o).then(c=>{u||l(c)}),()=>{u=!0}},[e,r,o]),s}function Nx({page:e,matches:r,...o}){let s=Yn(),{manifest:l,routeModules:u}=Sm(),{basename:c}=wm(),{loaderData:f,matches:h}=wx(),y=C.useMemo(()=>Hh(e,r,h,l,s,"data"),[e,r,h,l,s]),v=C.useMemo(()=>Hh(e,r,h,l,s,"assets"),[e,r,h,l,s]),m=C.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let k=new Set,_=!1;if(r.forEach(b=>{var E;let R=l.routes[b.route.id];!R||!R.hasLoader||(!y.some(I=>I.route.id===b.route.id)&&b.route.id in f&&((E=u[b.route.id])!=null&&E.shouldRevalidate)||R.hasClientLoader?_=!0:k.add(b.route.id))}),k.size===0)return[];let N=fx(e,c,"data");return _&&k.size>0&&N.searchParams.set("_routes",r.filter(b=>k.has(b.route.id)).map(b=>b.route.id).join(",")),[N.pathname+N.search]},[c,f,s,l,y,r,e,u]),x=C.useMemo(()=>gx(v,l),[v,l]),S=kx(v);return C.createElement(C.Fragment,null,m.map(k=>C.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...o})),x.map(k=>C.createElement("link",{key:k,rel:"modulepreload",href:k,...o})),S.map(({key:k,link:_})=>C.createElement("link",{key:k,nonce:o.nonce,..._})))}function Cx(...e){return r=>{e.forEach(o=>{typeof o=="function"?o(r):o!=null&&(o.current=r)})}}var _x=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_x&&(window.__reactRouterVersion="7.11.0")}catch{}function bx({basename:e,children:r,unstable_useTransitions:o,window:s}){let l=C.useRef();l.current==null&&(l.current=sv({window:s,v5Compat:!0}));let u=l.current,[c,f]=C.useState({action:u.action,location:u.location}),h=C.useCallback(y=>{o===!1?f(y):C.startTransition(()=>f(y))},[o]);return C.useLayoutEffect(()=>u.listen(h),[u,h]),C.createElement(nx,{basename:e,children:r,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:o})}var Em=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ol=C.forwardRef(function({onClick:r,discover:o="render",prefetch:s="none",relative:l,reloadDocument:u,replace:c,state:f,target:h,to:y,preventScrollReset:v,viewTransition:m,unstable_defaultShouldRevalidate:x,...S},k){let{basename:_,unstable_useTransitions:N}=C.useContext(Mt),b=typeof y=="string"&&Em.test(y),R=dm(y,_);y=R.to;let E=Fv(y,{relative:l}),[I,B,O]=Sx(s,S),T=Px(y,{replace:c,state:f,target:h,preventScrollReset:v,relative:l,viewTransition:m,unstable_defaultShouldRevalidate:x,unstable_useTransitions:N});function U(ne){r&&r(ne),ne.defaultPrevented||T(ne)}let Y=C.createElement("a",{...S,...O,href:R.absoluteURL||E,onClick:R.isExternal||u?r:U,ref:Cx(k,B),target:h,"data-discover":!b&&o==="render"?"true":void 0});return I&&!b?C.createElement(C.Fragment,null,Y,C.createElement(Ex,{page:E})):Y});Ol.displayName="Link";var jx=C.forwardRef(function({"aria-current":r="page",caseSensitive:o=!1,className:s="",end:l=!1,style:u,to:c,viewTransition:f,children:h,...y},v){let m=Mi(c,{relative:y.relative}),x=Yn(),S=C.useContext(Al),{navigator:k,basename:_}=C.useContext(Mt),N=S!=null&&Ax(m)&&f===!0,b=k.encodeLocation?k.encodeLocation(m).pathname:m.pathname,R=x.pathname,E=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;o||(R=R.toLowerCase(),E=E?E.toLowerCase():null,b=b.toLowerCase()),E&&_&&(E=yn(E,_)||E);const I=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let B=R===b||!l&&R.startsWith(b)&&R.charAt(I)==="/",O=E!=null&&(E===b||!l&&E.startsWith(b)&&E.charAt(b.length)==="/"),T={isActive:B,isPending:O,isTransitioning:N},U=B?r:void 0,Y;typeof s=="function"?Y=s(T):Y=[s,B?"active":null,O?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let ne=typeof u=="function"?u(T):u;return C.createElement(Ol,{...y,"aria-current":U,className:Y,ref:v,style:ne,to:c,viewTransition:f},typeof h=="function"?h(T):h)});jx.displayName="NavLink";var Ix=C.forwardRef(({discover:e="render",fetcherKey:r,navigate:o,reloadDocument:s,replace:l,state:u,method:c=ml,action:f,onSubmit:h,relative:y,preventScrollReset:v,viewTransition:m,unstable_defaultShouldRevalidate:x,...S},k)=>{let{unstable_useTransitions:_}=C.useContext(Mt),N=Tx(),b=zx(f,{relative:y}),R=c.toLowerCase()==="get"?"get":"post",E=typeof f=="string"&&Em.test(f),I=B=>{if(h&&h(B),B.defaultPrevented)return;B.preventDefault();let O=B.nativeEvent.submitter,T=(O==null?void 0:O.getAttribute("formmethod"))||c,U=()=>N(O||B.currentTarget,{fetcherKey:r,method:T,navigate:o,replace:l,state:u,relative:y,preventScrollReset:v,viewTransition:m,unstable_defaultShouldRevalidate:x});_&&o!==!1?C.startTransition(()=>U()):U()};return C.createElement("form",{ref:k,method:R,action:b,onSubmit:s?h:I,...S,"data-discover":!E&&e==="render"?"true":void 0})});Ix.displayName="Form";function Mx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function km(e){let r=C.useContext(go);return He(r,Mx(e)),r}function Px(e,{target:r,replace:o,state:s,preventScrollReset:l,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:h}={}){let y=$l(),v=Yn(),m=Mi(e,{relative:u});return C.useCallback(x=>{if(ax(x,r)){x.preventDefault();let S=o!==void 0?o:yi(v)===yi(m),k=()=>y(e,{replace:S,state:s,preventScrollReset:l,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:f});h?C.startTransition(()=>k()):k()}},[v,y,m,o,s,r,e,l,u,c,f,h])}var Rx=0,Lx=()=>`__${String(++Rx)}__`;function Tx(){let{router:e}=km("useSubmit"),{basename:r}=C.useContext(Mt),o=Zv(),s=e.fetch,l=e.navigate;return C.useCallback(async(u,c={})=>{let{action:f,method:h,encType:y,formData:v,body:m}=dx(u,r);if(c.navigate===!1){let x=c.fetcherKey||Lx();await s(x,o,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:m,formMethod:c.method||h,formEncType:c.encType||y,flushSync:c.flushSync})}else await l(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:m,formMethod:c.method||h,formEncType:c.encType||y,replace:c.replace,state:c.state,fromRouteId:o,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,l,r,o])}function zx(e,{relative:r}={}){let{basename:o}=C.useContext(Mt),s=C.useContext(Jt);He(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...Mi(e||".",{relative:r})},c=Yn();if(e==null){u.search=c.search;let f=new URLSearchParams(u.search),h=f.getAll("index");if(h.some(v=>v==="")){f.delete("index"),h.filter(m=>m).forEach(m=>f.append("index",m));let v=f.toString();u.search=v?`?${v}`:""}}return(!e||e===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(u.pathname=u.pathname==="/"?o:gn([o,u.pathname])),yi(u)}function Ax(e,{relative:r}={}){let o=C.useContext(hm);He(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=km("useViewTransitionState"),l=Mi(e,{relative:r});if(!o.isTransitioning)return!1;let u=yn(o.currentLocation.pathname,s)||o.currentLocation.pathname,c=yn(o.nextLocation.pathname,s)||o.nextLocation.pathname;return El(l.pathname,c)!=null||El(l.pathname,u)!=null}rm();function pi({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z",clipRule:"evenodd"})})}function $x({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10zm0 5.25a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75a.75.75 0 01-.75-.75z",clipRule:"evenodd"})})}function Dx({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M4.25 2A2.25 2.25 0 002 4.25v11.5A2.25 2.25 0 004.25 18h11.5A2.25 2.25 0 0018 15.75V4.25A2.25 2.25 0 0015.75 2H4.25zM6 13.25v-2.5h2.5v2.5H6zm0-3.5V7.25h2.5v2.5H6zm3.5 0V7.25H12v2.5H9.5zm0 3.5v-2.5H12v2.5H9.5zm3.5 0v-2.5h2.5v2.5H13zm0-3.5V7.25h2.5v2.5H13z",clipRule:"evenodd"})})}function Ox({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M7.84 1.804A1 1 0 018.82 1h2.36a1 1 0 01.98.804l.331 1.652a6.993 6.993 0 011.929 1.115l1.598-.54a1 1 0 011.186.447l1.18 2.044a1 1 0 01-.205 1.251l-1.267 1.113a7.047 7.047 0 010 2.228l1.267 1.113a1 1 0 01.206 1.25l-1.18 2.045a1 1 0 01-1.187.447l-1.598-.54a6.993 6.993 0 01-1.929 1.115l-.33 1.652a1 1 0 01-.98.804H8.82a1 1 0 01-.98-.804l-.331-1.652a6.993 6.993 0 01-1.929-1.115l-1.598.54a1 1 0 01-1.186-.447l-1.18-2.044a1 1 0 01.205-1.251l1.267-1.114a7.05 7.05 0 010-2.227L1.821 7.773a1 1 0 01-.206-1.25l1.18-2.045a1 1 0 011.187-.447l1.598.54A6.993 6.993 0 017.51 3.456l.33-1.652zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})})}function Fx({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M10 2c-2.236 0-4.43.18-6.57.524C1.993 2.755 1 4.014 1 5.426v5.148c0 1.413.993 2.67 2.43 2.902 1.168.188 2.352.327 3.55.414.28.02.521.18.642.413l1.713 3.293a.75.75 0 001.33 0l1.713-3.293c.121-.233.362-.393.642-.413a41.102 41.102 0 003.55-.414c1.437-.232 2.43-1.49 2.43-2.902V5.426c0-1.412-.993-2.67-2.43-2.902A41.289 41.289 0 0010 2zM6.75 6a.75.75 0 000 1.5h6.5a.75.75 0 000-1.5h-6.5zm0 2.5a.75.75 0 000 1.5h3.5a.75.75 0 000-1.5h-3.5z",clipRule:"evenodd"})})}function Hx({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z",clipRule:"evenodd"})})}function Nm({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm.75-13a.75.75 0 00-1.5 0v5c0 .414.336.75.75.75h4a.75.75 0 000-1.5h-3.25V5z",clipRule:"evenodd"})})}function $c({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M6 4.75A.75.75 0 016.75 4h10.5a.75.75 0 010 1.5H6.75A.75.75 0 016 4.75zM6 10a.75.75 0 01.75-.75h10.5a.75.75 0 010 1.5H6.75A.75.75 0 016 10zm0 5.25a.75.75 0 01.75-.75h10.5a.75.75 0 010 1.5H6.75a.75.75 0 01-.75-.75zM1.99 4.75a1 1 0 011-1H3a1 1 0 011 1v.01a1 1 0 01-1 1h-.01a1 1 0 01-1-1v-.01zM2.99 9a1 1 0 00-1 1v.01a1 1 0 001 1H3a1 1 0 001-1V10a1 1 0 00-1-1h-.01zM1.99 14.25a1 1 0 011-1H3a1 1 0 011 1v.01a1 1 0 01-1 1h-.01a1 1 0 01-1-1v-.01z",clipRule:"evenodd"})})}function Bx({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{d:"M3.75 3A1.75 1.75 0 002 4.75v3.26a3.235 3.235 0 011.75-.51h12.5c.644 0 1.245.188 1.75.51V6.75A1.75 1.75 0 0016.25 5h-4.836a.25.25 0 01-.177-.073L9.823 3.513A1.75 1.75 0 008.586 3H3.75zM3.75 9A1.75 1.75 0 002 10.75v4.5c0 .966.784 1.75 1.75 1.75h12.5A1.75 1.75 0 0018 15.25v-4.5A1.75 1.75 0 0016.25 9H3.75z"})})}function Vx({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})})}function kl({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}function Dc({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})})}function Wx({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})}function Cm({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M7.455 2.004a.75.75 0 01.26.77 7 7 0 009.958 7.967.75.75 0 011.067.853A8.5 8.5 0 116.647 1.921a.75.75 0 01.808.083z",clipRule:"evenodd"})})}function _m({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{d:"M10 2a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0110 2zM10 15a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0110 15zM10 7a3 3 0 100 6 3 3 0 000-6zM15.657 5.404a.75.75 0 10-1.06-1.06l-1.061 1.06a.75.75 0 001.06 1.06l1.06-1.06zM6.464 14.596a.75.75 0 10-1.06-1.06l-1.06 1.06a.75.75 0 001.06 1.06l1.06-1.06zM18 10a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0118 10zM5 10a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 015 10zM14.596 15.657a.75.75 0 001.06-1.06l-1.06-1.061a.75.75 0 10-1.06 1.06l1.06 1.06zM5.404 6.464a.75.75 0 001.06-1.06l-1.06-1.06a.75.75 0 10-1.06 1.06l1.06 1.06z"})})}function Ux({className:e}){return g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:[g.jsx("path",{d:"M10 12.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"}),g.jsx("path",{fillRule:"evenodd",d:"M.664 10.59a1.651 1.651 0 010-1.186A10.004 10.004 0 0110 3c4.257 0 7.893 2.66 9.336 6.41.147.381.146.804 0 1.186A10.004 10.004 0 0110 17c-4.257 0-7.893-2.66-9.336-6.41zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})}function Yx({className:e}){return g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:[g.jsx("path",{fillRule:"evenodd",d:"M3.28 2.22a.75.75 0 00-1.06 1.06l14.5 14.5a.75.75 0 101.06-1.06l-1.745-1.745a10.029 10.029 0 003.3-4.38 1.651 1.651 0 000-1.185A10.004 10.004 0 009.999 3a9.956 9.956 0 00-4.744 1.194L3.28 2.22zM7.752 6.69l1.092 1.092a2.5 2.5 0 013.374 3.373l1.091 1.092a4 4 0 00-5.557-5.557z",clipRule:"evenodd"}),g.jsx("path",{d:"M10.748 13.93l2.523 2.523a9.987 9.987 0 01-3.27.547c-4.258 0-7.894-2.66-9.337-6.41a1.651 1.651 0 010-1.186A10.007 10.007 0 012.839 6.02L6.07 9.252a4 4 0 004.678 4.678z"})]})}function mc({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.519.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z",clipRule:"evenodd"})})}function Xx({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})})}const Bh="claude-cnthub-theme";function bm(){const[e,r]=C.useState(()=>{if(typeof window<"u"){const l=localStorage.getItem(Bh);if(l==="light"||l==="dark")return l}return"dark"});C.useEffect(()=>{const l=document.documentElement;e==="light"?(l.classList.add("light"),l.classList.remove("dark")):(l.classList.add("dark"),l.classList.remove("light")),localStorage.setItem(Bh,e)},[e]);const o=C.useCallback(()=>{r(l=>l==="dark"?"light":"dark")},[]),s=C.useCallback(l=>{r(l)},[]);return{theme:e,toggleTheme:o,setTheme:s}}function Qx({onMenuClick:e}){const{theme:r,toggleTheme:o}=bm();return g.jsxs("header",{className:"h-14 bg-[var(--bg-surface)] border-b border-[var(--border-subtle)] flex items-center justify-between px-4",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("button",{onClick:e,className:"lg:hidden p-2 rounded-lg hover:bg-[var(--bg-elevated)] transition-colors","aria-label":"Toggle menu",children:g.jsx($x,{className:"w-5 h-5 text-[var(--text-secondary)]"})}),g.jsx("h1",{className:"text-lg font-semibold text-[var(--text-primary)]",children:"Claude CNT Hub"})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:"relative",children:[g.jsx("label",{htmlFor:"search-sessions",className:"sr-only",children:"Search sessions"}),g.jsx(pi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[var(--text-muted)]"}),g.jsx("input",{id:"search-sessions",type:"search",placeholder:"Search sessions...",className:"input pl-10 w-64"})]}),g.jsx("button",{onClick:o,className:"p-2 rounded-lg hover:bg-[var(--bg-elevated)] transition-colors","aria-label":r==="dark"?"Switch to light mode":"Switch to dark mode",children:r==="dark"?g.jsx(_m,{className:"w-5 h-5 text-[var(--text-secondary)]"}):g.jsx(Cm,{className:"w-5 h-5 text-[var(--text-secondary)]"})})]})]})}function Gx({isOpen:e=!0,onClose:r}){const o=Yn(),s=$l(),l=c=>{s(c),r==null||r()},u=c=>c==="/"?o.pathname==="/"||o.pathname==="/sessions":o.pathname.startsWith(c);return g.jsxs(g.Fragment,{children:[e&&g.jsx("div",{className:"fixed inset-0 bg-black/50 lg:hidden z-40",onClick:r}),g.jsxs("aside",{className:`
          fixed lg:static inset-y-0 left-0 z-50
          w-64 bg-[var(--bg-surface)] border-r border-[var(--border-subtle)]
          transform transition-transform duration-200 ease-in-out
          ${e?"translate-x-0":"-translate-x-full lg:translate-x-0"}
          flex flex-col
        `,children:[g.jsx("div",{className:"p-4",children:g.jsx("button",{className:"btn-primary w-full",onClick:()=>l("/"),children:"New Session"})}),g.jsx("nav",{className:"flex-1 px-3 py-2 overflow-y-auto scrollbar-thin",children:g.jsxs("div",{className:"space-y-1",children:[g.jsx(rl,{icon:g.jsx(Dx,{className:"w-5 h-5"}),label:"Sessions",active:u("/"),onClick:()=>l("/sessions")}),g.jsx(rl,{icon:g.jsx(pi,{className:"w-5 h-5"}),label:"Search",active:u("/search"),onClick:()=>l("/search")}),g.jsx(rl,{icon:g.jsx($c,{className:"w-5 h-5"}),label:"Work Items",active:u("/work-items"),onClick:()=>l("/work-items")})]})}),g.jsx("div",{className:"p-3 border-t border-[var(--border-subtle)]",children:g.jsx(rl,{icon:g.jsx(Ox,{className:"w-5 h-5"}),label:"Settings",active:!1,onClick:()=>{}})})]})]})}function rl({icon:e,label:r,active:o,onClick:s}){return g.jsxs("button",{onClick:s,className:o?"sidebar-item-active w-full":"sidebar-item w-full",children:[e,g.jsx("span",{children:r})]})}function ol({children:e}){const[r,o]=C.useState(!1),s=C.useCallback(()=>{o(u=>!u)},[]),l=C.useCallback(()=>{o(!1)},[]);return C.useEffect(()=>{const u=c=>{c.key==="Escape"&&r&&o(!1)};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[r]),g.jsxs("div",{className:"h-screen flex flex-col bg-[var(--bg-base)] text-[var(--text-primary)]",children:[g.jsx(Qx,{onMenuClick:s}),g.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[g.jsx(Gx,{isOpen:r,onClose:l}),g.jsx("main",{className:"flex-1 overflow-y-auto scrollbar-thin p-6",children:e})]})]})}function Kx(){const[e,r]=C.useState([]),[o,s]=C.useState(!0),[l,u]=C.useState(null),[c,f]=C.useState(!1),h=C.useCallback(async()=>{try{u(null),s(!0);const m=await fetch("/api/sessions");if(!m.ok)throw new Error("Failed to fetch sessions");const x=await m.json();r(x.items||[])}catch(m){u("Unable to load sessions. Please try again."),console.error("Error fetching sessions:",m)}finally{s(!1)}},[]);C.useEffect(()=>{h()},[h]);const y=C.useCallback(()=>{h()},[h]),v=C.useCallback(async()=>{try{if(f(!0),!(await fetch("/api/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:`Session ${new Date().toLocaleString("ja-JP")}`,workingDir:window.location.pathname||"/"})})).ok)throw new Error("Failed to create session");await h()}catch(m){console.error("Error creating session:",m),u("Failed to create session. Please try again.")}finally{f(!1)}},[h]);return o?g.jsx(Jx,{}):l?g.jsxs("div",{className:"card text-center py-8",role:"alert",children:[g.jsx("p",{className:"text-red-400 mb-4",children:l}),g.jsx("button",{onClick:y,className:"btn-secondary",children:"Retry"})]}):e.length===0?g.jsxs("div",{className:"card text-center py-12",children:[g.jsx("div",{"aria-hidden":"true",children:g.jsx(Fx,{className:"w-12 h-12 text-[var(--text-muted)] mx-auto mb-4"})}),g.jsx("h3",{className:"text-lg font-medium text-[var(--text-primary)] mb-2",children:"No sessions yet"}),g.jsx("p",{className:"text-[var(--text-muted)] mb-6",children:"Start a new session to begin tracking your work"}),g.jsx("button",{className:"btn-primary disabled:opacity-50",onClick:v,disabled:c,children:c?"Creating...":"Create New Session"})]}):g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h2",{className:"text-xl font-semibold text-[var(--text-primary)]",children:"Sessions"}),g.jsxs("span",{className:"text-sm text-[var(--text-muted)]","aria-label":`${e.length} sessions total`,children:[e.length," total"]})]}),g.jsx("div",{className:"grid gap-3",role:"list","aria-label":"Session list",children:e.map(m=>g.jsx(Zx,{session:m},m.sessionId))})]})}const qx={idle:"Idle",active:"Active",completed:"Completed",error:"Error"},Zx=C.memo(function({session:r}){const o=$l(),s=C.useCallback(()=>{o(`/sessions/${r.sessionId}`)},[o,r.sessionId]),l=C.useMemo(()=>({idle:"bg-gray-400",active:"bg-primary-500",completed:"bg-green-500",error:"bg-red-500"}),[]),u=C.useMemo(()=>new Date(r.updatedAt).toLocaleDateString("ja-JP",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),[r.updatedAt]);return g.jsx("button",{className:"card hover:bg-[var(--bg-elevated)] transition-colors w-full text-left group",role:"listitem","aria-label":`Open session: ${r.name}`,onClick:s,children:g.jsxs("div",{className:"flex items-start justify-between",children:[g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("span",{className:`w-2 h-2 rounded-full ${l[r.status]}`,role:"status","aria-label":`Status: ${qx[r.status]}`}),g.jsx("h3",{className:"font-medium text-[var(--text-primary)] truncate",children:r.name})]}),g.jsxs("div",{className:"flex items-center gap-4 text-sm text-[var(--text-muted)]",children:[g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(Nm,{className:"w-4 h-4"}),g.jsx("time",{dateTime:r.updatedAt,children:u})]}),r.workingDir&&g.jsx("span",{className:"text-xs truncate max-w-48",children:r.workingDir})]})]}),g.jsx(Hx,{className:"w-5 h-5 text-[var(--text-muted)] group-hover:text-[var(--text-primary)] transition-colors"})]})})});function Jx(){return g.jsxs("div",{className:"space-y-4","aria-busy":"true","aria-label":"Loading sessions",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("div",{className:"h-7 w-24 bg-[var(--bg-elevated)] rounded animate-pulse"}),g.jsx("div",{className:"h-5 w-16 bg-[var(--bg-elevated)] rounded animate-pulse"})]}),g.jsx("div",{className:"grid gap-3",children:[1,2,3].map(e=>g.jsx("div",{className:"card",children:g.jsx("div",{className:"flex items-start justify-between",children:g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g.jsx("div",{className:"w-2 h-2 bg-[var(--border-default)] rounded-full"}),g.jsx("div",{className:"h-5 w-48 bg-[var(--bg-elevated)] rounded animate-pulse"})]}),g.jsx("div",{className:"h-4 w-32 bg-[var(--bg-elevated)] rounded animate-pulse"})]})})},e))})]})}const qr=1e4;function e1(){const{id:e}=Bv(),r=$l();return C.useEffect(()=>{e||r("/sessions")},[e,r]),e?g.jsx(t1,{sessionId:e}):null}function t1({sessionId:e}){const[r,o]=C.useState([]),[s,l]=C.useState(""),[u,c]=C.useState(!0),[f,h]=C.useState(!1),[y,v]=C.useState(null),m=C.useRef(null);C.useEffect(()=>{async function _(){try{v(null);const N=await fetch(`/api/sessions/${e}/messages`);if(!N.ok)throw new Error("Failed to fetch messages");const b=await N.json();o(b.items||[])}catch(N){v("Unable to load messages. Please try again."),console.error("Error fetching messages:",N)}finally{c(!1)}}_()},[e]),C.useEffect(()=>{var _;(_=m.current)==null||_.scrollIntoView({behavior:"smooth"})},[r]);const x=C.useCallback(_=>{const N=_.target.value;N.length<=qr&&l(N)},[]),S=C.useCallback(async _=>{if(_.preventDefault(),!s.trim()||f)return;const N=s.trim();if(N.length>qr){v(`Message too long. Maximum ${qr} characters.`);return}l(""),h(!0),v(null);const b=`temp-${Date.now()}`;o(R=>[...R,{messageId:b,type:"user",content:N,timestamp:new Date().toISOString()}]);try{const R=await fetch(`/api/sessions/${e}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:N})});if(!R.ok)throw new Error("Failed to send message");const E=await R.json(),I=E.message||E;o(B=>B.filter(O=>O.messageId!==b).concat(I))}catch(R){console.error("Error sending message:",R),o(E=>E.map(I=>I.messageId===b?{...I,error:!0}:I)),v("Failed to send message. Please try again.")}finally{h(!1)}},[s,f,e]),k=C.useCallback(()=>{v(null),window.location.reload()},[]);return u?g.jsx(o1,{}):g.jsxs("div",{className:"flex flex-col h-full",children:[y&&g.jsxs("div",{className:"p-3 bg-red-900/30 border-b border-red-800 text-red-300 text-sm flex justify-between items-center",children:[g.jsx("span",{children:y}),g.jsx("button",{onClick:k,className:"text-red-400 hover:text-red-300 underline",children:"Retry"})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-thin p-4 space-y-4",role:"log","aria-live":"polite","aria-label":"Chat messages",children:[r.length===0?g.jsx(r1,{}):r.map(_=>g.jsx(n1,{message:_},_.messageId)),g.jsx("div",{ref:m})]}),g.jsxs("form",{onSubmit:S,className:"p-4 border-t border-[var(--border-subtle)]","aria-label":"Send message",children:[g.jsxs("div",{className:"flex gap-3",children:[g.jsx("label",{htmlFor:"chat-input",className:"sr-only",children:"Type your message"}),g.jsx("input",{id:"chat-input",type:"text",value:s,onChange:x,placeholder:"Type a message...",className:"input flex-1",disabled:f,maxLength:qr,"aria-describedby":"char-count"}),g.jsx("button",{type:"submit",className:"btn-primary px-6",disabled:!s.trim()||f,children:f?"Sending...":"Send"})]}),s.length>qr*.9&&g.jsxs("p",{id:"char-count",className:"text-xs text-[var(--text-muted)] mt-1",children:[s.length,"/",qr," characters"]})]})]})}const n1=C.memo(function({message:r}){const o=r.type==="user",s=C.useMemo(()=>new Date(r.timestamp).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"}),[r.timestamp]);return g.jsx("div",{className:`flex ${o?"justify-end":"justify-start"}`,role:"article","aria-label":`Message from ${o?"you":"assistant"}`,children:g.jsxs("div",{className:`
          max-w-[80%] rounded-2xl px-4 py-3
          ${r.error?"bg-red-900/30 border border-red-700 text-red-300 rounded-br-md":o?"bg-primary-500 text-white rounded-br-md":"bg-[var(--bg-elevated)] text-[var(--text-primary)] border border-[var(--border-subtle)] rounded-bl-md"}
        `,children:[g.jsx("p",{className:"whitespace-pre-wrap break-words",children:r.content}),r.error&&g.jsx("span",{className:"text-xs text-red-600 block mt-1",children:"Failed to send"}),g.jsx("span",{className:`
            text-xs mt-1 block
            ${r.error?"text-red-400":o?"text-primary-200":"text-[var(--text-muted)]"}
          `,children:s})]})})});function r1(){return g.jsx("div",{className:"flex items-center justify-center h-full text-center",children:g.jsxs("div",{children:[g.jsx("div",{className:"w-16 h-16 bg-[var(--bg-elevated)] border border-[var(--border-subtle)] rounded-full flex items-center justify-center mx-auto mb-4","aria-hidden":"true",children:g.jsx("span",{className:"text-3xl",children:""})}),g.jsx("h3",{className:"text-lg font-medium text-[var(--text-primary)] mb-2",children:"Start the conversation"}),g.jsx("p",{className:"text-[var(--text-muted)]",children:"Type a message below to begin"})]})})}function o1(){return g.jsxs("div",{className:"flex flex-col h-full","aria-busy":"true","aria-label":"Loading chat",children:[g.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[1,2,3].map(e=>g.jsx("div",{className:`flex ${e%2===0?"justify-end":"justify-start"}`,children:g.jsxs("div",{className:"bg-[var(--bg-elevated)] rounded-2xl px-4 py-3 w-64 animate-pulse",children:[g.jsx("div",{className:"h-4 bg-[var(--border-default)] rounded w-full mb-2"}),g.jsx("div",{className:"h-4 bg-[var(--border-default)] rounded w-3/4"})]})},e))}),g.jsx("div",{className:"p-4 border-t border-[var(--border-subtle)]",children:g.jsxs("div",{className:"flex gap-3",children:[g.jsx("div",{className:"input flex-1 h-10 bg-[var(--bg-elevated)] animate-pulse"}),g.jsx("div",{className:"btn-primary w-20 h-10 bg-[var(--border-default)] animate-pulse"})]})})]})}const Vh=e=>{let r;const o=new Set,s=(y,v)=>{const m=typeof y=="function"?y(r):y;if(!Object.is(m,r)){const x=r;r=v??(typeof m!="object"||m===null)?m:Object.assign({},r,m),o.forEach(S=>S(r,x))}},l=()=>r,f={setState:s,getState:l,getInitialState:()=>h,subscribe:y=>(o.add(y),()=>o.delete(y))},h=r=e(s,l,f);return f},i1=(e=>e?Vh(e):Vh),s1=e=>e;function l1(e,r=s1){const o=to.useSyncExternalStore(e.subscribe,to.useCallback(()=>r(e.getState()),[e,r]),to.useCallback(()=>r(e.getInitialState()),[e,r]));return to.useDebugValue(o),o}const Wh=e=>{const r=i1(e),o=s=>l1(r,s);return Object.assign(o,r),o},Oc=(e=>e?Wh(e):Wh),jm="http://localhost:3048",Uh=jm,a1=Oc(e=>({query:"",results:[],totalResults:0,isSearching:!1,error:null,status:null,isLoadingStatus:!1,setQuery:r=>e({query:r}),search:async(r,o=10)=>{if(!r.trim()){e({results:[],totalResults:0,error:null});return}e({isSearching:!0,error:null,query:r});try{const s=await fetch(`${Uh}/api/search`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:r,limit:o})});if(!s.ok){const u=await s.json();throw new Error(u.message||"Search failed")}const l=await s.json();e({results:l.results,totalResults:l.totalResults,isSearching:!1})}catch(s){e({error:s instanceof Error?s.message:"Search failed",isSearching:!1,results:[],totalResults:0})}},clearResults:()=>e({query:"",results:[],totalResults:0,error:null}),fetchStatus:async()=>{e({isLoadingStatus:!0});try{const r=await fetch(`${Uh}/api/search/status`);if(!r.ok)throw new Error("Failed to fetch search status");const o=await r.json();e({status:o,isLoadingStatus:!1})}catch(r){e({status:{available:!1,indexedCount:0,message:r instanceof Error?r.message:"Failed to fetch search status"},isLoadingStatus:!1})}}}));function u1(){const{query:e,setQuery:r,results:o,totalResults:s,isSearching:l,error:u,status:c,isLoadingStatus:f,search:h,fetchStatus:y,clearResults:v}=a1(),[m,x]=C.useState(e);C.useEffect(()=>{y()},[]);const S=C.useCallback(async _=>{_.preventDefault(),m.trim()&&await h(m)},[m,h]),k=C.useCallback(()=>{x(""),v()},[v]);return g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsxs("header",{className:"mb-8",children:[g.jsx("h1",{className:"text-2xl font-semibold text-[var(--text-primary)]",children:"Search"}),g.jsx("p",{className:"text-[var(--text-muted)] mt-1",children:"Search your past sessions semantically"})]}),g.jsx("form",{onSubmit:S,className:"mb-6",children:g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(pi,{className:"h-5 w-5 text-[var(--text-muted)]"})}),g.jsx("input",{type:"text",value:m,onChange:_=>x(_.target.value),placeholder:"Search for topics, concepts, or keywords...",className:"input pl-10 pr-20",disabled:!(c!=null&&c.available),"aria-label":"Search query"}),g.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 gap-2",children:[m&&g.jsx("button",{type:"button",onClick:k,className:"text-[var(--text-muted)] hover:text-[var(--text-primary)] text-sm",children:"Clear"}),g.jsx("button",{type:"submit",disabled:l||!(c!=null&&c.available)||!m.trim(),className:"btn-primary text-sm disabled:opacity-50",children:l?"Searching...":"Search"})]})]})}),f?g.jsx("div",{className:"text-center py-8 text-[var(--text-muted)]",children:"Loading search status..."}):c!=null&&c.available?g.jsxs(g.Fragment,{children:[u&&g.jsx("div",{className:"card bg-red-900/30 border-red-800 mb-6",children:g.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[g.jsx(kl,{className:"w-5 h-5"}),g.jsx("span",{children:u})]})}),o.length>0&&g.jsxs("div",{children:[g.jsx("div",{className:"flex items-center justify-between mb-4",children:g.jsxs("h2",{className:"text-sm font-medium text-[var(--text-muted)]",children:["Results (",s," found)"]})}),g.jsx("div",{className:"space-y-3",children:o.map(_=>g.jsx(c1,{result:_},_.sessionId))})]}),e&&o.length===0&&!l&&!u&&g.jsxs("div",{className:"text-center py-12",children:[g.jsx(pi,{className:"w-12 h-12 text-[var(--text-muted)] mx-auto mb-4"}),g.jsx("h3",{className:"text-lg font-medium text-[var(--text-primary)]",children:"No results found"}),g.jsx("p",{className:"text-[var(--text-muted)] mt-1",children:"Try different keywords or phrases"})]}),!e&&o.length===0&&g.jsxs("div",{className:"text-center py-12",children:[g.jsx(pi,{className:"w-12 h-12 text-[var(--text-muted)] mx-auto mb-4"}),g.jsx("h3",{className:"text-lg font-medium text-[var(--text-primary)]",children:"Search your sessions"}),g.jsx("p",{className:"text-[var(--text-muted)] mt-1",children:"Enter a query to find relevant past sessions"}),g.jsxs("p",{className:"text-sm text-[var(--text-muted)] mt-4",children:[c.indexedCount," sessions indexed"]})]})]}):g.jsx("div",{className:"card bg-yellow-900/30 border-yellow-800",children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx(kl,{className:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5"}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-medium text-yellow-300",children:"Search not available"}),g.jsx("p",{className:"text-sm text-yellow-400/80 mt-1",children:c==null?void 0:c.message})]})]})})]})}const c1=C.memo(function({result:r}){const o=s=>Math.round(s*100);return g.jsx(Ol,{to:`/sessions/${r.sessionId}`,className:"block",children:g.jsx("div",{className:"card hover:shadow-md transition-shadow cursor-pointer",children:g.jsxs("div",{className:"flex items-start justify-between gap-4",children:[g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("h3",{className:"font-medium text-[var(--text-primary)] truncate",children:r.sessionName}),g.jsx("p",{className:"text-sm text-[var(--text-secondary)] mt-1 line-clamp-2",children:r.shortSummary})]}),g.jsx("div",{className:"flex-shrink-0",children:g.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${r.relevanceScore>.8?"bg-green-900/40 text-green-400":r.relevanceScore>.5?"bg-yellow-900/40 text-yellow-400":"bg-gray-800 text-gray-400"}`,children:[o(r.relevanceScore),"% match"]})})]})})})}),ui=jm,d1=Oc((e,r)=>({workItems:[],currentWorkItem:null,isLoading:!1,isLoadingDetail:!1,error:null,filter:"all",fetchWorkItems:async()=>{e({isLoading:!0,error:null});try{const{filter:o}=r(),s=o!=="all"?`?status=${o}`:"",l=await fetch(`${ui}/api/work-items${s}`);if(!l.ok)throw new Error("Failed to fetch work items");const u=await l.json();e({workItems:u.workItems,isLoading:!1})}catch(o){e({error:o instanceof Error?o.message:"Failed to fetch work items",isLoading:!1,workItems:[]})}},fetchWorkItemDetail:async o=>{e({isLoadingDetail:!0,error:null});try{const s=await fetch(`${ui}/api/work-items/${o}`);if(!s.ok)throw new Error("Failed to fetch work item detail");const l=await s.json();e({currentWorkItem:l,isLoadingDetail:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to fetch work item detail",isLoadingDetail:!1,currentWorkItem:null})}},createWorkItem:async o=>{e({error:null});try{const s=await fetch(`${ui}/api/work-items`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!s.ok)throw new Error("Failed to create work item");const l=await s.json();return e(u=>({workItems:[l,...u.workItems]})),l}catch(s){return e({error:s instanceof Error?s.message:"Failed to create work item"}),null}},updateWorkItem:async(o,s)=>{e({error:null});try{const l=await fetch(`${ui}/api/work-items/${o}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!l.ok)throw new Error("Failed to update work item");const u=await l.json();e(c=>{var f;return{workItems:c.workItems.map(h=>h.id===o?{...h,...u}:h),currentWorkItem:((f=c.currentWorkItem)==null?void 0:f.id)===o?{...c.currentWorkItem,...u}:c.currentWorkItem}})}catch(l){e({error:l instanceof Error?l.message:"Failed to update work item"})}},deleteWorkItem:async o=>{e({error:null});try{if(!(await fetch(`${ui}/api/work-items/${o}`,{method:"DELETE"})).ok)throw new Error("Failed to delete work item");e(l=>{var u;return{workItems:l.workItems.filter(c=>c.id!==o),currentWorkItem:((u=l.currentWorkItem)==null?void 0:u.id)===o?null:l.currentWorkItem}})}catch(s){e({error:s instanceof Error?s.message:"Failed to delete work item"})}},setFilter:o=>{e({filter:o}),r().fetchWorkItems()},clearCurrentWorkItem:()=>e({currentWorkItem:null})}));function f1(){const{workItems:e,isLoading:r,error:o,filter:s,fetchWorkItems:l,setFilter:u,createWorkItem:c}=d1(),[f,h]=C.useState(!1);C.useEffect(()=>{l()},[]);const y=C.useCallback(x=>{u(x)},[u]),v=C.useCallback(()=>{h(!0)},[]),m=C.useCallback(async(x,S)=>{await c({title:x,description:S})&&h(!1)},[c]);return g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsxs("header",{className:"mb-8 flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-semibold text-[var(--text-primary)]",children:"Work Items"}),g.jsx("p",{className:"text-[var(--text-muted)] mt-1",children:"Track your ongoing work across sessions"})]}),g.jsxs("button",{onClick:v,className:"btn-primary flex items-center gap-2",children:[g.jsx(Dc,{className:"w-4 h-4"}),"New Work Item"]})]}),g.jsxs("div",{className:"flex gap-2 mb-6",children:[g.jsx(il,{label:"All",active:s==="all",onClick:()=>y("all")}),g.jsx(il,{label:"In Progress",active:s==="in_progress",onClick:()=>y("in_progress")}),g.jsx(il,{label:"Completed",active:s==="completed",onClick:()=>y("completed")}),g.jsx(il,{label:"Blocked",active:s==="blocked",onClick:()=>y("blocked")})]}),o&&g.jsx("div",{className:"card bg-red-900/30 border-red-800 mb-6",children:g.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[g.jsx(kl,{className:"w-5 h-5"}),g.jsx("span",{children:o})]})}),r?g.jsx("div",{className:"space-y-4",children:[1,2,3].map(x=>g.jsx(y1,{},x))}):e.length===0?g.jsx(g1,{onCreateClick:v}):g.jsx("div",{className:"space-y-4",children:e.map(x=>g.jsx(h1,{item:x},x.id))}),f&&g.jsx(v1,{onClose:()=>h(!1),onCreate:m})]})}const il=C.memo(function({label:r,active:o,onClick:s}){return g.jsx("button",{onClick:s,className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${o?"bg-[var(--color-primary-500)] text-white":"bg-[var(--bg-surface)] text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)] border border-[var(--border-subtle)]"}`,children:r})}),h1=C.memo(function({item:r}){return g.jsx(Ol,{to:`/work-items/${r.id}`,className:"block",children:g.jsx("div",{className:"card hover:shadow-md transition-shadow cursor-pointer",children:g.jsxs("div",{className:"flex items-start gap-4",children:[g.jsx(p1,{status:r.status}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsx("h3",{className:"font-medium text-[var(--text-primary)] truncate",children:r.title}),g.jsx(m1,{status:r.status})]}),g.jsx("p",{className:"text-sm text-[var(--text-secondary)] mt-1 line-clamp-2",children:r.description}),g.jsxs("div",{className:"mt-3",children:[g.jsxs("div",{className:"flex items-center justify-between text-xs text-[var(--text-muted)] mb-1",children:[g.jsx("span",{children:"Progress"}),g.jsxs("span",{children:[r.progress,"%"]})]}),g.jsx("div",{className:"h-2 bg-[var(--bg-elevated)] rounded-full overflow-hidden",role:"progressbar","aria-valuenow":r.progress,"aria-valuemin":0,"aria-valuemax":100,"aria-label":`Progress: ${r.progress} percent`,children:g.jsx("div",{className:"h-full bg-[var(--color-primary-500)] rounded-full transition-all duration-300",style:{width:`${r.progress}%`}})})]}),g.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-[var(--text-muted)]",children:[g.jsxs("span",{children:[r.sessionCount," sessions"]}),g.jsxs("span",{children:[r.milestoneCount," milestones"]}),r.blockerCount>0&&g.jsxs("span",{className:"text-red-500",children:[r.blockerCount," blockers"]})]})]})]})})})});function p1({status:e}){switch(e){case"completed":return g.jsx(Vx,{className:"w-6 h-6 text-green-500 flex-shrink-0"});case"blocked":return g.jsx(kl,{className:"w-6 h-6 text-red-500 flex-shrink-0"});case"in_progress":return g.jsx(Nm,{className:"w-6 h-6 text-[var(--color-primary-500)] flex-shrink-0"});default:return g.jsx($c,{className:"w-6 h-6 text-[var(--text-muted)] flex-shrink-0"})}}const m1=C.memo(function({status:r}){const o={not_started:{label:"Not Started",className:"bg-gray-800 text-gray-400"},planning:{label:"Planning",className:"bg-purple-900/40 text-purple-400"},in_progress:{label:"In Progress",className:"bg-blue-900/40 text-blue-400"},review:{label:"Review",className:"bg-yellow-900/40 text-yellow-400"},completed:{label:"Completed",className:"bg-green-900/40 text-green-400"},blocked:{label:"Blocked",className:"bg-red-900/40 text-red-400"}},{label:s,className:l}=o[r];return g.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${l}`,children:s})});function g1({onCreateClick:e}){return g.jsxs("div",{className:"text-center py-12",children:[g.jsx($c,{className:"w-12 h-12 text-[var(--text-muted)] mx-auto mb-4"}),g.jsx("h3",{className:"text-lg font-medium text-[var(--text-primary)]",children:"No work items yet"}),g.jsx("p",{className:"text-[var(--text-muted)] mt-1",children:"Create a work item to track your ongoing tasks"}),g.jsxs("button",{onClick:e,className:"btn-primary mt-4 inline-flex items-center gap-2",children:[g.jsx(Dc,{className:"w-4 h-4"}),"Create Work Item"]})]})}function y1(){return g.jsx("div",{className:"card animate-pulse",children:g.jsxs("div",{className:"flex items-start gap-4",children:[g.jsx("div",{className:"w-6 h-6 bg-[var(--bg-elevated)] rounded-full"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"h-5 bg-[var(--bg-elevated)] rounded w-1/3 mb-2"}),g.jsx("div",{className:"h-4 bg-[var(--bg-elevated)] rounded w-full mb-3"}),g.jsx("div",{className:"h-2 bg-[var(--bg-elevated)] rounded w-full"})]})]})})}function v1({onClose:e,onCreate:r}){const[o,s]=C.useState(""),[l,u]=C.useState(""),[c,f]=C.useState(!1),h=C.useRef(null);C.useEffect(()=>{var v;(v=h.current)==null||v.focus()},[]),C.useEffect(()=>{const v=m=>{m.key==="Escape"&&e()};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[e]);const y=async v=>{v.preventDefault(),o.trim()&&(f(!0),await r(o,l),f(!1))};return g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:g.jsxs("div",{className:"bg-[var(--bg-surface)] rounded-xl shadow-xl w-full max-w-md mx-4",children:[g.jsx("div",{className:"p-4 border-b border-[var(--border-subtle)]",children:g.jsx("h2",{id:"modal-title",className:"text-lg font-semibold text-[var(--text-primary)]",children:"Create Work Item"})}),g.jsxs("form",{onSubmit:y,children:[g.jsxs("div",{className:"p-4 space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-[var(--text-secondary)] mb-1",children:"Title"}),g.jsx("input",{ref:h,id:"title",type:"text",value:o,onChange:v=>s(v.target.value),className:"input",placeholder:"Enter work item title",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-[var(--text-secondary)] mb-1",children:"Description"}),g.jsx("textarea",{id:"description",value:l,onChange:v=>u(v.target.value),className:"input resize-none",rows:3,placeholder:"Describe the work item..."})]})]}),g.jsxs("div",{className:"p-4 border-t border-[var(--border-subtle)] flex justify-end gap-3",children:[g.jsx("button",{type:"button",onClick:e,className:"btn-secondary",disabled:c,children:"Cancel"}),g.jsx("button",{type:"submit",className:"btn-primary",disabled:c||!o.trim(),children:c?"Creating...":"Create"})]})]})]})})}const x1=Oc((e,r)=>({projects:[],selectedProjectId:null,loading:!1,error:null,fetchProjects:async()=>{e({loading:!0,error:null});try{const o=await fetch("/api/projects?limit=100");if(!o.ok)throw new Error("Failed to fetch projects");const s=await o.json();e({projects:s.projects||[],loading:!1})}catch(o){const s=o instanceof Error?o.message:"";console.error("[ProjectStore] Failed to fetch projects:",o),e({error:s,loading:!1})}},selectProject:o=>{e({selectedProjectId:o})},getSelectedProject:()=>{const{projects:o,selectedProjectId:s}=r();return s&&o.find(l=>l.projectId===s)||null}}));function w1({sessions:e,sessionsLoading:r=!1,onSessionSelect:o,onSessionClick:s,onSessionDelete:l,selectedSessionIds:u=[]}){const{projects:c,selectedProjectId:f,loading:h,fetchProjects:y,selectProject:v}=x1(),[m,x]=C.useState(!1);C.useEffect(()=>{y()},[y]);const S=C.useMemo(()=>f?e.filter(N=>N.projectId===f):e,[e,f]),k=C.useCallback(N=>{v(N),x(!1)},[v]),_=c.find(N=>N.projectId===f);return g.jsxs("aside",{className:"w-64 bg-[var(--bg-surface)] border-r border-[var(--border-subtle)] flex flex-col h-full",children:[g.jsx("div",{className:"p-3 border-b border-[var(--border-subtle)]",children:g.jsxs("div",{className:"relative",children:[g.jsxs("button",{onClick:()=>x(!m),className:"w-full flex items-center justify-between px-3 py-2 bg-[var(--bg-elevated)] rounded-lg hover:brightness-110 transition-colors","aria-expanded":m,"aria-haspopup":"listbox",children:[g.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[g.jsx(Bx,{className:"w-4 h-4 text-[var(--text-muted)] flex-shrink-0"}),g.jsx("span",{className:"text-sm text-[var(--text-primary)] truncate",children:h?"...":(_==null?void 0:_.name)||""})]}),g.jsx(Wx,{className:"w-4 h-4 text-[var(--text-muted)] transition-transform "+(m?"rotate-180":"")})]}),m&&g.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-[var(--bg-elevated)] border border-[var(--border-default)] rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:[g.jsx("button",{onClick:()=>k(null),className:"w-full text-left px-3 py-2 text-sm hover:bg-[var(--bg-surface)] transition-colors "+(f?"text-[var(--text-primary)]":"text-[var(--color-primary-400)] bg-[var(--bg-surface)]"),role:"option","aria-selected":!f,children:""}),c.map(N=>g.jsxs("button",{onClick:()=>k(N.projectId),className:"w-full text-left px-3 py-2 text-sm hover:bg-[var(--bg-surface)] transition-colors "+(f===N.projectId?"text-[var(--color-primary-400)] bg-[var(--bg-surface)]":"text-[var(--text-primary)]"),role:"option","aria-selected":f===N.projectId,children:[g.jsx("div",{className:"truncate",children:N.name}),g.jsx("div",{className:"text-xs text-[var(--text-muted)] truncate",children:N.path})]},N.projectId))]})]})}),g.jsxs("div",{className:"flex-1 overflow-y-auto",children:[g.jsx("div",{className:"px-3 py-2 text-xs font-medium text-[var(--text-muted)] uppercase tracking-wider",children:"Sessions"}),r?g.jsx("div",{className:"px-3 space-y-2",children:[1,2,3].map(N=>g.jsx("div",{className:"h-12 bg-[var(--bg-elevated)] rounded animate-pulse"},N))}):S.length===0?g.jsx("div",{className:"px-3 py-4 text-sm text-[var(--text-muted)] text-center",children:""}):g.jsx("div",{className:"px-2 space-y-1",children:S.map(N=>g.jsx(E1,{session:N,isHidden:u.includes(N.sessionId),onToggle:o,onClick:s,onDelete:l},N.sessionId))})]}),g.jsx("div",{className:"p-3 border-t border-[var(--border-subtle)]",children:g.jsxs("button",{className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm bg-[var(--color-primary-500)] text-white rounded-lg hover:bg-[var(--color-primary-600)] transition-colors",children:[g.jsx(Dc,{className:"w-4 h-4"}),g.jsx("span",{children:"New Session"})]})})]})}const S1={idle:"bg-gray-400",active:"bg-blue-500",completed:"bg-green-500",error:"bg-red-500",processing:"bg-yellow-500"},E1=C.memo(function({session:r,isHidden:o,onToggle:s,onClick:l,onDelete:u}){const c=C.useCallback(v=>{v.stopPropagation(),s==null||s(r)},[s,r]),f=C.useCallback(()=>{l==null||l(r)},[l,r]),h=C.useCallback(v=>{v.stopPropagation(),u==null||u(r)},[u,r]),y=new Date(r.updatedAt).toLocaleDateString("ja-JP",{month:"short",day:"numeric"});return g.jsxs("div",{className:"group flex items-center gap-1 px-2 py-2 rounded-lg transition-colors "+(o?"opacity-50":"hover:bg-[var(--bg-elevated)]"),children:[g.jsx("button",{onClick:c,className:"p-1 rounded hover:bg-[var(--bg-surface)] transition-colors flex-shrink-0",title:o?"":"",children:o?g.jsx(Yx,{className:"w-4 h-4 text-[var(--text-muted)]"}):g.jsx(Ux,{className:"w-4 h-4 text-[var(--text-secondary)]"})}),g.jsxs("button",{onClick:f,className:"flex-1 text-left flex items-center gap-2 min-w-0",children:[g.jsx("span",{className:"w-2 h-2 rounded-full flex-shrink-0 "+(o?"bg-gray-500":S1[r.status])}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("div",{className:"text-sm truncate "+(o?"text-[var(--text-muted)] line-through":"text-[var(--text-primary)]"),children:r.name}),g.jsx("div",{className:"text-xs text-[var(--text-muted)]",children:y})]})]}),g.jsx("button",{onClick:h,className:"p-1 rounded opacity-0 group-hover:opacity-100 hover:bg-red-500/20 transition-all flex-shrink-0",title:"",children:g.jsx(mc,{className:"w-4 h-4 text-red-400 hover:text-red-300"})})]})});function Ye(e){if(typeof e=="string"||typeof e=="number")return""+e;let r="";if(Array.isArray(e))for(let o=0,s;o<e.length;o++)(s=Ye(e[o]))!==""&&(r+=(r&&" ")+s);else for(let o in e)e[o]&&(r+=(r&&" ")+o);return r}var k1={value:()=>{}};function Fl(){for(var e=0,r=arguments.length,o={},s;e<r;++e){if(!(s=arguments[e]+"")||s in o||/[\s.]/.test(s))throw new Error("illegal type: "+s);o[s]=[]}return new yl(o)}function yl(e){this._=e}function N1(e,r){return e.trim().split(/^|\s+/).map(function(o){var s="",l=o.indexOf(".");if(l>=0&&(s=o.slice(l+1),o=o.slice(0,l)),o&&!r.hasOwnProperty(o))throw new Error("unknown type: "+o);return{type:o,name:s}})}yl.prototype=Fl.prototype={constructor:yl,on:function(e,r){var o=this._,s=N1(e+"",o),l,u=-1,c=s.length;if(arguments.length<2){for(;++u<c;)if((l=(e=s[u]).type)&&(l=C1(o[l],e.name)))return l;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++u<c;)if(l=(e=s[u]).type)o[l]=Yh(o[l],e.name,r);else if(r==null)for(l in o)o[l]=Yh(o[l],e.name,null);return this},copy:function(){var e={},r=this._;for(var o in r)e[o]=r[o].slice();return new yl(e)},call:function(e,r){if((l=arguments.length-2)>0)for(var o=new Array(l),s=0,l,u;s<l;++s)o[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(u=this._[e],s=0,l=u.length;s<l;++s)u[s].value.apply(r,o)},apply:function(e,r,o){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var s=this._[e],l=0,u=s.length;l<u;++l)s[l].value.apply(r,o)}};function C1(e,r){for(var o=0,s=e.length,l;o<s;++o)if((l=e[o]).name===r)return l.value}function Yh(e,r,o){for(var s=0,l=e.length;s<l;++s)if(e[s].name===r){e[s]=k1,e=e.slice(0,s).concat(e.slice(s+1));break}return o!=null&&e.push({name:r,value:o}),e}var gc="http://www.w3.org/1999/xhtml";const Xh={svg:"http://www.w3.org/2000/svg",xhtml:gc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Hl(e){var r=e+="",o=r.indexOf(":");return o>=0&&(r=e.slice(0,o))!=="xmlns"&&(e=e.slice(o+1)),Xh.hasOwnProperty(r)?{space:Xh[r],local:e}:e}function _1(e){return function(){var r=this.ownerDocument,o=this.namespaceURI;return o===gc&&r.documentElement.namespaceURI===gc?r.createElement(e):r.createElementNS(o,e)}}function b1(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Im(e){var r=Hl(e);return(r.local?b1:_1)(r)}function j1(){}function Fc(e){return e==null?j1:function(){return this.querySelector(e)}}function I1(e){typeof e!="function"&&(e=Fc(e));for(var r=this._groups,o=r.length,s=new Array(o),l=0;l<o;++l)for(var u=r[l],c=u.length,f=s[l]=new Array(c),h,y,v=0;v<c;++v)(h=u[v])&&(y=e.call(h,h.__data__,v,u))&&("__data__"in h&&(y.__data__=h.__data__),f[v]=y);return new St(s,this._parents)}function M1(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function P1(){return[]}function Mm(e){return e==null?P1:function(){return this.querySelectorAll(e)}}function R1(e){return function(){return M1(e.apply(this,arguments))}}function L1(e){typeof e=="function"?e=R1(e):e=Mm(e);for(var r=this._groups,o=r.length,s=[],l=[],u=0;u<o;++u)for(var c=r[u],f=c.length,h,y=0;y<f;++y)(h=c[y])&&(s.push(e.call(h,h.__data__,y,c)),l.push(h));return new St(s,l)}function Pm(e){return function(){return this.matches(e)}}function Rm(e){return function(r){return r.matches(e)}}var T1=Array.prototype.find;function z1(e){return function(){return T1.call(this.children,e)}}function A1(){return this.firstElementChild}function $1(e){return this.select(e==null?A1:z1(typeof e=="function"?e:Rm(e)))}var D1=Array.prototype.filter;function O1(){return Array.from(this.children)}function F1(e){return function(){return D1.call(this.children,e)}}function H1(e){return this.selectAll(e==null?O1:F1(typeof e=="function"?e:Rm(e)))}function B1(e){typeof e!="function"&&(e=Pm(e));for(var r=this._groups,o=r.length,s=new Array(o),l=0;l<o;++l)for(var u=r[l],c=u.length,f=s[l]=[],h,y=0;y<c;++y)(h=u[y])&&e.call(h,h.__data__,y,u)&&f.push(h);return new St(s,this._parents)}function Lm(e){return new Array(e.length)}function V1(){return new St(this._enter||this._groups.map(Lm),this._parents)}function Nl(e,r){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=r}Nl.prototype={constructor:Nl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,r){return this._parent.insertBefore(e,r)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function W1(e){return function(){return e}}function U1(e,r,o,s,l,u){for(var c=0,f,h=r.length,y=u.length;c<y;++c)(f=r[c])?(f.__data__=u[c],s[c]=f):o[c]=new Nl(e,u[c]);for(;c<h;++c)(f=r[c])&&(l[c]=f)}function Y1(e,r,o,s,l,u,c){var f,h,y=new Map,v=r.length,m=u.length,x=new Array(v),S;for(f=0;f<v;++f)(h=r[f])&&(x[f]=S=c.call(h,h.__data__,f,r)+"",y.has(S)?l[f]=h:y.set(S,h));for(f=0;f<m;++f)S=c.call(e,u[f],f,u)+"",(h=y.get(S))?(s[f]=h,h.__data__=u[f],y.delete(S)):o[f]=new Nl(e,u[f]);for(f=0;f<v;++f)(h=r[f])&&y.get(x[f])===h&&(l[f]=h)}function X1(e){return e.__data__}function Q1(e,r){if(!arguments.length)return Array.from(this,X1);var o=r?Y1:U1,s=this._parents,l=this._groups;typeof e!="function"&&(e=W1(e));for(var u=l.length,c=new Array(u),f=new Array(u),h=new Array(u),y=0;y<u;++y){var v=s[y],m=l[y],x=m.length,S=G1(e.call(v,v&&v.__data__,y,s)),k=S.length,_=f[y]=new Array(k),N=c[y]=new Array(k),b=h[y]=new Array(x);o(v,m,_,N,b,S,r);for(var R=0,E=0,I,B;R<k;++R)if(I=_[R]){for(R>=E&&(E=R+1);!(B=N[E])&&++E<k;);I._next=B||null}}return c=new St(c,s),c._enter=f,c._exit=h,c}function G1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function K1(){return new St(this._exit||this._groups.map(Lm),this._parents)}function q1(e,r,o){var s=this.enter(),l=this,u=this.exit();return typeof e=="function"?(s=e(s),s&&(s=s.selection())):s=s.append(e+""),r!=null&&(l=r(l),l&&(l=l.selection())),o==null?u.remove():o(u),s&&l?s.merge(l).order():l}function Z1(e){for(var r=e.selection?e.selection():e,o=this._groups,s=r._groups,l=o.length,u=s.length,c=Math.min(l,u),f=new Array(l),h=0;h<c;++h)for(var y=o[h],v=s[h],m=y.length,x=f[h]=new Array(m),S,k=0;k<m;++k)(S=y[k]||v[k])&&(x[k]=S);for(;h<l;++h)f[h]=o[h];return new St(f,this._parents)}function J1(){for(var e=this._groups,r=-1,o=e.length;++r<o;)for(var s=e[r],l=s.length-1,u=s[l],c;--l>=0;)(c=s[l])&&(u&&c.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(c,u),u=c);return this}function ew(e){e||(e=tw);function r(m,x){return m&&x?e(m.__data__,x.__data__):!m-!x}for(var o=this._groups,s=o.length,l=new Array(s),u=0;u<s;++u){for(var c=o[u],f=c.length,h=l[u]=new Array(f),y,v=0;v<f;++v)(y=c[v])&&(h[v]=y);h.sort(r)}return new St(l,this._parents).order()}function tw(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}function nw(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function rw(){return Array.from(this)}function ow(){for(var e=this._groups,r=0,o=e.length;r<o;++r)for(var s=e[r],l=0,u=s.length;l<u;++l){var c=s[l];if(c)return c}return null}function iw(){let e=0;for(const r of this)++e;return e}function sw(){return!this.node()}function lw(e){for(var r=this._groups,o=0,s=r.length;o<s;++o)for(var l=r[o],u=0,c=l.length,f;u<c;++u)(f=l[u])&&e.call(f,f.__data__,u,l);return this}function aw(e){return function(){this.removeAttribute(e)}}function uw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function cw(e,r){return function(){this.setAttribute(e,r)}}function dw(e,r){return function(){this.setAttributeNS(e.space,e.local,r)}}function fw(e,r){return function(){var o=r.apply(this,arguments);o==null?this.removeAttribute(e):this.setAttribute(e,o)}}function hw(e,r){return function(){var o=r.apply(this,arguments);o==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,o)}}function pw(e,r){var o=Hl(e);if(arguments.length<2){var s=this.node();return o.local?s.getAttributeNS(o.space,o.local):s.getAttribute(o)}return this.each((r==null?o.local?uw:aw:typeof r=="function"?o.local?hw:fw:o.local?dw:cw)(o,r))}function Tm(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function mw(e){return function(){this.style.removeProperty(e)}}function gw(e,r,o){return function(){this.style.setProperty(e,r,o)}}function yw(e,r,o){return function(){var s=r.apply(this,arguments);s==null?this.style.removeProperty(e):this.style.setProperty(e,s,o)}}function vw(e,r,o){return arguments.length>1?this.each((r==null?mw:typeof r=="function"?yw:gw)(e,r,o??"")):so(this.node(),e)}function so(e,r){return e.style.getPropertyValue(r)||Tm(e).getComputedStyle(e,null).getPropertyValue(r)}function xw(e){return function(){delete this[e]}}function ww(e,r){return function(){this[e]=r}}function Sw(e,r){return function(){var o=r.apply(this,arguments);o==null?delete this[e]:this[e]=o}}function Ew(e,r){return arguments.length>1?this.each((r==null?xw:typeof r=="function"?Sw:ww)(e,r)):this.node()[e]}function zm(e){return e.trim().split(/^|\s+/)}function Hc(e){return e.classList||new Am(e)}function Am(e){this._node=e,this._names=zm(e.getAttribute("class")||"")}Am.prototype={add:function(e){var r=this._names.indexOf(e);r<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var r=this._names.indexOf(e);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function $m(e,r){for(var o=Hc(e),s=-1,l=r.length;++s<l;)o.add(r[s])}function Dm(e,r){for(var o=Hc(e),s=-1,l=r.length;++s<l;)o.remove(r[s])}function kw(e){return function(){$m(this,e)}}function Nw(e){return function(){Dm(this,e)}}function Cw(e,r){return function(){(r.apply(this,arguments)?$m:Dm)(this,e)}}function _w(e,r){var o=zm(e+"");if(arguments.length<2){for(var s=Hc(this.node()),l=-1,u=o.length;++l<u;)if(!s.contains(o[l]))return!1;return!0}return this.each((typeof r=="function"?Cw:r?kw:Nw)(o,r))}function bw(){this.textContent=""}function jw(e){return function(){this.textContent=e}}function Iw(e){return function(){var r=e.apply(this,arguments);this.textContent=r??""}}function Mw(e){return arguments.length?this.each(e==null?bw:(typeof e=="function"?Iw:jw)(e)):this.node().textContent}function Pw(){this.innerHTML=""}function Rw(e){return function(){this.innerHTML=e}}function Lw(e){return function(){var r=e.apply(this,arguments);this.innerHTML=r??""}}function Tw(e){return arguments.length?this.each(e==null?Pw:(typeof e=="function"?Lw:Rw)(e)):this.node().innerHTML}function zw(){this.nextSibling&&this.parentNode.appendChild(this)}function Aw(){return this.each(zw)}function $w(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Dw(){return this.each($w)}function Ow(e){var r=typeof e=="function"?e:Im(e);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function Fw(){return null}function Hw(e,r){var o=typeof e=="function"?e:Im(e),s=r==null?Fw:typeof r=="function"?r:Fc(r);return this.select(function(){return this.insertBefore(o.apply(this,arguments),s.apply(this,arguments)||null)})}function Bw(){var e=this.parentNode;e&&e.removeChild(this)}function Vw(){return this.each(Bw)}function Ww(){var e=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function Uw(){var e=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function Yw(e){return this.select(e?Uw:Ww)}function Xw(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Qw(e){return function(r){e.call(this,r,this.__data__)}}function Gw(e){return e.trim().split(/^|\s+/).map(function(r){var o="",s=r.indexOf(".");return s>=0&&(o=r.slice(s+1),r=r.slice(0,s)),{type:r,name:o}})}function Kw(e){return function(){var r=this.__on;if(r){for(var o=0,s=-1,l=r.length,u;o<l;++o)u=r[o],(!e.type||u.type===e.type)&&u.name===e.name?this.removeEventListener(u.type,u.listener,u.options):r[++s]=u;++s?r.length=s:delete this.__on}}}function qw(e,r,o){return function(){var s=this.__on,l,u=Qw(r);if(s){for(var c=0,f=s.length;c<f;++c)if((l=s[c]).type===e.type&&l.name===e.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=u,l.options=o),l.value=r;return}}this.addEventListener(e.type,u,o),l={type:e.type,name:e.name,value:r,listener:u,options:o},s?s.push(l):this.__on=[l]}}function Zw(e,r,o){var s=Gw(e+""),l,u=s.length,c;if(arguments.length<2){var f=this.node().__on;if(f){for(var h=0,y=f.length,v;h<y;++h)for(l=0,v=f[h];l<u;++l)if((c=s[l]).type===v.type&&c.name===v.name)return v.value}return}for(f=r?qw:Kw,l=0;l<u;++l)this.each(f(s[l],r,o));return this}function Om(e,r,o){var s=Tm(e),l=s.CustomEvent;typeof l=="function"?l=new l(r,o):(l=s.document.createEvent("Event"),o?(l.initEvent(r,o.bubbles,o.cancelable),l.detail=o.detail):l.initEvent(r,!1,!1)),e.dispatchEvent(l)}function Jw(e,r){return function(){return Om(this,e,r)}}function eS(e,r){return function(){return Om(this,e,r.apply(this,arguments))}}function tS(e,r){return this.each((typeof r=="function"?eS:Jw)(e,r))}function*nS(){for(var e=this._groups,r=0,o=e.length;r<o;++r)for(var s=e[r],l=0,u=s.length,c;l<u;++l)(c=s[l])&&(yield c)}var Fm=[null];function St(e,r){this._groups=e,this._parents=r}function Pi(){return new St([[document.documentElement]],Fm)}function rS(){return this}St.prototype=Pi.prototype={constructor:St,select:I1,selectAll:L1,selectChild:$1,selectChildren:H1,filter:B1,data:Q1,enter:V1,exit:K1,join:q1,merge:Z1,selection:rS,order:J1,sort:ew,call:nw,nodes:rw,node:ow,size:iw,empty:sw,each:lw,attr:pw,style:vw,property:Ew,classed:_w,text:Mw,html:Tw,raise:Aw,lower:Dw,append:Ow,insert:Hw,remove:Vw,clone:Yw,datum:Xw,on:Zw,dispatch:tS,[Symbol.iterator]:nS};function wt(e){return typeof e=="string"?new St([[document.querySelector(e)]],[document.documentElement]):new St([[e]],Fm)}function oS(e){let r;for(;r=e.sourceEvent;)e=r;return e}function Dt(e,r){if(e=oS(e),r===void 0&&(r=e.currentTarget),r){var o=r.ownerSVGElement||r;if(o.createSVGPoint){var s=o.createSVGPoint();return s.x=e.clientX,s.y=e.clientY,s=s.matrixTransform(r.getScreenCTM().inverse()),[s.x,s.y]}if(r.getBoundingClientRect){var l=r.getBoundingClientRect();return[e.clientX-l.left-r.clientLeft,e.clientY-l.top-r.clientTop]}}return[e.pageX,e.pageY]}const iS={passive:!1},vi={capture:!0,passive:!1};function Zu(e){e.stopImmediatePropagation()}function oo(e){e.preventDefault(),e.stopImmediatePropagation()}function Hm(e){var r=e.document.documentElement,o=wt(e).on("dragstart.drag",oo,vi);"onselectstart"in r?o.on("selectstart.drag",oo,vi):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")}function Bm(e,r){var o=e.document.documentElement,s=wt(e).on("dragstart.drag",null);r&&(s.on("click.drag",oo,vi),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in o?s.on("selectstart.drag",null):(o.style.MozUserSelect=o.__noselect,delete o.__noselect)}const sl=e=>()=>e;function yc(e,{sourceEvent:r,subject:o,target:s,identifier:l,active:u,x:c,y:f,dx:h,dy:y,dispatch:v}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},subject:{value:o,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:l,enumerable:!0,configurable:!0},active:{value:u,enumerable:!0,configurable:!0},x:{value:c,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:y,enumerable:!0,configurable:!0},_:{value:v}})}yc.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function sS(e){return!e.ctrlKey&&!e.button}function lS(){return this.parentNode}function aS(e,r){return r??{x:e.x,y:e.y}}function uS(){return navigator.maxTouchPoints||"ontouchstart"in this}function Vm(){var e=sS,r=lS,o=aS,s=uS,l={},u=Fl("start","drag","end"),c=0,f,h,y,v,m=0;function x(I){I.on("mousedown.drag",S).filter(s).on("touchstart.drag",N).on("touchmove.drag",b,iS).on("touchend.drag touchcancel.drag",R).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function S(I,B){if(!(v||!e.call(this,I,B))){var O=E(this,r.call(this,I,B),I,B,"mouse");O&&(wt(I.view).on("mousemove.drag",k,vi).on("mouseup.drag",_,vi),Hm(I.view),Zu(I),y=!1,f=I.clientX,h=I.clientY,O("start",I))}}function k(I){if(oo(I),!y){var B=I.clientX-f,O=I.clientY-h;y=B*B+O*O>m}l.mouse("drag",I)}function _(I){wt(I.view).on("mousemove.drag mouseup.drag",null),Bm(I.view,y),oo(I),l.mouse("end",I)}function N(I,B){if(e.call(this,I,B)){var O=I.changedTouches,T=r.call(this,I,B),U=O.length,Y,ne;for(Y=0;Y<U;++Y)(ne=E(this,T,I,B,O[Y].identifier,O[Y]))&&(Zu(I),ne("start",I,O[Y]))}}function b(I){var B=I.changedTouches,O=B.length,T,U;for(T=0;T<O;++T)(U=l[B[T].identifier])&&(oo(I),U("drag",I,B[T]))}function R(I){var B=I.changedTouches,O=B.length,T,U;for(v&&clearTimeout(v),v=setTimeout(function(){v=null},500),T=0;T<O;++T)(U=l[B[T].identifier])&&(Zu(I),U("end",I,B[T]))}function E(I,B,O,T,U,Y){var ne=u.copy(),G=Dt(Y||O,B),X,ee,M;if((M=o.call(I,new yc("beforestart",{sourceEvent:O,target:x,identifier:U,active:c,x:G[0],y:G[1],dx:0,dy:0,dispatch:ne}),T))!=null)return X=M.x-G[0]||0,ee=M.y-G[1]||0,function V($,H,P){var A=G,D;switch($){case"start":l[U]=V,D=c++;break;case"end":delete l[U],--c;case"drag":G=Dt(P||H,B),D=c;break}ne.call($,I,new yc($,{sourceEvent:H,subject:M,target:x,identifier:U,active:D,x:G[0]+X,y:G[1]+ee,dx:G[0]-A[0],dy:G[1]-A[1],dispatch:ne}),T)}}return x.filter=function(I){return arguments.length?(e=typeof I=="function"?I:sl(!!I),x):e},x.container=function(I){return arguments.length?(r=typeof I=="function"?I:sl(I),x):r},x.subject=function(I){return arguments.length?(o=typeof I=="function"?I:sl(I),x):o},x.touchable=function(I){return arguments.length?(s=typeof I=="function"?I:sl(!!I),x):s},x.on=function(){var I=u.on.apply(u,arguments);return I===u?x:I},x.clickDistance=function(I){return arguments.length?(m=(I=+I)*I,x):Math.sqrt(m)},x}function Bc(e,r,o){e.prototype=r.prototype=o,o.constructor=e}function Wm(e,r){var o=Object.create(e.prototype);for(var s in r)o[s]=r[s];return o}function Ri(){}var xi=.7,Cl=1/xi,io="\\s*([+-]?\\d+)\\s*",wi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cS=/^#([0-9a-f]{3,8})$/,dS=new RegExp(`^rgb\\(${io},${io},${io}\\)$`),fS=new RegExp(`^rgb\\(${qt},${qt},${qt}\\)$`),hS=new RegExp(`^rgba\\(${io},${io},${io},${wi}\\)$`),pS=new RegExp(`^rgba\\(${qt},${qt},${qt},${wi}\\)$`),mS=new RegExp(`^hsl\\(${wi},${qt},${qt}\\)$`),gS=new RegExp(`^hsla\\(${wi},${qt},${qt},${wi}\\)$`),Qh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Bc(Ri,yr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Gh,formatHex:Gh,formatHex8:yS,formatHsl:vS,formatRgb:Kh,toString:Kh});function Gh(){return this.rgb().formatHex()}function yS(){return this.rgb().formatHex8()}function vS(){return Um(this).formatHsl()}function Kh(){return this.rgb().formatRgb()}function yr(e){var r,o;return e=(e+"").trim().toLowerCase(),(r=cS.exec(e))?(o=r[1].length,r=parseInt(r[1],16),o===6?qh(r):o===3?new ft(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):o===8?ll(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):o===4?ll(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=dS.exec(e))?new ft(r[1],r[2],r[3],1):(r=fS.exec(e))?new ft(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=hS.exec(e))?ll(r[1],r[2],r[3],r[4]):(r=pS.exec(e))?ll(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=mS.exec(e))?ep(r[1],r[2]/100,r[3]/100,1):(r=gS.exec(e))?ep(r[1],r[2]/100,r[3]/100,r[4]):Qh.hasOwnProperty(e)?qh(Qh[e]):e==="transparent"?new ft(NaN,NaN,NaN,0):null}function qh(e){return new ft(e>>16&255,e>>8&255,e&255,1)}function ll(e,r,o,s){return s<=0&&(e=r=o=NaN),new ft(e,r,o,s)}function xS(e){return e instanceof Ri||(e=yr(e)),e?(e=e.rgb(),new ft(e.r,e.g,e.b,e.opacity)):new ft}function vc(e,r,o,s){return arguments.length===1?xS(e):new ft(e,r,o,s??1)}function ft(e,r,o,s){this.r=+e,this.g=+r,this.b=+o,this.opacity=+s}Bc(ft,vc,Wm(Ri,{brighter(e){return e=e==null?Cl:Math.pow(Cl,e),new ft(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?xi:Math.pow(xi,e),new ft(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ft(mr(this.r),mr(this.g),mr(this.b),_l(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Zh,formatHex:Zh,formatHex8:wS,formatRgb:Jh,toString:Jh}));function Zh(){return`#${pr(this.r)}${pr(this.g)}${pr(this.b)}`}function wS(){return`#${pr(this.r)}${pr(this.g)}${pr(this.b)}${pr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Jh(){const e=_l(this.opacity);return`${e===1?"rgb(":"rgba("}${mr(this.r)}, ${mr(this.g)}, ${mr(this.b)}${e===1?")":`, ${e})`}`}function _l(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function mr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function pr(e){return e=mr(e),(e<16?"0":"")+e.toString(16)}function ep(e,r,o,s){return s<=0?e=r=o=NaN:o<=0||o>=1?e=r=NaN:r<=0&&(e=NaN),new Ot(e,r,o,s)}function Um(e){if(e instanceof Ot)return new Ot(e.h,e.s,e.l,e.opacity);if(e instanceof Ri||(e=yr(e)),!e)return new Ot;if(e instanceof Ot)return e;e=e.rgb();var r=e.r/255,o=e.g/255,s=e.b/255,l=Math.min(r,o,s),u=Math.max(r,o,s),c=NaN,f=u-l,h=(u+l)/2;return f?(r===u?c=(o-s)/f+(o<s)*6:o===u?c=(s-r)/f+2:c=(r-o)/f+4,f/=h<.5?u+l:2-u-l,c*=60):f=h>0&&h<1?0:c,new Ot(c,f,h,e.opacity)}function SS(e,r,o,s){return arguments.length===1?Um(e):new Ot(e,r,o,s??1)}function Ot(e,r,o,s){this.h=+e,this.s=+r,this.l=+o,this.opacity=+s}Bc(Ot,SS,Wm(Ri,{brighter(e){return e=e==null?Cl:Math.pow(Cl,e),new Ot(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?xi:Math.pow(xi,e),new Ot(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,o=this.l,s=o+(o<.5?o:1-o)*r,l=2*o-s;return new ft(Ju(e>=240?e-240:e+120,l,s),Ju(e,l,s),Ju(e<120?e+240:e-120,l,s),this.opacity)},clamp(){return new Ot(tp(this.h),al(this.s),al(this.l),_l(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_l(this.opacity);return`${e===1?"hsl(":"hsla("}${tp(this.h)}, ${al(this.s)*100}%, ${al(this.l)*100}%${e===1?")":`, ${e})`}`}}));function tp(e){return e=(e||0)%360,e<0?e+360:e}function al(e){return Math.max(0,Math.min(1,e||0))}function Ju(e,r,o){return(e<60?r+(o-r)*e/60:e<180?o:e<240?r+(o-r)*(240-e)/60:r)*255}const Vc=e=>()=>e;function ES(e,r){return function(o){return e+o*r}}function kS(e,r,o){return e=Math.pow(e,o),r=Math.pow(r,o)-e,o=1/o,function(s){return Math.pow(e+s*r,o)}}function NS(e){return(e=+e)==1?Ym:function(r,o){return o-r?kS(r,o,e):Vc(isNaN(r)?o:r)}}function Ym(e,r){var o=r-e;return o?ES(e,o):Vc(isNaN(e)?r:e)}const bl=(function e(r){var o=NS(r);function s(l,u){var c=o((l=vc(l)).r,(u=vc(u)).r),f=o(l.g,u.g),h=o(l.b,u.b),y=Ym(l.opacity,u.opacity);return function(v){return l.r=c(v),l.g=f(v),l.b=h(v),l.opacity=y(v),l+""}}return s.gamma=e,s})(1);function CS(e,r){r||(r=[]);var o=e?Math.min(r.length,e.length):0,s=r.slice(),l;return function(u){for(l=0;l<o;++l)s[l]=e[l]*(1-u)+r[l]*u;return s}}function _S(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function bS(e,r){var o=r?r.length:0,s=e?Math.min(o,e.length):0,l=new Array(s),u=new Array(o),c;for(c=0;c<s;++c)l[c]=mi(e[c],r[c]);for(;c<o;++c)u[c]=r[c];return function(f){for(c=0;c<s;++c)u[c]=l[c](f);return u}}function jS(e,r){var o=new Date;return e=+e,r=+r,function(s){return o.setTime(e*(1-s)+r*s),o}}function Kt(e,r){return e=+e,r=+r,function(o){return e*(1-o)+r*o}}function IS(e,r){var o={},s={},l;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(l in r)l in e?o[l]=mi(e[l],r[l]):s[l]=r[l];return function(u){for(l in o)s[l]=o[l](u);return s}}var xc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ec=new RegExp(xc.source,"g");function MS(e){return function(){return e}}function PS(e){return function(r){return e(r)+""}}function Xm(e,r){var o=xc.lastIndex=ec.lastIndex=0,s,l,u,c=-1,f=[],h=[];for(e=e+"",r=r+"";(s=xc.exec(e))&&(l=ec.exec(r));)(u=l.index)>o&&(u=r.slice(o,u),f[c]?f[c]+=u:f[++c]=u),(s=s[0])===(l=l[0])?f[c]?f[c]+=l:f[++c]=l:(f[++c]=null,h.push({i:c,x:Kt(s,l)})),o=ec.lastIndex;return o<r.length&&(u=r.slice(o),f[c]?f[c]+=u:f[++c]=u),f.length<2?h[0]?PS(h[0].x):MS(r):(r=h.length,function(y){for(var v=0,m;v<r;++v)f[(m=h[v]).i]=m.x(y);return f.join("")})}function mi(e,r){var o=typeof r,s;return r==null||o==="boolean"?Vc(r):(o==="number"?Kt:o==="string"?(s=yr(r))?(r=s,bl):Xm:r instanceof yr?bl:r instanceof Date?jS:_S(r)?CS:Array.isArray(r)?bS:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?IS:Kt)(e,r)}var np=180/Math.PI,wc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Qm(e,r,o,s,l,u){var c,f,h;return(c=Math.sqrt(e*e+r*r))&&(e/=c,r/=c),(h=e*o+r*s)&&(o-=e*h,s-=r*h),(f=Math.sqrt(o*o+s*s))&&(o/=f,s/=f,h/=f),e*s<r*o&&(e=-e,r=-r,h=-h,c=-c),{translateX:l,translateY:u,rotate:Math.atan2(r,e)*np,skewX:Math.atan(h)*np,scaleX:c,scaleY:f}}var ul;function RS(e){const r=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return r.isIdentity?wc:Qm(r.a,r.b,r.c,r.d,r.e,r.f)}function LS(e){return e==null||(ul||(ul=document.createElementNS("http://www.w3.org/2000/svg","g")),ul.setAttribute("transform",e),!(e=ul.transform.baseVal.consolidate()))?wc:(e=e.matrix,Qm(e.a,e.b,e.c,e.d,e.e,e.f))}function Gm(e,r,o,s){function l(y){return y.length?y.pop()+" ":""}function u(y,v,m,x,S,k){if(y!==m||v!==x){var _=S.push("translate(",null,r,null,o);k.push({i:_-4,x:Kt(y,m)},{i:_-2,x:Kt(v,x)})}else(m||x)&&S.push("translate("+m+r+x+o)}function c(y,v,m,x){y!==v?(y-v>180?v+=360:v-y>180&&(y+=360),x.push({i:m.push(l(m)+"rotate(",null,s)-2,x:Kt(y,v)})):v&&m.push(l(m)+"rotate("+v+s)}function f(y,v,m,x){y!==v?x.push({i:m.push(l(m)+"skewX(",null,s)-2,x:Kt(y,v)}):v&&m.push(l(m)+"skewX("+v+s)}function h(y,v,m,x,S,k){if(y!==m||v!==x){var _=S.push(l(S)+"scale(",null,",",null,")");k.push({i:_-4,x:Kt(y,m)},{i:_-2,x:Kt(v,x)})}else(m!==1||x!==1)&&S.push(l(S)+"scale("+m+","+x+")")}return function(y,v){var m=[],x=[];return y=e(y),v=e(v),u(y.translateX,y.translateY,v.translateX,v.translateY,m,x),c(y.rotate,v.rotate,m,x),f(y.skewX,v.skewX,m,x),h(y.scaleX,y.scaleY,v.scaleX,v.scaleY,m,x),y=v=null,function(S){for(var k=-1,_=x.length,N;++k<_;)m[(N=x[k]).i]=N.x(S);return m.join("")}}}var TS=Gm(RS,"px, ","px)","deg)"),zS=Gm(LS,", ",")",")"),AS=1e-12;function rp(e){return((e=Math.exp(e))+1/e)/2}function $S(e){return((e=Math.exp(e))-1/e)/2}function DS(e){return((e=Math.exp(2*e))-1)/(e+1)}const vl=(function e(r,o,s){function l(u,c){var f=u[0],h=u[1],y=u[2],v=c[0],m=c[1],x=c[2],S=v-f,k=m-h,_=S*S+k*k,N,b;if(_<AS)b=Math.log(x/y)/r,N=function(T){return[f+T*S,h+T*k,y*Math.exp(r*T*b)]};else{var R=Math.sqrt(_),E=(x*x-y*y+s*_)/(2*y*o*R),I=(x*x-y*y-s*_)/(2*x*o*R),B=Math.log(Math.sqrt(E*E+1)-E),O=Math.log(Math.sqrt(I*I+1)-I);b=(O-B)/r,N=function(T){var U=T*b,Y=rp(B),ne=y/(o*R)*(Y*DS(r*U+B)-$S(B));return[f+ne*S,h+ne*k,y*Y/rp(r*U+B)]}}return N.duration=b*1e3*r/Math.SQRT2,N}return l.rho=function(u){var c=Math.max(.001,+u),f=c*c,h=f*f;return e(c,f,h)},l})(Math.SQRT2,2,4);var lo=0,fi=0,ci=0,Km=1e3,jl,hi,Il=0,vr=0,Bl=0,Si=typeof performance=="object"&&performance.now?performance:Date,qm=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Wc(){return vr||(qm(OS),vr=Si.now()+Bl)}function OS(){vr=0}function Ml(){this._call=this._time=this._next=null}Ml.prototype=Zm.prototype={constructor:Ml,restart:function(e,r,o){if(typeof e!="function")throw new TypeError("callback is not a function");o=(o==null?Wc():+o)+(r==null?0:+r),!this._next&&hi!==this&&(hi?hi._next=this:jl=this,hi=this),this._call=e,this._time=o,Sc()},stop:function(){this._call&&(this._call=null,this._time=1/0,Sc())}};function Zm(e,r,o){var s=new Ml;return s.restart(e,r,o),s}function FS(){Wc(),++lo;for(var e=jl,r;e;)(r=vr-e._time)>=0&&e._call.call(void 0,r),e=e._next;--lo}function op(){vr=(Il=Si.now())+Bl,lo=fi=0;try{FS()}finally{lo=0,BS(),vr=0}}function HS(){var e=Si.now(),r=e-Il;r>Km&&(Bl-=r,Il=e)}function BS(){for(var e,r=jl,o,s=1/0;r;)r._call?(s>r._time&&(s=r._time),e=r,r=r._next):(o=r._next,r._next=null,r=e?e._next=o:jl=o);hi=e,Sc(s)}function Sc(e){if(!lo){fi&&(fi=clearTimeout(fi));var r=e-vr;r>24?(e<1/0&&(fi=setTimeout(op,e-Si.now()-Bl)),ci&&(ci=clearInterval(ci))):(ci||(Il=Si.now(),ci=setInterval(HS,Km)),lo=1,qm(op))}}function ip(e,r,o){var s=new Ml;return r=r==null?0:+r,s.restart(l=>{s.stop(),e(l+r)},r,o),s}var VS=Fl("start","end","cancel","interrupt"),WS=[],Jm=0,sp=1,Ec=2,xl=3,lp=4,kc=5,wl=6;function Vl(e,r,o,s,l,u){var c=e.__transition;if(!c)e.__transition={};else if(o in c)return;US(e,o,{name:r,index:s,group:l,on:VS,tween:WS,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:Jm})}function Uc(e,r){var o=Vt(e,r);if(o.state>Jm)throw new Error("too late; already scheduled");return o}function en(e,r){var o=Vt(e,r);if(o.state>xl)throw new Error("too late; already running");return o}function Vt(e,r){var o=e.__transition;if(!o||!(o=o[r]))throw new Error("transition not found");return o}function US(e,r,o){var s=e.__transition,l;s[r]=o,o.timer=Zm(u,0,o.time);function u(y){o.state=sp,o.timer.restart(c,o.delay,o.time),o.delay<=y&&c(y-o.delay)}function c(y){var v,m,x,S;if(o.state!==sp)return h();for(v in s)if(S=s[v],S.name===o.name){if(S.state===xl)return ip(c);S.state===lp?(S.state=wl,S.timer.stop(),S.on.call("interrupt",e,e.__data__,S.index,S.group),delete s[v]):+v<r&&(S.state=wl,S.timer.stop(),S.on.call("cancel",e,e.__data__,S.index,S.group),delete s[v])}if(ip(function(){o.state===xl&&(o.state=lp,o.timer.restart(f,o.delay,o.time),f(y))}),o.state=Ec,o.on.call("start",e,e.__data__,o.index,o.group),o.state===Ec){for(o.state=xl,l=new Array(x=o.tween.length),v=0,m=-1;v<x;++v)(S=o.tween[v].value.call(e,e.__data__,o.index,o.group))&&(l[++m]=S);l.length=m+1}}function f(y){for(var v=y<o.duration?o.ease.call(null,y/o.duration):(o.timer.restart(h),o.state=kc,1),m=-1,x=l.length;++m<x;)l[m].call(e,v);o.state===kc&&(o.on.call("end",e,e.__data__,o.index,o.group),h())}function h(){o.state=wl,o.timer.stop(),delete s[r];for(var y in s)return;delete e.__transition}}function Sl(e,r){var o=e.__transition,s,l,u=!0,c;if(o){r=r==null?null:r+"";for(c in o){if((s=o[c]).name!==r){u=!1;continue}l=s.state>Ec&&s.state<kc,s.state=wl,s.timer.stop(),s.on.call(l?"interrupt":"cancel",e,e.__data__,s.index,s.group),delete o[c]}u&&delete e.__transition}}function YS(e){return this.each(function(){Sl(this,e)})}function XS(e,r){var o,s;return function(){var l=en(this,e),u=l.tween;if(u!==o){s=o=u;for(var c=0,f=s.length;c<f;++c)if(s[c].name===r){s=s.slice(),s.splice(c,1);break}}l.tween=s}}function QS(e,r,o){var s,l;if(typeof o!="function")throw new Error;return function(){var u=en(this,e),c=u.tween;if(c!==s){l=(s=c).slice();for(var f={name:r,value:o},h=0,y=l.length;h<y;++h)if(l[h].name===r){l[h]=f;break}h===y&&l.push(f)}u.tween=l}}function GS(e,r){var o=this._id;if(e+="",arguments.length<2){for(var s=Vt(this.node(),o).tween,l=0,u=s.length,c;l<u;++l)if((c=s[l]).name===e)return c.value;return null}return this.each((r==null?XS:QS)(o,e,r))}function Yc(e,r,o){var s=e._id;return e.each(function(){var l=en(this,s);(l.value||(l.value={}))[r]=o.apply(this,arguments)}),function(l){return Vt(l,s).value[r]}}function e0(e,r){var o;return(typeof r=="number"?Kt:r instanceof yr?bl:(o=yr(r))?(r=o,bl):Xm)(e,r)}function KS(e){return function(){this.removeAttribute(e)}}function qS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ZS(e,r,o){var s,l=o+"",u;return function(){var c=this.getAttribute(e);return c===l?null:c===s?u:u=r(s=c,o)}}function JS(e,r,o){var s,l=o+"",u;return function(){var c=this.getAttributeNS(e.space,e.local);return c===l?null:c===s?u:u=r(s=c,o)}}function e2(e,r,o){var s,l,u;return function(){var c,f=o(this),h;return f==null?void this.removeAttribute(e):(c=this.getAttribute(e),h=f+"",c===h?null:c===s&&h===l?u:(l=h,u=r(s=c,f)))}}function t2(e,r,o){var s,l,u;return function(){var c,f=o(this),h;return f==null?void this.removeAttributeNS(e.space,e.local):(c=this.getAttributeNS(e.space,e.local),h=f+"",c===h?null:c===s&&h===l?u:(l=h,u=r(s=c,f)))}}function n2(e,r){var o=Hl(e),s=o==="transform"?zS:e0;return this.attrTween(e,typeof r=="function"?(o.local?t2:e2)(o,s,Yc(this,"attr."+e,r)):r==null?(o.local?qS:KS)(o):(o.local?JS:ZS)(o,s,r))}function r2(e,r){return function(o){this.setAttribute(e,r.call(this,o))}}function o2(e,r){return function(o){this.setAttributeNS(e.space,e.local,r.call(this,o))}}function i2(e,r){var o,s;function l(){var u=r.apply(this,arguments);return u!==s&&(o=(s=u)&&o2(e,u)),o}return l._value=r,l}function s2(e,r){var o,s;function l(){var u=r.apply(this,arguments);return u!==s&&(o=(s=u)&&r2(e,u)),o}return l._value=r,l}function l2(e,r){var o="attr."+e;if(arguments.length<2)return(o=this.tween(o))&&o._value;if(r==null)return this.tween(o,null);if(typeof r!="function")throw new Error;var s=Hl(e);return this.tween(o,(s.local?i2:s2)(s,r))}function a2(e,r){return function(){Uc(this,e).delay=+r.apply(this,arguments)}}function u2(e,r){return r=+r,function(){Uc(this,e).delay=r}}function c2(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?a2:u2)(r,e)):Vt(this.node(),r).delay}function d2(e,r){return function(){en(this,e).duration=+r.apply(this,arguments)}}function f2(e,r){return r=+r,function(){en(this,e).duration=r}}function h2(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?d2:f2)(r,e)):Vt(this.node(),r).duration}function p2(e,r){if(typeof r!="function")throw new Error;return function(){en(this,e).ease=r}}function m2(e){var r=this._id;return arguments.length?this.each(p2(r,e)):Vt(this.node(),r).ease}function g2(e,r){return function(){var o=r.apply(this,arguments);if(typeof o!="function")throw new Error;en(this,e).ease=o}}function y2(e){if(typeof e!="function")throw new Error;return this.each(g2(this._id,e))}function v2(e){typeof e!="function"&&(e=Pm(e));for(var r=this._groups,o=r.length,s=new Array(o),l=0;l<o;++l)for(var u=r[l],c=u.length,f=s[l]=[],h,y=0;y<c;++y)(h=u[y])&&e.call(h,h.__data__,y,u)&&f.push(h);return new vn(s,this._parents,this._name,this._id)}function x2(e){if(e._id!==this._id)throw new Error;for(var r=this._groups,o=e._groups,s=r.length,l=o.length,u=Math.min(s,l),c=new Array(s),f=0;f<u;++f)for(var h=r[f],y=o[f],v=h.length,m=c[f]=new Array(v),x,S=0;S<v;++S)(x=h[S]||y[S])&&(m[S]=x);for(;f<s;++f)c[f]=r[f];return new vn(c,this._parents,this._name,this._id)}function w2(e){return(e+"").trim().split(/^|\s+/).every(function(r){var o=r.indexOf(".");return o>=0&&(r=r.slice(0,o)),!r||r==="start"})}function S2(e,r,o){var s,l,u=w2(r)?Uc:en;return function(){var c=u(this,e),f=c.on;f!==s&&(l=(s=f).copy()).on(r,o),c.on=l}}function E2(e,r){var o=this._id;return arguments.length<2?Vt(this.node(),o).on.on(e):this.each(S2(o,e,r))}function k2(e){return function(){var r=this.parentNode;for(var o in this.__transition)if(+o!==e)return;r&&r.removeChild(this)}}function N2(){return this.on("end.remove",k2(this._id))}function C2(e){var r=this._name,o=this._id;typeof e!="function"&&(e=Fc(e));for(var s=this._groups,l=s.length,u=new Array(l),c=0;c<l;++c)for(var f=s[c],h=f.length,y=u[c]=new Array(h),v,m,x=0;x<h;++x)(v=f[x])&&(m=e.call(v,v.__data__,x,f))&&("__data__"in v&&(m.__data__=v.__data__),y[x]=m,Vl(y[x],r,o,x,y,Vt(v,o)));return new vn(u,this._parents,r,o)}function _2(e){var r=this._name,o=this._id;typeof e!="function"&&(e=Mm(e));for(var s=this._groups,l=s.length,u=[],c=[],f=0;f<l;++f)for(var h=s[f],y=h.length,v,m=0;m<y;++m)if(v=h[m]){for(var x=e.call(v,v.__data__,m,h),S,k=Vt(v,o),_=0,N=x.length;_<N;++_)(S=x[_])&&Vl(S,r,o,_,x,k);u.push(x),c.push(v)}return new vn(u,c,r,o)}var b2=Pi.prototype.constructor;function j2(){return new b2(this._groups,this._parents)}function I2(e,r){var o,s,l;return function(){var u=so(this,e),c=(this.style.removeProperty(e),so(this,e));return u===c?null:u===o&&c===s?l:l=r(o=u,s=c)}}function t0(e){return function(){this.style.removeProperty(e)}}function M2(e,r,o){var s,l=o+"",u;return function(){var c=so(this,e);return c===l?null:c===s?u:u=r(s=c,o)}}function P2(e,r,o){var s,l,u;return function(){var c=so(this,e),f=o(this),h=f+"";return f==null&&(h=f=(this.style.removeProperty(e),so(this,e))),c===h?null:c===s&&h===l?u:(l=h,u=r(s=c,f))}}function R2(e,r){var o,s,l,u="style."+r,c="end."+u,f;return function(){var h=en(this,e),y=h.on,v=h.value[u]==null?f||(f=t0(r)):void 0;(y!==o||l!==v)&&(s=(o=y).copy()).on(c,l=v),h.on=s}}function L2(e,r,o){var s=(e+="")=="transform"?TS:e0;return r==null?this.styleTween(e,I2(e,s)).on("end.style."+e,t0(e)):typeof r=="function"?this.styleTween(e,P2(e,s,Yc(this,"style."+e,r))).each(R2(this._id,e)):this.styleTween(e,M2(e,s,r),o).on("end.style."+e,null)}function T2(e,r,o){return function(s){this.style.setProperty(e,r.call(this,s),o)}}function z2(e,r,o){var s,l;function u(){var c=r.apply(this,arguments);return c!==l&&(s=(l=c)&&T2(e,c,o)),s}return u._value=r,u}function A2(e,r,o){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(r==null)return this.tween(s,null);if(typeof r!="function")throw new Error;return this.tween(s,z2(e,r,o??""))}function $2(e){return function(){this.textContent=e}}function D2(e){return function(){var r=e(this);this.textContent=r??""}}function O2(e){return this.tween("text",typeof e=="function"?D2(Yc(this,"text",e)):$2(e==null?"":e+""))}function F2(e){return function(r){this.textContent=e.call(this,r)}}function H2(e){var r,o;function s(){var l=e.apply(this,arguments);return l!==o&&(r=(o=l)&&F2(l)),r}return s._value=e,s}function B2(e){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,H2(e))}function V2(){for(var e=this._name,r=this._id,o=n0(),s=this._groups,l=s.length,u=0;u<l;++u)for(var c=s[u],f=c.length,h,y=0;y<f;++y)if(h=c[y]){var v=Vt(h,r);Vl(h,e,o,y,c,{time:v.time+v.delay+v.duration,delay:0,duration:v.duration,ease:v.ease})}return new vn(s,this._parents,e,o)}function W2(){var e,r,o=this,s=o._id,l=o.size();return new Promise(function(u,c){var f={value:c},h={value:function(){--l===0&&u()}};o.each(function(){var y=en(this,s),v=y.on;v!==e&&(r=(e=v).copy(),r._.cancel.push(f),r._.interrupt.push(f),r._.end.push(h)),y.on=r}),l===0&&u()})}var U2=0;function vn(e,r,o,s){this._groups=e,this._parents=r,this._name=o,this._id=s}function n0(){return++U2}var pn=Pi.prototype;vn.prototype={constructor:vn,select:C2,selectAll:_2,selectChild:pn.selectChild,selectChildren:pn.selectChildren,filter:v2,merge:x2,selection:j2,transition:V2,call:pn.call,nodes:pn.nodes,node:pn.node,size:pn.size,empty:pn.empty,each:pn.each,on:E2,attr:n2,attrTween:l2,style:L2,styleTween:A2,text:O2,textTween:B2,remove:N2,tween:GS,delay:c2,duration:h2,ease:m2,easeVarying:y2,end:W2,[Symbol.iterator]:pn[Symbol.iterator]};function Y2(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var X2={time:null,delay:0,duration:250,ease:Y2};function Q2(e,r){for(var o;!(o=e.__transition)||!(o=o[r]);)if(!(e=e.parentNode))throw new Error(`transition ${r} not found`);return o}function G2(e){var r,o;e instanceof vn?(r=e._id,e=e._name):(r=n0(),(o=X2).time=Wc(),e=e==null?null:e+"");for(var s=this._groups,l=s.length,u=0;u<l;++u)for(var c=s[u],f=c.length,h,y=0;y<f;++y)(h=c[y])&&Vl(h,e,r,y,c,o||Q2(h,r));return new vn(s,this._parents,e,r)}Pi.prototype.interrupt=YS;Pi.prototype.transition=G2;const cl=e=>()=>e;function K2(e,{sourceEvent:r,target:o,transform:s,dispatch:l}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:l}})}function mn(e,r,o){this.k=e,this.x=r,this.y=o}mn.prototype={constructor:mn,scale:function(e){return e===1?this:new mn(this.k*e,this.x,this.y)},translate:function(e,r){return e===0&r===0?this:new mn(this.k,this.x+this.k*e,this.y+this.k*r)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Wl=new mn(1,0,0);r0.prototype=mn.prototype;function r0(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Wl;return e.__zoom}function tc(e){e.stopImmediatePropagation()}function di(e){e.preventDefault(),e.stopImmediatePropagation()}function q2(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Z2(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function ap(){return this.__zoom||Wl}function J2(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function eE(){return navigator.maxTouchPoints||"ontouchstart"in this}function tE(e,r,o){var s=e.invertX(r[0][0])-o[0][0],l=e.invertX(r[1][0])-o[1][0],u=e.invertY(r[0][1])-o[0][1],c=e.invertY(r[1][1])-o[1][1];return e.translate(l>s?(s+l)/2:Math.min(0,s)||Math.max(0,l),c>u?(u+c)/2:Math.min(0,u)||Math.max(0,c))}function o0(){var e=q2,r=Z2,o=tE,s=J2,l=eE,u=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],f=250,h=vl,y=Fl("start","zoom","end"),v,m,x,S=500,k=150,_=0,N=10;function b(M){M.property("__zoom",ap).on("wheel.zoom",U,{passive:!1}).on("mousedown.zoom",Y).on("dblclick.zoom",ne).filter(l).on("touchstart.zoom",G).on("touchmove.zoom",X).on("touchend.zoom touchcancel.zoom",ee).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(M,V,$,H){var P=M.selection?M.selection():M;P.property("__zoom",ap),M!==P?B(M,V,$,H):P.interrupt().each(function(){O(this,arguments).event(H).start().zoom(null,typeof V=="function"?V.apply(this,arguments):V).end()})},b.scaleBy=function(M,V,$,H){b.scaleTo(M,function(){var P=this.__zoom.k,A=typeof V=="function"?V.apply(this,arguments):V;return P*A},$,H)},b.scaleTo=function(M,V,$,H){b.transform(M,function(){var P=r.apply(this,arguments),A=this.__zoom,D=$==null?I(P):typeof $=="function"?$.apply(this,arguments):$,j=A.invert(D),z=typeof V=="function"?V.apply(this,arguments):V;return o(E(R(A,z),D,j),P,c)},$,H)},b.translateBy=function(M,V,$,H){b.transform(M,function(){return o(this.__zoom.translate(typeof V=="function"?V.apply(this,arguments):V,typeof $=="function"?$.apply(this,arguments):$),r.apply(this,arguments),c)},null,H)},b.translateTo=function(M,V,$,H,P){b.transform(M,function(){var A=r.apply(this,arguments),D=this.__zoom,j=H==null?I(A):typeof H=="function"?H.apply(this,arguments):H;return o(Wl.translate(j[0],j[1]).scale(D.k).translate(typeof V=="function"?-V.apply(this,arguments):-V,typeof $=="function"?-$.apply(this,arguments):-$),A,c)},H,P)};function R(M,V){return V=Math.max(u[0],Math.min(u[1],V)),V===M.k?M:new mn(V,M.x,M.y)}function E(M,V,$){var H=V[0]-$[0]*M.k,P=V[1]-$[1]*M.k;return H===M.x&&P===M.y?M:new mn(M.k,H,P)}function I(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function B(M,V,$,H){M.on("start.zoom",function(){O(this,arguments).event(H).start()}).on("interrupt.zoom end.zoom",function(){O(this,arguments).event(H).end()}).tween("zoom",function(){var P=this,A=arguments,D=O(P,A).event(H),j=r.apply(P,A),z=$==null?I(j):typeof $=="function"?$.apply(P,A):$,Z=Math.max(j[1][0]-j[0][0],j[1][1]-j[0][1]),J=P.__zoom,ie=typeof V=="function"?V.apply(P,A):V,se=h(J.invert(z).concat(Z/J.k),ie.invert(z).concat(Z/ie.k));return function(ce){if(ce===1)ce=ie;else{var te=se(ce),ue=Z/te[2];ce=new mn(ue,z[0]-te[0]*ue,z[1]-te[1]*ue)}D.zoom(null,ce)}})}function O(M,V,$){return!$&&M.__zooming||new T(M,V)}function T(M,V){this.that=M,this.args=V,this.active=0,this.sourceEvent=null,this.extent=r.apply(M,V),this.taps=0}T.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,V){return this.mouse&&M!=="mouse"&&(this.mouse[1]=V.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=V.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=V.invert(this.touch1[0])),this.that.__zoom=V,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var V=wt(this.that).datum();y.call(M,this.that,new K2(M,{sourceEvent:this.sourceEvent,target:b,transform:this.that.__zoom,dispatch:y}),V)}};function U(M,...V){if(!e.apply(this,arguments))return;var $=O(this,V).event(M),H=this.__zoom,P=Math.max(u[0],Math.min(u[1],H.k*Math.pow(2,s.apply(this,arguments)))),A=Dt(M);if($.wheel)($.mouse[0][0]!==A[0]||$.mouse[0][1]!==A[1])&&($.mouse[1]=H.invert($.mouse[0]=A)),clearTimeout($.wheel);else{if(H.k===P)return;$.mouse=[A,H.invert(A)],Sl(this),$.start()}di(M),$.wheel=setTimeout(D,k),$.zoom("mouse",o(E(R(H,P),$.mouse[0],$.mouse[1]),$.extent,c));function D(){$.wheel=null,$.end()}}function Y(M,...V){if(x||!e.apply(this,arguments))return;var $=M.currentTarget,H=O(this,V,!0).event(M),P=wt(M.view).on("mousemove.zoom",z,!0).on("mouseup.zoom",Z,!0),A=Dt(M,$),D=M.clientX,j=M.clientY;Hm(M.view),tc(M),H.mouse=[A,this.__zoom.invert(A)],Sl(this),H.start();function z(J){if(di(J),!H.moved){var ie=J.clientX-D,se=J.clientY-j;H.moved=ie*ie+se*se>_}H.event(J).zoom("mouse",o(E(H.that.__zoom,H.mouse[0]=Dt(J,$),H.mouse[1]),H.extent,c))}function Z(J){P.on("mousemove.zoom mouseup.zoom",null),Bm(J.view,H.moved),di(J),H.event(J).end()}}function ne(M,...V){if(e.apply(this,arguments)){var $=this.__zoom,H=Dt(M.changedTouches?M.changedTouches[0]:M,this),P=$.invert(H),A=$.k*(M.shiftKey?.5:2),D=o(E(R($,A),H,P),r.apply(this,V),c);di(M),f>0?wt(this).transition().duration(f).call(B,D,H,M):wt(this).call(b.transform,D,H,M)}}function G(M,...V){if(e.apply(this,arguments)){var $=M.touches,H=$.length,P=O(this,V,M.changedTouches.length===H).event(M),A,D,j,z;for(tc(M),D=0;D<H;++D)j=$[D],z=Dt(j,this),z=[z,this.__zoom.invert(z),j.identifier],P.touch0?!P.touch1&&P.touch0[2]!==z[2]&&(P.touch1=z,P.taps=0):(P.touch0=z,A=!0,P.taps=1+!!v);v&&(v=clearTimeout(v)),A&&(P.taps<2&&(m=z[0],v=setTimeout(function(){v=null},S)),Sl(this),P.start())}}function X(M,...V){if(this.__zooming){var $=O(this,V).event(M),H=M.changedTouches,P=H.length,A,D,j,z;for(di(M),A=0;A<P;++A)D=H[A],j=Dt(D,this),$.touch0&&$.touch0[2]===D.identifier?$.touch0[0]=j:$.touch1&&$.touch1[2]===D.identifier&&($.touch1[0]=j);if(D=$.that.__zoom,$.touch1){var Z=$.touch0[0],J=$.touch0[1],ie=$.touch1[0],se=$.touch1[1],ce=(ce=ie[0]-Z[0])*ce+(ce=ie[1]-Z[1])*ce,te=(te=se[0]-J[0])*te+(te=se[1]-J[1])*te;D=R(D,Math.sqrt(ce/te)),j=[(Z[0]+ie[0])/2,(Z[1]+ie[1])/2],z=[(J[0]+se[0])/2,(J[1]+se[1])/2]}else if($.touch0)j=$.touch0[0],z=$.touch0[1];else return;$.zoom("touch",o(E(D,j,z),$.extent,c))}}function ee(M,...V){if(this.__zooming){var $=O(this,V).event(M),H=M.changedTouches,P=H.length,A,D;for(tc(M),x&&clearTimeout(x),x=setTimeout(function(){x=null},S),A=0;A<P;++A)D=H[A],$.touch0&&$.touch0[2]===D.identifier?delete $.touch0:$.touch1&&$.touch1[2]===D.identifier&&delete $.touch1;if($.touch1&&!$.touch0&&($.touch0=$.touch1,delete $.touch1),$.touch0)$.touch0[1]=this.__zoom.invert($.touch0[0]);else if($.end(),$.taps===2&&(D=Dt(D,this),Math.hypot(m[0]-D[0],m[1]-D[1])<N)){var j=wt(this).on("dblclick.zoom");j&&j.apply(this,arguments)}}}return b.wheelDelta=function(M){return arguments.length?(s=typeof M=="function"?M:cl(+M),b):s},b.filter=function(M){return arguments.length?(e=typeof M=="function"?M:cl(!!M),b):e},b.touchable=function(M){return arguments.length?(l=typeof M=="function"?M:cl(!!M),b):l},b.extent=function(M){return arguments.length?(r=typeof M=="function"?M:cl([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),b):r},b.scaleExtent=function(M){return arguments.length?(u[0]=+M[0],u[1]=+M[1],b):[u[0],u[1]]},b.translateExtent=function(M){return arguments.length?(c[0][0]=+M[0][0],c[1][0]=+M[1][0],c[0][1]=+M[0][1],c[1][1]=+M[1][1],b):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},b.constrain=function(M){return arguments.length?(o=M,b):o},b.duration=function(M){return arguments.length?(f=+M,b):f},b.interpolate=function(M){return arguments.length?(h=M,b):h},b.on=function(){var M=y.on.apply(y,arguments);return M===y?b:M},b.clickDistance=function(M){return arguments.length?(_=(M=+M)*M,b):Math.sqrt(_)},b.tapDistance=function(M){return arguments.length?(N=+M,b):N},b}const Zt={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:r,sourceHandle:o,targetHandle:s})=>`Couldn't create edge for ${e} handle id: "${e==="source"?o:s}", edge id: ${r}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Ei=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],i0=["Enter"," ","Escape"],s0={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:r,y:o})=>`Moved selected node ${e}. New position, x: ${r}, y: ${o}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var ao;(function(e){e.Strict="strict",e.Loose="loose"})(ao||(ao={}));var gr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(gr||(gr={}));var ki;(function(e){e.Partial="partial",e.Full="full"})(ki||(ki={}));const l0={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Wn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Wn||(Wn={}));var Pl;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Pl||(Pl={}));var ye;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ye||(ye={}));const up={[ye.Left]:ye.Right,[ye.Right]:ye.Left,[ye.Top]:ye.Bottom,[ye.Bottom]:ye.Top};function a0(e){return e===null?null:e?"valid":"invalid"}const u0=e=>"id"in e&&"source"in e&&"target"in e,nE=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Xc=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Li=(e,r=[0,0])=>{const{width:o,height:s}=xn(e),l=e.origin??r,u=o*l[0],c=s*l[1];return{x:e.position.x-u,y:e.position.y-c}},rE=(e,r={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const o=e.reduce((s,l)=>{const u=typeof l=="string";let c=!r.nodeLookup&&!u?l:void 0;r.nodeLookup&&(c=u?r.nodeLookup.get(l):Xc(l)?l:r.nodeLookup.get(l.id));const f=c?Rl(c,r.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Ul(s,f)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Yl(o)},Ti=(e,r={})=>{let o={x:1/0,y:1/0,x2:-1/0,y2:-1/0},s=!1;return e.forEach(l=>{(r.filter===void 0||r.filter(l))&&(o=Ul(o,Rl(l)),s=!0)}),s?Yl(o):{x:0,y:0,width:0,height:0}},Qc=(e,r,[o,s,l]=[0,0,1],u=!1,c=!1)=>{const f={...Ai(r,[o,s,l]),width:r.width/l,height:r.height/l},h=[];for(const y of e.values()){const{measured:v,selectable:m=!0,hidden:x=!1}=y;if(c&&!m||x)continue;const S=v.width??y.width??y.initialWidth??null,k=v.height??y.height??y.initialHeight??null,_=Ni(f,co(y)),N=(S??0)*(k??0),b=u&&_>0;(!y.internals.handleBounds||b||_>=N||y.dragging)&&h.push(y)}return h},oE=(e,r)=>{const o=new Set;return e.forEach(s=>{o.add(s.id)}),r.filter(s=>o.has(s.source)||o.has(s.target))};function iE(e,r){const o=new Map,s=r!=null&&r.nodes?new Set(r.nodes.map(l=>l.id)):null;return e.forEach(l=>{l.measured.width&&l.measured.height&&((r==null?void 0:r.includeHiddenNodes)||!l.hidden)&&(!s||s.has(l.id))&&o.set(l.id,l)}),o}async function sE({nodes:e,width:r,height:o,panZoom:s,minZoom:l,maxZoom:u},c){if(e.size===0)return Promise.resolve(!0);const f=iE(e,c),h=Ti(f),y=Gc(h,r,o,(c==null?void 0:c.minZoom)??l,(c==null?void 0:c.maxZoom)??u,(c==null?void 0:c.padding)??.1);return await s.setViewport(y,{duration:c==null?void 0:c.duration,ease:c==null?void 0:c.ease,interpolate:c==null?void 0:c.interpolate}),Promise.resolve(!0)}function c0({nodeId:e,nextPosition:r,nodeLookup:o,nodeOrigin:s=[0,0],nodeExtent:l,onError:u}){const c=o.get(e),f=c.parentId?o.get(c.parentId):void 0,{x:h,y}=f?f.internals.positionAbsolute:{x:0,y:0},v=c.origin??s;let m=c.extent||l;if(c.extent==="parent"&&!c.expandParent)if(!f)u==null||u("005",Zt.error005());else{const S=f.measured.width,k=f.measured.height;S&&k&&(m=[[h,y],[h+S,y+k]])}else f&&fo(c.extent)&&(m=[[c.extent[0][0]+h,c.extent[0][1]+y],[c.extent[1][0]+h,c.extent[1][1]+y]]);const x=fo(m)?xr(r,m,c.measured):r;return(c.measured.width===void 0||c.measured.height===void 0)&&(u==null||u("015",Zt.error015())),{position:{x:x.x-h+(c.measured.width??0)*v[0],y:x.y-y+(c.measured.height??0)*v[1]},positionAbsolute:x}}async function lE({nodesToRemove:e=[],edgesToRemove:r=[],nodes:o,edges:s,onBeforeDelete:l}){const u=new Set(e.map(x=>x.id)),c=[];for(const x of o){if(x.deletable===!1)continue;const S=u.has(x.id),k=!S&&x.parentId&&c.find(_=>_.id===x.parentId);(S||k)&&c.push(x)}const f=new Set(r.map(x=>x.id)),h=s.filter(x=>x.deletable!==!1),v=oE(c,h);for(const x of h)f.has(x.id)&&!v.find(k=>k.id===x.id)&&v.push(x);if(!l)return{edges:v,nodes:c};const m=await l({nodes:c,edges:v});return typeof m=="boolean"?m?{edges:v,nodes:c}:{edges:[],nodes:[]}:m}const uo=(e,r=0,o=1)=>Math.min(Math.max(e,r),o),xr=(e={x:0,y:0},r,o)=>({x:uo(e.x,r[0][0],r[1][0]-((o==null?void 0:o.width)??0)),y:uo(e.y,r[0][1],r[1][1]-((o==null?void 0:o.height)??0))});function d0(e,r,o){const{width:s,height:l}=xn(o),{x:u,y:c}=o.internals.positionAbsolute;return xr(e,[[u,c],[u+s,c+l]],r)}const cp=(e,r,o)=>e<r?uo(Math.abs(e-r),1,r)/r:e>o?-uo(Math.abs(e-o),1,r)/r:0,f0=(e,r,o=15,s=40)=>{const l=cp(e.x,s,r.width-s)*o,u=cp(e.y,s,r.height-s)*o;return[l,u]},Ul=(e,r)=>({x:Math.min(e.x,r.x),y:Math.min(e.y,r.y),x2:Math.max(e.x2,r.x2),y2:Math.max(e.y2,r.y2)}),Nc=({x:e,y:r,width:o,height:s})=>({x:e,y:r,x2:e+o,y2:r+s}),Yl=({x:e,y:r,x2:o,y2:s})=>({x:e,y:r,width:o-e,height:s-r}),co=(e,r=[0,0])=>{var l,u;const{x:o,y:s}=Xc(e)?e.internals.positionAbsolute:Li(e,r);return{x:o,y:s,width:((l=e.measured)==null?void 0:l.width)??e.width??e.initialWidth??0,height:((u=e.measured)==null?void 0:u.height)??e.height??e.initialHeight??0}},Rl=(e,r=[0,0])=>{var l,u;const{x:o,y:s}=Xc(e)?e.internals.positionAbsolute:Li(e,r);return{x:o,y:s,x2:o+(((l=e.measured)==null?void 0:l.width)??e.width??e.initialWidth??0),y2:s+(((u=e.measured)==null?void 0:u.height)??e.height??e.initialHeight??0)}},h0=(e,r)=>Yl(Ul(Nc(e),Nc(r))),Ni=(e,r)=>{const o=Math.max(0,Math.min(e.x+e.width,r.x+r.width)-Math.max(e.x,r.x)),s=Math.max(0,Math.min(e.y+e.height,r.y+r.height)-Math.max(e.y,r.y));return Math.ceil(o*s)},dp=e=>Ft(e.width)&&Ft(e.height)&&Ft(e.x)&&Ft(e.y),Ft=e=>!isNaN(e)&&isFinite(e),aE=(e,r)=>{},zi=(e,r=[1,1])=>({x:r[0]*Math.round(e.x/r[0]),y:r[1]*Math.round(e.y/r[1])}),Ai=({x:e,y:r},[o,s,l],u=!1,c=[1,1])=>{const f={x:(e-o)/l,y:(r-s)/l};return u?zi(f,c):f},Ll=({x:e,y:r},[o,s,l])=>({x:e*l+o,y:r*l+s});function Zr(e,r){if(typeof e=="number")return Math.floor((r-r/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const o=parseFloat(e);if(!Number.isNaN(o))return Math.floor(o)}if(typeof e=="string"&&e.endsWith("%")){const o=parseFloat(e);if(!Number.isNaN(o))return Math.floor(r*o*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function uE(e,r,o){if(typeof e=="string"||typeof e=="number"){const s=Zr(e,o),l=Zr(e,r);return{top:s,right:l,bottom:s,left:l,x:l*2,y:s*2}}if(typeof e=="object"){const s=Zr(e.top??e.y??0,o),l=Zr(e.bottom??e.y??0,o),u=Zr(e.left??e.x??0,r),c=Zr(e.right??e.x??0,r);return{top:s,right:c,bottom:l,left:u,x:u+c,y:s+l}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function cE(e,r,o,s,l,u){const{x:c,y:f}=Ll(e,[r,o,s]),{x:h,y}=Ll({x:e.x+e.width,y:e.y+e.height},[r,o,s]),v=l-h,m=u-y;return{left:Math.floor(c),top:Math.floor(f),right:Math.floor(v),bottom:Math.floor(m)}}const Gc=(e,r,o,s,l,u)=>{const c=uE(u,r,o),f=(r-c.x)/e.width,h=(o-c.y)/e.height,y=Math.min(f,h),v=uo(y,s,l),m=e.x+e.width/2,x=e.y+e.height/2,S=r/2-m*v,k=o/2-x*v,_=cE(e,S,k,v,r,o),N={left:Math.min(_.left-c.left,0),top:Math.min(_.top-c.top,0),right:Math.min(_.right-c.right,0),bottom:Math.min(_.bottom-c.bottom,0)};return{x:S-N.left+N.right,y:k-N.top+N.bottom,zoom:v}},Ci=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function fo(e){return e!=null&&e!=="parent"}function xn(e){var r,o;return{width:((r=e.measured)==null?void 0:r.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}}function p0(e){var r,o;return(((r=e.measured)==null?void 0:r.width)??e.width??e.initialWidth)!==void 0&&(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight)!==void 0}function m0(e,r={width:0,height:0},o,s,l){const u={...e},c=s.get(o);if(c){const f=c.origin||l;u.x+=c.internals.positionAbsolute.x-(r.width??0)*f[0],u.y+=c.internals.positionAbsolute.y-(r.height??0)*f[1]}return u}function fp(e,r){if(e.size!==r.size)return!1;for(const o of e)if(!r.has(o))return!1;return!0}function dE(){let e,r;return{promise:new Promise((s,l)=>{e=s,r=l}),resolve:e,reject:r}}function fE(e){return{...s0,...e||{}}}function gi(e,{snapGrid:r=[0,0],snapToGrid:o=!1,transform:s,containerBounds:l}){const{x:u,y:c}=Ht(e),f=Ai({x:u-((l==null?void 0:l.left)??0),y:c-((l==null?void 0:l.top)??0)},s),{x:h,y}=o?zi(f,r):f;return{xSnapped:h,ySnapped:y,...f}}const Kc=e=>({width:e.offsetWidth,height:e.offsetHeight}),g0=e=>{var r;return((r=e==null?void 0:e.getRootNode)==null?void 0:r.call(e))||(window==null?void 0:window.document)},hE=["INPUT","SELECT","TEXTAREA"];function y0(e){var s,l;const r=((l=(s=e.composedPath)==null?void 0:s.call(e))==null?void 0:l[0])||e.target;return(r==null?void 0:r.nodeType)!==1?!1:hE.includes(r.nodeName)||r.hasAttribute("contenteditable")||!!r.closest(".nokey")}const v0=e=>"clientX"in e,Ht=(e,r)=>{var u,c;const o=v0(e),s=o?e.clientX:(u=e.touches)==null?void 0:u[0].clientX,l=o?e.clientY:(c=e.touches)==null?void 0:c[0].clientY;return{x:s-((r==null?void 0:r.left)??0),y:l-((r==null?void 0:r.top)??0)}},hp=(e,r,o,s,l)=>{const u=r.querySelectorAll(`.${e}`);return!u||!u.length?null:Array.from(u).map(c=>{const f=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),type:e,nodeId:l,position:c.getAttribute("data-handlepos"),x:(f.left-o.left)/s,y:(f.top-o.top)/s,...Kc(c)}})};function x0({sourceX:e,sourceY:r,targetX:o,targetY:s,sourceControlX:l,sourceControlY:u,targetControlX:c,targetControlY:f}){const h=e*.125+l*.375+c*.375+o*.125,y=r*.125+u*.375+f*.375+s*.125,v=Math.abs(h-e),m=Math.abs(y-r);return[h,y,v,m]}function dl(e,r){return e>=0?.5*e:r*25*Math.sqrt(-e)}function pp({pos:e,x1:r,y1:o,x2:s,y2:l,c:u}){switch(e){case ye.Left:return[r-dl(r-s,u),o];case ye.Right:return[r+dl(s-r,u),o];case ye.Top:return[r,o-dl(o-l,u)];case ye.Bottom:return[r,o+dl(l-o,u)]}}function w0({sourceX:e,sourceY:r,sourcePosition:o=ye.Bottom,targetX:s,targetY:l,targetPosition:u=ye.Top,curvature:c=.25}){const[f,h]=pp({pos:o,x1:e,y1:r,x2:s,y2:l,c}),[y,v]=pp({pos:u,x1:s,y1:l,x2:e,y2:r,c}),[m,x,S,k]=x0({sourceX:e,sourceY:r,targetX:s,targetY:l,sourceControlX:f,sourceControlY:h,targetControlX:y,targetControlY:v});return[`M${e},${r} C${f},${h} ${y},${v} ${s},${l}`,m,x,S,k]}function S0({sourceX:e,sourceY:r,targetX:o,targetY:s}){const l=Math.abs(o-e)/2,u=o<e?o+l:o-l,c=Math.abs(s-r)/2,f=s<r?s+c:s-c;return[u,f,l,c]}function pE({sourceNode:e,targetNode:r,selected:o=!1,zIndex:s=0,elevateOnSelect:l=!1,zIndexMode:u="basic"}){if(u==="manual")return s;const c=l&&o?s+1e3:s,f=Math.max(e.parentId||l&&e.selected?e.internals.z:0,r.parentId||l&&r.selected?r.internals.z:0);return c+f}function mE({sourceNode:e,targetNode:r,width:o,height:s,transform:l}){const u=Ul(Rl(e),Rl(r));u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c={x:-l[0]/l[2],y:-l[1]/l[2],width:o/l[2],height:s/l[2]};return Ni(c,Yl(u))>0}const gE=({source:e,sourceHandle:r,target:o,targetHandle:s})=>`xy-edge__${e}${r||""}-${o}${s||""}`,yE=(e,r)=>r.some(o=>o.source===e.source&&o.target===e.target&&(o.sourceHandle===e.sourceHandle||!o.sourceHandle&&!e.sourceHandle)&&(o.targetHandle===e.targetHandle||!o.targetHandle&&!e.targetHandle)),E0=(e,r,o={})=>{if(!e.source||!e.target)return r;const s=o.getEdgeId||gE;let l;return u0(e)?l={...e}:l={...e,id:s(e)},yE(l,r)?r:(l.sourceHandle===null&&delete l.sourceHandle,l.targetHandle===null&&delete l.targetHandle,r.concat(l))};function k0({sourceX:e,sourceY:r,targetX:o,targetY:s}){const[l,u,c,f]=S0({sourceX:e,sourceY:r,targetX:o,targetY:s});return[`M ${e},${r}L ${o},${s}`,l,u,c,f]}const mp={[ye.Left]:{x:-1,y:0},[ye.Right]:{x:1,y:0},[ye.Top]:{x:0,y:-1},[ye.Bottom]:{x:0,y:1}},vE=({source:e,sourcePosition:r=ye.Bottom,target:o})=>r===ye.Left||r===ye.Right?e.x<o.x?{x:1,y:0}:{x:-1,y:0}:e.y<o.y?{x:0,y:1}:{x:0,y:-1},gp=(e,r)=>Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2));function xE({source:e,sourcePosition:r=ye.Bottom,target:o,targetPosition:s=ye.Top,center:l,offset:u,stepPosition:c}){const f=mp[r],h=mp[s],y={x:e.x+f.x*u,y:e.y+f.y*u},v={x:o.x+h.x*u,y:o.y+h.y*u},m=vE({source:y,sourcePosition:r,target:v}),x=m.x!==0?"x":"y",S=m[x];let k=[],_,N;const b={x:0,y:0},R={x:0,y:0},[,,E,I]=S0({sourceX:e.x,sourceY:e.y,targetX:o.x,targetY:o.y});if(f[x]*h[x]===-1){x==="x"?(_=l.x??y.x+(v.x-y.x)*c,N=l.y??(y.y+v.y)/2):(_=l.x??(y.x+v.x)/2,N=l.y??y.y+(v.y-y.y)*c);const O=[{x:_,y:y.y},{x:_,y:v.y}],T=[{x:y.x,y:N},{x:v.x,y:N}];f[x]===S?k=x==="x"?O:T:k=x==="x"?T:O}else{const O=[{x:y.x,y:v.y}],T=[{x:v.x,y:y.y}];if(x==="x"?k=f.x===S?T:O:k=f.y===S?O:T,r===s){const X=Math.abs(e[x]-o[x]);if(X<=u){const ee=Math.min(u-1,u-X);f[x]===S?b[x]=(y[x]>e[x]?-1:1)*ee:R[x]=(v[x]>o[x]?-1:1)*ee}}if(r!==s){const X=x==="x"?"y":"x",ee=f[x]===h[X],M=y[X]>v[X],V=y[X]<v[X];(f[x]===1&&(!ee&&M||ee&&V)||f[x]!==1&&(!ee&&V||ee&&M))&&(k=x==="x"?O:T)}const U={x:y.x+b.x,y:y.y+b.y},Y={x:v.x+R.x,y:v.y+R.y},ne=Math.max(Math.abs(U.x-k[0].x),Math.abs(Y.x-k[0].x)),G=Math.max(Math.abs(U.y-k[0].y),Math.abs(Y.y-k[0].y));ne>=G?(_=(U.x+Y.x)/2,N=k[0].y):(_=k[0].x,N=(U.y+Y.y)/2)}return[[e,{x:y.x+b.x,y:y.y+b.y},...k,{x:v.x+R.x,y:v.y+R.y},o],_,N,E,I]}function wE(e,r,o,s){const l=Math.min(gp(e,r)/2,gp(r,o)/2,s),{x:u,y:c}=r;if(e.x===u&&u===o.x||e.y===c&&c===o.y)return`L${u} ${c}`;if(e.y===c){const y=e.x<o.x?-1:1,v=e.y<o.y?1:-1;return`L ${u+l*y},${c}Q ${u},${c} ${u},${c+l*v}`}const f=e.x<o.x?1:-1,h=e.y<o.y?-1:1;return`L ${u},${c+l*h}Q ${u},${c} ${u+l*f},${c}`}function Cc({sourceX:e,sourceY:r,sourcePosition:o=ye.Bottom,targetX:s,targetY:l,targetPosition:u=ye.Top,borderRadius:c=5,centerX:f,centerY:h,offset:y=20,stepPosition:v=.5}){const[m,x,S,k,_]=xE({source:{x:e,y:r},sourcePosition:o,target:{x:s,y:l},targetPosition:u,center:{x:f,y:h},offset:y,stepPosition:v});return[m.reduce((b,R,E)=>{let I="";return E>0&&E<m.length-1?I=wE(m[E-1],R,m[E+1],c):I=`${E===0?"M":"L"}${R.x} ${R.y}`,b+=I,b},""),x,S,k,_]}function yp(e){var r;return e&&!!(e.internals.handleBounds||(r=e.handles)!=null&&r.length)&&!!(e.measured.width||e.width||e.initialWidth)}function SE(e){var m;const{sourceNode:r,targetNode:o}=e;if(!yp(r)||!yp(o))return null;const s=r.internals.handleBounds||vp(r.handles),l=o.internals.handleBounds||vp(o.handles),u=xp((s==null?void 0:s.source)??[],e.sourceHandle),c=xp(e.connectionMode===ao.Strict?(l==null?void 0:l.target)??[]:((l==null?void 0:l.target)??[]).concat((l==null?void 0:l.source)??[]),e.targetHandle);if(!u||!c)return(m=e.onError)==null||m.call(e,"008",Zt.error008(u?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const f=(u==null?void 0:u.position)||ye.Bottom,h=(c==null?void 0:c.position)||ye.Top,y=wr(r,u,f),v=wr(o,c,h);return{sourceX:y.x,sourceY:y.y,targetX:v.x,targetY:v.y,sourcePosition:f,targetPosition:h}}function vp(e){if(!e)return null;const r=[],o=[];for(const s of e)s.width=s.width??1,s.height=s.height??1,s.type==="source"?r.push(s):s.type==="target"&&o.push(s);return{source:r,target:o}}function wr(e,r,o=ye.Left,s=!1){const l=((r==null?void 0:r.x)??0)+e.internals.positionAbsolute.x,u=((r==null?void 0:r.y)??0)+e.internals.positionAbsolute.y,{width:c,height:f}=r??xn(e);if(s)return{x:l+c/2,y:u+f/2};switch((r==null?void 0:r.position)??o){case ye.Top:return{x:l+c/2,y:u};case ye.Right:return{x:l+c,y:u+f/2};case ye.Bottom:return{x:l+c/2,y:u+f};case ye.Left:return{x:l,y:u+f/2}}}function xp(e,r){return e&&(r?e.find(o=>o.id===r):e[0])||null}function _c(e,r){return e?typeof e=="string"?e:`${r?`${r}__`:""}${Object.keys(e).sort().map(s=>`${s}=${e[s]}`).join("&")}`:""}function EE(e,{id:r,defaultColor:o,defaultMarkerStart:s,defaultMarkerEnd:l}){const u=new Set;return e.reduce((c,f)=>([f.markerStart||s,f.markerEnd||l].forEach(h=>{if(h&&typeof h=="object"){const y=_c(h,r);u.has(y)||(c.push({id:y,color:h.color||o,...h}),u.add(y))}}),c),[]).sort((c,f)=>c.id.localeCompare(f.id))}const N0=1e3,kE=10,qc={nodeOrigin:[0,0],nodeExtent:Ei,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},NE={...qc,checkEquality:!0};function Zc(e,r){const o={...e};for(const s in r)r[s]!==void 0&&(o[s]=r[s]);return o}function CE(e,r,o){const s=Zc(qc,o);for(const l of e.values())if(l.parentId)ed(l,e,r,s);else{const u=Li(l,s.nodeOrigin),c=fo(l.extent)?l.extent:s.nodeExtent,f=xr(u,c,xn(l));l.internals.positionAbsolute=f}}function _E(e,r){if(!e.handles)return e.measured?r==null?void 0:r.internals.handleBounds:void 0;const o=[],s=[];for(const l of e.handles){const u={id:l.id,width:l.width??1,height:l.height??1,nodeId:e.id,x:l.x,y:l.y,position:l.position,type:l.type};l.type==="source"?o.push(u):l.type==="target"&&s.push(u)}return{source:o,target:s}}function Jc(e){return e==="manual"}function bc(e,r,o,s={}){var y,v;const l=Zc(NE,s),u={i:0},c=new Map(r),f=l!=null&&l.elevateNodesOnSelect&&!Jc(l.zIndexMode)?N0:0;let h=e.length>0;r.clear(),o.clear();for(const m of e){let x=c.get(m.id);if(l.checkEquality&&m===(x==null?void 0:x.internals.userNode))r.set(m.id,x);else{const S=Li(m,l.nodeOrigin),k=fo(m.extent)?m.extent:l.nodeExtent,_=xr(S,k,xn(m));x={...l.defaults,...m,measured:{width:(y=m.measured)==null?void 0:y.width,height:(v=m.measured)==null?void 0:v.height},internals:{positionAbsolute:_,handleBounds:_E(m,x),z:C0(m,f,l.zIndexMode),userNode:m}},r.set(m.id,x)}(x.measured===void 0||x.measured.width===void 0||x.measured.height===void 0)&&!x.hidden&&(h=!1),m.parentId&&ed(x,r,o,s,u)}return h}function bE(e,r){if(!e.parentId)return;const o=r.get(e.parentId);o?o.set(e.id,e):r.set(e.parentId,new Map([[e.id,e]]))}function ed(e,r,o,s,l){const{elevateNodesOnSelect:u,nodeOrigin:c,nodeExtent:f,zIndexMode:h}=Zc(qc,s),y=e.parentId,v=r.get(y);if(!v){console.warn(`Parent node ${y} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}bE(e,o),l&&!v.parentId&&v.internals.rootParentIndex===void 0&&h==="auto"&&(v.internals.rootParentIndex=++l.i,v.internals.z=v.internals.z+l.i*kE),l&&v.internals.rootParentIndex!==void 0&&(l.i=v.internals.rootParentIndex);const m=u&&!Jc(h)?N0:0,{x,y:S,z:k}=jE(e,v,c,f,m,h),{positionAbsolute:_}=e.internals,N=x!==_.x||S!==_.y;(N||k!==e.internals.z)&&r.set(e.id,{...e,internals:{...e.internals,positionAbsolute:N?{x,y:S}:_,z:k}})}function C0(e,r,o){const s=Ft(e.zIndex)?e.zIndex:0;return Jc(o)?s:s+(e.selected?r:0)}function jE(e,r,o,s,l,u){const{x:c,y:f}=r.internals.positionAbsolute,h=xn(e),y=Li(e,o),v=fo(e.extent)?xr(y,e.extent,h):y;let m=xr({x:c+v.x,y:f+v.y},s,h);e.extent==="parent"&&(m=d0(m,h,r));const x=C0(e,l,u),S=r.internals.z??0;return{x:m.x,y:m.y,z:S>=x?S+1:x}}function td(e,r,o,s=[0,0]){var c;const l=[],u=new Map;for(const f of e){const h=r.get(f.parentId);if(!h)continue;const y=((c=u.get(f.parentId))==null?void 0:c.expandedRect)??co(h),v=h0(y,f.rect);u.set(f.parentId,{expandedRect:v,parent:h})}return u.size>0&&u.forEach(({expandedRect:f,parent:h},y)=>{var E;const v=h.internals.positionAbsolute,m=xn(h),x=h.origin??s,S=f.x<v.x?Math.round(Math.abs(v.x-f.x)):0,k=f.y<v.y?Math.round(Math.abs(v.y-f.y)):0,_=Math.max(m.width,Math.round(f.width)),N=Math.max(m.height,Math.round(f.height)),b=(_-m.width)*x[0],R=(N-m.height)*x[1];(S>0||k>0||b||R)&&(l.push({id:y,type:"position",position:{x:h.position.x-S+b,y:h.position.y-k+R}}),(E=o.get(y))==null||E.forEach(I=>{e.some(B=>B.id===I.id)||l.push({id:I.id,type:"position",position:{x:I.position.x+S,y:I.position.y+k}})})),(m.width<f.width||m.height<f.height||S||k)&&l.push({id:y,type:"dimensions",setAttributes:!0,dimensions:{width:_+(S?x[0]*S-b:0),height:N+(k?x[1]*k-R:0)}})}),l}function IE(e,r,o,s,l,u,c){const f=s==null?void 0:s.querySelector(".xyflow__viewport");let h=!1;if(!f)return{changes:[],updatedInternals:h};const y=[],v=window.getComputedStyle(f),{m22:m}=new window.DOMMatrixReadOnly(v.transform),x=[];for(const S of e.values()){const k=r.get(S.id);if(!k)continue;if(k.hidden){r.set(k.id,{...k,internals:{...k.internals,handleBounds:void 0}}),h=!0;continue}const _=Kc(S.nodeElement),N=k.measured.width!==_.width||k.measured.height!==_.height;if(!!(_.width&&_.height&&(N||!k.internals.handleBounds||S.force))){const R=S.nodeElement.getBoundingClientRect(),E=fo(k.extent)?k.extent:u;let{positionAbsolute:I}=k.internals;k.parentId&&k.extent==="parent"?I=d0(I,_,r.get(k.parentId)):E&&(I=xr(I,E,_));const B={...k,measured:_,internals:{...k.internals,positionAbsolute:I,handleBounds:{source:hp("source",S.nodeElement,R,m,k.id),target:hp("target",S.nodeElement,R,m,k.id)}}};r.set(k.id,B),k.parentId&&ed(B,r,o,{nodeOrigin:l,zIndexMode:c}),h=!0,N&&(y.push({id:k.id,type:"dimensions",dimensions:_}),k.expandParent&&k.parentId&&x.push({id:k.id,parentId:k.parentId,rect:co(B,l)}))}}if(x.length>0){const S=td(x,r,o,l);y.push(...S)}return{changes:y,updatedInternals:h}}async function ME({delta:e,panZoom:r,transform:o,translateExtent:s,width:l,height:u}){if(!r||!e.x&&!e.y)return Promise.resolve(!1);const c=await r.setViewportConstrained({x:o[0]+e.x,y:o[1]+e.y,zoom:o[2]},[[0,0],[l,u]],s),f=!!c&&(c.x!==o[0]||c.y!==o[1]||c.k!==o[2]);return Promise.resolve(f)}function wp(e,r,o,s,l,u){let c=l;const f=s.get(c)||new Map;s.set(c,f.set(o,r)),c=`${l}-${e}`;const h=s.get(c)||new Map;if(s.set(c,h.set(o,r)),u){c=`${l}-${e}-${u}`;const y=s.get(c)||new Map;s.set(c,y.set(o,r))}}function _0(e,r,o){e.clear(),r.clear();for(const s of o){const{source:l,target:u,sourceHandle:c=null,targetHandle:f=null}=s,h={edgeId:s.id,source:l,target:u,sourceHandle:c,targetHandle:f},y=`${l}-${c}--${u}-${f}`,v=`${u}-${f}--${l}-${c}`;wp("source",h,v,e,l,c),wp("target",h,y,e,u,f),r.set(s.id,s)}}function b0(e,r){if(!e.parentId)return!1;const o=r.get(e.parentId);return o?o.selected?!0:b0(o,r):!1}function Sp(e,r,o){var l;let s=e;do{if((l=s==null?void 0:s.matches)!=null&&l.call(s,r))return!0;if(s===o)return!1;s=s==null?void 0:s.parentElement}while(s);return!1}function PE(e,r,o,s){const l=new Map;for(const[u,c]of e)if((c.selected||c.id===s)&&(!c.parentId||!b0(c,e))&&(c.draggable||r&&typeof c.draggable>"u")){const f=e.get(u);f&&l.set(u,{id:u,position:f.position||{x:0,y:0},distance:{x:o.x-f.internals.positionAbsolute.x,y:o.y-f.internals.positionAbsolute.y},extent:f.extent,parentId:f.parentId,origin:f.origin,expandParent:f.expandParent,internals:{positionAbsolute:f.internals.positionAbsolute||{x:0,y:0}},measured:{width:f.measured.width??0,height:f.measured.height??0}})}return l}function nc({nodeId:e,dragItems:r,nodeLookup:o,dragging:s=!0}){var c,f,h;const l=[];for(const[y,v]of r){const m=(c=o.get(y))==null?void 0:c.internals.userNode;m&&l.push({...m,position:v.position,dragging:s})}if(!e)return[l[0],l];const u=(f=o.get(e))==null?void 0:f.internals.userNode;return[u?{...u,position:((h=r.get(e))==null?void 0:h.position)||u.position,dragging:s}:l[0],l]}function RE({dragItems:e,snapGrid:r,x:o,y:s}){const l=e.values().next().value;if(!l)return null;const u={x:o-l.distance.x,y:s-l.distance.y},c=zi(u,r);return{x:c.x-u.x,y:c.y-u.y}}function LE({onNodeMouseDown:e,getStoreItems:r,onDragStart:o,onDrag:s,onDragStop:l}){let u={x:null,y:null},c=0,f=new Map,h=!1,y={x:0,y:0},v=null,m=!1,x=null,S=!1,k=!1,_=null;function N({noDragClassName:R,handleSelector:E,domNode:I,isSelectable:B,nodeId:O,nodeClickDistance:T=0}){x=wt(I);function U({x:X,y:ee}){const{nodeLookup:M,nodeExtent:V,snapGrid:$,snapToGrid:H,nodeOrigin:P,onNodeDrag:A,onSelectionDrag:D,onError:j,updateNodePositions:z}=r();u={x:X,y:ee};let Z=!1;const J=f.size>1,ie=J&&V?Nc(Ti(f)):null,se=J&&H?RE({dragItems:f,snapGrid:$,x:X,y:ee}):null;for(const[ce,te]of f){if(!M.has(ce))continue;let ue={x:X-te.distance.x,y:ee-te.distance.y};H&&(ue=se?{x:Math.round(ue.x+se.x),y:Math.round(ue.y+se.y)}:zi(ue,$));let me=null;if(J&&V&&!te.extent&&ie){const{positionAbsolute:ve}=te.internals,Ce=ve.x-ie.x+V[0][0],Pe=ve.x+te.measured.width-ie.x2+V[1][0],_e=ve.y-ie.y+V[0][1],We=ve.y+te.measured.height-ie.y2+V[1][1];me=[[Ce,_e],[Pe,We]]}const{position:we,positionAbsolute:xe}=c0({nodeId:ce,nextPosition:ue,nodeLookup:M,nodeExtent:me||V,nodeOrigin:P,onError:j});Z=Z||te.position.x!==we.x||te.position.y!==we.y,te.position=we,te.internals.positionAbsolute=xe}if(k=k||Z,!!Z&&(z(f,!0),_&&(s||A||!O&&D))){const[ce,te]=nc({nodeId:O,dragItems:f,nodeLookup:M});s==null||s(_,f,ce,te),A==null||A(_,ce,te),O||D==null||D(_,te)}}async function Y(){if(!v)return;const{transform:X,panBy:ee,autoPanSpeed:M,autoPanOnNodeDrag:V}=r();if(!V){h=!1,cancelAnimationFrame(c);return}const[$,H]=f0(y,v,M);($!==0||H!==0)&&(u.x=(u.x??0)-$/X[2],u.y=(u.y??0)-H/X[2],await ee({x:$,y:H})&&U(u)),c=requestAnimationFrame(Y)}function ne(X){var J;const{nodeLookup:ee,multiSelectionActive:M,nodesDraggable:V,transform:$,snapGrid:H,snapToGrid:P,selectNodesOnDrag:A,onNodeDragStart:D,onSelectionDragStart:j,unselectNodesAndEdges:z}=r();m=!0,(!A||!B)&&!M&&O&&((J=ee.get(O))!=null&&J.selected||z()),B&&A&&O&&(e==null||e(O));const Z=gi(X.sourceEvent,{transform:$,snapGrid:H,snapToGrid:P,containerBounds:v});if(u=Z,f=PE(ee,V,Z,O),f.size>0&&(o||D||!O&&j)){const[ie,se]=nc({nodeId:O,dragItems:f,nodeLookup:ee});o==null||o(X.sourceEvent,f,ie,se),D==null||D(X.sourceEvent,ie,se),O||j==null||j(X.sourceEvent,se)}}const G=Vm().clickDistance(T).on("start",X=>{const{domNode:ee,nodeDragThreshold:M,transform:V,snapGrid:$,snapToGrid:H}=r();v=(ee==null?void 0:ee.getBoundingClientRect())||null,S=!1,k=!1,_=X.sourceEvent,M===0&&ne(X),u=gi(X.sourceEvent,{transform:V,snapGrid:$,snapToGrid:H,containerBounds:v}),y=Ht(X.sourceEvent,v)}).on("drag",X=>{const{autoPanOnNodeDrag:ee,transform:M,snapGrid:V,snapToGrid:$,nodeDragThreshold:H,nodeLookup:P}=r(),A=gi(X.sourceEvent,{transform:M,snapGrid:V,snapToGrid:$,containerBounds:v});if(_=X.sourceEvent,(X.sourceEvent.type==="touchmove"&&X.sourceEvent.touches.length>1||O&&!P.has(O))&&(S=!0),!S){if(!h&&ee&&m&&(h=!0,Y()),!m){const D=Ht(X.sourceEvent,v),j=D.x-y.x,z=D.y-y.y;Math.sqrt(j*j+z*z)>H&&ne(X)}(u.x!==A.xSnapped||u.y!==A.ySnapped)&&f&&m&&(y=Ht(X.sourceEvent,v),U(A))}}).on("end",X=>{if(!(!m||S)&&(h=!1,m=!1,cancelAnimationFrame(c),f.size>0)){const{nodeLookup:ee,updateNodePositions:M,onNodeDragStop:V,onSelectionDragStop:$}=r();if(k&&(M(f,!1),k=!1),l||V||!O&&$){const[H,P]=nc({nodeId:O,dragItems:f,nodeLookup:ee,dragging:!1});l==null||l(X.sourceEvent,f,H,P),V==null||V(X.sourceEvent,H,P),O||$==null||$(X.sourceEvent,P)}}}).filter(X=>{const ee=X.target;return!X.button&&(!R||!Sp(ee,`.${R}`,I))&&(!E||Sp(ee,E,I))});x.call(G)}function b(){x==null||x.on(".drag",null)}return{update:N,destroy:b}}function TE(e,r,o){const s=[],l={x:e.x-o,y:e.y-o,width:o*2,height:o*2};for(const u of r.values())Ni(l,co(u))>0&&s.push(u);return s}const zE=250;function AE(e,r,o,s){var f,h;let l=[],u=1/0;const c=TE(e,o,r+zE);for(const y of c){const v=[...((f=y.internals.handleBounds)==null?void 0:f.source)??[],...((h=y.internals.handleBounds)==null?void 0:h.target)??[]];for(const m of v){if(s.nodeId===m.nodeId&&s.type===m.type&&s.id===m.id)continue;const{x,y:S}=wr(y,m,m.position,!0),k=Math.sqrt(Math.pow(x-e.x,2)+Math.pow(S-e.y,2));k>r||(k<u?(l=[{...m,x,y:S}],u=k):k===u&&l.push({...m,x,y:S}))}}if(!l.length)return null;if(l.length>1){const y=s.type==="source"?"target":"source";return l.find(v=>v.type===y)??l[0]}return l[0]}function j0(e,r,o,s,l,u=!1){var y,v,m;const c=s.get(e);if(!c)return null;const f=l==="strict"?(y=c.internals.handleBounds)==null?void 0:y[r]:[...((v=c.internals.handleBounds)==null?void 0:v.source)??[],...((m=c.internals.handleBounds)==null?void 0:m.target)??[]],h=(o?f==null?void 0:f.find(x=>x.id===o):f==null?void 0:f[0])??null;return h&&u?{...h,...wr(c,h,h.position,!0)}:h}function I0(e,r){return e||(r!=null&&r.classList.contains("target")?"target":r!=null&&r.classList.contains("source")?"source":null)}function $E(e,r){let o=null;return r?o=!0:e&&!r&&(o=!1),o}const M0=()=>!0;function DE(e,{connectionMode:r,connectionRadius:o,handleId:s,nodeId:l,edgeUpdaterType:u,isTarget:c,domNode:f,nodeLookup:h,lib:y,autoPanOnConnect:v,flowId:m,panBy:x,cancelConnection:S,onConnectStart:k,onConnect:_,onConnectEnd:N,isValidConnection:b=M0,onReconnectEnd:R,updateConnection:E,getTransform:I,getFromHandle:B,autoPanSpeed:O,dragThreshold:T=1,handleDomNode:U}){const Y=g0(e.target);let ne=0,G;const{x:X,y:ee}=Ht(e),M=I0(u,U),V=f==null?void 0:f.getBoundingClientRect();let $=!1;if(!V||!M)return;const H=j0(l,M,s,h,r);if(!H)return;let P=Ht(e,V),A=!1,D=null,j=!1,z=null;function Z(){if(!v||!V)return;const[we,xe]=f0(P,V,O);x({x:we,y:xe}),ne=requestAnimationFrame(Z)}const J={...H,nodeId:l,type:M,position:H.position},ie=h.get(l);let ce={inProgress:!0,isValid:null,from:wr(ie,J,ye.Left,!0),fromHandle:J,fromPosition:J.position,fromNode:ie,to:P,toHandle:null,toPosition:up[J.position],toNode:null,pointer:P};function te(){$=!0,E(ce),k==null||k(e,{nodeId:l,handleId:s,handleType:M})}T===0&&te();function ue(we){if(!$){const{x:We,y:Pt}=Ht(we),ht=We-X,pt=Pt-ee;if(!(ht*ht+pt*pt>T*T))return;te()}if(!B()||!J){me(we);return}const xe=I();P=Ht(we,V),G=AE(Ai(P,xe,!1,[1,1]),o,h,J),A||(Z(),A=!0);const ve=P0(we,{handle:G,connectionMode:r,fromNodeId:l,fromHandleId:s,fromType:c?"target":"source",isValidConnection:b,doc:Y,lib:y,flowId:m,nodeLookup:h});z=ve.handleDomNode,D=ve.connection,j=$E(!!G,ve.isValid);const Ce=h.get(l),Pe=Ce?wr(Ce,J,ye.Left,!0):ce.from,_e={...ce,from:Pe,isValid:j,to:ve.toHandle&&j?Ll({x:ve.toHandle.x,y:ve.toHandle.y},xe):P,toHandle:ve.toHandle,toPosition:j&&ve.toHandle?ve.toHandle.position:up[J.position],toNode:ve.toHandle?h.get(ve.toHandle.nodeId):null,pointer:P};E(_e),ce=_e}function me(we){if(!("touches"in we&&we.touches.length>0)){if($){(G||z)&&D&&j&&(_==null||_(D));const{inProgress:xe,...ve}=ce,Ce={...ve,toPosition:ce.toHandle?ce.toPosition:null};N==null||N(we,Ce),u&&(R==null||R(we,Ce))}S(),cancelAnimationFrame(ne),A=!1,j=!1,D=null,z=null,Y.removeEventListener("mousemove",ue),Y.removeEventListener("mouseup",me),Y.removeEventListener("touchmove",ue),Y.removeEventListener("touchend",me)}}Y.addEventListener("mousemove",ue),Y.addEventListener("mouseup",me),Y.addEventListener("touchmove",ue),Y.addEventListener("touchend",me)}function P0(e,{handle:r,connectionMode:o,fromNodeId:s,fromHandleId:l,fromType:u,doc:c,lib:f,flowId:h,isValidConnection:y=M0,nodeLookup:v}){const m=u==="target",x=r?c.querySelector(`.${f}-flow__handle[data-id="${h}-${r==null?void 0:r.nodeId}-${r==null?void 0:r.id}-${r==null?void 0:r.type}"]`):null,{x:S,y:k}=Ht(e),_=c.elementFromPoint(S,k),N=_!=null&&_.classList.contains(`${f}-flow__handle`)?_:x,b={handleDomNode:N,isValid:!1,connection:null,toHandle:null};if(N){const R=I0(void 0,N),E=N.getAttribute("data-nodeid"),I=N.getAttribute("data-handleid"),B=N.classList.contains("connectable"),O=N.classList.contains("connectableend");if(!E||!R)return b;const T={source:m?E:s,sourceHandle:m?I:l,target:m?s:E,targetHandle:m?l:I};b.connection=T;const Y=B&&O&&(o===ao.Strict?m&&R==="source"||!m&&R==="target":E!==s||I!==l);b.isValid=Y&&y(T),b.toHandle=j0(E,R,I,v,o,!0)}return b}const jc={onPointerDown:DE,isValid:P0};function OE({domNode:e,panZoom:r,getTransform:o,getViewScale:s}){const l=wt(e);function u({translateExtent:f,width:h,height:y,zoomStep:v=1,pannable:m=!0,zoomable:x=!0,inversePan:S=!1}){const k=E=>{if(E.sourceEvent.type!=="wheel"||!r)return;const I=o(),B=E.sourceEvent.ctrlKey&&Ci()?10:1,O=-E.sourceEvent.deltaY*(E.sourceEvent.deltaMode===1?.05:E.sourceEvent.deltaMode?1:.002)*v,T=I[2]*Math.pow(2,O*B);r.scaleTo(T)};let _=[0,0];const N=E=>{(E.sourceEvent.type==="mousedown"||E.sourceEvent.type==="touchstart")&&(_=[E.sourceEvent.clientX??E.sourceEvent.touches[0].clientX,E.sourceEvent.clientY??E.sourceEvent.touches[0].clientY])},b=E=>{const I=o();if(E.sourceEvent.type!=="mousemove"&&E.sourceEvent.type!=="touchmove"||!r)return;const B=[E.sourceEvent.clientX??E.sourceEvent.touches[0].clientX,E.sourceEvent.clientY??E.sourceEvent.touches[0].clientY],O=[B[0]-_[0],B[1]-_[1]];_=B;const T=s()*Math.max(I[2],Math.log(I[2]))*(S?-1:1),U={x:I[0]-O[0]*T,y:I[1]-O[1]*T},Y=[[0,0],[h,y]];r.setViewportConstrained({x:U.x,y:U.y,zoom:I[2]},Y,f)},R=o0().on("start",N).on("zoom",m?b:null).on("zoom.wheel",x?k:null);l.call(R,{})}function c(){l.on("zoom",null)}return{update:u,destroy:c,pointer:Dt}}const Xl=e=>({x:e.x,y:e.y,zoom:e.k}),rc=({x:e,y:r,zoom:o})=>Wl.translate(e,r).scale(o),no=(e,r)=>e.target.closest(`.${r}`),R0=(e,r)=>r===2&&Array.isArray(e)&&e.includes(2),FE=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,oc=(e,r=0,o=FE,s=()=>{})=>{const l=typeof r=="number"&&r>0;return l||s(),l?e.transition().duration(r).ease(o).on("end",s):e},L0=e=>{const r=e.ctrlKey&&Ci()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*r};function HE({zoomPanValues:e,noWheelClassName:r,d3Selection:o,d3Zoom:s,panOnScrollMode:l,panOnScrollSpeed:u,zoomOnPinch:c,onPanZoomStart:f,onPanZoom:h,onPanZoomEnd:y}){return v=>{if(no(v,r))return v.ctrlKey&&v.preventDefault(),!1;v.preventDefault(),v.stopImmediatePropagation();const m=o.property("__zoom").k||1;if(v.ctrlKey&&c){const N=Dt(v),b=L0(v),R=m*Math.pow(2,b);s.scaleTo(o,R,N,v);return}const x=v.deltaMode===1?20:1;let S=l===gr.Vertical?0:v.deltaX*x,k=l===gr.Horizontal?0:v.deltaY*x;!Ci()&&v.shiftKey&&l!==gr.Vertical&&(S=v.deltaY*x,k=0),s.translateBy(o,-(S/m)*u,-(k/m)*u,{internal:!0});const _=Xl(o.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(h==null||h(v,_),e.panScrollTimeout=setTimeout(()=>{y==null||y(v,_),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,f==null||f(v,_))}}function BE({noWheelClassName:e,preventScrolling:r,d3ZoomHandler:o}){return function(s,l){const u=s.type==="wheel",c=!r&&u&&!s.ctrlKey,f=no(s,e);if(s.ctrlKey&&u&&f&&s.preventDefault(),c||f)return null;s.preventDefault(),o.call(this,s,l)}}function VE({zoomPanValues:e,onDraggingChange:r,onPanZoomStart:o}){return s=>{var u,c,f;if((u=s.sourceEvent)!=null&&u.internal)return;const l=Xl(s.transform);e.mouseButton=((c=s.sourceEvent)==null?void 0:c.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=l,((f=s.sourceEvent)==null?void 0:f.type)==="mousedown"&&r(!0),o&&(o==null||o(s.sourceEvent,l))}}function WE({zoomPanValues:e,panOnDrag:r,onPaneContextMenu:o,onTransformChange:s,onPanZoom:l}){return u=>{var c,f;e.usedRightMouseButton=!!(o&&R0(r,e.mouseButton??0)),(c=u.sourceEvent)!=null&&c.sync||s([u.transform.x,u.transform.y,u.transform.k]),l&&!((f=u.sourceEvent)!=null&&f.internal)&&(l==null||l(u.sourceEvent,Xl(u.transform)))}}function UE({zoomPanValues:e,panOnDrag:r,panOnScroll:o,onDraggingChange:s,onPanZoomEnd:l,onPaneContextMenu:u}){return c=>{var f;if(!((f=c.sourceEvent)!=null&&f.internal)&&(e.isZoomingOrPanning=!1,u&&R0(r,e.mouseButton??0)&&!e.usedRightMouseButton&&c.sourceEvent&&u(c.sourceEvent),e.usedRightMouseButton=!1,s(!1),l)){const h=Xl(c.transform);e.prevViewport=h,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{l==null||l(c.sourceEvent,h)},o?150:0)}}}function YE({zoomActivationKeyPressed:e,zoomOnScroll:r,zoomOnPinch:o,panOnDrag:s,panOnScroll:l,zoomOnDoubleClick:u,userSelectionActive:c,noWheelClassName:f,noPanClassName:h,lib:y,connectionInProgress:v}){return m=>{var N;const x=e||r,S=o&&m.ctrlKey,k=m.type==="wheel";if(m.button===1&&m.type==="mousedown"&&(no(m,`${y}-flow__node`)||no(m,`${y}-flow__edge`)))return!0;if(!s&&!x&&!l&&!u&&!o||c||v&&!k||no(m,f)&&k||no(m,h)&&(!k||l&&k&&!e)||!o&&m.ctrlKey&&k)return!1;if(!o&&m.type==="touchstart"&&((N=m.touches)==null?void 0:N.length)>1)return m.preventDefault(),!1;if(!x&&!l&&!S&&k||!s&&(m.type==="mousedown"||m.type==="touchstart")||Array.isArray(s)&&!s.includes(m.button)&&m.type==="mousedown")return!1;const _=Array.isArray(s)&&s.includes(m.button)||!m.button||m.button<=1;return(!m.ctrlKey||k)&&_}}function XE({domNode:e,minZoom:r,maxZoom:o,translateExtent:s,viewport:l,onPanZoom:u,onPanZoomStart:c,onPanZoomEnd:f,onDraggingChange:h}){const y={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},v=e.getBoundingClientRect(),m=o0().scaleExtent([r,o]).translateExtent(s),x=wt(e).call(m);R({x:l.x,y:l.y,zoom:uo(l.zoom,r,o)},[[0,0],[v.width,v.height]],s);const S=x.on("wheel.zoom"),k=x.on("dblclick.zoom");m.wheelDelta(L0);function _(G,X){return x?new Promise(ee=>{m==null||m.interpolate((X==null?void 0:X.interpolate)==="linear"?mi:vl).transform(oc(x,X==null?void 0:X.duration,X==null?void 0:X.ease,()=>ee(!0)),G)}):Promise.resolve(!1)}function N({noWheelClassName:G,noPanClassName:X,onPaneContextMenu:ee,userSelectionActive:M,panOnScroll:V,panOnDrag:$,panOnScrollMode:H,panOnScrollSpeed:P,preventScrolling:A,zoomOnPinch:D,zoomOnScroll:j,zoomOnDoubleClick:z,zoomActivationKeyPressed:Z,lib:J,onTransformChange:ie,connectionInProgress:se,paneClickDistance:ce,selectionOnDrag:te}){M&&!y.isZoomingOrPanning&&b();const ue=V&&!Z&&!M;m.clickDistance(te?1/0:!Ft(ce)||ce<0?0:ce);const me=ue?HE({zoomPanValues:y,noWheelClassName:G,d3Selection:x,d3Zoom:m,panOnScrollMode:H,panOnScrollSpeed:P,zoomOnPinch:D,onPanZoomStart:c,onPanZoom:u,onPanZoomEnd:f}):BE({noWheelClassName:G,preventScrolling:A,d3ZoomHandler:S});if(x.on("wheel.zoom",me,{passive:!1}),!M){const xe=VE({zoomPanValues:y,onDraggingChange:h,onPanZoomStart:c});m.on("start",xe);const ve=WE({zoomPanValues:y,panOnDrag:$,onPaneContextMenu:!!ee,onPanZoom:u,onTransformChange:ie});m.on("zoom",ve);const Ce=UE({zoomPanValues:y,panOnDrag:$,panOnScroll:V,onPaneContextMenu:ee,onPanZoomEnd:f,onDraggingChange:h});m.on("end",Ce)}const we=YE({zoomActivationKeyPressed:Z,panOnDrag:$,zoomOnScroll:j,panOnScroll:V,zoomOnDoubleClick:z,zoomOnPinch:D,userSelectionActive:M,noPanClassName:X,noWheelClassName:G,lib:J,connectionInProgress:se});m.filter(we),z?x.on("dblclick.zoom",k):x.on("dblclick.zoom",null)}function b(){m.on("zoom",null)}async function R(G,X,ee){const M=rc(G),V=m==null?void 0:m.constrain()(M,X,ee);return V&&await _(V),new Promise($=>$(V))}async function E(G,X){const ee=rc(G);return await _(ee,X),new Promise(M=>M(ee))}function I(G){if(x){const X=rc(G),ee=x.property("__zoom");(ee.k!==G.zoom||ee.x!==G.x||ee.y!==G.y)&&(m==null||m.transform(x,X,null,{sync:!0}))}}function B(){const G=x?r0(x.node()):{x:0,y:0,k:1};return{x:G.x,y:G.y,zoom:G.k}}function O(G,X){return x?new Promise(ee=>{m==null||m.interpolate((X==null?void 0:X.interpolate)==="linear"?mi:vl).scaleTo(oc(x,X==null?void 0:X.duration,X==null?void 0:X.ease,()=>ee(!0)),G)}):Promise.resolve(!1)}function T(G,X){return x?new Promise(ee=>{m==null||m.interpolate((X==null?void 0:X.interpolate)==="linear"?mi:vl).scaleBy(oc(x,X==null?void 0:X.duration,X==null?void 0:X.ease,()=>ee(!0)),G)}):Promise.resolve(!1)}function U(G){m==null||m.scaleExtent(G)}function Y(G){m==null||m.translateExtent(G)}function ne(G){const X=!Ft(G)||G<0?0:G;m==null||m.clickDistance(X)}return{update:N,destroy:b,setViewport:E,setViewportConstrained:R,getViewport:B,scaleTo:O,scaleBy:T,setScaleExtent:U,setTranslateExtent:Y,syncViewport:I,setClickDistance:ne}}var ho;(function(e){e.Line="line",e.Handle="handle"})(ho||(ho={}));function QE({width:e,prevWidth:r,height:o,prevHeight:s,affectsX:l,affectsY:u}){const c=e-r,f=o-s,h=[c>0?1:c<0?-1:0,f>0?1:f<0?-1:0];return c&&l&&(h[0]=h[0]*-1),f&&u&&(h[1]=h[1]*-1),h}function Ep(e){const r=e.includes("right")||e.includes("left"),o=e.includes("bottom")||e.includes("top"),s=e.includes("left"),l=e.includes("top");return{isHorizontal:r,isVertical:o,affectsX:s,affectsY:l}}function Bn(e,r){return Math.max(0,r-e)}function Vn(e,r){return Math.max(0,e-r)}function fl(e,r,o){return Math.max(0,r-e,e-o)}function kp(e,r){return e?!r:r}function GE(e,r,o,s,l,u,c,f){let{affectsX:h,affectsY:y}=r;const{isHorizontal:v,isVertical:m}=r,x=v&&m,{xSnapped:S,ySnapped:k}=o,{minWidth:_,maxWidth:N,minHeight:b,maxHeight:R}=s,{x:E,y:I,width:B,height:O,aspectRatio:T}=e;let U=Math.floor(v?S-e.pointerX:0),Y=Math.floor(m?k-e.pointerY:0);const ne=B+(h?-U:U),G=O+(y?-Y:Y),X=-u[0]*B,ee=-u[1]*O;let M=fl(ne,_,N),V=fl(G,b,R);if(c){let P=0,A=0;h&&U<0?P=Bn(E+U+X,c[0][0]):!h&&U>0&&(P=Vn(E+ne+X,c[1][0])),y&&Y<0?A=Bn(I+Y+ee,c[0][1]):!y&&Y>0&&(A=Vn(I+G+ee,c[1][1])),M=Math.max(M,P),V=Math.max(V,A)}if(f){let P=0,A=0;h&&U>0?P=Vn(E+U,f[0][0]):!h&&U<0&&(P=Bn(E+ne,f[1][0])),y&&Y>0?A=Vn(I+Y,f[0][1]):!y&&Y<0&&(A=Bn(I+G,f[1][1])),M=Math.max(M,P),V=Math.max(V,A)}if(l){if(v){const P=fl(ne/T,b,R)*T;if(M=Math.max(M,P),c){let A=0;!h&&!y||h&&!y&&x?A=Vn(I+ee+ne/T,c[1][1])*T:A=Bn(I+ee+(h?U:-U)/T,c[0][1])*T,M=Math.max(M,A)}if(f){let A=0;!h&&!y||h&&!y&&x?A=Bn(I+ne/T,f[1][1])*T:A=Vn(I+(h?U:-U)/T,f[0][1])*T,M=Math.max(M,A)}}if(m){const P=fl(G*T,_,N)/T;if(V=Math.max(V,P),c){let A=0;!h&&!y||y&&!h&&x?A=Vn(E+G*T+X,c[1][0])/T:A=Bn(E+(y?Y:-Y)*T+X,c[0][0])/T,V=Math.max(V,A)}if(f){let A=0;!h&&!y||y&&!h&&x?A=Bn(E+G*T,f[1][0])/T:A=Vn(E+(y?Y:-Y)*T,f[0][0])/T,V=Math.max(V,A)}}}Y=Y+(Y<0?V:-V),U=U+(U<0?M:-M),l&&(x?ne>G*T?Y=(kp(h,y)?-U:U)/T:U=(kp(h,y)?-Y:Y)*T:v?(Y=U/T,y=h):(U=Y*T,h=y));const $=h?E+U:E,H=y?I+Y:I;return{width:B+(h?-U:U),height:O+(y?-Y:Y),x:u[0]*U*(h?-1:1)+$,y:u[1]*Y*(y?-1:1)+H}}const T0={width:0,height:0,x:0,y:0},KE={...T0,pointerX:0,pointerY:0,aspectRatio:1};function qE(e){return[[0,0],[e.measured.width,e.measured.height]]}function ZE(e,r,o){const s=r.position.x+e.position.x,l=r.position.y+e.position.y,u=e.measured.width??0,c=e.measured.height??0,f=o[0]*u,h=o[1]*c;return[[s-f,l-h],[s+u-f,l+c-h]]}function JE({domNode:e,nodeId:r,getStoreItems:o,onChange:s,onEnd:l}){const u=wt(e);let c={controlDirection:Ep("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function f({controlPosition:y,boundaries:v,keepAspectRatio:m,resizeDirection:x,onResizeStart:S,onResize:k,onResizeEnd:_,shouldResize:N}){let b={...T0},R={...KE};c={boundaries:v,resizeDirection:x,keepAspectRatio:m,controlDirection:Ep(y)};let E,I=null,B=[],O,T,U,Y=!1;const ne=Vm().on("start",G=>{const{nodeLookup:X,transform:ee,snapGrid:M,snapToGrid:V,nodeOrigin:$,paneDomNode:H}=o();if(E=X.get(r),!E)return;I=(H==null?void 0:H.getBoundingClientRect())??null;const{xSnapped:P,ySnapped:A}=gi(G.sourceEvent,{transform:ee,snapGrid:M,snapToGrid:V,containerBounds:I});b={width:E.measured.width??0,height:E.measured.height??0,x:E.position.x??0,y:E.position.y??0},R={...b,pointerX:P,pointerY:A,aspectRatio:b.width/b.height},O=void 0,E.parentId&&(E.extent==="parent"||E.expandParent)&&(O=X.get(E.parentId),T=O&&E.extent==="parent"?qE(O):void 0),B=[],U=void 0;for(const[D,j]of X)if(j.parentId===r&&(B.push({id:D,position:{...j.position},extent:j.extent}),j.extent==="parent"||j.expandParent)){const z=ZE(j,E,j.origin??$);U?U=[[Math.min(z[0][0],U[0][0]),Math.min(z[0][1],U[0][1])],[Math.max(z[1][0],U[1][0]),Math.max(z[1][1],U[1][1])]]:U=z}S==null||S(G,{...b})}).on("drag",G=>{const{transform:X,snapGrid:ee,snapToGrid:M,nodeOrigin:V}=o(),$=gi(G.sourceEvent,{transform:X,snapGrid:ee,snapToGrid:M,containerBounds:I}),H=[];if(!E)return;const{x:P,y:A,width:D,height:j}=b,z={},Z=E.origin??V,{width:J,height:ie,x:se,y:ce}=GE(R,c.controlDirection,$,c.boundaries,c.keepAspectRatio,Z,T,U),te=J!==D,ue=ie!==j,me=se!==P&&te,we=ce!==A&&ue;if(!me&&!we&&!te&&!ue)return;if((me||we||Z[0]===1||Z[1]===1)&&(z.x=me?se:b.x,z.y=we?ce:b.y,b.x=z.x,b.y=z.y,B.length>0)){const Pe=se-P,_e=ce-A;for(const We of B)We.position={x:We.position.x-Pe+Z[0]*(J-D),y:We.position.y-_e+Z[1]*(ie-j)},H.push(We)}if((te||ue)&&(z.width=te&&(!c.resizeDirection||c.resizeDirection==="horizontal")?J:b.width,z.height=ue&&(!c.resizeDirection||c.resizeDirection==="vertical")?ie:b.height,b.width=z.width,b.height=z.height),O&&E.expandParent){const Pe=Z[0]*(z.width??0);z.x&&z.x<Pe&&(b.x=Pe,R.x=R.x-(z.x-Pe));const _e=Z[1]*(z.height??0);z.y&&z.y<_e&&(b.y=_e,R.y=R.y-(z.y-_e))}const xe=QE({width:b.width,prevWidth:D,height:b.height,prevHeight:j,affectsX:c.controlDirection.affectsX,affectsY:c.controlDirection.affectsY}),ve={...b,direction:xe};(N==null?void 0:N(G,ve))!==!1&&(Y=!0,k==null||k(G,ve),s(z,H))}).on("end",G=>{Y&&(_==null||_(G,{...b}),l==null||l({...b}),Y=!1)});u.call(ne)}function h(){u.on(".drag",null)}return{update:f,destroy:h}}var ic={exports:{}},sc={},lc={exports:{}},ac={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function ek(){if(Np)return ac;Np=1;var e=bi();function r(m,x){return m===x&&(m!==0||1/m===1/x)||m!==m&&x!==x}var o=typeof Object.is=="function"?Object.is:r,s=e.useState,l=e.useEffect,u=e.useLayoutEffect,c=e.useDebugValue;function f(m,x){var S=x(),k=s({inst:{value:S,getSnapshot:x}}),_=k[0].inst,N=k[1];return u(function(){_.value=S,_.getSnapshot=x,h(_)&&N({inst:_})},[m,S,x]),l(function(){return h(_)&&N({inst:_}),m(function(){h(_)&&N({inst:_})})},[m]),c(S),S}function h(m){var x=m.getSnapshot;m=m.value;try{var S=x();return!o(m,S)}catch{return!0}}function y(m,x){return x()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?y:f;return ac.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:v,ac}var Cp;function tk(){return Cp||(Cp=1,lc.exports=ek()),lc.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function nk(){if(_p)return sc;_p=1;var e=bi(),r=tk();function o(y,v){return y===v&&(y!==0||1/y===1/v)||y!==y&&v!==v}var s=typeof Object.is=="function"?Object.is:o,l=r.useSyncExternalStore,u=e.useRef,c=e.useEffect,f=e.useMemo,h=e.useDebugValue;return sc.useSyncExternalStoreWithSelector=function(y,v,m,x,S){var k=u(null);if(k.current===null){var _={hasValue:!1,value:null};k.current=_}else _=k.current;k=f(function(){function b(O){if(!R){if(R=!0,E=O,O=x(O),S!==void 0&&_.hasValue){var T=_.value;if(S(T,O))return I=T}return I=O}if(T=I,s(E,O))return T;var U=x(O);return S!==void 0&&S(T,U)?(E=O,T):(E=O,I=U)}var R=!1,E,I,B=m===void 0?null:m;return[function(){return b(v())},B===null?void 0:function(){return b(B())}]},[v,m,x,S]);var N=l(y,k[0],k[1]);return c(function(){_.hasValue=!0,_.value=N},[N]),h(N),N},sc}var bp;function rk(){return bp||(bp=1,ic.exports=nk()),ic.exports}var ok=rk();const ik=Pc(ok),sk={},jp=e=>{let r;const o=new Set,s=(v,m)=>{const x=typeof v=="function"?v(r):v;if(!Object.is(x,r)){const S=r;r=m??(typeof x!="object"||x===null)?x:Object.assign({},r,x),o.forEach(k=>k(r,S))}},l=()=>r,h={setState:s,getState:l,getInitialState:()=>y,subscribe:v=>(o.add(v),()=>o.delete(v)),destroy:()=>{(sk?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),o.clear()}},y=r=e(s,l,h);return h},lk=e=>e?jp(e):jp,{useDebugValue:ak}=to,{useSyncExternalStoreWithSelector:uk}=ik,ck=e=>e;function z0(e,r=ck,o){const s=uk(e.subscribe,e.getState,e.getServerState||e.getInitialState,r,o);return ak(s),s}const Ip=(e,r)=>{const o=lk(e),s=(l,u=r)=>z0(o,l,u);return Object.assign(s,o),s},dk=(e,r)=>e?Ip(e,r):Ip;function Ae(e,r){if(Object.is(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(const[s,l]of e)if(!Object.is(l,r.get(s)))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(const s of e)if(!r.has(s))return!1;return!0}const o=Object.keys(e);if(o.length!==Object.keys(r).length)return!1;for(const s of o)if(!Object.prototype.hasOwnProperty.call(r,s)||!Object.is(e[s],r[s]))return!1;return!0}const Ql=C.createContext(null),fk=Ql.Provider,A0=Zt.error001();function be(e,r){const o=C.useContext(Ql);if(o===null)throw new Error(A0);return z0(o,e,r)}function $e(){const e=C.useContext(Ql);if(e===null)throw new Error(A0);return C.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Mp={display:"none"},hk={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},$0="react-flow__node-desc",D0="react-flow__edge-desc",pk="react-flow__aria-live",mk=e=>e.ariaLiveMessage,gk=e=>e.ariaLabelConfig;function yk({rfId:e}){const r=be(mk);return g.jsx("div",{id:`${pk}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:hk,children:r})}function vk({rfId:e,disableKeyboardA11y:r}){const o=be(gk);return g.jsxs(g.Fragment,{children:[g.jsx("div",{id:`${$0}-${e}`,style:Mp,children:r?o["node.a11yDescription.default"]:o["node.a11yDescription.keyboardDisabled"]}),g.jsx("div",{id:`${D0}-${e}`,style:Mp,children:o["edge.a11yDescription.default"]}),!r&&g.jsx(yk,{rfId:e})]})}const Gl=C.forwardRef(({position:e="top-left",children:r,className:o,style:s,...l},u)=>{const c=`${e}`.split("-");return g.jsx("div",{className:Ye(["react-flow__panel",o,...c]),style:s,ref:u,...l,children:r})});Gl.displayName="Panel";function xk({proOptions:e,position:r="bottom-right"}){return e!=null&&e.hideAttribution?null:g.jsx(Gl,{position:r,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:g.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const wk=e=>{const r=[],o=[];for(const[,s]of e.nodeLookup)s.selected&&r.push(s.internals.userNode);for(const[,s]of e.edgeLookup)s.selected&&o.push(s);return{selectedNodes:r,selectedEdges:o}},hl=e=>e.id;function Sk(e,r){return Ae(e.selectedNodes.map(hl),r.selectedNodes.map(hl))&&Ae(e.selectedEdges.map(hl),r.selectedEdges.map(hl))}function Ek({onSelectionChange:e}){const r=$e(),{selectedNodes:o,selectedEdges:s}=be(wk,Sk);return C.useEffect(()=>{const l={nodes:o,edges:s};e==null||e(l),r.getState().onSelectionChangeHandlers.forEach(u=>u(l))},[o,s,e]),null}const kk=e=>!!e.onSelectionChangeHandlers;function Nk({onSelectionChange:e}){const r=be(kk);return e||r?g.jsx(Ek,{onSelectionChange:e}):null}const O0=[0,0],Ck={x:0,y:0,zoom:1},_k=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Pp=[..._k,"rfId"],bk=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),Rp={translateExtent:Ei,nodeOrigin:O0,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function jk(e){const{setNodes:r,setEdges:o,setMinZoom:s,setMaxZoom:l,setTranslateExtent:u,setNodeExtent:c,reset:f,setDefaultNodesAndEdges:h}=be(bk,Ae),y=$e();C.useEffect(()=>(h(e.defaultNodes,e.defaultEdges),()=>{v.current=Rp,f()}),[]);const v=C.useRef(Rp);return C.useEffect(()=>{for(const m of Pp){const x=e[m],S=v.current[m];x!==S&&(typeof e[m]>"u"||(m==="nodes"?r(x):m==="edges"?o(x):m==="minZoom"?s(x):m==="maxZoom"?l(x):m==="translateExtent"?u(x):m==="nodeExtent"?c(x):m==="ariaLabelConfig"?y.setState({ariaLabelConfig:fE(x)}):m==="fitView"?y.setState({fitViewQueued:x}):m==="fitViewOptions"?y.setState({fitViewOptions:x}):y.setState({[m]:x})))}v.current=e},Pp.map(m=>e[m])),null}function Lp(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Ik(e){var s;const[r,o]=C.useState(e==="system"?null:e);return C.useEffect(()=>{if(e!=="system"){o(e);return}const l=Lp(),u=()=>o(l!=null&&l.matches?"dark":"light");return u(),l==null||l.addEventListener("change",u),()=>{l==null||l.removeEventListener("change",u)}},[e]),r!==null?r:(s=Lp())!=null&&s.matches?"dark":"light"}const Tp=typeof document<"u"?document:null;function _i(e=null,r={target:Tp,actInsideInputWithModifier:!0}){const[o,s]=C.useState(!1),l=C.useRef(!1),u=C.useRef(new Set([])),[c,f]=C.useMemo(()=>{if(e!==null){const y=(Array.isArray(e)?e:[e]).filter(m=>typeof m=="string").map(m=>m.replace("+",`
`).replace(`

`,`
+`).split(`
`)),v=y.reduce((m,x)=>m.concat(...x),[]);return[y,v]}return[[],[]]},[e]);return C.useEffect(()=>{const h=(r==null?void 0:r.target)??Tp,y=(r==null?void 0:r.actInsideInputWithModifier)??!0;if(e!==null){const v=S=>{var N,b;if(l.current=S.ctrlKey||S.metaKey||S.shiftKey||S.altKey,(!l.current||l.current&&!y)&&y0(S))return!1;const _=Ap(S.code,f);if(u.current.add(S[_]),zp(c,u.current,!1)){const R=((b=(N=S.composedPath)==null?void 0:N.call(S))==null?void 0:b[0])||S.target,E=(R==null?void 0:R.nodeName)==="BUTTON"||(R==null?void 0:R.nodeName)==="A";r.preventDefault!==!1&&(l.current||!E)&&S.preventDefault(),s(!0)}},m=S=>{const k=Ap(S.code,f);zp(c,u.current,!0)?(s(!1),u.current.clear()):u.current.delete(S[k]),S.key==="Meta"&&u.current.clear(),l.current=!1},x=()=>{u.current.clear(),s(!1)};return h==null||h.addEventListener("keydown",v),h==null||h.addEventListener("keyup",m),window.addEventListener("blur",x),window.addEventListener("contextmenu",x),()=>{h==null||h.removeEventListener("keydown",v),h==null||h.removeEventListener("keyup",m),window.removeEventListener("blur",x),window.removeEventListener("contextmenu",x)}}},[e,s]),o}function zp(e,r,o){return e.filter(s=>o||s.length===r.size).some(s=>s.every(l=>r.has(l)))}function Ap(e,r){return r.includes(e)?"code":"key"}const Mk=()=>{const e=$e();return C.useMemo(()=>({zoomIn:r=>{const{panZoom:o}=e.getState();return o?o.scaleBy(1.2,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},zoomOut:r=>{const{panZoom:o}=e.getState();return o?o.scaleBy(1/1.2,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},zoomTo:(r,o)=>{const{panZoom:s}=e.getState();return s?s.scaleTo(r,{duration:o==null?void 0:o.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(r,o)=>{const{transform:[s,l,u],panZoom:c}=e.getState();return c?(await c.setViewport({x:r.x??s,y:r.y??l,zoom:r.zoom??u},o),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[r,o,s]=e.getState().transform;return{x:r,y:o,zoom:s}},setCenter:async(r,o,s)=>e.getState().setCenter(r,o,s),fitBounds:async(r,o)=>{const{width:s,height:l,minZoom:u,maxZoom:c,panZoom:f}=e.getState(),h=Gc(r,s,l,u,c,(o==null?void 0:o.padding)??.1);return f?(await f.setViewport(h,{duration:o==null?void 0:o.duration,ease:o==null?void 0:o.ease,interpolate:o==null?void 0:o.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(r,o={})=>{const{transform:s,snapGrid:l,snapToGrid:u,domNode:c}=e.getState();if(!c)return r;const{x:f,y:h}=c.getBoundingClientRect(),y={x:r.x-f,y:r.y-h},v=o.snapGrid??l,m=o.snapToGrid??u;return Ai(y,s,m,v)},flowToScreenPosition:r=>{const{transform:o,domNode:s}=e.getState();if(!s)return r;const{x:l,y:u}=s.getBoundingClientRect(),c=Ll(r,o);return{x:c.x+l,y:c.y+u}}}),[])};function F0(e,r){const o=[],s=new Map,l=[];for(const u of e)if(u.type==="add"){l.push(u);continue}else if(u.type==="remove"||u.type==="replace")s.set(u.id,[u]);else{const c=s.get(u.id);c?c.push(u):s.set(u.id,[u])}for(const u of r){const c=s.get(u.id);if(!c){o.push(u);continue}if(c[0].type==="remove")continue;if(c[0].type==="replace"){o.push({...c[0].item});continue}const f={...u};for(const h of c)Pk(h,f);o.push(f)}return l.length&&l.forEach(u=>{u.index!==void 0?o.splice(u.index,0,{...u.item}):o.push({...u.item})}),o}function Pk(e,r){switch(e.type){case"select":{r.selected=e.selected;break}case"position":{typeof e.position<"u"&&(r.position=e.position),typeof e.dragging<"u"&&(r.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(r.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(r.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(r.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(r.resizing=e.resizing);break}}}function H0(e,r){return F0(e,r)}function B0(e,r){return F0(e,r)}function hr(e,r){return{id:e,type:"select",selected:r}}function ro(e,r=new Set,o=!1){const s=[];for(const[l,u]of e){const c=r.has(l);!(u.selected===void 0&&!c)&&u.selected!==c&&(o&&(u.selected=c),s.push(hr(u.id,c)))}return s}function $p({items:e=[],lookup:r}){var l;const o=[],s=new Map(e.map(u=>[u.id,u]));for(const[u,c]of e.entries()){const f=r.get(c.id),h=((l=f==null?void 0:f.internals)==null?void 0:l.userNode)??f;h!==void 0&&h!==c&&o.push({id:c.id,item:c,type:"replace"}),h===void 0&&o.push({item:c,type:"add",index:u})}for(const[u]of r)s.get(u)===void 0&&o.push({id:u,type:"remove"});return o}function Dp(e){return{id:e.id,type:"remove"}}const Op=e=>nE(e),Rk=e=>u0(e);function V0(e){return C.forwardRef(e)}const Lk=typeof window<"u"?C.useLayoutEffect:C.useEffect;function Fp(e){const[r,o]=C.useState(BigInt(0)),[s]=C.useState(()=>Tk(()=>o(l=>l+BigInt(1))));return Lk(()=>{const l=s.get();l.length&&(e(l),s.reset())},[r]),s}function Tk(e){let r=[];return{get:()=>r,reset:()=>{r=[]},push:o=>{r.push(o),e()}}}const W0=C.createContext(null);function zk({children:e}){const r=$e(),o=C.useCallback(f=>{const{nodes:h=[],setNodes:y,hasDefaultNodes:v,onNodesChange:m,nodeLookup:x,fitViewQueued:S,onNodesChangeMiddlewareMap:k}=r.getState();let _=h;for(const b of f)_=typeof b=="function"?b(_):b;let N=$p({items:_,lookup:x});for(const b of k.values())N=b(N);v&&y(_),N.length>0?m==null||m(N):S&&window.requestAnimationFrame(()=>{const{fitViewQueued:b,nodes:R,setNodes:E}=r.getState();b&&E(R)})},[]),s=Fp(o),l=C.useCallback(f=>{const{edges:h=[],setEdges:y,hasDefaultEdges:v,onEdgesChange:m,edgeLookup:x}=r.getState();let S=h;for(const k of f)S=typeof k=="function"?k(S):k;v?y(S):m&&m($p({items:S,lookup:x}))},[]),u=Fp(l),c=C.useMemo(()=>({nodeQueue:s,edgeQueue:u}),[]);return g.jsx(W0.Provider,{value:c,children:e})}function Ak(){const e=C.useContext(W0);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const $k=e=>!!e.panZoom;function nd(){const e=Mk(),r=$e(),o=Ak(),s=be($k),l=C.useMemo(()=>{const u=m=>r.getState().nodeLookup.get(m),c=m=>{o.nodeQueue.push(m)},f=m=>{o.edgeQueue.push(m)},h=m=>{var b,R;const{nodeLookup:x,nodeOrigin:S}=r.getState(),k=Op(m)?m:x.get(m.id),_=k.parentId?m0(k.position,k.measured,k.parentId,x,S):k.position,N={...k,position:_,width:((b=k.measured)==null?void 0:b.width)??k.width,height:((R=k.measured)==null?void 0:R.height)??k.height};return co(N)},y=(m,x,S={replace:!1})=>{c(k=>k.map(_=>{if(_.id===m){const N=typeof x=="function"?x(_):x;return S.replace&&Op(N)?N:{..._,...N}}return _}))},v=(m,x,S={replace:!1})=>{f(k=>k.map(_=>{if(_.id===m){const N=typeof x=="function"?x(_):x;return S.replace&&Rk(N)?N:{..._,...N}}return _}))};return{getNodes:()=>r.getState().nodes.map(m=>({...m})),getNode:m=>{var x;return(x=u(m))==null?void 0:x.internals.userNode},getInternalNode:u,getEdges:()=>{const{edges:m=[]}=r.getState();return m.map(x=>({...x}))},getEdge:m=>r.getState().edgeLookup.get(m),setNodes:c,setEdges:f,addNodes:m=>{const x=Array.isArray(m)?m:[m];o.nodeQueue.push(S=>[...S,...x])},addEdges:m=>{const x=Array.isArray(m)?m:[m];o.edgeQueue.push(S=>[...S,...x])},toObject:()=>{const{nodes:m=[],edges:x=[],transform:S}=r.getState(),[k,_,N]=S;return{nodes:m.map(b=>({...b})),edges:x.map(b=>({...b})),viewport:{x:k,y:_,zoom:N}}},deleteElements:async({nodes:m=[],edges:x=[]})=>{const{nodes:S,edges:k,onNodesDelete:_,onEdgesDelete:N,triggerNodeChanges:b,triggerEdgeChanges:R,onDelete:E,onBeforeDelete:I}=r.getState(),{nodes:B,edges:O}=await lE({nodesToRemove:m,edgesToRemove:x,nodes:S,edges:k,onBeforeDelete:I}),T=O.length>0,U=B.length>0;if(T){const Y=O.map(Dp);N==null||N(O),R(Y)}if(U){const Y=B.map(Dp);_==null||_(B),b(Y)}return(U||T)&&(E==null||E({nodes:B,edges:O})),{deletedNodes:B,deletedEdges:O}},getIntersectingNodes:(m,x=!0,S)=>{const k=dp(m),_=k?m:h(m),N=S!==void 0;return _?(S||r.getState().nodes).filter(b=>{const R=r.getState().nodeLookup.get(b.id);if(R&&!k&&(b.id===m.id||!R.internals.positionAbsolute))return!1;const E=co(N?b:R),I=Ni(E,_);return x&&I>0||I>=E.width*E.height||I>=_.width*_.height}):[]},isNodeIntersecting:(m,x,S=!0)=>{const _=dp(m)?m:h(m);if(!_)return!1;const N=Ni(_,x);return S&&N>0||N>=x.width*x.height||N>=_.width*_.height},updateNode:y,updateNodeData:(m,x,S={replace:!1})=>{y(m,k=>{const _=typeof x=="function"?x(k):x;return S.replace?{...k,data:_}:{...k,data:{...k.data,..._}}},S)},updateEdge:v,updateEdgeData:(m,x,S={replace:!1})=>{v(m,k=>{const _=typeof x=="function"?x(k):x;return S.replace?{...k,data:_}:{...k,data:{...k.data,..._}}},S)},getNodesBounds:m=>{const{nodeLookup:x,nodeOrigin:S}=r.getState();return rE(m,{nodeLookup:x,nodeOrigin:S})},getHandleConnections:({type:m,id:x,nodeId:S})=>{var k;return Array.from(((k=r.getState().connectionLookup.get(`${S}-${m}${x?`-${x}`:""}`))==null?void 0:k.values())??[])},getNodeConnections:({type:m,handleId:x,nodeId:S})=>{var k;return Array.from(((k=r.getState().connectionLookup.get(`${S}${m?x?`-${m}-${x}`:`-${m}`:""}`))==null?void 0:k.values())??[])},fitView:async m=>{const x=r.getState().fitViewResolver??dE();return r.setState({fitViewQueued:!0,fitViewOptions:m,fitViewResolver:x}),o.nodeQueue.push(S=>[...S]),x.promise}}},[]);return C.useMemo(()=>({...l,...e,viewportInitialized:s}),[s])}const Hp=e=>e.selected,Dk=typeof window<"u"?window:void 0;function Ok({deleteKeyCode:e,multiSelectionKeyCode:r}){const o=$e(),{deleteElements:s}=nd(),l=_i(e,{actInsideInputWithModifier:!1}),u=_i(r,{target:Dk});C.useEffect(()=>{if(l){const{edges:c,nodes:f}=o.getState();s({nodes:f.filter(Hp),edges:c.filter(Hp)}),o.setState({nodesSelectionActive:!1})}},[l]),C.useEffect(()=>{o.setState({multiSelectionActive:u})},[u])}function Fk(e){const r=$e();C.useEffect(()=>{const o=()=>{var l,u,c,f;if(!e.current||!(((u=(l=e.current).checkVisibility)==null?void 0:u.call(l))??!0))return!1;const s=Kc(e.current);(s.height===0||s.width===0)&&((f=(c=r.getState()).onError)==null||f.call(c,"004",Zt.error004())),r.setState({width:s.width||500,height:s.height||500})};if(e.current){o(),window.addEventListener("resize",o);const s=new ResizeObserver(()=>o());return s.observe(e.current),()=>{window.removeEventListener("resize",o),s&&e.current&&s.unobserve(e.current)}}},[])}const Kl={position:"absolute",width:"100%",height:"100%",top:0,left:0},Hk=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function Bk({onPaneContextMenu:e,zoomOnScroll:r=!0,zoomOnPinch:o=!0,panOnScroll:s=!1,panOnScrollSpeed:l=.5,panOnScrollMode:u=gr.Free,zoomOnDoubleClick:c=!0,panOnDrag:f=!0,defaultViewport:h,translateExtent:y,minZoom:v,maxZoom:m,zoomActivationKeyCode:x,preventScrolling:S=!0,children:k,noWheelClassName:_,noPanClassName:N,onViewportChange:b,isControlledViewport:R,paneClickDistance:E,selectionOnDrag:I}){const B=$e(),O=C.useRef(null),{userSelectionActive:T,lib:U,connectionInProgress:Y}=be(Hk,Ae),ne=_i(x),G=C.useRef();Fk(O);const X=C.useCallback(ee=>{b==null||b({x:ee[0],y:ee[1],zoom:ee[2]}),R||B.setState({transform:ee})},[b,R]);return C.useEffect(()=>{if(O.current){G.current=XE({domNode:O.current,minZoom:v,maxZoom:m,translateExtent:y,viewport:h,onDraggingChange:$=>B.setState({paneDragging:$}),onPanZoomStart:($,H)=>{const{onViewportChangeStart:P,onMoveStart:A}=B.getState();A==null||A($,H),P==null||P(H)},onPanZoom:($,H)=>{const{onViewportChange:P,onMove:A}=B.getState();A==null||A($,H),P==null||P(H)},onPanZoomEnd:($,H)=>{const{onViewportChangeEnd:P,onMoveEnd:A}=B.getState();A==null||A($,H),P==null||P(H)}});const{x:ee,y:M,zoom:V}=G.current.getViewport();return B.setState({panZoom:G.current,transform:[ee,M,V],domNode:O.current.closest(".react-flow")}),()=>{var $;($=G.current)==null||$.destroy()}}},[]),C.useEffect(()=>{var ee;(ee=G.current)==null||ee.update({onPaneContextMenu:e,zoomOnScroll:r,zoomOnPinch:o,panOnScroll:s,panOnScrollSpeed:l,panOnScrollMode:u,zoomOnDoubleClick:c,panOnDrag:f,zoomActivationKeyPressed:ne,preventScrolling:S,noPanClassName:N,userSelectionActive:T,noWheelClassName:_,lib:U,onTransformChange:X,connectionInProgress:Y,selectionOnDrag:I,paneClickDistance:E})},[e,r,o,s,l,u,c,f,ne,S,N,T,_,U,X,Y,I,E]),g.jsx("div",{className:"react-flow__renderer",ref:O,style:Kl,children:k})}const Vk=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Wk(){const{userSelectionActive:e,userSelectionRect:r}=be(Vk,Ae);return e&&r?g.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:r.width,height:r.height,transform:`translate(${r.x}px, ${r.y}px)`}}):null}const uc=(e,r)=>o=>{o.target===r.current&&(e==null||e(o))},Uk=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function Yk({isSelecting:e,selectionKeyPressed:r,selectionMode:o=ki.Full,panOnDrag:s,paneClickDistance:l,selectionOnDrag:u,onSelectionStart:c,onSelectionEnd:f,onPaneClick:h,onPaneContextMenu:y,onPaneScroll:v,onPaneMouseEnter:m,onPaneMouseMove:x,onPaneMouseLeave:S,children:k}){const _=$e(),{userSelectionActive:N,elementsSelectable:b,dragging:R,connectionInProgress:E}=be(Uk,Ae),I=b&&(e||N),B=C.useRef(null),O=C.useRef(),T=C.useRef(new Set),U=C.useRef(new Set),Y=C.useRef(!1),ne=P=>{if(Y.current||E){Y.current=!1;return}h==null||h(P),_.getState().resetSelectedElements(),_.setState({nodesSelectionActive:!1})},G=P=>{if(Array.isArray(s)&&(s!=null&&s.includes(2))){P.preventDefault();return}y==null||y(P)},X=v?P=>v(P):void 0,ee=P=>{Y.current&&(P.stopPropagation(),Y.current=!1)},M=P=>{var ie,se;const{domNode:A}=_.getState();if(O.current=A==null?void 0:A.getBoundingClientRect(),!O.current)return;const D=P.target===B.current;if(!D&&!!P.target.closest(".nokey")||!e||!(u&&D||r)||P.button!==0||!P.isPrimary)return;(se=(ie=P.target)==null?void 0:ie.setPointerCapture)==null||se.call(ie,P.pointerId),Y.current=!1;const{x:Z,y:J}=Ht(P.nativeEvent,O.current);_.setState({userSelectionRect:{width:0,height:0,startX:Z,startY:J,x:Z,y:J}}),D||(P.stopPropagation(),P.preventDefault())},V=P=>{const{userSelectionRect:A,transform:D,nodeLookup:j,edgeLookup:z,connectionLookup:Z,triggerNodeChanges:J,triggerEdgeChanges:ie,defaultEdgeOptions:se,resetSelectedElements:ce}=_.getState();if(!O.current||!A)return;const{x:te,y:ue}=Ht(P.nativeEvent,O.current),{startX:me,startY:we}=A;if(!Y.current){const _e=r?0:l;if(Math.hypot(te-me,ue-we)<=_e)return;ce(),c==null||c(P)}Y.current=!0;const xe={startX:me,startY:we,x:te<me?te:me,y:ue<we?ue:we,width:Math.abs(te-me),height:Math.abs(ue-we)},ve=T.current,Ce=U.current;T.current=new Set(Qc(j,xe,D,o===ki.Partial,!0).map(_e=>_e.id)),U.current=new Set;const Pe=(se==null?void 0:se.selectable)??!0;for(const _e of T.current){const We=Z.get(_e);if(We)for(const{edgeId:Pt}of We.values()){const ht=z.get(Pt);ht&&(ht.selectable??Pe)&&U.current.add(Pt)}}if(!fp(ve,T.current)){const _e=ro(j,T.current,!0);J(_e)}if(!fp(Ce,U.current)){const _e=ro(z,U.current);ie(_e)}_.setState({userSelectionRect:xe,userSelectionActive:!0,nodesSelectionActive:!1})},$=P=>{var A,D;P.button===0&&((D=(A=P.target)==null?void 0:A.releasePointerCapture)==null||D.call(A,P.pointerId),!N&&P.target===B.current&&_.getState().userSelectionRect&&(ne==null||ne(P)),_.setState({userSelectionActive:!1,userSelectionRect:null}),Y.current&&(f==null||f(P),_.setState({nodesSelectionActive:T.current.size>0})))},H=s===!0||Array.isArray(s)&&s.includes(0);return g.jsxs("div",{className:Ye(["react-flow__pane",{draggable:H,dragging:R,selection:e}]),onClick:I?void 0:uc(ne,B),onContextMenu:uc(G,B),onWheel:uc(X,B),onPointerEnter:I?void 0:m,onPointerMove:I?V:x,onPointerUp:I?$:void 0,onPointerDownCapture:I?M:void 0,onClickCapture:I?ee:void 0,onPointerLeave:S,ref:B,style:Kl,children:[k,g.jsx(Wk,{})]})}function Ic({id:e,store:r,unselect:o=!1,nodeRef:s}){const{addSelectedNodes:l,unselectNodesAndEdges:u,multiSelectionActive:c,nodeLookup:f,onError:h}=r.getState(),y=f.get(e);if(!y){h==null||h("012",Zt.error012(e));return}r.setState({nodesSelectionActive:!1}),y.selected?(o||y.selected&&c)&&(u({nodes:[y],edges:[]}),requestAnimationFrame(()=>{var v;return(v=s==null?void 0:s.current)==null?void 0:v.blur()})):l([e])}function U0({nodeRef:e,disabled:r=!1,noDragClassName:o,handleSelector:s,nodeId:l,isSelectable:u,nodeClickDistance:c}){const f=$e(),[h,y]=C.useState(!1),v=C.useRef();return C.useEffect(()=>{v.current=LE({getStoreItems:()=>f.getState(),onNodeMouseDown:m=>{Ic({id:m,store:f,nodeRef:e})},onDragStart:()=>{y(!0)},onDragStop:()=>{y(!1)}})},[]),C.useEffect(()=>{var m,x;if(r)(m=v.current)==null||m.destroy();else if(e.current)return(x=v.current)==null||x.update({noDragClassName:o,handleSelector:s,domNode:e.current,isSelectable:u,nodeId:l,nodeClickDistance:c}),()=>{var S;(S=v.current)==null||S.destroy()}},[o,s,r,u,e,l]),h}const Xk=e=>r=>r.selected&&(r.draggable||e&&typeof r.draggable>"u");function Y0(){const e=$e();return C.useCallback(o=>{const{nodeExtent:s,snapToGrid:l,snapGrid:u,nodesDraggable:c,onError:f,updateNodePositions:h,nodeLookup:y,nodeOrigin:v}=e.getState(),m=new Map,x=Xk(c),S=l?u[0]:5,k=l?u[1]:5,_=o.direction.x*S*o.factor,N=o.direction.y*k*o.factor;for(const[,b]of y){if(!x(b))continue;let R={x:b.internals.positionAbsolute.x+_,y:b.internals.positionAbsolute.y+N};l&&(R=zi(R,u));const{position:E,positionAbsolute:I}=c0({nodeId:b.id,nextPosition:R,nodeLookup:y,nodeExtent:s,nodeOrigin:v,onError:f});b.position=E,b.internals.positionAbsolute=I,m.set(b.id,b)}h(m)},[])}const rd=C.createContext(null),Qk=rd.Provider;rd.Consumer;const X0=()=>C.useContext(rd),Gk=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),Kk=(e,r,o)=>s=>{const{connectionClickStartHandle:l,connectionMode:u,connection:c}=s,{fromHandle:f,toHandle:h,isValid:y}=c,v=(h==null?void 0:h.nodeId)===e&&(h==null?void 0:h.id)===r&&(h==null?void 0:h.type)===o;return{connectingFrom:(f==null?void 0:f.nodeId)===e&&(f==null?void 0:f.id)===r&&(f==null?void 0:f.type)===o,connectingTo:v,clickConnecting:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===r&&(l==null?void 0:l.type)===o,isPossibleEndHandle:u===ao.Strict?(f==null?void 0:f.type)!==o:e!==(f==null?void 0:f.nodeId)||r!==(f==null?void 0:f.id),connectionInProcess:!!f,clickConnectionInProcess:!!l,valid:v&&y}};function qk({type:e="source",position:r=ye.Top,isValidConnection:o,isConnectable:s=!0,isConnectableStart:l=!0,isConnectableEnd:u=!0,id:c,onConnect:f,children:h,className:y,onMouseDown:v,onTouchStart:m,...x},S){var V,$;const k=c||null,_=e==="target",N=$e(),b=X0(),{connectOnClick:R,noPanClassName:E,rfId:I}=be(Gk,Ae),{connectingFrom:B,connectingTo:O,clickConnecting:T,isPossibleEndHandle:U,connectionInProcess:Y,clickConnectionInProcess:ne,valid:G}=be(Kk(b,k,e),Ae);b||($=(V=N.getState()).onError)==null||$.call(V,"010",Zt.error010());const X=H=>{const{defaultEdgeOptions:P,onConnect:A,hasDefaultEdges:D}=N.getState(),j={...P,...H};if(D){const{edges:z,setEdges:Z}=N.getState();Z(E0(j,z))}A==null||A(j),f==null||f(j)},ee=H=>{if(!b)return;const P=v0(H.nativeEvent);if(l&&(P&&H.button===0||!P)){const A=N.getState();jc.onPointerDown(H.nativeEvent,{handleDomNode:H.currentTarget,autoPanOnConnect:A.autoPanOnConnect,connectionMode:A.connectionMode,connectionRadius:A.connectionRadius,domNode:A.domNode,nodeLookup:A.nodeLookup,lib:A.lib,isTarget:_,handleId:k,nodeId:b,flowId:A.rfId,panBy:A.panBy,cancelConnection:A.cancelConnection,onConnectStart:A.onConnectStart,onConnectEnd:A.onConnectEnd,updateConnection:A.updateConnection,onConnect:X,isValidConnection:o||A.isValidConnection,getTransform:()=>N.getState().transform,getFromHandle:()=>N.getState().connection.fromHandle,autoPanSpeed:A.autoPanSpeed,dragThreshold:A.connectionDragThreshold})}P?v==null||v(H):m==null||m(H)},M=H=>{const{onClickConnectStart:P,onClickConnectEnd:A,connectionClickStartHandle:D,connectionMode:j,isValidConnection:z,lib:Z,rfId:J,nodeLookup:ie,connection:se}=N.getState();if(!b||!D&&!l)return;if(!D){P==null||P(H.nativeEvent,{nodeId:b,handleId:k,handleType:e}),N.setState({connectionClickStartHandle:{nodeId:b,type:e,id:k}});return}const ce=g0(H.target),te=o||z,{connection:ue,isValid:me}=jc.isValid(H.nativeEvent,{handle:{nodeId:b,id:k,type:e},connectionMode:j,fromNodeId:D.nodeId,fromHandleId:D.id||null,fromType:D.type,isValidConnection:te,flowId:J,doc:ce,lib:Z,nodeLookup:ie});me&&ue&&X(ue);const we=structuredClone(se);delete we.inProgress,we.toPosition=we.toHandle?we.toHandle.position:null,A==null||A(H,we),N.setState({connectionClickStartHandle:null})};return g.jsx("div",{"data-handleid":k,"data-nodeid":b,"data-handlepos":r,"data-id":`${I}-${b}-${k}-${e}`,className:Ye(["react-flow__handle",`react-flow__handle-${r}`,"nodrag",E,y,{source:!_,target:_,connectable:s,connectablestart:l,connectableend:u,clickconnecting:T,connectingfrom:B,connectingto:O,valid:G,connectionindicator:s&&(!Y||U)&&(Y||ne?u:l)}]),onMouseDown:ee,onTouchStart:ee,onClick:R?M:void 0,ref:S,...x,children:h})}const po=C.memo(V0(qk));function Zk({data:e,isConnectable:r,sourcePosition:o=ye.Bottom}){return g.jsxs(g.Fragment,{children:[e==null?void 0:e.label,g.jsx(po,{type:"source",position:o,isConnectable:r})]})}function Jk({data:e,isConnectable:r,targetPosition:o=ye.Top,sourcePosition:s=ye.Bottom}){return g.jsxs(g.Fragment,{children:[g.jsx(po,{type:"target",position:o,isConnectable:r}),e==null?void 0:e.label,g.jsx(po,{type:"source",position:s,isConnectable:r})]})}function eN(){return null}function tN({data:e,isConnectable:r,targetPosition:o=ye.Top}){return g.jsxs(g.Fragment,{children:[g.jsx(po,{type:"target",position:o,isConnectable:r}),e==null?void 0:e.label]})}const Tl={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Bp={input:Zk,default:Jk,output:tN,group:eN};function nN(e){var r,o,s,l;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((r=e.style)==null?void 0:r.width),height:e.height??e.initialHeight??((o=e.style)==null?void 0:o.height)}:{width:e.width??((s=e.style)==null?void 0:s.width),height:e.height??((l=e.style)==null?void 0:l.height)}}const rN=e=>{const{width:r,height:o,x:s,y:l}=Ti(e.nodeLookup,{filter:u=>!!u.selected});return{width:Ft(r)?r:null,height:Ft(o)?o:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${s}px,${l}px)`}};function oN({onSelectionContextMenu:e,noPanClassName:r,disableKeyboardA11y:o}){const s=$e(),{width:l,height:u,transformString:c,userSelectionActive:f}=be(rN,Ae),h=Y0(),y=C.useRef(null);if(C.useEffect(()=>{var x;o||(x=y.current)==null||x.focus({preventScroll:!0})},[o]),U0({nodeRef:y}),f||!l||!u)return null;const v=e?x=>{const S=s.getState().nodes.filter(k=>k.selected);e(x,S)}:void 0,m=x=>{Object.prototype.hasOwnProperty.call(Tl,x.key)&&(x.preventDefault(),h({direction:Tl[x.key],factor:x.shiftKey?4:1}))};return g.jsx("div",{className:Ye(["react-flow__nodesselection","react-flow__container",r]),style:{transform:c},children:g.jsx("div",{ref:y,className:"react-flow__nodesselection-rect",onContextMenu:v,tabIndex:o?void 0:-1,onKeyDown:o?void 0:m,style:{width:l,height:u}})})}const Vp=typeof window<"u"?window:void 0,iN=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function Q0({children:e,onPaneClick:r,onPaneMouseEnter:o,onPaneMouseMove:s,onPaneMouseLeave:l,onPaneContextMenu:u,onPaneScroll:c,paneClickDistance:f,deleteKeyCode:h,selectionKeyCode:y,selectionOnDrag:v,selectionMode:m,onSelectionStart:x,onSelectionEnd:S,multiSelectionKeyCode:k,panActivationKeyCode:_,zoomActivationKeyCode:N,elementsSelectable:b,zoomOnScroll:R,zoomOnPinch:E,panOnScroll:I,panOnScrollSpeed:B,panOnScrollMode:O,zoomOnDoubleClick:T,panOnDrag:U,defaultViewport:Y,translateExtent:ne,minZoom:G,maxZoom:X,preventScrolling:ee,onSelectionContextMenu:M,noWheelClassName:V,noPanClassName:$,disableKeyboardA11y:H,onViewportChange:P,isControlledViewport:A}){const{nodesSelectionActive:D,userSelectionActive:j}=be(iN,Ae),z=_i(y,{target:Vp}),Z=_i(_,{target:Vp}),J=Z||U,ie=Z||I,se=v&&J!==!0,ce=z||j||se;return Ok({deleteKeyCode:h,multiSelectionKeyCode:k}),g.jsx(Bk,{onPaneContextMenu:u,elementsSelectable:b,zoomOnScroll:R,zoomOnPinch:E,panOnScroll:ie,panOnScrollSpeed:B,panOnScrollMode:O,zoomOnDoubleClick:T,panOnDrag:!z&&J,defaultViewport:Y,translateExtent:ne,minZoom:G,maxZoom:X,zoomActivationKeyCode:N,preventScrolling:ee,noWheelClassName:V,noPanClassName:$,onViewportChange:P,isControlledViewport:A,paneClickDistance:f,selectionOnDrag:se,children:g.jsxs(Yk,{onSelectionStart:x,onSelectionEnd:S,onPaneClick:r,onPaneMouseEnter:o,onPaneMouseMove:s,onPaneMouseLeave:l,onPaneContextMenu:u,onPaneScroll:c,panOnDrag:J,isSelecting:!!ce,selectionMode:m,selectionKeyPressed:z,paneClickDistance:f,selectionOnDrag:se,children:[e,D&&g.jsx(oN,{onSelectionContextMenu:M,noPanClassName:$,disableKeyboardA11y:H})]})})}Q0.displayName="FlowRenderer";const sN=C.memo(Q0),lN=e=>r=>e?Qc(r.nodeLookup,{x:0,y:0,width:r.width,height:r.height},r.transform,!0).map(o=>o.id):Array.from(r.nodeLookup.keys());function aN(e){return be(C.useCallback(lN(e),[e]),Ae)}const uN=e=>e.updateNodeInternals;function cN(){const e=be(uN),[r]=C.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(o=>{const s=new Map;o.forEach(l=>{const u=l.target.getAttribute("data-id");s.set(u,{id:u,nodeElement:l.target,force:!0})}),e(s)}));return C.useEffect(()=>()=>{r==null||r.disconnect()},[r]),r}function dN({node:e,nodeType:r,hasDimensions:o,resizeObserver:s}){const l=$e(),u=C.useRef(null),c=C.useRef(null),f=C.useRef(e.sourcePosition),h=C.useRef(e.targetPosition),y=C.useRef(r),v=o&&!!e.internals.handleBounds;return C.useEffect(()=>{u.current&&!e.hidden&&(!v||c.current!==u.current)&&(c.current&&(s==null||s.unobserve(c.current)),s==null||s.observe(u.current),c.current=u.current)},[v,e.hidden]),C.useEffect(()=>()=>{c.current&&(s==null||s.unobserve(c.current),c.current=null)},[]),C.useEffect(()=>{if(u.current){const m=y.current!==r,x=f.current!==e.sourcePosition,S=h.current!==e.targetPosition;(m||x||S)&&(y.current=r,f.current=e.sourcePosition,h.current=e.targetPosition,l.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:u.current,force:!0}]])))}},[e.id,r,e.sourcePosition,e.targetPosition]),u}function fN({id:e,onClick:r,onMouseEnter:o,onMouseMove:s,onMouseLeave:l,onContextMenu:u,onDoubleClick:c,nodesDraggable:f,elementsSelectable:h,nodesConnectable:y,nodesFocusable:v,resizeObserver:m,noDragClassName:x,noPanClassName:S,disableKeyboardA11y:k,rfId:_,nodeTypes:N,nodeClickDistance:b,onError:R}){const{node:E,internals:I,isParent:B}=be(te=>{const ue=te.nodeLookup.get(e),me=te.parentLookup.has(e);return{node:ue,internals:ue.internals,isParent:me}},Ae);let O=E.type||"default",T=(N==null?void 0:N[O])||Bp[O];T===void 0&&(R==null||R("003",Zt.error003(O)),O="default",T=(N==null?void 0:N.default)||Bp.default);const U=!!(E.draggable||f&&typeof E.draggable>"u"),Y=!!(E.selectable||h&&typeof E.selectable>"u"),ne=!!(E.connectable||y&&typeof E.connectable>"u"),G=!!(E.focusable||v&&typeof E.focusable>"u"),X=$e(),ee=p0(E),M=dN({node:E,nodeType:O,hasDimensions:ee,resizeObserver:m}),V=U0({nodeRef:M,disabled:E.hidden||!U,noDragClassName:x,handleSelector:E.dragHandle,nodeId:e,isSelectable:Y,nodeClickDistance:b}),$=Y0();if(E.hidden)return null;const H=xn(E),P=nN(E),A=Y||U||r||o||s||l,D=o?te=>o(te,{...I.userNode}):void 0,j=s?te=>s(te,{...I.userNode}):void 0,z=l?te=>l(te,{...I.userNode}):void 0,Z=u?te=>u(te,{...I.userNode}):void 0,J=c?te=>c(te,{...I.userNode}):void 0,ie=te=>{const{selectNodesOnDrag:ue,nodeDragThreshold:me}=X.getState();Y&&(!ue||!U||me>0)&&Ic({id:e,store:X,nodeRef:M}),r&&r(te,{...I.userNode})},se=te=>{if(!(y0(te.nativeEvent)||k)){if(i0.includes(te.key)&&Y){const ue=te.key==="Escape";Ic({id:e,store:X,unselect:ue,nodeRef:M})}else if(U&&E.selected&&Object.prototype.hasOwnProperty.call(Tl,te.key)){te.preventDefault();const{ariaLabelConfig:ue}=X.getState();X.setState({ariaLiveMessage:ue["node.a11yDescription.ariaLiveMessage"]({direction:te.key.replace("Arrow","").toLowerCase(),x:~~I.positionAbsolute.x,y:~~I.positionAbsolute.y})}),$({direction:Tl[te.key],factor:te.shiftKey?4:1})}}},ce=()=>{var Ce;if(k||!((Ce=M.current)!=null&&Ce.matches(":focus-visible")))return;const{transform:te,width:ue,height:me,autoPanOnNodeFocus:we,setCenter:xe}=X.getState();if(!we)return;Qc(new Map([[e,E]]),{x:0,y:0,width:ue,height:me},te,!0).length>0||xe(E.position.x+H.width/2,E.position.y+H.height/2,{zoom:te[2]})};return g.jsx("div",{className:Ye(["react-flow__node",`react-flow__node-${O}`,{[S]:U},E.className,{selected:E.selected,selectable:Y,parent:B,draggable:U,dragging:V}]),ref:M,style:{zIndex:I.z,transform:`translate(${I.positionAbsolute.x}px,${I.positionAbsolute.y}px)`,pointerEvents:A?"all":"none",visibility:ee?"visible":"hidden",...E.style,...P},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:D,onMouseMove:j,onMouseLeave:z,onContextMenu:Z,onClick:ie,onDoubleClick:J,onKeyDown:G?se:void 0,tabIndex:G?0:void 0,onFocus:G?ce:void 0,role:E.ariaRole??(G?"group":void 0),"aria-roledescription":"node","aria-describedby":k?void 0:`${$0}-${_}`,"aria-label":E.ariaLabel,...E.domAttributes,children:g.jsx(Qk,{value:e,children:g.jsx(T,{id:e,data:E.data,type:O,positionAbsoluteX:I.positionAbsolute.x,positionAbsoluteY:I.positionAbsolute.y,selected:E.selected??!1,selectable:Y,draggable:U,deletable:E.deletable??!0,isConnectable:ne,sourcePosition:E.sourcePosition,targetPosition:E.targetPosition,dragging:V,dragHandle:E.dragHandle,zIndex:I.z,parentId:E.parentId,...H})})})}var hN=C.memo(fN);const pN=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function G0(e){const{nodesDraggable:r,nodesConnectable:o,nodesFocusable:s,elementsSelectable:l,onError:u}=be(pN,Ae),c=aN(e.onlyRenderVisibleElements),f=cN();return g.jsx("div",{className:"react-flow__nodes",style:Kl,children:c.map(h=>g.jsx(hN,{id:h,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:f,nodesDraggable:r,nodesConnectable:o,nodesFocusable:s,elementsSelectable:l,nodeClickDistance:e.nodeClickDistance,onError:u},h))})}G0.displayName="NodeRenderer";const mN=C.memo(G0);function gN(e){return be(C.useCallback(o=>{if(!e)return o.edges.map(l=>l.id);const s=[];if(o.width&&o.height)for(const l of o.edges){const u=o.nodeLookup.get(l.source),c=o.nodeLookup.get(l.target);u&&c&&mE({sourceNode:u,targetNode:c,width:o.width,height:o.height,transform:o.transform})&&s.push(l.id)}return s},[e]),Ae)}const yN=({color:e="none",strokeWidth:r=1})=>{const o={strokeWidth:r,...e&&{stroke:e}};return g.jsx("polyline",{className:"arrow",style:o,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},vN=({color:e="none",strokeWidth:r=1})=>{const o={strokeWidth:r,...e&&{stroke:e,fill:e}};return g.jsx("polyline",{className:"arrowclosed",style:o,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Wp={[Pl.Arrow]:yN,[Pl.ArrowClosed]:vN};function xN(e){const r=$e();return C.useMemo(()=>{var l,u;return Object.prototype.hasOwnProperty.call(Wp,e)?Wp[e]:((u=(l=r.getState()).onError)==null||u.call(l,"009",Zt.error009(e)),null)},[e])}const wN=({id:e,type:r,color:o,width:s=12.5,height:l=12.5,markerUnits:u="strokeWidth",strokeWidth:c,orient:f="auto-start-reverse"})=>{const h=xN(r);return h?g.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${s}`,markerHeight:`${l}`,viewBox:"-10 -10 20 20",markerUnits:u,orient:f,refX:"0",refY:"0",children:g.jsx(h,{color:o,strokeWidth:c})}):null},K0=({defaultColor:e,rfId:r})=>{const o=be(u=>u.edges),s=be(u=>u.defaultEdgeOptions),l=C.useMemo(()=>EE(o,{id:r,defaultColor:e,defaultMarkerStart:s==null?void 0:s.markerStart,defaultMarkerEnd:s==null?void 0:s.markerEnd}),[o,s,r,e]);return l.length?g.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:g.jsx("defs",{children:l.map(u=>g.jsx(wN,{id:u.id,type:u.type,color:u.color,width:u.width,height:u.height,markerUnits:u.markerUnits,strokeWidth:u.strokeWidth,orient:u.orient},u.id))})}):null};K0.displayName="MarkerDefinitions";var SN=C.memo(K0);function q0({x:e,y:r,label:o,labelStyle:s,labelShowBg:l=!0,labelBgStyle:u,labelBgPadding:c=[2,4],labelBgBorderRadius:f=2,children:h,className:y,...v}){const[m,x]=C.useState({x:1,y:0,width:0,height:0}),S=Ye(["react-flow__edge-textwrapper",y]),k=C.useRef(null);return C.useEffect(()=>{if(k.current){const _=k.current.getBBox();x({x:_.x,y:_.y,width:_.width,height:_.height})}},[o]),o?g.jsxs("g",{transform:`translate(${e-m.width/2} ${r-m.height/2})`,className:S,visibility:m.width?"visible":"hidden",...v,children:[l&&g.jsx("rect",{width:m.width+2*c[0],x:-c[0],y:-c[1],height:m.height+2*c[1],className:"react-flow__edge-textbg",style:u,rx:f,ry:f}),g.jsx("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:k,style:s,children:o}),h]}):null}q0.displayName="EdgeText";const EN=C.memo(q0);function ql({path:e,labelX:r,labelY:o,label:s,labelStyle:l,labelShowBg:u,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:h,interactionWidth:y=20,...v}){return g.jsxs(g.Fragment,{children:[g.jsx("path",{...v,d:e,fill:"none",className:Ye(["react-flow__edge-path",v.className])}),y?g.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:y,className:"react-flow__edge-interaction"}):null,s&&Ft(r)&&Ft(o)?g.jsx(EN,{x:r,y:o,label:s,labelStyle:l,labelShowBg:u,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:h}):null]})}function Up({pos:e,x1:r,y1:o,x2:s,y2:l}){return e===ye.Left||e===ye.Right?[.5*(r+s),o]:[r,.5*(o+l)]}function Z0({sourceX:e,sourceY:r,sourcePosition:o=ye.Bottom,targetX:s,targetY:l,targetPosition:u=ye.Top}){const[c,f]=Up({pos:o,x1:e,y1:r,x2:s,y2:l}),[h,y]=Up({pos:u,x1:s,y1:l,x2:e,y2:r}),[v,m,x,S]=x0({sourceX:e,sourceY:r,targetX:s,targetY:l,sourceControlX:c,sourceControlY:f,targetControlX:h,targetControlY:y});return[`M${e},${r} C${c},${f} ${h},${y} ${s},${l}`,v,m,x,S]}function J0(e){return C.memo(({id:r,sourceX:o,sourceY:s,targetX:l,targetY:u,sourcePosition:c,targetPosition:f,label:h,labelStyle:y,labelShowBg:v,labelBgStyle:m,labelBgPadding:x,labelBgBorderRadius:S,style:k,markerEnd:_,markerStart:N,interactionWidth:b})=>{const[R,E,I]=Z0({sourceX:o,sourceY:s,sourcePosition:c,targetX:l,targetY:u,targetPosition:f}),B=e.isInternal?void 0:r;return g.jsx(ql,{id:B,path:R,labelX:E,labelY:I,label:h,labelStyle:y,labelShowBg:v,labelBgStyle:m,labelBgPadding:x,labelBgBorderRadius:S,style:k,markerEnd:_,markerStart:N,interactionWidth:b})})}const kN=J0({isInternal:!1}),eg=J0({isInternal:!0});kN.displayName="SimpleBezierEdge";eg.displayName="SimpleBezierEdgeInternal";function tg(e){return C.memo(({id:r,sourceX:o,sourceY:s,targetX:l,targetY:u,label:c,labelStyle:f,labelShowBg:h,labelBgStyle:y,labelBgPadding:v,labelBgBorderRadius:m,style:x,sourcePosition:S=ye.Bottom,targetPosition:k=ye.Top,markerEnd:_,markerStart:N,pathOptions:b,interactionWidth:R})=>{const[E,I,B]=Cc({sourceX:o,sourceY:s,sourcePosition:S,targetX:l,targetY:u,targetPosition:k,borderRadius:b==null?void 0:b.borderRadius,offset:b==null?void 0:b.offset,stepPosition:b==null?void 0:b.stepPosition}),O=e.isInternal?void 0:r;return g.jsx(ql,{id:O,path:E,labelX:I,labelY:B,label:c,labelStyle:f,labelShowBg:h,labelBgStyle:y,labelBgPadding:v,labelBgBorderRadius:m,style:x,markerEnd:_,markerStart:N,interactionWidth:R})})}const ng=tg({isInternal:!1}),rg=tg({isInternal:!0});ng.displayName="SmoothStepEdge";rg.displayName="SmoothStepEdgeInternal";function og(e){return C.memo(({id:r,...o})=>{var l;const s=e.isInternal?void 0:r;return g.jsx(ng,{...o,id:s,pathOptions:C.useMemo(()=>{var u;return{borderRadius:0,offset:(u=o.pathOptions)==null?void 0:u.offset}},[(l=o.pathOptions)==null?void 0:l.offset])})})}const NN=og({isInternal:!1}),ig=og({isInternal:!0});NN.displayName="StepEdge";ig.displayName="StepEdgeInternal";function sg(e){return C.memo(({id:r,sourceX:o,sourceY:s,targetX:l,targetY:u,label:c,labelStyle:f,labelShowBg:h,labelBgStyle:y,labelBgPadding:v,labelBgBorderRadius:m,style:x,markerEnd:S,markerStart:k,interactionWidth:_})=>{const[N,b,R]=k0({sourceX:o,sourceY:s,targetX:l,targetY:u}),E=e.isInternal?void 0:r;return g.jsx(ql,{id:E,path:N,labelX:b,labelY:R,label:c,labelStyle:f,labelShowBg:h,labelBgStyle:y,labelBgPadding:v,labelBgBorderRadius:m,style:x,markerEnd:S,markerStart:k,interactionWidth:_})})}const CN=sg({isInternal:!1}),lg=sg({isInternal:!0});CN.displayName="StraightEdge";lg.displayName="StraightEdgeInternal";function ag(e){return C.memo(({id:r,sourceX:o,sourceY:s,targetX:l,targetY:u,sourcePosition:c=ye.Bottom,targetPosition:f=ye.Top,label:h,labelStyle:y,labelShowBg:v,labelBgStyle:m,labelBgPadding:x,labelBgBorderRadius:S,style:k,markerEnd:_,markerStart:N,pathOptions:b,interactionWidth:R})=>{const[E,I,B]=w0({sourceX:o,sourceY:s,sourcePosition:c,targetX:l,targetY:u,targetPosition:f,curvature:b==null?void 0:b.curvature}),O=e.isInternal?void 0:r;return g.jsx(ql,{id:O,path:E,labelX:I,labelY:B,label:h,labelStyle:y,labelShowBg:v,labelBgStyle:m,labelBgPadding:x,labelBgBorderRadius:S,style:k,markerEnd:_,markerStart:N,interactionWidth:R})})}const _N=ag({isInternal:!1}),ug=ag({isInternal:!0});_N.displayName="BezierEdge";ug.displayName="BezierEdgeInternal";const Yp={default:ug,straight:lg,step:ig,smoothstep:rg,simplebezier:eg},Xp={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},bN=(e,r,o)=>o===ye.Left?e-r:o===ye.Right?e+r:e,jN=(e,r,o)=>o===ye.Top?e-r:o===ye.Bottom?e+r:e,Qp="react-flow__edgeupdater";function Gp({position:e,centerX:r,centerY:o,radius:s=10,onMouseDown:l,onMouseEnter:u,onMouseOut:c,type:f}){return g.jsx("circle",{onMouseDown:l,onMouseEnter:u,onMouseOut:c,className:Ye([Qp,`${Qp}-${f}`]),cx:bN(r,s,e),cy:jN(o,s,e),r:s,stroke:"transparent",fill:"transparent"})}function IN({isReconnectable:e,reconnectRadius:r,edge:o,sourceX:s,sourceY:l,targetX:u,targetY:c,sourcePosition:f,targetPosition:h,onReconnect:y,onReconnectStart:v,onReconnectEnd:m,setReconnecting:x,setUpdateHover:S}){const k=$e(),_=(I,B)=>{if(I.button!==0)return;const{autoPanOnConnect:O,domNode:T,isValidConnection:U,connectionMode:Y,connectionRadius:ne,lib:G,onConnectStart:X,onConnectEnd:ee,cancelConnection:M,nodeLookup:V,rfId:$,panBy:H,updateConnection:P}=k.getState(),A=B.type==="target",D=(Z,J)=>{x(!1),m==null||m(Z,o,B.type,J)},j=Z=>y==null?void 0:y(o,Z),z=(Z,J)=>{x(!0),v==null||v(I,o,B.type),X==null||X(Z,J)};jc.onPointerDown(I.nativeEvent,{autoPanOnConnect:O,connectionMode:Y,connectionRadius:ne,domNode:T,handleId:B.id,nodeId:B.nodeId,nodeLookup:V,isTarget:A,edgeUpdaterType:B.type,lib:G,flowId:$,cancelConnection:M,panBy:H,isValidConnection:U,onConnect:j,onConnectStart:z,onConnectEnd:ee,onReconnectEnd:D,updateConnection:P,getTransform:()=>k.getState().transform,getFromHandle:()=>k.getState().connection.fromHandle,dragThreshold:k.getState().connectionDragThreshold,handleDomNode:I.currentTarget})},N=I=>_(I,{nodeId:o.target,id:o.targetHandle??null,type:"target"}),b=I=>_(I,{nodeId:o.source,id:o.sourceHandle??null,type:"source"}),R=()=>S(!0),E=()=>S(!1);return g.jsxs(g.Fragment,{children:[(e===!0||e==="source")&&g.jsx(Gp,{position:f,centerX:s,centerY:l,radius:r,onMouseDown:N,onMouseEnter:R,onMouseOut:E,type:"source"}),(e===!0||e==="target")&&g.jsx(Gp,{position:h,centerX:u,centerY:c,radius:r,onMouseDown:b,onMouseEnter:R,onMouseOut:E,type:"target"})]})}function MN({id:e,edgesFocusable:r,edgesReconnectable:o,elementsSelectable:s,onClick:l,onDoubleClick:u,onContextMenu:c,onMouseEnter:f,onMouseMove:h,onMouseLeave:y,reconnectRadius:v,onReconnect:m,onReconnectStart:x,onReconnectEnd:S,rfId:k,edgeTypes:_,noPanClassName:N,onError:b,disableKeyboardA11y:R}){let E=be(xe=>xe.edgeLookup.get(e));const I=be(xe=>xe.defaultEdgeOptions);E=I?{...I,...E}:E;let B=E.type||"default",O=(_==null?void 0:_[B])||Yp[B];O===void 0&&(b==null||b("011",Zt.error011(B)),B="default",O=(_==null?void 0:_.default)||Yp.default);const T=!!(E.focusable||r&&typeof E.focusable>"u"),U=typeof m<"u"&&(E.reconnectable||o&&typeof E.reconnectable>"u"),Y=!!(E.selectable||s&&typeof E.selectable>"u"),ne=C.useRef(null),[G,X]=C.useState(!1),[ee,M]=C.useState(!1),V=$e(),{zIndex:$,sourceX:H,sourceY:P,targetX:A,targetY:D,sourcePosition:j,targetPosition:z}=be(C.useCallback(xe=>{const ve=xe.nodeLookup.get(E.source),Ce=xe.nodeLookup.get(E.target);if(!ve||!Ce)return{zIndex:E.zIndex,...Xp};const Pe=SE({id:e,sourceNode:ve,targetNode:Ce,sourceHandle:E.sourceHandle||null,targetHandle:E.targetHandle||null,connectionMode:xe.connectionMode,onError:b});return{zIndex:pE({selected:E.selected,zIndex:E.zIndex,sourceNode:ve,targetNode:Ce,elevateOnSelect:xe.elevateEdgesOnSelect,zIndexMode:xe.zIndexMode}),...Pe||Xp}},[E.source,E.target,E.sourceHandle,E.targetHandle,E.selected,E.zIndex]),Ae),Z=C.useMemo(()=>E.markerStart?`url('#${_c(E.markerStart,k)}')`:void 0,[E.markerStart,k]),J=C.useMemo(()=>E.markerEnd?`url('#${_c(E.markerEnd,k)}')`:void 0,[E.markerEnd,k]);if(E.hidden||H===null||P===null||A===null||D===null)return null;const ie=xe=>{var _e;const{addSelectedEdges:ve,unselectNodesAndEdges:Ce,multiSelectionActive:Pe}=V.getState();Y&&(V.setState({nodesSelectionActive:!1}),E.selected&&Pe?(Ce({nodes:[],edges:[E]}),(_e=ne.current)==null||_e.blur()):ve([e])),l&&l(xe,E)},se=u?xe=>{u(xe,{...E})}:void 0,ce=c?xe=>{c(xe,{...E})}:void 0,te=f?xe=>{f(xe,{...E})}:void 0,ue=h?xe=>{h(xe,{...E})}:void 0,me=y?xe=>{y(xe,{...E})}:void 0,we=xe=>{var ve;if(!R&&i0.includes(xe.key)&&Y){const{unselectNodesAndEdges:Ce,addSelectedEdges:Pe}=V.getState();xe.key==="Escape"?((ve=ne.current)==null||ve.blur(),Ce({edges:[E]})):Pe([e])}};return g.jsx("svg",{style:{zIndex:$},children:g.jsxs("g",{className:Ye(["react-flow__edge",`react-flow__edge-${B}`,E.className,N,{selected:E.selected,animated:E.animated,inactive:!Y&&!l,updating:G,selectable:Y}]),onClick:ie,onDoubleClick:se,onContextMenu:ce,onMouseEnter:te,onMouseMove:ue,onMouseLeave:me,onKeyDown:T?we:void 0,tabIndex:T?0:void 0,role:E.ariaRole??(T?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":E.ariaLabel===null?void 0:E.ariaLabel||`Edge from ${E.source} to ${E.target}`,"aria-describedby":T?`${D0}-${k}`:void 0,ref:ne,...E.domAttributes,children:[!ee&&g.jsx(O,{id:e,source:E.source,target:E.target,type:E.type,selected:E.selected,animated:E.animated,selectable:Y,deletable:E.deletable??!0,label:E.label,labelStyle:E.labelStyle,labelShowBg:E.labelShowBg,labelBgStyle:E.labelBgStyle,labelBgPadding:E.labelBgPadding,labelBgBorderRadius:E.labelBgBorderRadius,sourceX:H,sourceY:P,targetX:A,targetY:D,sourcePosition:j,targetPosition:z,data:E.data,style:E.style,sourceHandleId:E.sourceHandle,targetHandleId:E.targetHandle,markerStart:Z,markerEnd:J,pathOptions:"pathOptions"in E?E.pathOptions:void 0,interactionWidth:E.interactionWidth}),U&&g.jsx(IN,{edge:E,isReconnectable:U,reconnectRadius:v,onReconnect:m,onReconnectStart:x,onReconnectEnd:S,sourceX:H,sourceY:P,targetX:A,targetY:D,sourcePosition:j,targetPosition:z,setUpdateHover:X,setReconnecting:M})]})})}var PN=C.memo(MN);const RN=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function cg({defaultMarkerColor:e,onlyRenderVisibleElements:r,rfId:o,edgeTypes:s,noPanClassName:l,onReconnect:u,onEdgeContextMenu:c,onEdgeMouseEnter:f,onEdgeMouseMove:h,onEdgeMouseLeave:y,onEdgeClick:v,reconnectRadius:m,onEdgeDoubleClick:x,onReconnectStart:S,onReconnectEnd:k,disableKeyboardA11y:_}){const{edgesFocusable:N,edgesReconnectable:b,elementsSelectable:R,onError:E}=be(RN,Ae),I=gN(r);return g.jsxs("div",{className:"react-flow__edges",children:[g.jsx(SN,{defaultColor:e,rfId:o}),I.map(B=>g.jsx(PN,{id:B,edgesFocusable:N,edgesReconnectable:b,elementsSelectable:R,noPanClassName:l,onReconnect:u,onContextMenu:c,onMouseEnter:f,onMouseMove:h,onMouseLeave:y,onClick:v,reconnectRadius:m,onDoubleClick:x,onReconnectStart:S,onReconnectEnd:k,rfId:o,onError:E,edgeTypes:s,disableKeyboardA11y:_},B))]})}cg.displayName="EdgeRenderer";const LN=C.memo(cg),TN=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function zN({children:e}){const r=be(TN);return g.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:r},children:e})}function AN(e){const r=nd(),o=C.useRef(!1);C.useEffect(()=>{!o.current&&r.viewportInitialized&&e&&(setTimeout(()=>e(r),1),o.current=!0)},[e,r.viewportInitialized])}const $N=e=>{var r;return(r=e.panZoom)==null?void 0:r.syncViewport};function DN(e){const r=be($N),o=$e();return C.useEffect(()=>{e&&(r==null||r(e),o.setState({transform:[e.x,e.y,e.zoom]}))},[e,r]),null}function ON(e){return e.connection.inProgress?{...e.connection,to:Ai(e.connection.to,e.transform)}:{...e.connection}}function FN(e){return ON}function HN(e){const r=FN();return be(r,Ae)}const BN=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function VN({containerStyle:e,style:r,type:o,component:s}){const{nodesConnectable:l,width:u,height:c,isValid:f,inProgress:h}=be(BN,Ae);return!(u&&l&&h)?null:g.jsx("svg",{style:e,width:u,height:c,className:"react-flow__connectionline react-flow__container",children:g.jsx("g",{className:Ye(["react-flow__connection",a0(f)]),children:g.jsx(dg,{style:r,type:o,CustomComponent:s,isValid:f})})})}const dg=({style:e,type:r=Wn.Bezier,CustomComponent:o,isValid:s})=>{const{inProgress:l,from:u,fromNode:c,fromHandle:f,fromPosition:h,to:y,toNode:v,toHandle:m,toPosition:x,pointer:S}=HN();if(!l)return;if(o)return g.jsx(o,{connectionLineType:r,connectionLineStyle:e,fromNode:c,fromHandle:f,fromX:u.x,fromY:u.y,toX:y.x,toY:y.y,fromPosition:h,toPosition:x,connectionStatus:a0(s),toNode:v,toHandle:m,pointer:S});let k="";const _={sourceX:u.x,sourceY:u.y,sourcePosition:h,targetX:y.x,targetY:y.y,targetPosition:x};switch(r){case Wn.Bezier:[k]=w0(_);break;case Wn.SimpleBezier:[k]=Z0(_);break;case Wn.Step:[k]=Cc({..._,borderRadius:0});break;case Wn.SmoothStep:[k]=Cc(_);break;default:[k]=k0(_)}return g.jsx("path",{d:k,fill:"none",className:"react-flow__connection-path",style:e})};dg.displayName="ConnectionLine";const WN={};function Kp(e=WN){C.useRef(e),$e(),C.useEffect(()=>{},[e])}function UN(){$e(),C.useRef(!1),C.useEffect(()=>{},[])}function fg({nodeTypes:e,edgeTypes:r,onInit:o,onNodeClick:s,onEdgeClick:l,onNodeDoubleClick:u,onEdgeDoubleClick:c,onNodeMouseEnter:f,onNodeMouseMove:h,onNodeMouseLeave:y,onNodeContextMenu:v,onSelectionContextMenu:m,onSelectionStart:x,onSelectionEnd:S,connectionLineType:k,connectionLineStyle:_,connectionLineComponent:N,connectionLineContainerStyle:b,selectionKeyCode:R,selectionOnDrag:E,selectionMode:I,multiSelectionKeyCode:B,panActivationKeyCode:O,zoomActivationKeyCode:T,deleteKeyCode:U,onlyRenderVisibleElements:Y,elementsSelectable:ne,defaultViewport:G,translateExtent:X,minZoom:ee,maxZoom:M,preventScrolling:V,defaultMarkerColor:$,zoomOnScroll:H,zoomOnPinch:P,panOnScroll:A,panOnScrollSpeed:D,panOnScrollMode:j,zoomOnDoubleClick:z,panOnDrag:Z,onPaneClick:J,onPaneMouseEnter:ie,onPaneMouseMove:se,onPaneMouseLeave:ce,onPaneScroll:te,onPaneContextMenu:ue,paneClickDistance:me,nodeClickDistance:we,onEdgeContextMenu:xe,onEdgeMouseEnter:ve,onEdgeMouseMove:Ce,onEdgeMouseLeave:Pe,reconnectRadius:_e,onReconnect:We,onReconnectStart:Pt,onReconnectEnd:ht,noDragClassName:pt,noWheelClassName:Et,noPanClassName:tn,disableKeyboardA11y:wn,nodeExtent:Sr,rfId:Xn,viewport:nn,onViewportChange:rn}){return Kp(e),Kp(r),UN(),AN(o),DN(nn),g.jsx(sN,{onPaneClick:J,onPaneMouseEnter:ie,onPaneMouseMove:se,onPaneMouseLeave:ce,onPaneContextMenu:ue,onPaneScroll:te,paneClickDistance:me,deleteKeyCode:U,selectionKeyCode:R,selectionOnDrag:E,selectionMode:I,onSelectionStart:x,onSelectionEnd:S,multiSelectionKeyCode:B,panActivationKeyCode:O,zoomActivationKeyCode:T,elementsSelectable:ne,zoomOnScroll:H,zoomOnPinch:P,zoomOnDoubleClick:z,panOnScroll:A,panOnScrollSpeed:D,panOnScrollMode:j,panOnDrag:Z,defaultViewport:G,translateExtent:X,minZoom:ee,maxZoom:M,onSelectionContextMenu:m,preventScrolling:V,noDragClassName:pt,noWheelClassName:Et,noPanClassName:tn,disableKeyboardA11y:wn,onViewportChange:rn,isControlledViewport:!!nn,children:g.jsxs(zN,{children:[g.jsx(LN,{edgeTypes:r,onEdgeClick:l,onEdgeDoubleClick:c,onReconnect:We,onReconnectStart:Pt,onReconnectEnd:ht,onlyRenderVisibleElements:Y,onEdgeContextMenu:xe,onEdgeMouseEnter:ve,onEdgeMouseMove:Ce,onEdgeMouseLeave:Pe,reconnectRadius:_e,defaultMarkerColor:$,noPanClassName:tn,disableKeyboardA11y:wn,rfId:Xn}),g.jsx(VN,{style:_,type:k,component:N,containerStyle:b}),g.jsx("div",{className:"react-flow__edgelabel-renderer"}),g.jsx(mN,{nodeTypes:e,onNodeClick:s,onNodeDoubleClick:u,onNodeMouseEnter:f,onNodeMouseMove:h,onNodeMouseLeave:y,onNodeContextMenu:v,nodeClickDistance:we,onlyRenderVisibleElements:Y,noPanClassName:tn,noDragClassName:pt,disableKeyboardA11y:wn,nodeExtent:Sr,rfId:Xn}),g.jsx("div",{className:"react-flow__viewport-portal"})]})})}fg.displayName="GraphView";const YN=C.memo(fg),qp=({nodes:e,edges:r,defaultNodes:o,defaultEdges:s,width:l,height:u,fitView:c,fitViewOptions:f,minZoom:h=.5,maxZoom:y=2,nodeOrigin:v,nodeExtent:m,zIndexMode:x="basic"}={})=>{const S=new Map,k=new Map,_=new Map,N=new Map,b=s??r??[],R=o??e??[],E=v??[0,0],I=m??Ei;_0(_,N,b);const B=bc(R,S,k,{nodeOrigin:E,nodeExtent:I,zIndexMode:x});let O=[0,0,1];if(c&&l&&u){const T=Ti(S,{filter:G=>!!((G.width||G.initialWidth)&&(G.height||G.initialHeight))}),{x:U,y:Y,zoom:ne}=Gc(T,l,u,h,y,(f==null?void 0:f.padding)??.1);O=[U,Y,ne]}return{rfId:"1",width:l??0,height:u??0,transform:O,nodes:R,nodesInitialized:B,nodeLookup:S,parentLookup:k,edges:b,edgeLookup:N,connectionLookup:_,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:o!==void 0,hasDefaultEdges:s!==void 0,panZoom:null,minZoom:h,maxZoom:y,translateExtent:Ei,nodeExtent:I,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:ao.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:E,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:c??!1,fitViewOptions:f,fitViewResolver:null,connection:{...l0},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:aE,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:s0,zIndexMode:x,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},XN=({nodes:e,edges:r,defaultNodes:o,defaultEdges:s,width:l,height:u,fitView:c,fitViewOptions:f,minZoom:h,maxZoom:y,nodeOrigin:v,nodeExtent:m,zIndexMode:x})=>dk((S,k)=>{async function _(){const{nodeLookup:N,panZoom:b,fitViewOptions:R,fitViewResolver:E,width:I,height:B,minZoom:O,maxZoom:T}=k();b&&(await sE({nodes:N,width:I,height:B,panZoom:b,minZoom:O,maxZoom:T},R),E==null||E.resolve(!0),S({fitViewResolver:null}))}return{...qp({nodes:e,edges:r,width:l,height:u,fitView:c,fitViewOptions:f,minZoom:h,maxZoom:y,nodeOrigin:v,nodeExtent:m,defaultNodes:o,defaultEdges:s,zIndexMode:x}),setNodes:N=>{const{nodeLookup:b,parentLookup:R,nodeOrigin:E,elevateNodesOnSelect:I,fitViewQueued:B,zIndexMode:O}=k(),T=bc(N,b,R,{nodeOrigin:E,nodeExtent:m,elevateNodesOnSelect:I,checkEquality:!0,zIndexMode:O});B&&T?(_(),S({nodes:N,nodesInitialized:T,fitViewQueued:!1,fitViewOptions:void 0})):S({nodes:N,nodesInitialized:T})},setEdges:N=>{const{connectionLookup:b,edgeLookup:R}=k();_0(b,R,N),S({edges:N})},setDefaultNodesAndEdges:(N,b)=>{if(N){const{setNodes:R}=k();R(N),S({hasDefaultNodes:!0})}if(b){const{setEdges:R}=k();R(b),S({hasDefaultEdges:!0})}},updateNodeInternals:N=>{const{triggerNodeChanges:b,nodeLookup:R,parentLookup:E,domNode:I,nodeOrigin:B,nodeExtent:O,debug:T,fitViewQueued:U,zIndexMode:Y}=k(),{changes:ne,updatedInternals:G}=IE(N,R,E,I,B,O,Y);G&&(CE(R,E,{nodeOrigin:B,nodeExtent:O,zIndexMode:Y}),U?(_(),S({fitViewQueued:!1,fitViewOptions:void 0})):S({}),(ne==null?void 0:ne.length)>0&&(T&&console.log("React Flow: trigger node changes",ne),b==null||b(ne)))},updateNodePositions:(N,b=!1)=>{const R=[];let E=[];const{nodeLookup:I,triggerNodeChanges:B,connection:O,updateConnection:T,onNodesChangeMiddlewareMap:U}=k();for(const[Y,ne]of N){const G=I.get(Y),X=!!(G!=null&&G.expandParent&&(G!=null&&G.parentId)&&(ne!=null&&ne.position)),ee={id:Y,type:"position",position:X?{x:Math.max(0,ne.position.x),y:Math.max(0,ne.position.y)}:ne.position,dragging:b};if(G&&O.inProgress&&O.fromNode.id===G.id){const M=wr(G,O.fromHandle,ye.Left,!0);T({...O,from:M})}X&&G.parentId&&R.push({id:Y,parentId:G.parentId,rect:{...ne.internals.positionAbsolute,width:ne.measured.width??0,height:ne.measured.height??0}}),E.push(ee)}if(R.length>0){const{parentLookup:Y,nodeOrigin:ne}=k(),G=td(R,I,Y,ne);E.push(...G)}for(const Y of U.values())E=Y(E);B(E)},triggerNodeChanges:N=>{const{onNodesChange:b,setNodes:R,nodes:E,hasDefaultNodes:I,debug:B}=k();if(N!=null&&N.length){if(I){const O=H0(N,E);R(O)}B&&console.log("React Flow: trigger node changes",N),b==null||b(N)}},triggerEdgeChanges:N=>{const{onEdgesChange:b,setEdges:R,edges:E,hasDefaultEdges:I,debug:B}=k();if(N!=null&&N.length){if(I){const O=B0(N,E);R(O)}B&&console.log("React Flow: trigger edge changes",N),b==null||b(N)}},addSelectedNodes:N=>{const{multiSelectionActive:b,edgeLookup:R,nodeLookup:E,triggerNodeChanges:I,triggerEdgeChanges:B}=k();if(b){const O=N.map(T=>hr(T,!0));I(O);return}I(ro(E,new Set([...N]),!0)),B(ro(R))},addSelectedEdges:N=>{const{multiSelectionActive:b,edgeLookup:R,nodeLookup:E,triggerNodeChanges:I,triggerEdgeChanges:B}=k();if(b){const O=N.map(T=>hr(T,!0));B(O);return}B(ro(R,new Set([...N]))),I(ro(E,new Set,!0))},unselectNodesAndEdges:({nodes:N,edges:b}={})=>{const{edges:R,nodes:E,nodeLookup:I,triggerNodeChanges:B,triggerEdgeChanges:O}=k(),T=N||E,U=b||R,Y=T.map(G=>{const X=I.get(G.id);return X&&(X.selected=!1),hr(G.id,!1)}),ne=U.map(G=>hr(G.id,!1));B(Y),O(ne)},setMinZoom:N=>{const{panZoom:b,maxZoom:R}=k();b==null||b.setScaleExtent([N,R]),S({minZoom:N})},setMaxZoom:N=>{const{panZoom:b,minZoom:R}=k();b==null||b.setScaleExtent([R,N]),S({maxZoom:N})},setTranslateExtent:N=>{var b;(b=k().panZoom)==null||b.setTranslateExtent(N),S({translateExtent:N})},resetSelectedElements:()=>{const{edges:N,nodes:b,triggerNodeChanges:R,triggerEdgeChanges:E,elementsSelectable:I}=k();if(!I)return;const B=b.reduce((T,U)=>U.selected?[...T,hr(U.id,!1)]:T,[]),O=N.reduce((T,U)=>U.selected?[...T,hr(U.id,!1)]:T,[]);R(B),E(O)},setNodeExtent:N=>{const{nodes:b,nodeLookup:R,parentLookup:E,nodeOrigin:I,elevateNodesOnSelect:B,nodeExtent:O,zIndexMode:T}=k();N[0][0]===O[0][0]&&N[0][1]===O[0][1]&&N[1][0]===O[1][0]&&N[1][1]===O[1][1]||(bc(b,R,E,{nodeOrigin:I,nodeExtent:N,elevateNodesOnSelect:B,checkEquality:!1,zIndexMode:T}),S({nodeExtent:N}))},panBy:N=>{const{transform:b,width:R,height:E,panZoom:I,translateExtent:B}=k();return ME({delta:N,panZoom:I,transform:b,translateExtent:B,width:R,height:E})},setCenter:async(N,b,R)=>{const{width:E,height:I,maxZoom:B,panZoom:O}=k();if(!O)return Promise.resolve(!1);const T=typeof(R==null?void 0:R.zoom)<"u"?R.zoom:B;return await O.setViewport({x:E/2-N*T,y:I/2-b*T,zoom:T},{duration:R==null?void 0:R.duration,ease:R==null?void 0:R.ease,interpolate:R==null?void 0:R.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{S({connection:{...l0}})},updateConnection:N=>{S({connection:N})},reset:()=>S({...qp()})}},Object.is);function QN({initialNodes:e,initialEdges:r,defaultNodes:o,defaultEdges:s,initialWidth:l,initialHeight:u,initialMinZoom:c,initialMaxZoom:f,initialFitViewOptions:h,fitView:y,nodeOrigin:v,nodeExtent:m,zIndexMode:x,children:S}){const[k]=C.useState(()=>XN({nodes:e,edges:r,defaultNodes:o,defaultEdges:s,width:l,height:u,fitView:y,minZoom:c,maxZoom:f,fitViewOptions:h,nodeOrigin:v,nodeExtent:m,zIndexMode:x}));return g.jsx(fk,{value:k,children:g.jsx(zk,{children:S})})}function GN({children:e,nodes:r,edges:o,defaultNodes:s,defaultEdges:l,width:u,height:c,fitView:f,fitViewOptions:h,minZoom:y,maxZoom:v,nodeOrigin:m,nodeExtent:x,zIndexMode:S}){return C.useContext(Ql)?g.jsx(g.Fragment,{children:e}):g.jsx(QN,{initialNodes:r,initialEdges:o,defaultNodes:s,defaultEdges:l,initialWidth:u,initialHeight:c,fitView:f,initialFitViewOptions:h,initialMinZoom:y,initialMaxZoom:v,nodeOrigin:m,nodeExtent:x,zIndexMode:S,children:e})}const KN={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function qN({nodes:e,edges:r,defaultNodes:o,defaultEdges:s,className:l,nodeTypes:u,edgeTypes:c,onNodeClick:f,onEdgeClick:h,onInit:y,onMove:v,onMoveStart:m,onMoveEnd:x,onConnect:S,onConnectStart:k,onConnectEnd:_,onClickConnectStart:N,onClickConnectEnd:b,onNodeMouseEnter:R,onNodeMouseMove:E,onNodeMouseLeave:I,onNodeContextMenu:B,onNodeDoubleClick:O,onNodeDragStart:T,onNodeDrag:U,onNodeDragStop:Y,onNodesDelete:ne,onEdgesDelete:G,onDelete:X,onSelectionChange:ee,onSelectionDragStart:M,onSelectionDrag:V,onSelectionDragStop:$,onSelectionContextMenu:H,onSelectionStart:P,onSelectionEnd:A,onBeforeDelete:D,connectionMode:j,connectionLineType:z=Wn.Bezier,connectionLineStyle:Z,connectionLineComponent:J,connectionLineContainerStyle:ie,deleteKeyCode:se="Backspace",selectionKeyCode:ce="Shift",selectionOnDrag:te=!1,selectionMode:ue=ki.Full,panActivationKeyCode:me="Space",multiSelectionKeyCode:we=Ci()?"Meta":"Control",zoomActivationKeyCode:xe=Ci()?"Meta":"Control",snapToGrid:ve,snapGrid:Ce,onlyRenderVisibleElements:Pe=!1,selectNodesOnDrag:_e,nodesDraggable:We,autoPanOnNodeFocus:Pt,nodesConnectable:ht,nodesFocusable:pt,nodeOrigin:Et=O0,edgesFocusable:tn,edgesReconnectable:wn,elementsSelectable:Sr=!0,defaultViewport:Xn=Ck,minZoom:nn=.5,maxZoom:rn=2,translateExtent:Qn=Ei,preventScrolling:$i=!0,nodeExtent:on,defaultMarkerColor:Gn="#b1b1b7",zoomOnScroll:Zl=!0,zoomOnPinch:Di=!0,panOnScroll:Oi=!1,panOnScrollSpeed:Jl=.5,panOnScrollMode:yo=gr.Free,zoomOnDoubleClick:vo=!0,panOnDrag:xo=!0,onPaneClick:wo,onPaneMouseEnter:So,onPaneMouseMove:Sn,onPaneMouseLeave:En,onPaneScroll:Fi,onPaneContextMenu:Hi,paneClickDistance:Bi=1,nodeClickDistance:Vi=0,children:Wi,onReconnect:Eo,onReconnectStart:Ui,onReconnectEnd:Kn,onEdgeContextMenu:ko,onEdgeDoubleClick:qn,onEdgeMouseEnter:ea,onEdgeMouseMove:Zn,onEdgeMouseLeave:Er,reconnectRadius:kr=10,onNodesChange:No,onEdgesChange:ta,noDragClassName:na="nodrag",noWheelClassName:ra="nowheel",noPanClassName:Wt="nopan",fitView:Co,fitViewOptions:_o,connectOnClick:oa,attributionPosition:Yi,proOptions:Xi,defaultEdgeOptions:Qi,elevateNodesOnSelect:Gi=!0,elevateEdgesOnSelect:ia=!1,disableKeyboardA11y:Ki=!1,autoPanOnConnect:De,autoPanOnNodeDrag:sa,autoPanSpeed:bo,connectionRadius:qi,isValidConnection:Nr,onError:la,style:Zi,id:Jn,nodeDragThreshold:kt,connectionDragThreshold:aa,viewport:mt,onViewportChange:ua,width:ca,height:da,colorMode:Cr="light",debug:_r,onScroll:Ut,ariaLabelConfig:br,zIndexMode:Ji="basic",...fa},jo){const jr=Jn||"1",Io=Ik(Cr),er=C.useCallback(es=>{es.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Ut==null||Ut(es)},[Ut]);return g.jsx("div",{"data-testid":"rf__wrapper",...fa,onScroll:er,style:{...Zi,...KN},ref:jo,className:Ye(["react-flow",l,Io]),id:Jn,role:"application",children:g.jsxs(GN,{nodes:e,edges:r,width:ca,height:da,fitView:Co,fitViewOptions:_o,minZoom:nn,maxZoom:rn,nodeOrigin:Et,nodeExtent:on,zIndexMode:Ji,children:[g.jsx(YN,{onInit:y,onNodeClick:f,onEdgeClick:h,onNodeMouseEnter:R,onNodeMouseMove:E,onNodeMouseLeave:I,onNodeContextMenu:B,onNodeDoubleClick:O,nodeTypes:u,edgeTypes:c,connectionLineType:z,connectionLineStyle:Z,connectionLineComponent:J,connectionLineContainerStyle:ie,selectionKeyCode:ce,selectionOnDrag:te,selectionMode:ue,deleteKeyCode:se,multiSelectionKeyCode:we,panActivationKeyCode:me,zoomActivationKeyCode:xe,onlyRenderVisibleElements:Pe,defaultViewport:Xn,translateExtent:Qn,minZoom:nn,maxZoom:rn,preventScrolling:$i,zoomOnScroll:Zl,zoomOnPinch:Di,zoomOnDoubleClick:vo,panOnScroll:Oi,panOnScrollSpeed:Jl,panOnScrollMode:yo,panOnDrag:xo,onPaneClick:wo,onPaneMouseEnter:So,onPaneMouseMove:Sn,onPaneMouseLeave:En,onPaneScroll:Fi,onPaneContextMenu:Hi,paneClickDistance:Bi,nodeClickDistance:Vi,onSelectionContextMenu:H,onSelectionStart:P,onSelectionEnd:A,onReconnect:Eo,onReconnectStart:Ui,onReconnectEnd:Kn,onEdgeContextMenu:ko,onEdgeDoubleClick:qn,onEdgeMouseEnter:ea,onEdgeMouseMove:Zn,onEdgeMouseLeave:Er,reconnectRadius:kr,defaultMarkerColor:Gn,noDragClassName:na,noWheelClassName:ra,noPanClassName:Wt,rfId:jr,disableKeyboardA11y:Ki,nodeExtent:on,viewport:mt,onViewportChange:ua}),g.jsx(jk,{nodes:e,edges:r,defaultNodes:o,defaultEdges:s,onConnect:S,onConnectStart:k,onConnectEnd:_,onClickConnectStart:N,onClickConnectEnd:b,nodesDraggable:We,autoPanOnNodeFocus:Pt,nodesConnectable:ht,nodesFocusable:pt,edgesFocusable:tn,edgesReconnectable:wn,elementsSelectable:Sr,elevateNodesOnSelect:Gi,elevateEdgesOnSelect:ia,minZoom:nn,maxZoom:rn,nodeExtent:on,onNodesChange:No,onEdgesChange:ta,snapToGrid:ve,snapGrid:Ce,connectionMode:j,translateExtent:Qn,connectOnClick:oa,defaultEdgeOptions:Qi,fitView:Co,fitViewOptions:_o,onNodesDelete:ne,onEdgesDelete:G,onDelete:X,onNodeDragStart:T,onNodeDrag:U,onNodeDragStop:Y,onSelectionDrag:V,onSelectionDragStart:M,onSelectionDragStop:$,onMove:v,onMoveStart:m,onMoveEnd:x,noPanClassName:Wt,nodeOrigin:Et,rfId:jr,autoPanOnConnect:De,autoPanOnNodeDrag:sa,autoPanSpeed:bo,onError:la,connectionRadius:qi,isValidConnection:Nr,selectNodesOnDrag:_e,nodeDragThreshold:kt,connectionDragThreshold:aa,onBeforeDelete:D,debug:_r,ariaLabelConfig:br,zIndexMode:Ji}),g.jsx(Nk,{onSelectionChange:ee}),Wi,g.jsx(xk,{proOptions:Xi,position:Yi}),g.jsx(vk,{rfId:jr,disableKeyboardA11y:Ki})]})})}var ZN=V0(qN);function JN(e){const[r,o]=C.useState(e),s=C.useCallback(l=>o(u=>H0(l,u)),[]);return[r,o,s]}function eC(e){const[r,o]=C.useState(e),s=C.useCallback(l=>o(u=>B0(l,u)),[]);return[r,o,s]}function tC({dimensions:e,lineWidth:r,variant:o,className:s}){return g.jsx("path",{strokeWidth:r,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Ye(["react-flow__background-pattern",o,s])})}function nC({radius:e,className:r}){return g.jsx("circle",{cx:e,cy:e,r:e,className:Ye(["react-flow__background-pattern","dots",r])})}var Un;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Un||(Un={}));const rC={[Un.Dots]:1,[Un.Lines]:1,[Un.Cross]:6},oC=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function hg({id:e,variant:r=Un.Dots,gap:o=20,size:s,lineWidth:l=1,offset:u=0,color:c,bgColor:f,style:h,className:y,patternClassName:v}){const m=C.useRef(null),{transform:x,patternId:S}=be(oC,Ae),k=s||rC[r],_=r===Un.Dots,N=r===Un.Cross,b=Array.isArray(o)?o:[o,o],R=[b[0]*x[2]||1,b[1]*x[2]||1],E=k*x[2],I=Array.isArray(u)?u:[u,u],B=N?[E,E]:R,O=[I[0]*x[2]||1+B[0]/2,I[1]*x[2]||1+B[1]/2],T=`${S}${e||""}`;return g.jsxs("svg",{className:Ye(["react-flow__background",y]),style:{...h,...Kl,"--xy-background-color-props":f,"--xy-background-pattern-color-props":c},ref:m,"data-testid":"rf__background",children:[g.jsx("pattern",{id:T,x:x[0]%R[0],y:x[1]%R[1],width:R[0],height:R[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${O[0]},-${O[1]})`,children:_?g.jsx(nC,{radius:E/2,className:v}):g.jsx(tC,{dimensions:B,lineWidth:l,variant:r,className:v})}),g.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${T})`})]})}hg.displayName="Background";C.memo(hg);function iC(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:g.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function sC(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:g.jsx("path",{d:"M0 0h32v4.2H0z"})})}function lC(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:g.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function aC(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:g.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function uC(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:g.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function pl({children:e,className:r,...o}){return g.jsx("button",{type:"button",className:Ye(["react-flow__controls-button",r]),...o,children:e})}const cC=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function pg({style:e,showZoom:r=!0,showFitView:o=!0,showInteractive:s=!0,fitViewOptions:l,onZoomIn:u,onZoomOut:c,onFitView:f,onInteractiveChange:h,className:y,children:v,position:m="bottom-left",orientation:x="vertical","aria-label":S}){const k=$e(),{isInteractive:_,minZoomReached:N,maxZoomReached:b,ariaLabelConfig:R}=be(cC,Ae),{zoomIn:E,zoomOut:I,fitView:B}=nd(),O=()=>{E(),u==null||u()},T=()=>{I(),c==null||c()},U=()=>{B(l),f==null||f()},Y=()=>{k.setState({nodesDraggable:!_,nodesConnectable:!_,elementsSelectable:!_}),h==null||h(!_)},ne=x==="horizontal"?"horizontal":"vertical";return g.jsxs(Gl,{className:Ye(["react-flow__controls",ne,y]),position:m,style:e,"data-testid":"rf__controls","aria-label":S??R["controls.ariaLabel"],children:[r&&g.jsxs(g.Fragment,{children:[g.jsx(pl,{onClick:O,className:"react-flow__controls-zoomin",title:R["controls.zoomIn.ariaLabel"],"aria-label":R["controls.zoomIn.ariaLabel"],disabled:b,children:g.jsx(iC,{})}),g.jsx(pl,{onClick:T,className:"react-flow__controls-zoomout",title:R["controls.zoomOut.ariaLabel"],"aria-label":R["controls.zoomOut.ariaLabel"],disabled:N,children:g.jsx(sC,{})})]}),o&&g.jsx(pl,{className:"react-flow__controls-fitview",onClick:U,title:R["controls.fitView.ariaLabel"],"aria-label":R["controls.fitView.ariaLabel"],children:g.jsx(lC,{})}),s&&g.jsx(pl,{className:"react-flow__controls-interactive",onClick:Y,title:R["controls.interactive.ariaLabel"],"aria-label":R["controls.interactive.ariaLabel"],children:_?g.jsx(uC,{}):g.jsx(aC,{})}),v]})}pg.displayName="Controls";const dC=C.memo(pg);function fC({id:e,x:r,y:o,width:s,height:l,style:u,color:c,strokeColor:f,strokeWidth:h,className:y,borderRadius:v,shapeRendering:m,selected:x,onClick:S}){const{background:k,backgroundColor:_}=u||{},N=c||k||_;return g.jsx("rect",{className:Ye(["react-flow__minimap-node",{selected:x},y]),x:r,y:o,rx:v,ry:v,width:s,height:l,style:{fill:N,stroke:f,strokeWidth:h},shapeRendering:m,onClick:S?b=>S(b,e):void 0})}const hC=C.memo(fC),pC=e=>e.nodes.map(r=>r.id),cc=e=>e instanceof Function?e:()=>e;function mC({nodeStrokeColor:e,nodeColor:r,nodeClassName:o="",nodeBorderRadius:s=5,nodeStrokeWidth:l,nodeComponent:u=hC,onClick:c}){const f=be(pC,Ae),h=cc(r),y=cc(e),v=cc(o),m=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return g.jsx(g.Fragment,{children:f.map(x=>g.jsx(yC,{id:x,nodeColorFunc:h,nodeStrokeColorFunc:y,nodeClassNameFunc:v,nodeBorderRadius:s,nodeStrokeWidth:l,NodeComponent:u,onClick:c,shapeRendering:m},x))})}function gC({id:e,nodeColorFunc:r,nodeStrokeColorFunc:o,nodeClassNameFunc:s,nodeBorderRadius:l,nodeStrokeWidth:u,shapeRendering:c,NodeComponent:f,onClick:h}){const{node:y,x:v,y:m,width:x,height:S}=be(k=>{const{internals:_}=k.nodeLookup.get(e),N=_.userNode,{x:b,y:R}=_.positionAbsolute,{width:E,height:I}=xn(N);return{node:N,x:b,y:R,width:E,height:I}},Ae);return!y||y.hidden||!p0(y)?null:g.jsx(f,{x:v,y:m,width:x,height:S,style:y.style,selected:!!y.selected,className:s(y),color:r(y),borderRadius:l,strokeColor:o(y),strokeWidth:u,shapeRendering:c,onClick:h,id:y.id})}const yC=C.memo(gC);var vC=C.memo(mC);const xC=200,wC=150,SC=e=>!e.hidden,EC=e=>{const r={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:r,boundingRect:e.nodeLookup.size>0?h0(Ti(e.nodeLookup,{filter:SC}),r):r,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},kC="react-flow__minimap-desc";function mg({style:e,className:r,nodeStrokeColor:o,nodeColor:s,nodeClassName:l="",nodeBorderRadius:u=5,nodeStrokeWidth:c,nodeComponent:f,bgColor:h,maskColor:y,maskStrokeColor:v,maskStrokeWidth:m,position:x="bottom-right",onClick:S,onNodeClick:k,pannable:_=!1,zoomable:N=!1,ariaLabel:b,inversePan:R,zoomStep:E=1,offsetScale:I=5}){const B=$e(),O=C.useRef(null),{boundingRect:T,viewBB:U,rfId:Y,panZoom:ne,translateExtent:G,flowWidth:X,flowHeight:ee,ariaLabelConfig:M}=be(EC,Ae),V=(e==null?void 0:e.width)??xC,$=(e==null?void 0:e.height)??wC,H=T.width/V,P=T.height/$,A=Math.max(H,P),D=A*V,j=A*$,z=I*A,Z=T.x-(D-T.width)/2-z,J=T.y-(j-T.height)/2-z,ie=D+z*2,se=j+z*2,ce=`${kC}-${Y}`,te=C.useRef(0),ue=C.useRef();te.current=A,C.useEffect(()=>{if(O.current&&ne)return ue.current=OE({domNode:O.current,panZoom:ne,getTransform:()=>B.getState().transform,getViewScale:()=>te.current}),()=>{var ve;(ve=ue.current)==null||ve.destroy()}},[ne]),C.useEffect(()=>{var ve;(ve=ue.current)==null||ve.update({translateExtent:G,width:X,height:ee,inversePan:R,pannable:_,zoomStep:E,zoomable:N})},[_,N,R,E,G,X,ee]);const me=S?ve=>{var _e;const[Ce,Pe]=((_e=ue.current)==null?void 0:_e.pointer(ve))||[0,0];S(ve,{x:Ce,y:Pe})}:void 0,we=k?C.useCallback((ve,Ce)=>{const Pe=B.getState().nodeLookup.get(Ce).internals.userNode;k(ve,Pe)},[]):void 0,xe=b??M["minimap.ariaLabel"];return g.jsx(Gl,{position:x,style:{...e,"--xy-minimap-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-background-color-props":typeof y=="string"?y:void 0,"--xy-minimap-mask-stroke-color-props":typeof v=="string"?v:void 0,"--xy-minimap-mask-stroke-width-props":typeof m=="number"?m*A:void 0,"--xy-minimap-node-background-color-props":typeof s=="string"?s:void 0,"--xy-minimap-node-stroke-color-props":typeof o=="string"?o:void 0,"--xy-minimap-node-stroke-width-props":typeof c=="number"?c:void 0},className:Ye(["react-flow__minimap",r]),"data-testid":"rf__minimap",children:g.jsxs("svg",{width:V,height:$,viewBox:`${Z} ${J} ${ie} ${se}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ce,ref:O,onClick:me,children:[xe&&g.jsx("title",{id:ce,children:xe}),g.jsx(vC,{onClick:we,nodeColor:s,nodeStrokeColor:o,nodeBorderRadius:u,nodeClassName:l,nodeStrokeWidth:c,nodeComponent:f}),g.jsx("path",{className:"react-flow__minimap-mask",d:`M${Z-z},${J-z}h${ie+z*2}v${se+z*2}h${-ie-z*2}z
        M${U.x},${U.y}h${U.width}v${U.height}h${-U.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}mg.displayName="MiniMap";const NC=C.memo(mg),CC=e=>r=>e?`${Math.max(1/r.transform[2],1)}`:void 0,_C={[ho.Line]:"right",[ho.Handle]:"bottom-right"};function bC({nodeId:e,position:r,variant:o=ho.Handle,className:s,style:l=void 0,children:u,color:c,minWidth:f=10,minHeight:h=10,maxWidth:y=Number.MAX_VALUE,maxHeight:v=Number.MAX_VALUE,keepAspectRatio:m=!1,resizeDirection:x,autoScale:S=!0,shouldResize:k,onResizeStart:_,onResize:N,onResizeEnd:b}){const R=X0(),E=typeof e=="string"?e:R,I=$e(),B=C.useRef(null),O=o===ho.Handle,T=be(C.useCallback(CC(O&&S),[O,S]),Ae),U=C.useRef(null),Y=r??_C[o];C.useEffect(()=>{if(!(!B.current||!E))return U.current||(U.current=JE({domNode:B.current,nodeId:E,getStoreItems:()=>{const{nodeLookup:G,transform:X,snapGrid:ee,snapToGrid:M,nodeOrigin:V,domNode:$}=I.getState();return{nodeLookup:G,transform:X,snapGrid:ee,snapToGrid:M,nodeOrigin:V,paneDomNode:$}},onChange:(G,X)=>{const{triggerNodeChanges:ee,nodeLookup:M,parentLookup:V,nodeOrigin:$}=I.getState(),H=[],P={x:G.x,y:G.y},A=M.get(E);if(A&&A.expandParent&&A.parentId){const D=A.origin??$,j=G.width??A.measured.width??0,z=G.height??A.measured.height??0,Z={id:A.id,parentId:A.parentId,rect:{width:j,height:z,...m0({x:G.x??A.position.x,y:G.y??A.position.y},{width:j,height:z},A.parentId,M,D)}},J=td([Z],M,V,$);H.push(...J),P.x=G.x?Math.max(D[0]*j,G.x):void 0,P.y=G.y?Math.max(D[1]*z,G.y):void 0}if(P.x!==void 0&&P.y!==void 0){const D={id:E,type:"position",position:{...P}};H.push(D)}if(G.width!==void 0&&G.height!==void 0){const j={id:E,type:"dimensions",resizing:!0,setAttributes:x?x==="horizontal"?"width":"height":!0,dimensions:{width:G.width,height:G.height}};H.push(j)}for(const D of X){const j={...D,type:"position"};H.push(j)}ee(H)},onEnd:({width:G,height:X})=>{const ee={id:E,type:"dimensions",resizing:!1,dimensions:{width:G,height:X}};I.getState().triggerNodeChanges([ee])}})),U.current.update({controlPosition:Y,boundaries:{minWidth:f,minHeight:h,maxWidth:y,maxHeight:v},keepAspectRatio:m,resizeDirection:x,onResizeStart:_,onResize:N,onResizeEnd:b,shouldResize:k}),()=>{var G;(G=U.current)==null||G.destroy()}},[Y,f,h,y,v,m,_,N,b,k]);const ne=Y.split("-");return g.jsx("div",{className:Ye(["react-flow__resize-control","nodrag",...ne,o,s]),ref:B,style:{...l,scale:T,...c&&{[O?"backgroundColor":"borderColor"]:c}},children:u})}C.memo(bC);const gg="cnthub-node-positions",yg="cnthub-edges",vg="cnthub-connected-sessions",jC=180,IC=70,MC=260,PC=140,zl=20;function Zp(e){return e.type==="context"?{width:MC,height:PC}:{width:jC,height:IC}}function RC(e,r){const o=Zp(e),s=Zp(r),l={x:e.position.x+o.width/2,y:e.position.y+o.height/2},u={x:r.position.x+s.width/2,y:r.position.y+s.height/2},c=(o.width+s.width)/2+zl,f=(o.height+s.height)/2+zl,h=Math.abs(l.x-u.x),y=Math.abs(l.y-u.y);return h<c&&y<f}function LC(e,r){const o={...e.position},s=r.filter(h=>h.id!==e.id),l={...e,position:o};let u=!0,c=0;const f=50;for(;u&&c<f;){u=!1;for(const h of s)if(RC(l,h)){u=!0,o.x+=zl+10,o.y+=zl+10,l.position=o;break}c++}return o}function Jp(){try{const e=localStorage.getItem(gg);return e?JSON.parse(e):{}}catch{return{}}}function Jr(e){try{localStorage.setItem(gg,JSON.stringify(e))}catch{}}function TC(){try{const e=localStorage.getItem(yg);return e?JSON.parse(e):[]}catch{return[]}}function dc(e){try{localStorage.setItem(yg,JSON.stringify(e))}catch{}}function zC(){try{const e=localStorage.getItem(vg);return e?JSON.parse(e):[]}catch{return[]}}function em(e){try{localStorage.setItem(vg,JSON.stringify(e))}catch{}}function Mc(e){return e>=1e3?(e/1e3).toFixed(1)+"k":e.toString()}function AC({data:e}){return g.jsxs("div",{className:"px-4 py-3 bg-[var(--bg-surface)] border border-[var(--border-default)] rounded-lg shadow-md min-w-[150px] relative",children:[g.jsx(po,{type:"source",position:ye.Right,className:"w-3 h-3 bg-[var(--color-primary-500)]"}),e.tokenCount!==void 0&&g.jsx("div",{className:"absolute -top-2 -right-2 bg-[var(--bg-elevated)] text-[var(--text-muted)] text-xs px-1.5 py-0.5 rounded-full border border-[var(--border-default)]",children:Mc(e.tokenCount)}),g.jsx("div",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:e.label}),e.date&&g.jsx("div",{className:"text-xs text-[var(--text-muted)] mt-1",children:e.date})]})}function $C({data:e}){var u,c,f;const r=C.useCallback(()=>{var h;(h=e.onExport)==null||h.call(e)},[e]),o=!!e.sessionId,s=e.mergeStatus==="merging",l=e.mergeStatus==="completed"&&e.mergedSummary;return g.jsxs("div",{className:`px-6 py-4 text-white rounded-xl shadow-lg min-w-[240px] text-center cursor-pointer transition-colors relative ${s?"bg-[var(--color-primary-400)] animate-pulse":"bg-[var(--color-primary-600)] hover:bg-[var(--color-primary-500)]"}`,onClick:r,children:[g.jsx(po,{type:"target",position:ye.Left,className:"w-3 h-3 bg-[var(--color-cream-100)]"}),e.tokenCount!==void 0&&g.jsx("div",{className:"absolute -top-2 -right-2 bg-white text-[var(--color-primary-600)] text-xs font-bold px-1.5 py-0.5 rounded-full border-2 border-[var(--color-primary-600)]",children:Mc(e.tokenCount)}),g.jsx("div",{className:"text-sm font-bold truncate max-w-[220px]",children:o?e.sessionName||e.sessionId:""}),o&&e.sessionId&&g.jsx("div",{className:"text-xs opacity-60 mt-1 font-mono",children:e.sessionId}),g.jsxs("div",{className:"text-xs opacity-90 mt-3 flex justify-center gap-3",children:[g.jsxs("span",{className:"bg-white/20 px-2 py-0.5 rounded",children:[e.observationCount," obs"]}),g.jsxs("span",{className:"bg-white/20 px-2 py-0.5 rounded",children:["+",e.connectedCount," merged"]})]}),s&&g.jsx("div",{className:"text-xs mt-2 bg-white/30 px-2 py-1 rounded",children:" ..."}),l&&g.jsxs("div",{className:"text-xs mt-2 bg-white/20 px-2 py-1 rounded text-left",children:[g.jsx("div",{className:"font-bold mb-1",children:" :"}),g.jsx("div",{className:"line-clamp-2 opacity-90",children:(u=e.mergedSummary)==null?void 0:u.shortSummary}),g.jsxs("div",{className:"opacity-60 mt-1",children:[(c=e.mergedSummary)==null?void 0:c.sessionCount," "," ",Mc(((f=e.mergedSummary)==null?void 0:f.mergedTokens)||0)," tokens"]})]}),e.mergeStatus==="error"&&g.jsx("div",{className:"text-xs mt-2 bg-red-500/30 px-2 py-1 rounded",children:" "}),g.jsx("div",{className:"text-xs opacity-60 mt-2",children:" Export"})]})}const DC={session:AC,context:$C};function OC({sessions:e=[],currentSessionsData:r=[],onGetSession:o,onExportSession:s,onDeleteRequest:l,pendingDelete:u,onDeleteComplete:c,onMerge:f,mergeStatus:h="idle",mergedSummary:y}){const v=C.useRef(Jp()),m=C.useRef(TC()),x=C.useRef(zC()),[S,k]=C.useState(x.current),[_,N,b]=JN([]),[R,E,I]=eC(m.current),B=C.useCallback(M=>{b(M),M.filter($=>$.type==="position"&&"position"in $&&$.position).length>0&&requestAnimationFrame(()=>{N($=>{const H={};return $.forEach(P=>{H[P.id]=P.position}),Jr(H),$})})},[b,N]),O=C.useCallback(M=>{I(M),requestAnimationFrame(()=>{E(V=>(dc(V),V))})},[I,E]),T=C.useCallback(M=>()=>{console.log("[Viewer] Export session:",M),s==null||s(M)},[s]);C.useEffect(()=>{N(M=>{const V=v.current,$=new Set(M.filter(j=>j.id.startsWith("context-")).map(j=>j.id)),H=[];r.forEach((j,z)=>{const Z=j.session;if(!Z)return;const J=`context-${Z.sessionId}`,ie=V[J],se={x:400,y:100+z*180};$.has(J)||H.push({id:J,type:"context",position:ie||se,data:{label:"",sessionId:Z.sessionId,sessionName:Z.name,status:Z.status,tokenCount:j.tokenCount,connectedCount:S.length,observationCount:j.observationCount,onExport:T(Z.sessionId),mergeStatus:h,mergedSummary:y}})});const P=new Set(r.filter(j=>j.session).map(j=>`context-${j.session.sessionId}`)),D=[...M.filter(j=>j.id.startsWith("context-")?P.has(j.id):!0).map(j=>{if(j.id.startsWith("context-")){const z=j.id.replace("context-",""),Z=r.find(J=>{var ie;return((ie=J.session)==null?void 0:ie.sessionId)===z});if(Z!=null&&Z.session)return{...j,data:{...j.data,sessionId:Z.session.sessionId,sessionName:Z.session.name,status:Z.session.status,tokenCount:Z.tokenCount,connectedCount:S.length,observationCount:Z.observationCount,onExport:T(Z.session.sessionId),mergeStatus:h,mergedSummary:y}}}return j}),...H];if(H.length>0){const j={};D.forEach(z=>{j[z.id]=z.position}),Jr(j)}return D})},[r,S,T,N,h,y]),C.useEffect(()=>{N(M=>{const V=new Set(M.map(j=>j.id)),$=[],H=v.current;e.forEach((j,z)=>{const Z="session-"+j.sessionId;if(!V.has(Z)){const J=H[Z],ie={x:50+Math.floor(z/5)*200,y:80+z%5*100};$.push({id:Z,type:"session",position:J||ie,data:{label:j.name,sessionId:j.sessionId,status:j.status,date:new Date(j.updatedAt).toLocaleDateString("ja-JP"),tokenCount:j.tokenCount}})}});const P=new Set(e.map(j=>"session-"+j.sessionId)),D=[...M.filter(j=>j.id.startsWith("context-")||P.has(j.id)),...$];if($.length>0){const j={};D.forEach(z=>{j[z.id]=z.position}),Jr(j)}return D})},[e,N]);const U=C.useCallback(M=>{if(!(!M.source||!M.target)&&M.source.startsWith("session-")&&M.target.startsWith("context-")){const V=M.source.replace("session-","");if(S.includes(V))return;E(H=>{const P=E0(M,H);return dc(P),P});const $=[...S,V];k($),em($),N(H=>H.map(P=>P.id.startsWith("context-")?{...P,data:{...P.data,connectedCount:$.length}}:P)),o==null||o(V),$.length>=2&&f&&f($)}},[S,E,N,o,f]),Y=C.useCallback(M=>{const V=R.find(P=>P.id===M);if(!V)return;const $=V.source.replace("session-",""),H=e.find(P=>P.sessionId===$);l==null||l({type:"edge",id:M,name:(H==null?void 0:H.name)||$})},[R,e,l]),ne=C.useCallback((M,V)=>{Y(V.id)},[Y]),G=C.useCallback(M=>{const V=M.filter(H=>H.source.startsWith("session-")).map(H=>H.source.replace("session-","")),$=S.filter(H=>!V.includes(H));k($),em($),E(H=>(dc(H),H)),N(H=>H.map(P=>P.id.startsWith("context-")?{...P,data:{...P.data,connectedCount:$.length}}:P))},[S,N,E]),X=C.useCallback((M,V)=>{if(V.id.startsWith("context-"))return;const $=V.id.replace("session-",""),H=e.find(P=>P.sessionId===$);l==null||l({type:"node",id:V.id,name:(H==null?void 0:H.name)||$})},[e,l]),ee=C.useCallback((M,V)=>{const $=_.map(P=>P.id===V.id?{...P,position:V.position}:P),H=LC(V,$);if(H.x!==V.position.x||H.y!==V.position.y)N(P=>{const A=P.map(j=>j.id===V.id?{...j,position:H}:j),D={};return A.forEach(j=>{D[j.id]=j.position}),Jr(D),A});else{const P={};$.forEach(A=>{P[A.id]=A.position}),Jr(P)}},[_,N]);return C.useEffect(()=>{if(u){if(u.type==="edge"){const M=R.find(V=>V.id===u.id);M&&(G([M]),E(V=>V.filter($=>$.id!==u.id)))}else if(u.type==="node"&&!u.id.startsWith("context-")){const M=R.filter($=>$.source===u.id||$.target===u.id);M.length>0&&(G(M),E($=>$.filter(H=>H.source!==u.id&&H.target!==u.id))),N($=>$.filter(H=>H.id!==u.id));const V=Jp();delete V[u.id],Jr(V)}c==null||c()}},[u,R,G,E,N,c]),g.jsx("div",{className:"w-full h-full bg-[var(--bg-base)]",children:g.jsxs(ZN,{nodes:_,edges:R,onNodesChange:B,onEdgesChange:O,onConnect:U,onEdgesDelete:G,onEdgeClick:ne,onNodeClick:X,onNodeDragStop:ee,nodeTypes:DC,fitView:!0,proOptions:{hideAttribution:!0},className:"bg-[var(--bg-base)]",children:[g.jsx(dC,{className:"bg-[var(--bg-surface)] border border-[var(--border-default)] rounded-lg"}),g.jsx(NC,{className:"bg-[var(--bg-surface)] border border-[var(--border-default)] rounded-lg",nodeColor:"#d97757",maskColor:"rgba(15, 15, 14, 0.8)"})]})})}function fc(e){return e>=1e3?(e/1e3).toFixed(1)+"k":e.toString()}function FC(e){switch(e){case"feature":return"";case"bugfix":return"";case"refactor":return"";case"docs":return"";case"test":return"";case"config":return"";case"exploration":return"";default:return""}}function HC({isOpen:e,onClose:r,sessionId:o,sessionName:s,onExportComplete:l}){const[u,c]=C.useState(!1),[f,h]=C.useState(!1),[y,v]=C.useState(null),[m,x]=C.useState(new Set),[S,k]=C.useState(null),[_,N]=C.useState(new Set),b=C.useCallback(async()=>{var T;c(!0),k(null);try{const U=await fetch(`/api/sessions/${o}/analyze`,{method:"POST"});if(!U.ok){const ne=await U.json();throw new Error(((T=ne.error)==null?void 0:T.message)||"")}const Y=await U.json();v(Y)}catch(U){k(U instanceof Error?U.message:"")}finally{c(!1)}},[o]);C.useEffect(()=>{e&&!y&&!u&&b()},[e,y,u,b]),C.useEffect(()=>{e||(v(null),x(new Set),k(null),N(new Set))},[e]);const R=C.useCallback(T=>{x(U=>{const Y=new Set(U);return Y.has(T)?Y.delete(T):Y.add(T),Y})},[]),E=C.useCallback(T=>{N(U=>{const Y=new Set(U);return Y.has(T)?Y.delete(T):Y.add(T),Y})},[]),I=C.useCallback(()=>y?y.groups.filter(T=>m.has(T.category)).flatMap(T=>T.observationIds):[],[y,m]),B=C.useCallback(()=>y?y.groups.filter(T=>m.has(T.category)).reduce((T,U)=>T+U.estimatedTokens,0):0,[y,m]),O=C.useCallback(async()=>{var ne,G;const T=I();if(T.length===0)return;const U=y==null?void 0:y.groups.filter(X=>m.has(X.category)).map(X=>X.description).join(", "),Y=window.prompt(`Export: ${T.length} observations

:`,`Export: ${U}`)||`Export from ${s}`;if(Y){h(!0),k(null);try{const X=await fetch(`/api/sessions/${o}/smart-export`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({observationIds:T,groupName:Y,deleteAfterExport:!0})});if(!X.ok){const M=await X.json();throw new Error(((ne=M.error)==null?void 0:ne.message)||"Export ")}const ee=await X.json();alert(`Export !

: ${(G=ee.session)==null?void 0:G.sessionId}
 observations: ${ee.deletedCount}`),l(),r()}catch(X){k(X instanceof Error?X.message:"Export ")}finally{h(!1)}}},[I,y,m,o,s,l,r]);return e?g.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[g.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:r}),g.jsxs("div",{className:"relative bg-[var(--bg-surface)] rounded-xl shadow-2xl w-[600px] max-h-[80vh] flex flex-col border border-[var(--border-default)]",children:[g.jsxs("div",{className:"px-6 py-4 border-b border-[var(--border-subtle)] flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-semibold text-[var(--text-primary)]",children:"Smart Export"}),g.jsx("p",{className:"text-sm text-[var(--text-muted)] mt-1",children:s})]}),g.jsx("button",{onClick:r,className:"p-2 hover:bg-[var(--bg-elevated)] rounded-lg transition-colors",children:g.jsx("svg",{className:"w-5 h-5 text-[var(--text-muted)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[u&&g.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[g.jsx("div",{className:"w-8 h-8 border-2 border-[var(--color-primary-500)] border-t-transparent rounded-full animate-spin"}),g.jsx("p",{className:"mt-4 text-[var(--text-muted)]",children:"AI ..."})]}),S&&g.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-4",children:[g.jsx("p",{className:"text-red-400",children:S}),g.jsx("button",{onClick:b,className:"mt-2 text-sm text-red-400 hover:text-red-300 underline",children:""})]}),y&&!u&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex gap-4 mb-6 text-sm",children:[g.jsxs("div",{className:"bg-[var(--bg-elevated)] px-3 py-2 rounded-lg",children:[g.jsx("span",{className:"text-[var(--text-muted)]",children:": "}),g.jsxs("span",{className:"text-[var(--text-primary)] font-medium",children:[y.totalObservations," obs"]})]}),g.jsxs("div",{className:"bg-[var(--bg-elevated)] px-3 py-2 rounded-lg",children:[g.jsx("span",{className:"text-[var(--text-muted)]",children:": "}),g.jsx("span",{className:"text-[var(--text-primary)] font-medium",children:fc(y.totalEstimatedTokens)})]}),g.jsxs("div",{className:"bg-[var(--bg-elevated)] px-3 py-2 rounded-lg",children:[g.jsx("span",{className:"text-[var(--text-muted)]",children:": "}),g.jsxs("span",{className:"text-[var(--text-primary)] font-medium",children:[(y.analysisTimeMs/1e3).toFixed(1),"s"]})]})]}),g.jsx("div",{className:"space-y-3",children:y.groups.map(T=>g.jsxs("div",{className:`border rounded-lg overflow-hidden transition-colors ${m.has(T.category)?"border-[var(--color-primary-500)] bg-[var(--color-primary-500)]/10":"border-[var(--border-default)] bg-[var(--bg-elevated)]"}`,children:[g.jsxs("div",{className:"flex items-center gap-3 p-4 cursor-pointer",onClick:()=>R(T.category),children:[g.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${m.has(T.category)?"bg-[var(--color-primary-500)] border-[var(--color-primary-500)]":"border-[var(--border-default)]"}`,children:m.has(T.category)&&g.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),g.jsx("span",{className:"text-xl",children:FC(T.category)}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"font-medium text-[var(--text-primary)]",children:T.categoryLabel}),g.jsxs("span",{className:"text-sm text-[var(--text-muted)]",children:["(",T.observationIds.length," obs)"]})]}),g.jsx("p",{className:"text-sm text-[var(--text-muted)] mt-0.5",children:T.description})]}),g.jsxs("div",{className:"text-sm text-[var(--text-muted)]",children:[fc(T.estimatedTokens)," tokens"]}),g.jsx("button",{onClick:U=>{U.stopPropagation(),E(T.category)},className:"p-1 hover:bg-[var(--bg-surface)] rounded transition-colors",children:g.jsx("svg",{className:`w-4 h-4 text-[var(--text-muted)] transition-transform ${_.has(T.category)?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),_.has(T.category)&&g.jsx("div",{className:"px-4 pb-4 pt-0",children:g.jsx("div",{className:"bg-[var(--bg-base)] rounded-lg p-3 text-xs font-mono text-[var(--text-muted)] max-h-32 overflow-y-auto",children:T.observationIds.map((U,Y)=>g.jsxs("div",{children:[U,Y<T.observationIds.length-1&&", "]},U))})})]},T.category))})]})]}),g.jsxs("div",{className:"px-6 py-4 border-t border-[var(--border-subtle)] flex items-center justify-between",children:[g.jsx("div",{className:"text-sm text-[var(--text-muted)]",children:m.size>0&&g.jsxs(g.Fragment,{children:[": ",I().length," obs (",fc(B())," tokens)"]})}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:r,className:"px-4 py-2 text-sm text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)] rounded-lg transition-colors",children:""}),g.jsx("button",{onClick:O,disabled:m.size===0||f||u,className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${m.size===0||f||u?"bg-[var(--bg-elevated)] text-[var(--text-muted)] cursor-not-allowed":"bg-[var(--color-primary-500)] text-white hover:bg-[var(--color-primary-600)]"}`,children:f?"Exporting...":"Export & "})]})]})]})]}):null}const tm={session:"",node:"",edge:""};function nm({isOpen:e,onClose:r,onConfirm:o,targetType:s,targetName:l,targetId:u}){const[c,f]=C.useState(!1),[h,y]=C.useState(null),v=C.useCallback(async()=>{f(!0),y(null);try{await o(),r()}catch(x){y(x instanceof Error?x.message:"")}finally{f(!1)}},[o,r]),m=C.useCallback(()=>{c||(y(null),r())},[c,r]);return e?g.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[g.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:m}),g.jsxs("div",{className:"relative bg-[var(--bg-surface)] rounded-xl shadow-2xl w-[400px] border border-[var(--border-default)]",children:[g.jsxs("div",{className:"px-6 py-4 border-b border-[var(--border-subtle)] flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 bg-red-500/10 rounded-lg",children:g.jsx(mc,{className:"w-5 h-5 text-red-500"})}),g.jsxs("h2",{className:"text-lg font-semibold text-[var(--text-primary)]",children:[tm[s],""]})]}),g.jsx("button",{onClick:m,disabled:c,className:"p-2 hover:bg-[var(--bg-elevated)] rounded-lg transition-colors disabled:opacity-50",children:g.jsx(Xx,{className:"w-5 h-5 text-[var(--text-muted)]"})})]}),g.jsxs("div",{className:"px-6 py-6",children:[g.jsxs("p",{className:"text-[var(--text-secondary)]",children:["",tm[s],""]}),g.jsxs("div",{className:"mt-4 p-4 bg-[var(--bg-elevated)] rounded-lg",children:[g.jsx("p",{className:"font-medium text-[var(--text-primary)] truncate",children:l}),u&&g.jsx("p",{className:"text-xs text-[var(--text-muted)] font-mono mt-1 truncate",children:u})]}),g.jsx("p",{className:"mt-4 text-sm text-[var(--text-muted)]",children:""}),h&&g.jsx("div",{className:"mt-4 bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:g.jsx("p",{className:"text-sm text-red-400",children:h})})]}),g.jsxs("div",{className:"px-6 py-4 border-t border-[var(--border-subtle)] flex justify-end gap-3",children:[g.jsx("button",{onClick:m,disabled:c,className:"px-4 py-2 text-sm text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)] rounded-lg transition-colors disabled:opacity-50",children:""}),g.jsx("button",{onClick:v,disabled:c,className:"px-4 py-2 text-sm font-medium bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors disabled:opacity-50 flex items-center gap-2",children:c?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"..."]}):g.jsxs(g.Fragment,{children:[g.jsx(mc,{className:"w-4 h-4"}),""]})})]})]})]}):null}function BC(){const{theme:e,toggleTheme:r}=bm(),[o,s]=C.useState([]),[l,u]=C.useState([]),[c,f]=C.useState([]),[h,y]=C.useState(!1),[v,m]=C.useState(null),[x,S]=C.useState(null),[k,_]=C.useState(null),N=C.useRef(null),[b,R]=C.useState("idle"),[E,I]=C.useState(null),B=o.filter(D=>!l.includes(D.sessionId)),O=C.useCallback(async()=>{try{const D=await fetch("/api/sessions?limit=100&status=completed");if(!D.ok)throw new Error("Failed to fetch");const j=await D.json();s(j.items||[])}catch(D){console.error("[ViewerPage] Failed to fetch sessions:",D),s([])}},[]);C.useEffect(()=>{O()},[O]),C.useEffect(()=>{const D=async()=>{try{const z=[],Z=await fetch("/api/sessions?limit=10&status=processing");if(Z.ok){const se=await Z.json();z.push(...se.items||[])}const J=await fetch("/api/sessions?limit=10&status=idle");if(J.ok){const se=await J.json();z.push(...se.items||[])}if(z.length===0){f([]);return}const ie=await Promise.all(z.map(async se=>{var ce;try{const te=await fetch(`/api/sessions/${se.sessionId}/observations?limit=100`);if(te.ok){const ue=await te.json();return{session:se,observations:ue.items||[],observationCount:((ce=ue.items)==null?void 0:ce.length)||0,tokenCount:se.tokenCount||0}}}catch{}return{session:se,observations:[],observationCount:0,tokenCount:se.tokenCount||0}}));f(ie)}catch(z){console.error("[ViewerPage] Failed to fetch current sessions:",z)}};D();const j=setInterval(D,5e3);return()=>clearInterval(j)},[]);const T=C.useCallback(D=>{u(j=>j.includes(D.sessionId)?j.filter(z=>z!==D.sessionId):[...j,D.sessionId])},[]),U=C.useCallback(D=>{console.log("[Viewer] Session clicked:",D.sessionId),alert(": "+D.name+`

ID: `+D.sessionId)},[]),Y=C.useCallback(D=>{console.log("[Viewer] Get session:",D)},[]),ne=C.useCallback(D=>{m(D)},[]),G=C.useCallback(async()=>{var z;if(!v)return;const D=v.sessionId,j=await fetch(`/api/sessions/${D}`,{method:"DELETE"});if(!j.ok){const Z=await j.json();throw new Error(((z=Z.error)==null?void 0:z.message)||"")}s(Z=>Z.filter(J=>J.sessionId!==D)),u(Z=>Z.filter(J=>J!==D))},[v]),X=C.useCallback(D=>{S(D)},[]),ee=C.useCallback(async()=>{if(x)return new Promise(D=>{N.current=D,_({type:x.type,id:x.id})})},[x]),M=C.useCallback(()=>{_(null),S(null),N.current&&(N.current(),N.current=null)},[]),[V,$]=C.useState(null),H=C.useCallback(D=>{const j=c.find(z=>{var Z;return((Z=z.session)==null?void 0:Z.sessionId)===D});if(!(j!=null&&j.session)||j.observationCount===0){alert("observations");return}console.log("[Viewer] Opening Smart Export modal:",D),$(j),y(!0)},[c]),P=C.useCallback(async()=>{console.log("[Viewer] Smart Export completed"),await O()},[O]),A=C.useCallback(async D=>{var j,z,Z,J,ie,se,ce,te;if(D.length<2)return null;console.log("[Viewer] Starting merge:",D),R("merging"),I(null);try{const ue=await fetch("/api/merges/with-summary",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sourceSessionIds:D})});if(!ue.ok){const xe=await ue.json();return console.error("[Viewer] Merge failed:",xe),R("error"),null}const me=await ue.json(),we={shortSummary:((j=me.summary)==null?void 0:j.shortSummary)||"",detailedSummary:((z=me.summary)==null?void 0:z.detailedSummary)||"",keyDecisions:((Z=me.summary)==null?void 0:Z.keyDecisions)||[],topics:((J=me.summary)==null?void 0:J.topics)||[],sessionCount:((ie=me.summary)==null?void 0:ie.sessionCount)||D.length,totalOriginalTokens:((se=me.summary)==null?void 0:se.totalOriginalTokens)||0,mergedTokens:((ce=me.summary)==null?void 0:ce.mergedTokens)||0,compressionRatio:((te=me.summary)==null?void 0:te.compressionRatio)||0};return I(we),R("completed"),console.log("[Viewer] Merge completed:",we),we}catch(ue){return console.error("[Viewer] Merge error:",ue),R("error"),null}},[]);return g.jsxs("div",{className:"h-screen flex flex-col bg-[var(--bg-base)]",children:[g.jsxs("header",{className:"h-12 flex items-center justify-between px-4 bg-[var(--bg-surface)] border-b border-[var(--border-subtle)]",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-lg font-semibold text-[var(--color-primary-500)]",children:"cnthub"}),g.jsx("span",{className:"text-sm text-[var(--text-muted)]",children:"Viewer"})]}),g.jsx("button",{onClick:r,className:"p-2 rounded-lg hover:bg-[var(--bg-elevated)] transition-colors","aria-label":e==="dark"?"":"",children:e==="dark"?g.jsx(_m,{className:"w-5 h-5 text-[var(--text-secondary)]"}):g.jsx(Cm,{className:"w-5 h-5 text-[var(--text-secondary)]"})})]}),g.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[g.jsx(w1,{sessions:o,onSessionSelect:T,onSessionClick:U,onSessionDelete:ne,selectedSessionIds:l}),g.jsx("main",{className:"flex-1 overflow-hidden",children:g.jsx(OC,{sessions:B,currentSessionsData:c,onGetSession:Y,onExportSession:H,onDeleteRequest:X,pendingDelete:k,onDeleteComplete:M,onMerge:A,mergeStatus:b,mergedSummary:E})})]}),(V==null?void 0:V.session)&&g.jsx(HC,{isOpen:h,onClose:()=>{y(!1),$(null)},sessionId:V.session.sessionId,sessionName:V.session.name,onExportComplete:P}),g.jsx(nm,{isOpen:!!v,onClose:()=>m(null),onConfirm:G,targetType:"session",targetName:(v==null?void 0:v.name)||"",targetId:v==null?void 0:v.sessionId}),g.jsx(nm,{isOpen:!!x,onClose:()=>S(null),onConfirm:ee,targetType:(x==null?void 0:x.type)==="node"?"node":"edge",targetName:(x==null?void 0:x.name)||"",targetId:x==null?void 0:x.id})]})}function VC(){return g.jsxs(rx,{children:[g.jsx(eo,{path:"/",element:g.jsx(BC,{})}),g.jsx(eo,{path:"/sessions",element:g.jsx(ol,{children:g.jsx(Kx,{})})}),g.jsx(eo,{path:"/sessions/:id",element:g.jsx(ol,{children:g.jsx(e1,{})})}),g.jsx(eo,{path:"/search",element:g.jsx(ol,{children:g.jsx(u1,{})})}),g.jsx(eo,{path:"/work-items",element:g.jsx(ol,{children:g.jsx(f1,{})})})]})}const WC="/viewer/";iv.createRoot(document.getElementById("root")).render(g.jsx(to.StrictMode,{children:g.jsx(bx,{basename:WC,children:g.jsx(VC,{})})}));
//# sourceMappingURL=index-D7kP3-TQ.js.map
