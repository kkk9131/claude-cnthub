(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=o(l);fetch(l.href,u)}})();function bc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ou={exports:{}},li={},Fu={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sh;function qy(){if(Sh)return Ce;Sh=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),p=Symbol.iterator;function x(j){return j===null||typeof j!="object"?null:(j=p&&j[p]||j["@@iterator"],typeof j=="function"?j:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,b={};function C(j,A,U){this.props=j,this.context=A,this.refs=b,this.updater=U||S}C.prototype.isReactComponent={},C.prototype.setState=function(j,A){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,A,"setState")},C.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function _(){}_.prototype=C.prototype;function M(j,A,U){this.props=j,this.context=A,this.refs=b,this.updater=U||S}var w=M.prototype=new _;w.constructor=M,E(w,C.prototype),w.isPureReactComponent=!0;var P=Array.isArray,F=Object.prototype.hasOwnProperty,D={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function Y(j,A,U){var Z,ee={},oe=null,le=null;if(A!=null)for(Z in A.ref!==void 0&&(le=A.ref),A.key!==void 0&&(oe=""+A.key),A)F.call(A,Z)&&!T.hasOwnProperty(Z)&&(ee[Z]=A[Z]);var te=arguments.length-2;if(te===1)ee.children=U;else if(1<te){for(var ce=Array(te),pe=0;pe<te;pe++)ce[pe]=arguments[pe+2];ee.children=ce}if(j&&j.defaultProps)for(Z in te=j.defaultProps,te)ee[Z]===void 0&&(ee[Z]=te[Z]);return{$$typeof:e,type:j,key:oe,ref:le,props:ee,_owner:D.current}}function X(j,A){return{$$typeof:e,type:j.type,key:A,ref:j.ref,props:j.props,_owner:j._owner}}function re(j){return typeof j=="object"&&j!==null&&j.$$typeof===e}function G(j){var A={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(U){return A[U]})}var Q=/\/+/g;function ne(j,A){return typeof j=="object"&&j!==null&&j.key!=null?G(""+j.key):A.toString(36)}function R(j,A,U,Z,ee){var oe=typeof j;(oe==="undefined"||oe==="boolean")&&(j=null);var le=!1;if(j===null)le=!0;else switch(oe){case"string":case"number":le=!0;break;case"object":switch(j.$$typeof){case e:case r:le=!0}}if(le)return le=j,ee=ee(le),j=Z===""?"."+ne(le,0):Z,P(ee)?(U="",j!=null&&(U=j.replace(Q,"$&/")+"/"),R(ee,A,U,"",function(pe){return pe})):ee!=null&&(re(ee)&&(ee=X(ee,U+(!ee.key||le&&le.key===ee.key?"":(""+ee.key).replace(Q,"$&/")+"/")+j)),A.push(ee)),1;if(le=0,Z=Z===""?".":Z+":",P(j))for(var te=0;te<j.length;te++){oe=j[te];var ce=Z+ne(oe,te);le+=R(oe,A,U,ce,ee)}else if(ce=x(j),typeof ce=="function")for(j=ce.call(j),te=0;!(oe=j.next()).done;)oe=oe.value,ce=Z+ne(oe,te++),le+=R(oe,A,U,ce,ee);else if(oe==="object")throw A=String(j),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.");return le}function V(j,A,U){if(j==null)return j;var Z=[],ee=0;return R(j,Z,"","",function(oe){return A.call(U,oe,ee++)}),Z}function $(j){if(j._status===-1){var A=j._result;A=A(),A.then(function(U){(j._status===0||j._status===-1)&&(j._status=1,j._result=U)},function(U){(j._status===0||j._status===-1)&&(j._status=2,j._result=U)}),j._status===-1&&(j._status=0,j._result=A)}if(j._status===1)return j._result.default;throw j._result}var H={current:null},I={transition:null},z={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:I,ReactCurrentOwner:D};function W(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:V,forEach:function(j,A,U){V(j,function(){A.apply(this,arguments)},U)},count:function(j){var A=0;return V(j,function(){A++}),A},toArray:function(j){return V(j,function(A){return A})||[]},only:function(j){if(!re(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ce.Component=C,Ce.Fragment=o,Ce.Profiler=l,Ce.PureComponent=M,Ce.StrictMode=s,Ce.Suspense=h,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,Ce.act=W,Ce.cloneElement=function(j,A,U){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var Z=E({},j.props),ee=j.key,oe=j.ref,le=j._owner;if(A!=null){if(A.ref!==void 0&&(oe=A.ref,le=D.current),A.key!==void 0&&(ee=""+A.key),j.type&&j.type.defaultProps)var te=j.type.defaultProps;for(ce in A)F.call(A,ce)&&!T.hasOwnProperty(ce)&&(Z[ce]=A[ce]===void 0&&te!==void 0?te[ce]:A[ce])}var ce=arguments.length-2;if(ce===1)Z.children=U;else if(1<ce){te=Array(ce);for(var pe=0;pe<ce;pe++)te[pe]=arguments[pe+2];Z.children=te}return{$$typeof:e,type:j.type,key:ee,ref:oe,props:Z,_owner:le}},Ce.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:u,_context:j},j.Consumer=j},Ce.createElement=Y,Ce.createFactory=function(j){var A=Y.bind(null,j);return A.type=j,A},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(j){return{$$typeof:f,render:j}},Ce.isValidElement=re,Ce.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:$}},Ce.memo=function(j,A){return{$$typeof:y,type:j,compare:A===void 0?null:A}},Ce.startTransition=function(j){var A=I.transition;I.transition={};try{j()}finally{I.transition=A}},Ce.unstable_act=W,Ce.useCallback=function(j,A){return H.current.useCallback(j,A)},Ce.useContext=function(j){return H.current.useContext(j)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(j){return H.current.useDeferredValue(j)},Ce.useEffect=function(j,A){return H.current.useEffect(j,A)},Ce.useId=function(){return H.current.useId()},Ce.useImperativeHandle=function(j,A,U){return H.current.useImperativeHandle(j,A,U)},Ce.useInsertionEffect=function(j,A){return H.current.useInsertionEffect(j,A)},Ce.useLayoutEffect=function(j,A){return H.current.useLayoutEffect(j,A)},Ce.useMemo=function(j,A){return H.current.useMemo(j,A)},Ce.useReducer=function(j,A,U){return H.current.useReducer(j,A,U)},Ce.useRef=function(j){return H.current.useRef(j)},Ce.useState=function(j){return H.current.useState(j)},Ce.useSyncExternalStore=function(j,A,U){return H.current.useSyncExternalStore(j,A,U)},Ce.useTransition=function(){return H.current.useTransition()},Ce.version="18.3.1",Ce}var Eh;function bi(){return Eh||(Eh=1,Fu.exports=qy()),Fu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nh;function Zy(){if(Nh)return li;Nh=1;var e=bi(),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(f,h,y){var v,p={},x=null,S=null;y!==void 0&&(x=""+y),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(S=h.ref);for(v in h)s.call(h,v)&&!u.hasOwnProperty(v)&&(p[v]=h[v]);if(f&&f.defaultProps)for(v in h=f.defaultProps,h)p[v]===void 0&&(p[v]=h[v]);return{$$typeof:r,type:f,key:x,ref:S,props:p,_owner:l.current}}return li.Fragment=o,li.jsx=c,li.jsxs=c,li}var kh;function Jy(){return kh||(kh=1,Ou.exports=Zy()),Ou.exports}var g=Jy(),k=bi();const eo=bc(k);var tl={},Hu={exports:{}},dt={},Vu={exports:{}},Bu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ch;function ev(){return Ch||(Ch=1,(function(e){function r(I,z){var W=I.length;I.push(z);e:for(;0<W;){var j=W-1>>>1,A=I[j];if(0<l(A,z))I[j]=z,I[W]=A,W=j;else break e}}function o(I){return I.length===0?null:I[0]}function s(I){if(I.length===0)return null;var z=I[0],W=I.pop();if(W!==z){I[0]=W;e:for(var j=0,A=I.length,U=A>>>1;j<U;){var Z=2*(j+1)-1,ee=I[Z],oe=Z+1,le=I[oe];if(0>l(ee,W))oe<A&&0>l(le,ee)?(I[j]=le,I[oe]=W,j=oe):(I[j]=ee,I[Z]=W,j=Z);else if(oe<A&&0>l(le,W))I[j]=le,I[oe]=W,j=oe;else break e}}return z}function l(I,z){var W=I.sortIndex-z.sortIndex;return W!==0?W:I.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var h=[],y=[],v=1,p=null,x=3,S=!1,E=!1,b=!1,C=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(I){for(var z=o(y);z!==null;){if(z.callback===null)s(y);else if(z.startTime<=I)s(y),z.sortIndex=z.expirationTime,r(h,z);else break;z=o(y)}}function P(I){if(b=!1,w(I),!E)if(o(h)!==null)E=!0,$(F);else{var z=o(y);z!==null&&H(P,z.startTime-I)}}function F(I,z){E=!1,b&&(b=!1,_(Y),Y=-1),S=!0;var W=x;try{for(w(z),p=o(h);p!==null&&(!(p.expirationTime>z)||I&&!G());){var j=p.callback;if(typeof j=="function"){p.callback=null,x=p.priorityLevel;var A=j(p.expirationTime<=z);z=e.unstable_now(),typeof A=="function"?p.callback=A:p===o(h)&&s(h),w(z)}else s(h);p=o(h)}if(p!==null)var U=!0;else{var Z=o(y);Z!==null&&H(P,Z.startTime-z),U=!1}return U}finally{p=null,x=W,S=!1}}var D=!1,T=null,Y=-1,X=5,re=-1;function G(){return!(e.unstable_now()-re<X)}function Q(){if(T!==null){var I=e.unstable_now();re=I;var z=!0;try{z=T(!0,I)}finally{z?ne():(D=!1,T=null)}}else D=!1}var ne;if(typeof M=="function")ne=function(){M(Q)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,V=R.port2;R.port1.onmessage=Q,ne=function(){V.postMessage(null)}}else ne=function(){C(Q,0)};function $(I){T=I,D||(D=!0,ne())}function H(I,z){Y=C(function(){I(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){E||S||(E=!0,$(F))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return o(h)},e.unstable_next=function(I){switch(x){case 1:case 2:case 3:var z=3;break;default:z=x}var W=x;x=z;try{return I()}finally{x=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,z){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var W=x;x=I;try{return z()}finally{x=W}},e.unstable_scheduleCallback=function(I,z,W){var j=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?j+W:j):W=j,I){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=W+A,I={id:v++,callback:z,priorityLevel:I,startTime:W,expirationTime:A,sortIndex:-1},W>j?(I.sortIndex=W,r(y,I),o(h)===null&&I===o(y)&&(b?(_(Y),Y=-1):b=!0,H(P,W-j))):(I.sortIndex=A,r(h,I),E||S||(E=!0,$(F))),I},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(I){var z=x;return function(){var W=x;x=z;try{return I.apply(this,arguments)}finally{x=W}}}})(Bu)),Bu}var _h;function tv(){return _h||(_h=1,Vu.exports=ev()),Vu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bh;function nv(){if(bh)return dt;bh=1;var e=bi(),r=tv();function o(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function u(t,n){c(t,n),c(t+"Capture",n)}function c(t,n){for(l[t]=n,t=0;t<n.length;t++)s.add(n[t])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},p={};function x(t){return h.call(p,t)?!0:h.call(v,t)?!1:y.test(t)?p[t]=!0:(v[t]=!0,!1)}function S(t,n,i,a){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function E(t,n,i,a){if(n===null||typeof n>"u"||S(t,n,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function b(t,n,i,a,d,m,N){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=d,this.mustUseProperty=i,this.propertyName=t,this.type=n,this.sanitizeURL=m,this.removeEmptyString=N}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){C[t]=new b(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];C[n]=new b(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){C[t]=new b(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){C[t]=new b(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){C[t]=new b(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){C[t]=new b(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){C[t]=new b(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){C[t]=new b(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){C[t]=new b(t,5,!1,t.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function M(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(_,M);C[n]=new b(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(_,M);C[n]=new b(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(_,M);C[n]=new b(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){C[t]=new b(t,1,!1,t.toLowerCase(),null,!1,!1)}),C.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){C[t]=new b(t,1,!1,t.toLowerCase(),null,!0,!0)});function w(t,n,i,a){var d=C.hasOwnProperty(n)?C[n]:null;(d!==null?d.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(E(n,i,d,a)&&(i=null),a||d===null?x(n)&&(i===null?t.removeAttribute(n):t.setAttribute(n,""+i)):d.mustUseProperty?t[d.propertyName]=i===null?d.type===3?!1:"":i:(n=d.attributeName,a=d.attributeNamespace,i===null?t.removeAttribute(n):(d=d.type,i=d===3||d===4&&i===!0?"":""+i,a?t.setAttributeNS(a,n,i):t.setAttribute(n,i))))}var P=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),D=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),re=Symbol.for("react.provider"),G=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),I=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var W=Object.assign,j;function A(t){if(j===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);j=n&&n[1]||""}return`
`+j+t}var U=!1;function Z(t,n){if(!t||U)return"";U=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(J){var a=J}Reflect.construct(t,[],n)}else{try{n.call()}catch(J){a=J}t.call(n.prototype)}else{try{throw Error()}catch(J){a=J}t()}}catch(J){if(J&&a&&typeof J.stack=="string"){for(var d=J.stack.split(`
`),m=a.stack.split(`
`),N=d.length-1,L=m.length-1;1<=N&&0<=L&&d[N]!==m[L];)L--;for(;1<=N&&0<=L;N--,L--)if(d[N]!==m[L]){if(N!==1||L!==1)do if(N--,L--,0>L||d[N]!==m[L]){var O=`
`+d[N].replace(" at new "," at ");return t.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",t.displayName)),O}while(1<=N&&0<=L);break}}}finally{U=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?A(t):""}function ee(t){switch(t.tag){case 5:return A(t.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 2:case 15:return t=Z(t.type,!1),t;case 11:return t=Z(t.type.render,!1),t;case 1:return t=Z(t.type,!0),t;default:return""}}function oe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case T:return"Fragment";case D:return"Portal";case X:return"Profiler";case Y:return"StrictMode";case ne:return"Suspense";case R:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case G:return(t.displayName||"Context")+".Consumer";case re:return(t._context.displayName||"Context")+".Provider";case Q:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return n=t.displayName||null,n!==null?n:oe(t.type)||"Memo";case $:n=t._payload,t=t._init;try{return oe(t(n))}catch{}}return null}function le(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(n);case 8:return n===Y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function te(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ce(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function pe(t){var n=ce(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),a=""+t[n];if(!t.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,m=i.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return d.call(this)},set:function(N){a=""+N,m.call(this,N)}}),Object.defineProperty(t,n,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(N){a=""+N},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function we(t){t._valueTracker||(t._valueTracker=pe(t))}function ye(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var i=n.getValue(),a="";return t&&(a=ce(t)?t.checked?"true":"false":t.value),t=a,t!==i?(n.setValue(t),!0):!1}function fe(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ke(t,n){var i=n.checked;return W({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??t._wrapperState.initialChecked})}function Me(t,n){var i=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;i=te(n.value!=null?n.value:i),t._wrapperState={initialChecked:a,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function _e(t,n){n=n.checked,n!=null&&w(t,"checked",n,!1)}function Ue(t,n){_e(t,n);var i=te(n.value),a=n.type;if(i!=null)a==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if(a==="submit"||a==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?ht(t,n.type,i):n.hasOwnProperty("defaultValue")&&ht(t,n.type,te(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function It(t,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,i||n===t.value||(t.value=n),t.defaultValue=n}i=t.name,i!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,i!==""&&(t.name=i)}function ht(t,n,i){(n!=="number"||fe(t.ownerDocument)!==t)&&(i==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var pt=Array.isArray;function Et(t,n,i,a){if(t=t.options,n){n={};for(var d=0;d<i.length;d++)n["$"+i[d]]=!0;for(i=0;i<t.length;i++)d=n.hasOwnProperty("$"+t[i].value),t[i].selected!==d&&(t[i].selected=d),d&&a&&(t[i].defaultSelected=!0)}else{for(i=""+te(i),n=null,d=0;d<t.length;d++){if(t[d].value===i){t[d].selected=!0,a&&(t[d].defaultSelected=!0);return}n!==null||t[d].disabled||(n=t[d])}n!==null&&(n.selected=!0)}}function tn(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(o(91));return W({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wn(t,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(o(92));if(pt(i)){if(1<i.length)throw Error(o(93));i=i[0]}n=i}n==null&&(n=""),i=n}t._wrapperState={initialValue:te(i)}}function Sr(t,n){var i=te(n.value),a=te(n.defaultValue);i!=null&&(i=""+i,i!==t.value&&(t.value=i),n.defaultValue==null&&t.defaultValue!==i&&(t.defaultValue=i)),a!=null&&(t.defaultValue=""+a)}function Xn(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function nn(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rn(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?nn(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qn,Ai=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,a,d){MSApp.execUnsafeLocalFunction(function(){return t(n,i,a,d)})}:t})(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(Qn=Qn||document.createElement("div"),Qn.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Qn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function on(t,n){if(n){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=n;return}}t.textContent=n}var Gn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xl=["Webkit","ms","Moz","O"];Object.keys(Gn).forEach(function(t){Xl.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),Gn[n]=Gn[t]})});function Di(t,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||Gn.hasOwnProperty(t)&&Gn[t]?(""+n).trim():n+"px"}function Oi(t,n){t=t.style;for(var i in n)if(n.hasOwnProperty(i)){var a=i.indexOf("--")===0,d=Di(i,n[i],a);i==="float"&&(i="cssFloat"),a?t.setProperty(i,d):t[i]=d}}var Ql=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yo(t,n){if(n){if(Ql[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(o(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(o(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(o(61))}if(n.style!=null&&typeof n.style!="object")throw Error(o(62))}}function vo(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xo=null;function wo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var So=null,Sn=null,En=null;function Fi(t){if(t=Yo(t)){if(typeof So!="function")throw Error(o(280));var n=t.stateNode;n&&(n=gs(n),So(t.stateNode,t.type,n))}}function Hi(t){Sn?En?En.push(t):En=[t]:Sn=t}function Vi(){if(Sn){var t=Sn,n=En;if(En=Sn=null,Fi(t),n)for(t=0;t<n.length;t++)Fi(n[t])}}function Bi(t,n){return t(n)}function Ui(){}var Eo=!1;function Wi(t,n,i){if(Eo)return t(n,i);Eo=!0;try{return Bi(t,n,i)}finally{Eo=!1,(Sn!==null||En!==null)&&(Ui(),Vi())}}function Kn(t,n){var i=t.stateNode;if(i===null)return null;var a=gs(i);if(a===null)return null;i=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(o(231,n,typeof i));return i}var No=!1;if(f)try{var qn={};Object.defineProperty(qn,"passive",{get:function(){No=!0}}),window.addEventListener("test",qn,qn),window.removeEventListener("test",qn,qn)}catch{No=!1}function Gl(t,n,i,a,d,m,N,L,O){var J=Array.prototype.slice.call(arguments,3);try{n.apply(i,J)}catch(se){this.onError(se)}}var Zn=!1,Er=null,Nr=!1,ko=null,Kl={onError:function(t){Zn=!0,Er=t}};function ql(t,n,i,a,d,m,N,L,O){Zn=!1,Er=null,Gl.apply(Kl,arguments)}function Zl(t,n,i,a,d,m,N,L,O){if(ql.apply(this,arguments),Zn){if(Zn){var J=Er;Zn=!1,Er=null}else throw Error(o(198));Nr||(Nr=!0,ko=J)}}function Ut(t){var n=t,i=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(i=n.return),t=n.return;while(t)}return n.tag===3?i:null}function Co(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _o(t){if(Ut(t)!==t)throw Error(o(188))}function Jl(t){var n=t.alternate;if(!n){if(n=Ut(t),n===null)throw Error(o(188));return n!==t?null:t}for(var i=t,a=n;;){var d=i.return;if(d===null)break;var m=d.alternate;if(m===null){if(a=d.return,a!==null){i=a;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===i)return _o(d),t;if(m===a)return _o(d),n;m=m.sibling}throw Error(o(188))}if(i.return!==a.return)i=d,a=m;else{for(var N=!1,L=d.child;L;){if(L===i){N=!0,i=d,a=m;break}if(L===a){N=!0,a=d,i=m;break}L=L.sibling}if(!N){for(L=m.child;L;){if(L===i){N=!0,i=m,a=d;break}if(L===a){N=!0,a=m,i=d;break}L=L.sibling}if(!N)throw Error(o(189))}}if(i.alternate!==a)throw Error(o(190))}if(i.tag!==3)throw Error(o(188));return i.stateNode.current===i?t:n}function Yi(t){return t=Jl(t),t!==null?Xi(t):null}function Xi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=Xi(t);if(n!==null)return n;t=t.sibling}return null}var Qi=r.unstable_scheduleCallback,Gi=r.unstable_cancelCallback,ea=r.unstable_shouldYield,Ki=r.unstable_requestPaint,De=r.unstable_now,ta=r.unstable_getCurrentPriorityLevel,bo=r.unstable_ImmediatePriority,qi=r.unstable_UserBlockingPriority,kr=r.unstable_NormalPriority,na=r.unstable_LowPriority,Zi=r.unstable_IdlePriority,Jn=null,Nt=null;function ra(t){if(Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Jn,t,void 0,(t.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:sa,oa=Math.log,ia=Math.LN2;function sa(t){return t>>>=0,t===0?32:31-(oa(t)/ia|0)|0}var Cr=64,_r=4194304;function Wt(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function br(t,n){var i=t.pendingLanes;if(i===0)return 0;var a=0,d=t.suspendedLanes,m=t.pingedLanes,N=i&268435455;if(N!==0){var L=N&~d;L!==0?a=Wt(L):(m&=N,m!==0&&(a=Wt(m)))}else N=i&~d,N!==0?a=Wt(N):m!==0&&(a=Wt(m));if(a===0)return 0;if(n!==0&&n!==a&&(n&d)===0&&(d=a&-a,m=n&-n,d>=m||d===16&&(m&4194240)!==0))return n;if((a&4)!==0&&(a|=i&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=a;0<n;)i=31-mt(n),d=1<<i,a|=t[i],n&=~d;return a}function Ji(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function la(t,n){for(var i=t.suspendedLanes,a=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes;0<m;){var N=31-mt(m),L=1<<N,O=d[N];O===-1?((L&i)===0||(L&a)!==0)&&(d[N]=Ji(L,n)):O<=n&&(t.expiredLanes|=L),m&=~L}}function jo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function jr(){var t=Cr;return Cr<<=1,(Cr&4194240)===0&&(Cr=64),t}function Po(t){for(var n=[],i=0;31>i;i++)n.push(t);return n}function er(t,n,i){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-mt(n),t[n]=i}function es(t,n){var i=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var a=t.eventTimes;for(t=t.expirationTimes;0<i;){var d=31-mt(i),m=1<<d;n[d]=0,a[d]=-1,t[d]=-1,i&=~m}}function aa(t,n){var i=t.entangledLanes|=n;for(t=t.entanglements;i;){var a=31-mt(i),d=1<<a;d&n|t[a]&n&&(t[a]|=n),i&=~d}}var Ie=0;function Zc(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Jc,ua,ed,td,nd,ca=!1,ts=[],Nn=null,kn=null,Cn=null,Mo=new Map,Io=new Map,_n=[],xg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rd(t,n){switch(t){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":Cn=null;break;case"pointerover":case"pointerout":Mo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Io.delete(n.pointerId)}}function Ro(t,n,i,a,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:i,eventSystemFlags:a,nativeEvent:m,targetContainers:[d]},n!==null&&(n=Yo(n),n!==null&&ua(n)),t):(t.eventSystemFlags|=a,n=t.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),t)}function wg(t,n,i,a,d){switch(n){case"focusin":return Nn=Ro(Nn,t,n,i,a,d),!0;case"dragenter":return kn=Ro(kn,t,n,i,a,d),!0;case"mouseover":return Cn=Ro(Cn,t,n,i,a,d),!0;case"pointerover":var m=d.pointerId;return Mo.set(m,Ro(Mo.get(m)||null,t,n,i,a,d)),!0;case"gotpointercapture":return m=d.pointerId,Io.set(m,Ro(Io.get(m)||null,t,n,i,a,d)),!0}return!1}function od(t){var n=tr(t.target);if(n!==null){var i=Ut(n);if(i!==null){if(n=i.tag,n===13){if(n=Co(i),n!==null){t.blockedOn=n,nd(t.priority,function(){ed(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ns(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var i=fa(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(i===null){i=t.nativeEvent;var a=new i.constructor(i.type,i);xo=a,i.target.dispatchEvent(a),xo=null}else return n=Yo(i),n!==null&&ua(n),t.blockedOn=i,!1;n.shift()}return!0}function id(t,n,i){ns(t)&&i.delete(n)}function Sg(){ca=!1,Nn!==null&&ns(Nn)&&(Nn=null),kn!==null&&ns(kn)&&(kn=null),Cn!==null&&ns(Cn)&&(Cn=null),Mo.forEach(id),Io.forEach(id)}function Lo(t,n){t.blockedOn===n&&(t.blockedOn=null,ca||(ca=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Sg)))}function To(t){function n(d){return Lo(d,t)}if(0<ts.length){Lo(ts[0],t);for(var i=1;i<ts.length;i++){var a=ts[i];a.blockedOn===t&&(a.blockedOn=null)}}for(Nn!==null&&Lo(Nn,t),kn!==null&&Lo(kn,t),Cn!==null&&Lo(Cn,t),Mo.forEach(n),Io.forEach(n),i=0;i<_n.length;i++)a=_n[i],a.blockedOn===t&&(a.blockedOn=null);for(;0<_n.length&&(i=_n[0],i.blockedOn===null);)od(i),i.blockedOn===null&&_n.shift()}var Pr=P.ReactCurrentBatchConfig,rs=!0;function Eg(t,n,i,a){var d=Ie,m=Pr.transition;Pr.transition=null;try{Ie=1,da(t,n,i,a)}finally{Ie=d,Pr.transition=m}}function Ng(t,n,i,a){var d=Ie,m=Pr.transition;Pr.transition=null;try{Ie=4,da(t,n,i,a)}finally{Ie=d,Pr.transition=m}}function da(t,n,i,a){if(rs){var d=fa(t,n,i,a);if(d===null)Pa(t,n,a,os,i),rd(t,a);else if(wg(d,t,n,i,a))a.stopPropagation();else if(rd(t,a),n&4&&-1<xg.indexOf(t)){for(;d!==null;){var m=Yo(d);if(m!==null&&Jc(m),m=fa(t,n,i,a),m===null&&Pa(t,n,a,os,i),m===d)break;d=m}d!==null&&a.stopPropagation()}else Pa(t,n,a,null,i)}}var os=null;function fa(t,n,i,a){if(os=null,t=wo(a),t=tr(t),t!==null)if(n=Ut(t),n===null)t=null;else if(i=n.tag,i===13){if(t=Co(n),t!==null)return t;t=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return os=t,null}function sd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ta()){case bo:return 1;case qi:return 4;case kr:case na:return 16;case Zi:return 536870912;default:return 16}default:return 16}}var bn=null,ha=null,is=null;function ld(){if(is)return is;var t,n=ha,i=n.length,a,d="value"in bn?bn.value:bn.textContent,m=d.length;for(t=0;t<i&&n[t]===d[t];t++);var N=i-t;for(a=1;a<=N&&n[i-a]===d[m-a];a++);return is=d.slice(t,1<a?1-a:void 0)}function ss(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ls(){return!0}function ad(){return!1}function gt(t){function n(i,a,d,m,N){this._reactName=i,this._targetInst=d,this.type=a,this.nativeEvent=m,this.target=N,this.currentTarget=null;for(var L in t)t.hasOwnProperty(L)&&(i=t[L],this[L]=i?i(m):m[L]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ls:ad,this.isPropagationStopped=ad,this}return W(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),n}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pa=gt(Mr),zo=W({},Mr,{view:0,detail:0}),kg=gt(zo),ma,ga,$o,as=W({},zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:va,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$o&&($o&&t.type==="mousemove"?(ma=t.screenX-$o.screenX,ga=t.screenY-$o.screenY):ga=ma=0,$o=t),ma)},movementY:function(t){return"movementY"in t?t.movementY:ga}}),ud=gt(as),Cg=W({},as,{dataTransfer:0}),_g=gt(Cg),bg=W({},zo,{relatedTarget:0}),ya=gt(bg),jg=W({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),Pg=gt(jg),Mg=W({},Mr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ig=gt(Mg),Rg=W({},Mr,{data:0}),cd=gt(Rg),Lg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $g(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=zg[t])?!!n[t]:!1}function va(){return $g}var Ag=W({},zo,{key:function(t){if(t.key){var n=Lg[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ss(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:va,charCode:function(t){return t.type==="keypress"?ss(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ss(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Dg=gt(Ag),Og=W({},as,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dd=gt(Og),Fg=W({},zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:va}),Hg=gt(Fg),Vg=W({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bg=gt(Vg),Ug=W({},as,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Wg=gt(Ug),Yg=[9,13,27,32],xa=f&&"CompositionEvent"in window,Ao=null;f&&"documentMode"in document&&(Ao=document.documentMode);var Xg=f&&"TextEvent"in window&&!Ao,fd=f&&(!xa||Ao&&8<Ao&&11>=Ao),hd=" ",pd=!1;function md(t,n){switch(t){case"keyup":return Yg.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ir=!1;function Qg(t,n){switch(t){case"compositionend":return gd(n);case"keypress":return n.which!==32?null:(pd=!0,hd);case"textInput":return t=n.data,t===hd&&pd?null:t;default:return null}}function Gg(t,n){if(Ir)return t==="compositionend"||!xa&&md(t,n)?(t=ld(),is=ha=bn=null,Ir=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return fd&&n.locale!=="ko"?null:n.data;default:return null}}var Kg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Kg[t.type]:n==="textarea"}function vd(t,n,i,a){Hi(a),n=hs(n,"onChange"),0<n.length&&(i=new pa("onChange","change",null,i,a),t.push({event:i,listeners:n}))}var Do=null,Oo=null;function qg(t){$d(t,0)}function us(t){var n=$r(t);if(ye(n))return t}function Zg(t,n){if(t==="change")return n}var xd=!1;if(f){var wa;if(f){var Sa="oninput"in document;if(!Sa){var wd=document.createElement("div");wd.setAttribute("oninput","return;"),Sa=typeof wd.oninput=="function"}wa=Sa}else wa=!1;xd=wa&&(!document.documentMode||9<document.documentMode)}function Sd(){Do&&(Do.detachEvent("onpropertychange",Ed),Oo=Do=null)}function Ed(t){if(t.propertyName==="value"&&us(Oo)){var n=[];vd(n,Oo,t,wo(t)),Wi(qg,n)}}function Jg(t,n,i){t==="focusin"?(Sd(),Do=n,Oo=i,Do.attachEvent("onpropertychange",Ed)):t==="focusout"&&Sd()}function ey(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return us(Oo)}function ty(t,n){if(t==="click")return us(n)}function ny(t,n){if(t==="input"||t==="change")return us(n)}function ry(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Rt=typeof Object.is=="function"?Object.is:ry;function Fo(t,n){if(Rt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var i=Object.keys(t),a=Object.keys(n);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var d=i[a];if(!h.call(n,d)||!Rt(t[d],n[d]))return!1}return!0}function Nd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kd(t,n){var i=Nd(t);t=0;for(var a;i;){if(i.nodeType===3){if(a=t+i.textContent.length,t<=n&&a>=n)return{node:i,offset:n-t};t=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Nd(i)}}function Cd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Cd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function _d(){for(var t=window,n=fe();n instanceof t.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)t=n.contentWindow;else break;n=fe(t.document)}return n}function Ea(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function oy(t){var n=_d(),i=t.focusedElem,a=t.selectionRange;if(n!==i&&i&&i.ownerDocument&&Cd(i.ownerDocument.documentElement,i)){if(a!==null&&Ea(i)){if(n=a.start,t=a.end,t===void 0&&(t=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(t,i.value.length);else if(t=(n=i.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var d=i.textContent.length,m=Math.min(a.start,d);a=a.end===void 0?m:Math.min(a.end,d),!t.extend&&m>a&&(d=a,a=m,m=d),d=kd(i,m);var N=kd(i,a);d&&N&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==N.node||t.focusOffset!==N.offset)&&(n=n.createRange(),n.setStart(d.node,d.offset),t.removeAllRanges(),m>a?(t.addRange(n),t.extend(N.node,N.offset)):(n.setEnd(N.node,N.offset),t.addRange(n)))}}for(n=[],t=i;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)t=n[i],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var iy=f&&"documentMode"in document&&11>=document.documentMode,Rr=null,Na=null,Ho=null,ka=!1;function bd(t,n,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ka||Rr==null||Rr!==fe(a)||(a=Rr,"selectionStart"in a&&Ea(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ho&&Fo(Ho,a)||(Ho=a,a=hs(Na,"onSelect"),0<a.length&&(n=new pa("onSelect","select",null,n,i),t.push({event:n,listeners:a}),n.target=Rr)))}function cs(t,n){var i={};return i[t.toLowerCase()]=n.toLowerCase(),i["Webkit"+t]="webkit"+n,i["Moz"+t]="moz"+n,i}var Lr={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionend:cs("Transition","TransitionEnd")},Ca={},jd={};f&&(jd=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function ds(t){if(Ca[t])return Ca[t];if(!Lr[t])return t;var n=Lr[t],i;for(i in n)if(n.hasOwnProperty(i)&&i in jd)return Ca[t]=n[i];return t}var Pd=ds("animationend"),Md=ds("animationiteration"),Id=ds("animationstart"),Rd=ds("transitionend"),Ld=new Map,Td="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jn(t,n){Ld.set(t,n),u(n,[t])}for(var _a=0;_a<Td.length;_a++){var ba=Td[_a],sy=ba.toLowerCase(),ly=ba[0].toUpperCase()+ba.slice(1);jn(sy,"on"+ly)}jn(Pd,"onAnimationEnd"),jn(Md,"onAnimationIteration"),jn(Id,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(Rd,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ay=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vo));function zd(t,n,i){var a=t.type||"unknown-event";t.currentTarget=i,Zl(a,n,void 0,t),t.currentTarget=null}function $d(t,n){n=(n&4)!==0;for(var i=0;i<t.length;i++){var a=t[i],d=a.event;a=a.listeners;e:{var m=void 0;if(n)for(var N=a.length-1;0<=N;N--){var L=a[N],O=L.instance,J=L.currentTarget;if(L=L.listener,O!==m&&d.isPropagationStopped())break e;zd(d,L,J),m=O}else for(N=0;N<a.length;N++){if(L=a[N],O=L.instance,J=L.currentTarget,L=L.listener,O!==m&&d.isPropagationStopped())break e;zd(d,L,J),m=O}}}if(Nr)throw t=ko,Nr=!1,ko=null,t}function Le(t,n){var i=n[za];i===void 0&&(i=n[za]=new Set);var a=t+"__bubble";i.has(a)||(Ad(n,t,2,!1),i.add(a))}function ja(t,n,i){var a=0;n&&(a|=4),Ad(i,t,a,n)}var fs="_reactListening"+Math.random().toString(36).slice(2);function Bo(t){if(!t[fs]){t[fs]=!0,s.forEach(function(i){i!=="selectionchange"&&(ay.has(i)||ja(i,!1,t),ja(i,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[fs]||(n[fs]=!0,ja("selectionchange",!1,n))}}function Ad(t,n,i,a){switch(sd(n)){case 1:var d=Eg;break;case 4:d=Ng;break;default:d=da}i=d.bind(null,n,i,t),d=void 0,!No||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),a?d!==void 0?t.addEventListener(n,i,{capture:!0,passive:d}):t.addEventListener(n,i,!0):d!==void 0?t.addEventListener(n,i,{passive:d}):t.addEventListener(n,i,!1)}function Pa(t,n,i,a,d){var m=a;if((n&1)===0&&(n&2)===0&&a!==null)e:for(;;){if(a===null)return;var N=a.tag;if(N===3||N===4){var L=a.stateNode.containerInfo;if(L===d||L.nodeType===8&&L.parentNode===d)break;if(N===4)for(N=a.return;N!==null;){var O=N.tag;if((O===3||O===4)&&(O=N.stateNode.containerInfo,O===d||O.nodeType===8&&O.parentNode===d))return;N=N.return}for(;L!==null;){if(N=tr(L),N===null)return;if(O=N.tag,O===5||O===6){a=m=N;continue e}L=L.parentNode}}a=a.return}Wi(function(){var J=m,se=wo(i),ae=[];e:{var ie=Ld.get(t);if(ie!==void 0){var de=pa,me=t;switch(t){case"keypress":if(ss(i)===0)break e;case"keydown":case"keyup":de=Dg;break;case"focusin":me="focus",de=ya;break;case"focusout":me="blur",de=ya;break;case"beforeblur":case"afterblur":de=ya;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=ud;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=_g;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Hg;break;case Pd:case Md:case Id:de=Pg;break;case Rd:de=Bg;break;case"scroll":de=kg;break;case"wheel":de=Wg;break;case"copy":case"cut":case"paste":de=Ig;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=dd}var ge=(n&4)!==0,Be=!ge&&t==="scroll",K=ge?ie!==null?ie+"Capture":null:ie;ge=[];for(var B=J,q;B!==null;){q=B;var ue=q.stateNode;if(q.tag===5&&ue!==null&&(q=ue,K!==null&&(ue=Kn(B,K),ue!=null&&ge.push(Uo(B,ue,q)))),Be)break;B=B.return}0<ge.length&&(ie=new de(ie,me,null,i,se),ae.push({event:ie,listeners:ge}))}}if((n&7)===0){e:{if(ie=t==="mouseover"||t==="pointerover",de=t==="mouseout"||t==="pointerout",ie&&i!==xo&&(me=i.relatedTarget||i.fromElement)&&(tr(me)||me[sn]))break e;if((de||ie)&&(ie=se.window===se?se:(ie=se.ownerDocument)?ie.defaultView||ie.parentWindow:window,de?(me=i.relatedTarget||i.toElement,de=J,me=me?tr(me):null,me!==null&&(Be=Ut(me),me!==Be||me.tag!==5&&me.tag!==6)&&(me=null)):(de=null,me=J),de!==me)){if(ge=ud,ue="onMouseLeave",K="onMouseEnter",B="mouse",(t==="pointerout"||t==="pointerover")&&(ge=dd,ue="onPointerLeave",K="onPointerEnter",B="pointer"),Be=de==null?ie:$r(de),q=me==null?ie:$r(me),ie=new ge(ue,B+"leave",de,i,se),ie.target=Be,ie.relatedTarget=q,ue=null,tr(se)===J&&(ge=new ge(K,B+"enter",me,i,se),ge.target=q,ge.relatedTarget=Be,ue=ge),Be=ue,de&&me)t:{for(ge=de,K=me,B=0,q=ge;q;q=Tr(q))B++;for(q=0,ue=K;ue;ue=Tr(ue))q++;for(;0<B-q;)ge=Tr(ge),B--;for(;0<q-B;)K=Tr(K),q--;for(;B--;){if(ge===K||K!==null&&ge===K.alternate)break t;ge=Tr(ge),K=Tr(K)}ge=null}else ge=null;de!==null&&Dd(ae,ie,de,ge,!1),me!==null&&Be!==null&&Dd(ae,Be,me,ge,!0)}}e:{if(ie=J?$r(J):window,de=ie.nodeName&&ie.nodeName.toLowerCase(),de==="select"||de==="input"&&ie.type==="file")var ve=Zg;else if(yd(ie))if(xd)ve=ny;else{ve=ey;var Se=Jg}else(de=ie.nodeName)&&de.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(ve=ty);if(ve&&(ve=ve(t,J))){vd(ae,ve,i,se);break e}Se&&Se(t,ie,J),t==="focusout"&&(Se=ie._wrapperState)&&Se.controlled&&ie.type==="number"&&ht(ie,"number",ie.value)}switch(Se=J?$r(J):window,t){case"focusin":(yd(Se)||Se.contentEditable==="true")&&(Rr=Se,Na=J,Ho=null);break;case"focusout":Ho=Na=Rr=null;break;case"mousedown":ka=!0;break;case"contextmenu":case"mouseup":case"dragend":ka=!1,bd(ae,i,se);break;case"selectionchange":if(iy)break;case"keydown":case"keyup":bd(ae,i,se)}var Ee;if(xa)e:{switch(t){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Ir?md(t,i)&&(Ne="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Ne="onCompositionStart");Ne&&(fd&&i.locale!=="ko"&&(Ir||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Ir&&(Ee=ld()):(bn=se,ha="value"in bn?bn.value:bn.textContent,Ir=!0)),Se=hs(J,Ne),0<Se.length&&(Ne=new cd(Ne,t,null,i,se),ae.push({event:Ne,listeners:Se}),Ee?Ne.data=Ee:(Ee=gd(i),Ee!==null&&(Ne.data=Ee)))),(Ee=Xg?Qg(t,i):Gg(t,i))&&(J=hs(J,"onBeforeInput"),0<J.length&&(se=new cd("onBeforeInput","beforeinput",null,i,se),ae.push({event:se,listeners:J}),se.data=Ee))}$d(ae,n)})}function Uo(t,n,i){return{instance:t,listener:n,currentTarget:i}}function hs(t,n){for(var i=n+"Capture",a=[];t!==null;){var d=t,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=Kn(t,i),m!=null&&a.unshift(Uo(t,m,d)),m=Kn(t,n),m!=null&&a.push(Uo(t,m,d))),t=t.return}return a}function Tr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Dd(t,n,i,a,d){for(var m=n._reactName,N=[];i!==null&&i!==a;){var L=i,O=L.alternate,J=L.stateNode;if(O!==null&&O===a)break;L.tag===5&&J!==null&&(L=J,d?(O=Kn(i,m),O!=null&&N.unshift(Uo(i,O,L))):d||(O=Kn(i,m),O!=null&&N.push(Uo(i,O,L)))),i=i.return}N.length!==0&&t.push({event:n,listeners:N})}var uy=/\r\n?/g,cy=/\u0000|\uFFFD/g;function Od(t){return(typeof t=="string"?t:""+t).replace(uy,`
`).replace(cy,"")}function ps(t,n,i){if(n=Od(n),Od(t)!==n&&i)throw Error(o(425))}function ms(){}var Ma=null,Ia=null;function Ra(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var La=typeof setTimeout=="function"?setTimeout:void 0,dy=typeof clearTimeout=="function"?clearTimeout:void 0,Fd=typeof Promise=="function"?Promise:void 0,fy=typeof queueMicrotask=="function"?queueMicrotask:typeof Fd<"u"?function(t){return Fd.resolve(null).then(t).catch(hy)}:La;function hy(t){setTimeout(function(){throw t})}function Ta(t,n){var i=n,a=0;do{var d=i.nextSibling;if(t.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(a===0){t.removeChild(d),To(n);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=d}while(i);To(n)}function Pn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function Hd(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return t;n--}else i==="/$"&&n++}t=t.previousSibling}return null}var zr=Math.random().toString(36).slice(2),Yt="__reactFiber$"+zr,Wo="__reactProps$"+zr,sn="__reactContainer$"+zr,za="__reactEvents$"+zr,py="__reactListeners$"+zr,my="__reactHandles$"+zr;function tr(t){var n=t[Yt];if(n)return n;for(var i=t.parentNode;i;){if(n=i[sn]||i[Yt]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(t=Hd(t);t!==null;){if(i=t[Yt])return i;t=Hd(t)}return n}t=i,i=t.parentNode}return null}function Yo(t){return t=t[Yt]||t[sn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $r(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(o(33))}function gs(t){return t[Wo]||null}var $a=[],Ar=-1;function Mn(t){return{current:t}}function Te(t){0>Ar||(t.current=$a[Ar],$a[Ar]=null,Ar--)}function Re(t,n){Ar++,$a[Ar]=t.current,t.current=n}var In={},et=Mn(In),st=Mn(!1),nr=In;function Dr(t,n){var i=t.type.contextTypes;if(!i)return In;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in i)d[m]=n[m];return a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=d),d}function lt(t){return t=t.childContextTypes,t!=null}function ys(){Te(st),Te(et)}function Vd(t,n,i){if(et.current!==In)throw Error(o(168));Re(et,n),Re(st,i)}function Bd(t,n,i){var a=t.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var d in a)if(!(d in n))throw Error(o(108,le(t)||"Unknown",d));return W({},i,a)}function vs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||In,nr=et.current,Re(et,t),Re(st,st.current),!0}function Ud(t,n,i){var a=t.stateNode;if(!a)throw Error(o(169));i?(t=Bd(t,n,nr),a.__reactInternalMemoizedMergedChildContext=t,Te(st),Te(et),Re(et,t)):Te(st),Re(st,i)}var ln=null,xs=!1,Aa=!1;function Wd(t){ln===null?ln=[t]:ln.push(t)}function gy(t){xs=!0,Wd(t)}function Rn(){if(!Aa&&ln!==null){Aa=!0;var t=0,n=Ie;try{var i=ln;for(Ie=1;t<i.length;t++){var a=i[t];do a=a(!0);while(a!==null)}ln=null,xs=!1}catch(d){throw ln!==null&&(ln=ln.slice(t+1)),Qi(bo,Rn),d}finally{Ie=n,Aa=!1}}return null}var Or=[],Fr=0,ws=null,Ss=0,kt=[],Ct=0,rr=null,an=1,un="";function or(t,n){Or[Fr++]=Ss,Or[Fr++]=ws,ws=t,Ss=n}function Yd(t,n,i){kt[Ct++]=an,kt[Ct++]=un,kt[Ct++]=rr,rr=t;var a=an;t=un;var d=32-mt(a)-1;a&=~(1<<d),i+=1;var m=32-mt(n)+d;if(30<m){var N=d-d%5;m=(a&(1<<N)-1).toString(32),a>>=N,d-=N,an=1<<32-mt(n)+d|i<<d|a,un=m+t}else an=1<<m|i<<d|a,un=t}function Da(t){t.return!==null&&(or(t,1),Yd(t,1,0))}function Oa(t){for(;t===ws;)ws=Or[--Fr],Or[Fr]=null,Ss=Or[--Fr],Or[Fr]=null;for(;t===rr;)rr=kt[--Ct],kt[Ct]=null,un=kt[--Ct],kt[Ct]=null,an=kt[--Ct],kt[Ct]=null}var yt=null,vt=null,ze=!1,Lt=null;function Xd(t,n){var i=Pt(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=t,n=t.deletions,n===null?(t.deletions=[i],t.flags|=16):n.push(i)}function Qd(t,n){switch(t.tag){case 5:var i=t.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,yt=t,vt=Pn(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,yt=t,vt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=rr!==null?{id:an,overflow:un}:null,t.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=Pt(18,null,null,0),i.stateNode=n,i.return=t,t.child=i,yt=t,vt=null,!0):!1;default:return!1}}function Fa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ha(t){if(ze){var n=vt;if(n){var i=n;if(!Qd(t,n)){if(Fa(t))throw Error(o(418));n=Pn(i.nextSibling);var a=yt;n&&Qd(t,n)?Xd(a,i):(t.flags=t.flags&-4097|2,ze=!1,yt=t)}}else{if(Fa(t))throw Error(o(418));t.flags=t.flags&-4097|2,ze=!1,yt=t}}}function Gd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yt=t}function Es(t){if(t!==yt)return!1;if(!ze)return Gd(t),ze=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!Ra(t.type,t.memoizedProps)),n&&(n=vt)){if(Fa(t))throw Kd(),Error(o(418));for(;n;)Xd(t,n),n=Pn(n.nextSibling)}if(Gd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"){if(n===0){vt=Pn(t.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}t=t.nextSibling}vt=null}}else vt=yt?Pn(t.stateNode.nextSibling):null;return!0}function Kd(){for(var t=vt;t;)t=Pn(t.nextSibling)}function Hr(){vt=yt=null,ze=!1}function Va(t){Lt===null?Lt=[t]:Lt.push(t)}var yy=P.ReactCurrentBatchConfig;function Xo(t,n,i){if(t=i.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(o(309));var a=i.stateNode}if(!a)throw Error(o(147,t));var d=a,m=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===m?n.ref:(n=function(N){var L=d.refs;N===null?delete L[m]:L[m]=N},n._stringRef=m,n)}if(typeof t!="string")throw Error(o(284));if(!i._owner)throw Error(o(290,t))}return t}function Ns(t,n){throw t=Object.prototype.toString.call(n),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function qd(t){var n=t._init;return n(t._payload)}function Zd(t){function n(K,B){if(t){var q=K.deletions;q===null?(K.deletions=[B],K.flags|=16):q.push(B)}}function i(K,B){if(!t)return null;for(;B!==null;)n(K,B),B=B.sibling;return null}function a(K,B){for(K=new Map;B!==null;)B.key!==null?K.set(B.key,B):K.set(B.index,B),B=B.sibling;return K}function d(K,B){return K=Fn(K,B),K.index=0,K.sibling=null,K}function m(K,B,q){return K.index=q,t?(q=K.alternate,q!==null?(q=q.index,q<B?(K.flags|=2,B):q):(K.flags|=2,B)):(K.flags|=1048576,B)}function N(K){return t&&K.alternate===null&&(K.flags|=2),K}function L(K,B,q,ue){return B===null||B.tag!==6?(B=Lu(q,K.mode,ue),B.return=K,B):(B=d(B,q),B.return=K,B)}function O(K,B,q,ue){var ve=q.type;return ve===T?se(K,B,q.props.children,ue,q.key):B!==null&&(B.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===$&&qd(ve)===B.type)?(ue=d(B,q.props),ue.ref=Xo(K,B,q),ue.return=K,ue):(ue=Xs(q.type,q.key,q.props,null,K.mode,ue),ue.ref=Xo(K,B,q),ue.return=K,ue)}function J(K,B,q,ue){return B===null||B.tag!==4||B.stateNode.containerInfo!==q.containerInfo||B.stateNode.implementation!==q.implementation?(B=Tu(q,K.mode,ue),B.return=K,B):(B=d(B,q.children||[]),B.return=K,B)}function se(K,B,q,ue,ve){return B===null||B.tag!==7?(B=fr(q,K.mode,ue,ve),B.return=K,B):(B=d(B,q),B.return=K,B)}function ae(K,B,q){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Lu(""+B,K.mode,q),B.return=K,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case F:return q=Xs(B.type,B.key,B.props,null,K.mode,q),q.ref=Xo(K,null,B),q.return=K,q;case D:return B=Tu(B,K.mode,q),B.return=K,B;case $:var ue=B._init;return ae(K,ue(B._payload),q)}if(pt(B)||z(B))return B=fr(B,K.mode,q,null),B.return=K,B;Ns(K,B)}return null}function ie(K,B,q,ue){var ve=B!==null?B.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ve!==null?null:L(K,B,""+q,ue);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case F:return q.key===ve?O(K,B,q,ue):null;case D:return q.key===ve?J(K,B,q,ue):null;case $:return ve=q._init,ie(K,B,ve(q._payload),ue)}if(pt(q)||z(q))return ve!==null?null:se(K,B,q,ue,null);Ns(K,q)}return null}function de(K,B,q,ue,ve){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return K=K.get(q)||null,L(B,K,""+ue,ve);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case F:return K=K.get(ue.key===null?q:ue.key)||null,O(B,K,ue,ve);case D:return K=K.get(ue.key===null?q:ue.key)||null,J(B,K,ue,ve);case $:var Se=ue._init;return de(K,B,q,Se(ue._payload),ve)}if(pt(ue)||z(ue))return K=K.get(q)||null,se(B,K,ue,ve,null);Ns(B,ue)}return null}function me(K,B,q,ue){for(var ve=null,Se=null,Ee=B,Ne=B=0,qe=null;Ee!==null&&Ne<q.length;Ne++){Ee.index>Ne?(qe=Ee,Ee=null):qe=Ee.sibling;var Pe=ie(K,Ee,q[Ne],ue);if(Pe===null){Ee===null&&(Ee=qe);break}t&&Ee&&Pe.alternate===null&&n(K,Ee),B=m(Pe,B,Ne),Se===null?ve=Pe:Se.sibling=Pe,Se=Pe,Ee=qe}if(Ne===q.length)return i(K,Ee),ze&&or(K,Ne),ve;if(Ee===null){for(;Ne<q.length;Ne++)Ee=ae(K,q[Ne],ue),Ee!==null&&(B=m(Ee,B,Ne),Se===null?ve=Ee:Se.sibling=Ee,Se=Ee);return ze&&or(K,Ne),ve}for(Ee=a(K,Ee);Ne<q.length;Ne++)qe=de(Ee,K,Ne,q[Ne],ue),qe!==null&&(t&&qe.alternate!==null&&Ee.delete(qe.key===null?Ne:qe.key),B=m(qe,B,Ne),Se===null?ve=qe:Se.sibling=qe,Se=qe);return t&&Ee.forEach(function(Hn){return n(K,Hn)}),ze&&or(K,Ne),ve}function ge(K,B,q,ue){var ve=z(q);if(typeof ve!="function")throw Error(o(150));if(q=ve.call(q),q==null)throw Error(o(151));for(var Se=ve=null,Ee=B,Ne=B=0,qe=null,Pe=q.next();Ee!==null&&!Pe.done;Ne++,Pe=q.next()){Ee.index>Ne?(qe=Ee,Ee=null):qe=Ee.sibling;var Hn=ie(K,Ee,Pe.value,ue);if(Hn===null){Ee===null&&(Ee=qe);break}t&&Ee&&Hn.alternate===null&&n(K,Ee),B=m(Hn,B,Ne),Se===null?ve=Hn:Se.sibling=Hn,Se=Hn,Ee=qe}if(Pe.done)return i(K,Ee),ze&&or(K,Ne),ve;if(Ee===null){for(;!Pe.done;Ne++,Pe=q.next())Pe=ae(K,Pe.value,ue),Pe!==null&&(B=m(Pe,B,Ne),Se===null?ve=Pe:Se.sibling=Pe,Se=Pe);return ze&&or(K,Ne),ve}for(Ee=a(K,Ee);!Pe.done;Ne++,Pe=q.next())Pe=de(Ee,K,Ne,Pe.value,ue),Pe!==null&&(t&&Pe.alternate!==null&&Ee.delete(Pe.key===null?Ne:Pe.key),B=m(Pe,B,Ne),Se===null?ve=Pe:Se.sibling=Pe,Se=Pe);return t&&Ee.forEach(function(Ky){return n(K,Ky)}),ze&&or(K,Ne),ve}function Be(K,B,q,ue){if(typeof q=="object"&&q!==null&&q.type===T&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case F:e:{for(var ve=q.key,Se=B;Se!==null;){if(Se.key===ve){if(ve=q.type,ve===T){if(Se.tag===7){i(K,Se.sibling),B=d(Se,q.props.children),B.return=K,K=B;break e}}else if(Se.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===$&&qd(ve)===Se.type){i(K,Se.sibling),B=d(Se,q.props),B.ref=Xo(K,Se,q),B.return=K,K=B;break e}i(K,Se);break}else n(K,Se);Se=Se.sibling}q.type===T?(B=fr(q.props.children,K.mode,ue,q.key),B.return=K,K=B):(ue=Xs(q.type,q.key,q.props,null,K.mode,ue),ue.ref=Xo(K,B,q),ue.return=K,K=ue)}return N(K);case D:e:{for(Se=q.key;B!==null;){if(B.key===Se)if(B.tag===4&&B.stateNode.containerInfo===q.containerInfo&&B.stateNode.implementation===q.implementation){i(K,B.sibling),B=d(B,q.children||[]),B.return=K,K=B;break e}else{i(K,B);break}else n(K,B);B=B.sibling}B=Tu(q,K.mode,ue),B.return=K,K=B}return N(K);case $:return Se=q._init,Be(K,B,Se(q._payload),ue)}if(pt(q))return me(K,B,q,ue);if(z(q))return ge(K,B,q,ue);Ns(K,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,B!==null&&B.tag===6?(i(K,B.sibling),B=d(B,q),B.return=K,K=B):(i(K,B),B=Lu(q,K.mode,ue),B.return=K,K=B),N(K)):i(K,B)}return Be}var Vr=Zd(!0),Jd=Zd(!1),ks=Mn(null),Cs=null,Br=null,Ba=null;function Ua(){Ba=Br=Cs=null}function Wa(t){var n=ks.current;Te(ks),t._currentValue=n}function Ya(t,n,i){for(;t!==null;){var a=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),t===i)break;t=t.return}}function Ur(t,n){Cs=t,Ba=Br=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&n)!==0&&(at=!0),t.firstContext=null)}function _t(t){var n=t._currentValue;if(Ba!==t)if(t={context:t,memoizedValue:n,next:null},Br===null){if(Cs===null)throw Error(o(308));Br=t,Cs.dependencies={lanes:0,firstContext:t}}else Br=Br.next=t;return n}var ir=null;function Xa(t){ir===null?ir=[t]:ir.push(t)}function ef(t,n,i,a){var d=n.interleaved;return d===null?(i.next=i,Xa(n)):(i.next=d.next,d.next=i),n.interleaved=i,cn(t,a)}function cn(t,n){t.lanes|=n;var i=t.alternate;for(i!==null&&(i.lanes|=n),i=t,t=t.return;t!==null;)t.childLanes|=n,i=t.alternate,i!==null&&(i.childLanes|=n),i=t,t=t.return;return i.tag===3?i.stateNode:null}var Ln=!1;function Qa(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dn(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function Tn(t,n,i){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(je&2)!==0){var d=a.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),a.pending=n,cn(t,i)}return d=a.interleaved,d===null?(n.next=n,Xa(a)):(n.next=d.next,d.next=n),a.interleaved=n,cn(t,i)}function _s(t,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var a=n.lanes;a&=t.pendingLanes,i|=a,n.lanes=i,aa(t,i)}}function nf(t,n){var i=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var d=null,m=null;if(i=i.firstBaseUpdate,i!==null){do{var N={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};m===null?d=m=N:m=m.next=N,i=i.next}while(i!==null);m===null?d=m=n:m=m.next=n}else d=m=n;i={baseState:a.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:a.shared,effects:a.effects},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=n:t.next=n,i.lastBaseUpdate=n}function bs(t,n,i,a){var d=t.updateQueue;Ln=!1;var m=d.firstBaseUpdate,N=d.lastBaseUpdate,L=d.shared.pending;if(L!==null){d.shared.pending=null;var O=L,J=O.next;O.next=null,N===null?m=J:N.next=J,N=O;var se=t.alternate;se!==null&&(se=se.updateQueue,L=se.lastBaseUpdate,L!==N&&(L===null?se.firstBaseUpdate=J:L.next=J,se.lastBaseUpdate=O))}if(m!==null){var ae=d.baseState;N=0,se=J=O=null,L=m;do{var ie=L.lane,de=L.eventTime;if((a&ie)===ie){se!==null&&(se=se.next={eventTime:de,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var me=t,ge=L;switch(ie=n,de=i,ge.tag){case 1:if(me=ge.payload,typeof me=="function"){ae=me.call(de,ae,ie);break e}ae=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ge.payload,ie=typeof me=="function"?me.call(de,ae,ie):me,ie==null)break e;ae=W({},ae,ie);break e;case 2:Ln=!0}}L.callback!==null&&L.lane!==0&&(t.flags|=64,ie=d.effects,ie===null?d.effects=[L]:ie.push(L))}else de={eventTime:de,lane:ie,tag:L.tag,payload:L.payload,callback:L.callback,next:null},se===null?(J=se=de,O=ae):se=se.next=de,N|=ie;if(L=L.next,L===null){if(L=d.shared.pending,L===null)break;ie=L,L=ie.next,ie.next=null,d.lastBaseUpdate=ie,d.shared.pending=null}}while(!0);if(se===null&&(O=ae),d.baseState=O,d.firstBaseUpdate=J,d.lastBaseUpdate=se,n=d.shared.interleaved,n!==null){d=n;do N|=d.lane,d=d.next;while(d!==n)}else m===null&&(d.shared.lanes=0);ar|=N,t.lanes=N,t.memoizedState=ae}}function rf(t,n,i){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var a=t[n],d=a.callback;if(d!==null){if(a.callback=null,a=i,typeof d!="function")throw Error(o(191,d));d.call(a)}}}var Qo={},Xt=Mn(Qo),Go=Mn(Qo),Ko=Mn(Qo);function sr(t){if(t===Qo)throw Error(o(174));return t}function Ga(t,n){switch(Re(Ko,n),Re(Go,t),Re(Xt,Qo),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:rn(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=rn(n,t)}Te(Xt),Re(Xt,n)}function Wr(){Te(Xt),Te(Go),Te(Ko)}function of(t){sr(Ko.current);var n=sr(Xt.current),i=rn(n,t.type);n!==i&&(Re(Go,t),Re(Xt,i))}function Ka(t){Go.current===t&&(Te(Xt),Te(Go))}var Oe=Mn(0);function js(t){for(var n=t;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var qa=[];function Za(){for(var t=0;t<qa.length;t++)qa[t]._workInProgressVersionPrimary=null;qa.length=0}var Ps=P.ReactCurrentDispatcher,Ja=P.ReactCurrentBatchConfig,lr=0,Fe=null,Xe=null,Ge=null,Ms=!1,qo=!1,Zo=0,vy=0;function tt(){throw Error(o(321))}function eu(t,n){if(n===null)return!1;for(var i=0;i<n.length&&i<t.length;i++)if(!Rt(t[i],n[i]))return!1;return!0}function tu(t,n,i,a,d,m){if(lr=m,Fe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ps.current=t===null||t.memoizedState===null?Ey:Ny,t=i(a,d),qo){m=0;do{if(qo=!1,Zo=0,25<=m)throw Error(o(301));m+=1,Ge=Xe=null,n.updateQueue=null,Ps.current=ky,t=i(a,d)}while(qo)}if(Ps.current=Ls,n=Xe!==null&&Xe.next!==null,lr=0,Ge=Xe=Fe=null,Ms=!1,n)throw Error(o(300));return t}function nu(){var t=Zo!==0;return Zo=0,t}function Qt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Fe.memoizedState=Ge=t:Ge=Ge.next=t,Ge}function bt(){if(Xe===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var n=Ge===null?Fe.memoizedState:Ge.next;if(n!==null)Ge=n,Xe=t;else{if(t===null)throw Error(o(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Ge===null?Fe.memoizedState=Ge=t:Ge=Ge.next=t}return Ge}function Jo(t,n){return typeof n=="function"?n(t):n}function ru(t){var n=bt(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=t;var a=Xe,d=a.baseQueue,m=i.pending;if(m!==null){if(d!==null){var N=d.next;d.next=m.next,m.next=N}a.baseQueue=d=m,i.pending=null}if(d!==null){m=d.next,a=a.baseState;var L=N=null,O=null,J=m;do{var se=J.lane;if((lr&se)===se)O!==null&&(O=O.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),a=J.hasEagerState?J.eagerState:t(a,J.action);else{var ae={lane:se,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};O===null?(L=O=ae,N=a):O=O.next=ae,Fe.lanes|=se,ar|=se}J=J.next}while(J!==null&&J!==m);O===null?N=a:O.next=L,Rt(a,n.memoizedState)||(at=!0),n.memoizedState=a,n.baseState=N,n.baseQueue=O,i.lastRenderedState=a}if(t=i.interleaved,t!==null){d=t;do m=d.lane,Fe.lanes|=m,ar|=m,d=d.next;while(d!==t)}else d===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function ou(t){var n=bt(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=t;var a=i.dispatch,d=i.pending,m=n.memoizedState;if(d!==null){i.pending=null;var N=d=d.next;do m=t(m,N.action),N=N.next;while(N!==d);Rt(m,n.memoizedState)||(at=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),i.lastRenderedState=m}return[m,a]}function sf(){}function lf(t,n){var i=Fe,a=bt(),d=n(),m=!Rt(a.memoizedState,d);if(m&&(a.memoizedState=d,at=!0),a=a.queue,iu(cf.bind(null,i,a,t),[t]),a.getSnapshot!==n||m||Ge!==null&&Ge.memoizedState.tag&1){if(i.flags|=2048,ei(9,uf.bind(null,i,a,d,n),void 0,null),Ke===null)throw Error(o(349));(lr&30)!==0||af(i,n,d)}return d}function af(t,n,i){t.flags|=16384,t={getSnapshot:n,value:i},n=Fe.updateQueue,n===null?(n={lastEffect:null,stores:null},Fe.updateQueue=n,n.stores=[t]):(i=n.stores,i===null?n.stores=[t]:i.push(t))}function uf(t,n,i,a){n.value=i,n.getSnapshot=a,df(n)&&ff(t)}function cf(t,n,i){return i(function(){df(n)&&ff(t)})}function df(t){var n=t.getSnapshot;t=t.value;try{var i=n();return!Rt(t,i)}catch{return!0}}function ff(t){var n=cn(t,1);n!==null&&At(n,t,1,-1)}function hf(t){var n=Qt();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:t},n.queue=t,t=t.dispatch=Sy.bind(null,Fe,t),[n.memoizedState,t]}function ei(t,n,i,a){return t={tag:t,create:n,destroy:i,deps:a,next:null},n=Fe.updateQueue,n===null?(n={lastEffect:null,stores:null},Fe.updateQueue=n,n.lastEffect=t.next=t):(i=n.lastEffect,i===null?n.lastEffect=t.next=t:(a=i.next,i.next=t,t.next=a,n.lastEffect=t)),t}function pf(){return bt().memoizedState}function Is(t,n,i,a){var d=Qt();Fe.flags|=t,d.memoizedState=ei(1|n,i,void 0,a===void 0?null:a)}function Rs(t,n,i,a){var d=bt();a=a===void 0?null:a;var m=void 0;if(Xe!==null){var N=Xe.memoizedState;if(m=N.destroy,a!==null&&eu(a,N.deps)){d.memoizedState=ei(n,i,m,a);return}}Fe.flags|=t,d.memoizedState=ei(1|n,i,m,a)}function mf(t,n){return Is(8390656,8,t,n)}function iu(t,n){return Rs(2048,8,t,n)}function gf(t,n){return Rs(4,2,t,n)}function yf(t,n){return Rs(4,4,t,n)}function vf(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function xf(t,n,i){return i=i!=null?i.concat([t]):null,Rs(4,4,vf.bind(null,n,t),i)}function su(){}function wf(t,n){var i=bt();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&eu(n,a[1])?a[0]:(i.memoizedState=[t,n],t)}function Sf(t,n){var i=bt();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&eu(n,a[1])?a[0]:(t=t(),i.memoizedState=[t,n],t)}function Ef(t,n,i){return(lr&21)===0?(t.baseState&&(t.baseState=!1,at=!0),t.memoizedState=i):(Rt(i,n)||(i=jr(),Fe.lanes|=i,ar|=i,t.baseState=!0),n)}function xy(t,n){var i=Ie;Ie=i!==0&&4>i?i:4,t(!0);var a=Ja.transition;Ja.transition={};try{t(!1),n()}finally{Ie=i,Ja.transition=a}}function Nf(){return bt().memoizedState}function wy(t,n,i){var a=Dn(t);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},kf(t))Cf(n,i);else if(i=ef(t,n,i,a),i!==null){var d=it();At(i,t,a,d),_f(i,n,a)}}function Sy(t,n,i){var a=Dn(t),d={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(kf(t))Cf(n,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var N=n.lastRenderedState,L=m(N,i);if(d.hasEagerState=!0,d.eagerState=L,Rt(L,N)){var O=n.interleaved;O===null?(d.next=d,Xa(n)):(d.next=O.next,O.next=d),n.interleaved=d;return}}catch{}finally{}i=ef(t,n,d,a),i!==null&&(d=it(),At(i,t,a,d),_f(i,n,a))}}function kf(t){var n=t.alternate;return t===Fe||n!==null&&n===Fe}function Cf(t,n){qo=Ms=!0;var i=t.pending;i===null?n.next=n:(n.next=i.next,i.next=n),t.pending=n}function _f(t,n,i){if((i&4194240)!==0){var a=n.lanes;a&=t.pendingLanes,i|=a,n.lanes=i,aa(t,i)}}var Ls={readContext:_t,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},Ey={readContext:_t,useCallback:function(t,n){return Qt().memoizedState=[t,n===void 0?null:n],t},useContext:_t,useEffect:mf,useImperativeHandle:function(t,n,i){return i=i!=null?i.concat([t]):null,Is(4194308,4,vf.bind(null,n,t),i)},useLayoutEffect:function(t,n){return Is(4194308,4,t,n)},useInsertionEffect:function(t,n){return Is(4,2,t,n)},useMemo:function(t,n){var i=Qt();return n=n===void 0?null:n,t=t(),i.memoizedState=[t,n],t},useReducer:function(t,n,i){var a=Qt();return n=i!==void 0?i(n):n,a.memoizedState=a.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},a.queue=t,t=t.dispatch=wy.bind(null,Fe,t),[a.memoizedState,t]},useRef:function(t){var n=Qt();return t={current:t},n.memoizedState=t},useState:hf,useDebugValue:su,useDeferredValue:function(t){return Qt().memoizedState=t},useTransition:function(){var t=hf(!1),n=t[0];return t=xy.bind(null,t[1]),Qt().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,i){var a=Fe,d=Qt();if(ze){if(i===void 0)throw Error(o(407));i=i()}else{if(i=n(),Ke===null)throw Error(o(349));(lr&30)!==0||af(a,n,i)}d.memoizedState=i;var m={value:i,getSnapshot:n};return d.queue=m,mf(cf.bind(null,a,m,t),[t]),a.flags|=2048,ei(9,uf.bind(null,a,m,i,n),void 0,null),i},useId:function(){var t=Qt(),n=Ke.identifierPrefix;if(ze){var i=un,a=an;i=(a&~(1<<32-mt(a)-1)).toString(32)+i,n=":"+n+"R"+i,i=Zo++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=vy++,n=":"+n+"r"+i.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},Ny={readContext:_t,useCallback:wf,useContext:_t,useEffect:iu,useImperativeHandle:xf,useInsertionEffect:gf,useLayoutEffect:yf,useMemo:Sf,useReducer:ru,useRef:pf,useState:function(){return ru(Jo)},useDebugValue:su,useDeferredValue:function(t){var n=bt();return Ef(n,Xe.memoizedState,t)},useTransition:function(){var t=ru(Jo)[0],n=bt().memoizedState;return[t,n]},useMutableSource:sf,useSyncExternalStore:lf,useId:Nf,unstable_isNewReconciler:!1},ky={readContext:_t,useCallback:wf,useContext:_t,useEffect:iu,useImperativeHandle:xf,useInsertionEffect:gf,useLayoutEffect:yf,useMemo:Sf,useReducer:ou,useRef:pf,useState:function(){return ou(Jo)},useDebugValue:su,useDeferredValue:function(t){var n=bt();return Xe===null?n.memoizedState=t:Ef(n,Xe.memoizedState,t)},useTransition:function(){var t=ou(Jo)[0],n=bt().memoizedState;return[t,n]},useMutableSource:sf,useSyncExternalStore:lf,useId:Nf,unstable_isNewReconciler:!1};function Tt(t,n){if(t&&t.defaultProps){n=W({},n),t=t.defaultProps;for(var i in t)n[i]===void 0&&(n[i]=t[i]);return n}return n}function lu(t,n,i,a){n=t.memoizedState,i=i(a,n),i=i==null?n:W({},n,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Ts={isMounted:function(t){return(t=t._reactInternals)?Ut(t)===t:!1},enqueueSetState:function(t,n,i){t=t._reactInternals;var a=it(),d=Dn(t),m=dn(a,d);m.payload=n,i!=null&&(m.callback=i),n=Tn(t,m,d),n!==null&&(At(n,t,d,a),_s(n,t,d))},enqueueReplaceState:function(t,n,i){t=t._reactInternals;var a=it(),d=Dn(t),m=dn(a,d);m.tag=1,m.payload=n,i!=null&&(m.callback=i),n=Tn(t,m,d),n!==null&&(At(n,t,d,a),_s(n,t,d))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var i=it(),a=Dn(t),d=dn(i,a);d.tag=2,n!=null&&(d.callback=n),n=Tn(t,d,a),n!==null&&(At(n,t,a,i),_s(n,t,a))}};function bf(t,n,i,a,d,m,N){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,m,N):n.prototype&&n.prototype.isPureReactComponent?!Fo(i,a)||!Fo(d,m):!0}function jf(t,n,i){var a=!1,d=In,m=n.contextType;return typeof m=="object"&&m!==null?m=_t(m):(d=lt(n)?nr:et.current,a=n.contextTypes,m=(a=a!=null)?Dr(t,d):In),n=new n(i,m),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Ts,t.stateNode=n,n._reactInternals=t,a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=m),n}function Pf(t,n,i,a){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,a),n.state!==t&&Ts.enqueueReplaceState(n,n.state,null)}function au(t,n,i,a){var d=t.stateNode;d.props=i,d.state=t.memoizedState,d.refs={},Qa(t);var m=n.contextType;typeof m=="object"&&m!==null?d.context=_t(m):(m=lt(n)?nr:et.current,d.context=Dr(t,m)),d.state=t.memoizedState,m=n.getDerivedStateFromProps,typeof m=="function"&&(lu(t,n,m,i),d.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(n=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),n!==d.state&&Ts.enqueueReplaceState(d,d.state,null),bs(t,i,d,a),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function Yr(t,n){try{var i="",a=n;do i+=ee(a),a=a.return;while(a);var d=i}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:n,stack:d,digest:null}}function uu(t,n,i){return{value:t,source:null,stack:i??null,digest:n??null}}function cu(t,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var Cy=typeof WeakMap=="function"?WeakMap:Map;function Mf(t,n,i){i=dn(-1,i),i.tag=3,i.payload={element:null};var a=n.value;return i.callback=function(){Hs||(Hs=!0,Cu=a),cu(t,n)},i}function If(t,n,i){i=dn(-1,i),i.tag=3;var a=t.type.getDerivedStateFromError;if(typeof a=="function"){var d=n.value;i.payload=function(){return a(d)},i.callback=function(){cu(t,n)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(i.callback=function(){cu(t,n),typeof a!="function"&&($n===null?$n=new Set([this]):$n.add(this));var N=n.stack;this.componentDidCatch(n.value,{componentStack:N!==null?N:""})}),i}function Rf(t,n,i){var a=t.pingCache;if(a===null){a=t.pingCache=new Cy;var d=new Set;a.set(n,d)}else d=a.get(n),d===void 0&&(d=new Set,a.set(n,d));d.has(i)||(d.add(i),t=Oy.bind(null,t,n,i),n.then(t,t))}function Lf(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function Tf(t,n,i,a,d){return(t.mode&1)===0?(t===n?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=dn(-1,1),n.tag=2,Tn(i,n,1))),i.lanes|=1),t):(t.flags|=65536,t.lanes=d,t)}var _y=P.ReactCurrentOwner,at=!1;function ot(t,n,i,a){n.child=t===null?Jd(n,null,i,a):Vr(n,t.child,i,a)}function zf(t,n,i,a,d){i=i.render;var m=n.ref;return Ur(n,d),a=tu(t,n,i,a,m,d),i=nu(),t!==null&&!at?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~d,fn(t,n,d)):(ze&&i&&Da(n),n.flags|=1,ot(t,n,a,d),n.child)}function $f(t,n,i,a,d){if(t===null){var m=i.type;return typeof m=="function"&&!Ru(m)&&m.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=m,Af(t,n,m,a,d)):(t=Xs(i.type,null,a,n,n.mode,d),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,(t.lanes&d)===0){var N=m.memoizedProps;if(i=i.compare,i=i!==null?i:Fo,i(N,a)&&t.ref===n.ref)return fn(t,n,d)}return n.flags|=1,t=Fn(m,a),t.ref=n.ref,t.return=n,n.child=t}function Af(t,n,i,a,d){if(t!==null){var m=t.memoizedProps;if(Fo(m,a)&&t.ref===n.ref)if(at=!1,n.pendingProps=a=m,(t.lanes&d)!==0)(t.flags&131072)!==0&&(at=!0);else return n.lanes=t.lanes,fn(t,n,d)}return du(t,n,i,a,d)}function Df(t,n,i){var a=n.pendingProps,d=a.children,m=t!==null?t.memoizedState:null;if(a.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Qr,xt),xt|=i;else{if((i&1073741824)===0)return t=m!==null?m.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,Re(Qr,xt),xt|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=m!==null?m.baseLanes:i,Re(Qr,xt),xt|=a}else m!==null?(a=m.baseLanes|i,n.memoizedState=null):a=i,Re(Qr,xt),xt|=a;return ot(t,n,d,i),n.child}function Of(t,n){var i=n.ref;(t===null&&i!==null||t!==null&&t.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function du(t,n,i,a,d){var m=lt(i)?nr:et.current;return m=Dr(n,m),Ur(n,d),i=tu(t,n,i,a,m,d),a=nu(),t!==null&&!at?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~d,fn(t,n,d)):(ze&&a&&Da(n),n.flags|=1,ot(t,n,i,d),n.child)}function Ff(t,n,i,a,d){if(lt(i)){var m=!0;vs(n)}else m=!1;if(Ur(n,d),n.stateNode===null)$s(t,n),jf(n,i,a),au(n,i,a,d),a=!0;else if(t===null){var N=n.stateNode,L=n.memoizedProps;N.props=L;var O=N.context,J=i.contextType;typeof J=="object"&&J!==null?J=_t(J):(J=lt(i)?nr:et.current,J=Dr(n,J));var se=i.getDerivedStateFromProps,ae=typeof se=="function"||typeof N.getSnapshotBeforeUpdate=="function";ae||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(L!==a||O!==J)&&Pf(n,N,a,J),Ln=!1;var ie=n.memoizedState;N.state=ie,bs(n,a,N,d),O=n.memoizedState,L!==a||ie!==O||st.current||Ln?(typeof se=="function"&&(lu(n,i,se,a),O=n.memoizedState),(L=Ln||bf(n,i,L,a,ie,O,J))?(ae||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(n.flags|=4194308)):(typeof N.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=O),N.props=a,N.state=O,N.context=J,a=L):(typeof N.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{N=n.stateNode,tf(t,n),L=n.memoizedProps,J=n.type===n.elementType?L:Tt(n.type,L),N.props=J,ae=n.pendingProps,ie=N.context,O=i.contextType,typeof O=="object"&&O!==null?O=_t(O):(O=lt(i)?nr:et.current,O=Dr(n,O));var de=i.getDerivedStateFromProps;(se=typeof de=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(L!==ae||ie!==O)&&Pf(n,N,a,O),Ln=!1,ie=n.memoizedState,N.state=ie,bs(n,a,N,d);var me=n.memoizedState;L!==ae||ie!==me||st.current||Ln?(typeof de=="function"&&(lu(n,i,de,a),me=n.memoizedState),(J=Ln||bf(n,i,J,a,ie,me,O)||!1)?(se||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(a,me,O),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(a,me,O)),typeof N.componentDidUpdate=="function"&&(n.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof N.componentDidUpdate!="function"||L===t.memoizedProps&&ie===t.memoizedState||(n.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||L===t.memoizedProps&&ie===t.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=me),N.props=a,N.state=me,N.context=O,a=J):(typeof N.componentDidUpdate!="function"||L===t.memoizedProps&&ie===t.memoizedState||(n.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||L===t.memoizedProps&&ie===t.memoizedState||(n.flags|=1024),a=!1)}return fu(t,n,i,a,m,d)}function fu(t,n,i,a,d,m){Of(t,n);var N=(n.flags&128)!==0;if(!a&&!N)return d&&Ud(n,i,!1),fn(t,n,m);a=n.stateNode,_y.current=n;var L=N&&typeof i.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,t!==null&&N?(n.child=Vr(n,t.child,null,m),n.child=Vr(n,null,L,m)):ot(t,n,L,m),n.memoizedState=a.state,d&&Ud(n,i,!0),n.child}function Hf(t){var n=t.stateNode;n.pendingContext?Vd(t,n.pendingContext,n.pendingContext!==n.context):n.context&&Vd(t,n.context,!1),Ga(t,n.containerInfo)}function Vf(t,n,i,a,d){return Hr(),Va(d),n.flags|=256,ot(t,n,i,a),n.child}var hu={dehydrated:null,treeContext:null,retryLane:0};function pu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Bf(t,n,i){var a=n.pendingProps,d=Oe.current,m=!1,N=(n.flags&128)!==0,L;if((L=N)||(L=t!==null&&t.memoizedState===null?!1:(d&2)!==0),L?(m=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),Re(Oe,d&1),t===null)return Ha(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((n.mode&1)===0?n.lanes=1:t.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(N=a.children,t=a.fallback,m?(a=n.mode,m=n.child,N={mode:"hidden",children:N},(a&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=N):m=Qs(N,a,0,null),t=fr(t,a,i,null),m.return=n,t.return=n,m.sibling=t,n.child=m,n.child.memoizedState=pu(i),n.memoizedState=hu,t):mu(n,N));if(d=t.memoizedState,d!==null&&(L=d.dehydrated,L!==null))return by(t,n,N,a,L,d,i);if(m){m=a.fallback,N=n.mode,d=t.child,L=d.sibling;var O={mode:"hidden",children:a.children};return(N&1)===0&&n.child!==d?(a=n.child,a.childLanes=0,a.pendingProps=O,n.deletions=null):(a=Fn(d,O),a.subtreeFlags=d.subtreeFlags&14680064),L!==null?m=Fn(L,m):(m=fr(m,N,i,null),m.flags|=2),m.return=n,a.return=n,a.sibling=m,n.child=a,a=m,m=n.child,N=t.child.memoizedState,N=N===null?pu(i):{baseLanes:N.baseLanes|i,cachePool:null,transitions:N.transitions},m.memoizedState=N,m.childLanes=t.childLanes&~i,n.memoizedState=hu,a}return m=t.child,t=m.sibling,a=Fn(m,{mode:"visible",children:a.children}),(n.mode&1)===0&&(a.lanes=i),a.return=n,a.sibling=null,t!==null&&(i=n.deletions,i===null?(n.deletions=[t],n.flags|=16):i.push(t)),n.child=a,n.memoizedState=null,a}function mu(t,n){return n=Qs({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function zs(t,n,i,a){return a!==null&&Va(a),Vr(n,t.child,null,i),t=mu(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function by(t,n,i,a,d,m,N){if(i)return n.flags&256?(n.flags&=-257,a=uu(Error(o(422))),zs(t,n,N,a)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(m=a.fallback,d=n.mode,a=Qs({mode:"visible",children:a.children},d,0,null),m=fr(m,d,N,null),m.flags|=2,a.return=n,m.return=n,a.sibling=m,n.child=a,(n.mode&1)!==0&&Vr(n,t.child,null,N),n.child.memoizedState=pu(N),n.memoizedState=hu,m);if((n.mode&1)===0)return zs(t,n,N,null);if(d.data==="$!"){if(a=d.nextSibling&&d.nextSibling.dataset,a)var L=a.dgst;return a=L,m=Error(o(419)),a=uu(m,a,void 0),zs(t,n,N,a)}if(L=(N&t.childLanes)!==0,at||L){if(a=Ke,a!==null){switch(N&-N){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(a.suspendedLanes|N))!==0?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,cn(t,d),At(a,t,d,-1))}return Iu(),a=uu(Error(o(421))),zs(t,n,N,a)}return d.data==="$?"?(n.flags|=128,n.child=t.child,n=Fy.bind(null,t),d._reactRetry=n,null):(t=m.treeContext,vt=Pn(d.nextSibling),yt=n,ze=!0,Lt=null,t!==null&&(kt[Ct++]=an,kt[Ct++]=un,kt[Ct++]=rr,an=t.id,un=t.overflow,rr=n),n=mu(n,a.children),n.flags|=4096,n)}function Uf(t,n,i){t.lanes|=n;var a=t.alternate;a!==null&&(a.lanes|=n),Ya(t.return,n,i)}function gu(t,n,i,a,d){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:d}:(m.isBackwards=n,m.rendering=null,m.renderingStartTime=0,m.last=a,m.tail=i,m.tailMode=d)}function Wf(t,n,i){var a=n.pendingProps,d=a.revealOrder,m=a.tail;if(ot(t,n,a.children,i),a=Oe.current,(a&2)!==0)a=a&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Uf(t,i,n);else if(t.tag===19)Uf(t,i,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}if(Re(Oe,a),(n.mode&1)===0)n.memoizedState=null;else switch(d){case"forwards":for(i=n.child,d=null;i!==null;)t=i.alternate,t!==null&&js(t)===null&&(d=i),i=i.sibling;i=d,i===null?(d=n.child,n.child=null):(d=i.sibling,i.sibling=null),gu(n,!1,d,i,m);break;case"backwards":for(i=null,d=n.child,n.child=null;d!==null;){if(t=d.alternate,t!==null&&js(t)===null){n.child=d;break}t=d.sibling,d.sibling=i,i=d,d=t}gu(n,!0,i,null,m);break;case"together":gu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function $s(t,n){(n.mode&1)===0&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function fn(t,n,i){if(t!==null&&(n.dependencies=t.dependencies),ar|=n.lanes,(i&n.childLanes)===0)return null;if(t!==null&&n.child!==t.child)throw Error(o(153));if(n.child!==null){for(t=n.child,i=Fn(t,t.pendingProps),n.child=i,i.return=n;t.sibling!==null;)t=t.sibling,i=i.sibling=Fn(t,t.pendingProps),i.return=n;i.sibling=null}return n.child}function jy(t,n,i){switch(n.tag){case 3:Hf(n),Hr();break;case 5:of(n);break;case 1:lt(n.type)&&vs(n);break;case 4:Ga(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,d=n.memoizedProps.value;Re(ks,a._currentValue),a._currentValue=d;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(Re(Oe,Oe.current&1),n.flags|=128,null):(i&n.child.childLanes)!==0?Bf(t,n,i):(Re(Oe,Oe.current&1),t=fn(t,n,i),t!==null?t.sibling:null);Re(Oe,Oe.current&1);break;case 19:if(a=(i&n.childLanes)!==0,(t.flags&128)!==0){if(a)return Wf(t,n,i);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Re(Oe,Oe.current),a)break;return null;case 22:case 23:return n.lanes=0,Df(t,n,i)}return fn(t,n,i)}var Yf,yu,Xf,Qf;Yf=function(t,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},yu=function(){},Xf=function(t,n,i,a){var d=t.memoizedProps;if(d!==a){t=n.stateNode,sr(Xt.current);var m=null;switch(i){case"input":d=ke(t,d),a=ke(t,a),m=[];break;case"select":d=W({},d,{value:void 0}),a=W({},a,{value:void 0}),m=[];break;case"textarea":d=tn(t,d),a=tn(t,a),m=[];break;default:typeof d.onClick!="function"&&typeof a.onClick=="function"&&(t.onclick=ms)}yo(i,a);var N;i=null;for(J in d)if(!a.hasOwnProperty(J)&&d.hasOwnProperty(J)&&d[J]!=null)if(J==="style"){var L=d[J];for(N in L)L.hasOwnProperty(N)&&(i||(i={}),i[N]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(l.hasOwnProperty(J)?m||(m=[]):(m=m||[]).push(J,null));for(J in a){var O=a[J];if(L=d!=null?d[J]:void 0,a.hasOwnProperty(J)&&O!==L&&(O!=null||L!=null))if(J==="style")if(L){for(N in L)!L.hasOwnProperty(N)||O&&O.hasOwnProperty(N)||(i||(i={}),i[N]="");for(N in O)O.hasOwnProperty(N)&&L[N]!==O[N]&&(i||(i={}),i[N]=O[N])}else i||(m||(m=[]),m.push(J,i)),i=O;else J==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,L=L?L.__html:void 0,O!=null&&L!==O&&(m=m||[]).push(J,O)):J==="children"?typeof O!="string"&&typeof O!="number"||(m=m||[]).push(J,""+O):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(l.hasOwnProperty(J)?(O!=null&&J==="onScroll"&&Le("scroll",t),m||L===O||(m=[])):(m=m||[]).push(J,O))}i&&(m=m||[]).push("style",i);var J=m;(n.updateQueue=J)&&(n.flags|=4)}},Qf=function(t,n,i,a){i!==a&&(n.flags|=4)};function ti(t,n){if(!ze)switch(t.tailMode){case"hidden":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function nt(t){var n=t.alternate!==null&&t.alternate.child===t.child,i=0,a=0;if(n)for(var d=t.child;d!==null;)i|=d.lanes|d.childLanes,a|=d.subtreeFlags&14680064,a|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)i|=d.lanes|d.childLanes,a|=d.subtreeFlags,a|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=a,t.childLanes=i,n}function Py(t,n,i){var a=n.pendingProps;switch(Oa(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(n),null;case 1:return lt(n.type)&&ys(),nt(n),null;case 3:return a=n.stateNode,Wr(),Te(st),Te(et),Za(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Es(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Lt!==null&&(ju(Lt),Lt=null))),yu(t,n),nt(n),null;case 5:Ka(n);var d=sr(Ko.current);if(i=n.type,t!==null&&n.stateNode!=null)Xf(t,n,i,a,d),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(o(166));return nt(n),null}if(t=sr(Xt.current),Es(n)){a=n.stateNode,i=n.type;var m=n.memoizedProps;switch(a[Yt]=n,a[Wo]=m,t=(n.mode&1)!==0,i){case"dialog":Le("cancel",a),Le("close",a);break;case"iframe":case"object":case"embed":Le("load",a);break;case"video":case"audio":for(d=0;d<Vo.length;d++)Le(Vo[d],a);break;case"source":Le("error",a);break;case"img":case"image":case"link":Le("error",a),Le("load",a);break;case"details":Le("toggle",a);break;case"input":Me(a,m),Le("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!m.multiple},Le("invalid",a);break;case"textarea":wn(a,m),Le("invalid",a)}yo(i,m),d=null;for(var N in m)if(m.hasOwnProperty(N)){var L=m[N];N==="children"?typeof L=="string"?a.textContent!==L&&(m.suppressHydrationWarning!==!0&&ps(a.textContent,L,t),d=["children",L]):typeof L=="number"&&a.textContent!==""+L&&(m.suppressHydrationWarning!==!0&&ps(a.textContent,L,t),d=["children",""+L]):l.hasOwnProperty(N)&&L!=null&&N==="onScroll"&&Le("scroll",a)}switch(i){case"input":we(a),It(a,m,!0);break;case"textarea":we(a),Xn(a);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(a.onclick=ms)}a=d,n.updateQueue=a,a!==null&&(n.flags|=4)}else{N=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=nn(i)),t==="http://www.w3.org/1999/xhtml"?i==="script"?(t=N.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof a.is=="string"?t=N.createElement(i,{is:a.is}):(t=N.createElement(i),i==="select"&&(N=t,a.multiple?N.multiple=!0:a.size&&(N.size=a.size))):t=N.createElementNS(t,i),t[Yt]=n,t[Wo]=a,Yf(t,n,!1,!1),n.stateNode=t;e:{switch(N=vo(i,a),i){case"dialog":Le("cancel",t),Le("close",t),d=a;break;case"iframe":case"object":case"embed":Le("load",t),d=a;break;case"video":case"audio":for(d=0;d<Vo.length;d++)Le(Vo[d],t);d=a;break;case"source":Le("error",t),d=a;break;case"img":case"image":case"link":Le("error",t),Le("load",t),d=a;break;case"details":Le("toggle",t),d=a;break;case"input":Me(t,a),d=ke(t,a),Le("invalid",t);break;case"option":d=a;break;case"select":t._wrapperState={wasMultiple:!!a.multiple},d=W({},a,{value:void 0}),Le("invalid",t);break;case"textarea":wn(t,a),d=tn(t,a),Le("invalid",t);break;default:d=a}yo(i,d),L=d;for(m in L)if(L.hasOwnProperty(m)){var O=L[m];m==="style"?Oi(t,O):m==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Ai(t,O)):m==="children"?typeof O=="string"?(i!=="textarea"||O!=="")&&on(t,O):typeof O=="number"&&on(t,""+O):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(l.hasOwnProperty(m)?O!=null&&m==="onScroll"&&Le("scroll",t):O!=null&&w(t,m,O,N))}switch(i){case"input":we(t),It(t,a,!1);break;case"textarea":we(t),Xn(t);break;case"option":a.value!=null&&t.setAttribute("value",""+te(a.value));break;case"select":t.multiple=!!a.multiple,m=a.value,m!=null?Et(t,!!a.multiple,m,!1):a.defaultValue!=null&&Et(t,!!a.multiple,a.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=ms)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return nt(n),null;case 6:if(t&&n.stateNode!=null)Qf(t,n,t.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(o(166));if(i=sr(Ko.current),sr(Xt.current),Es(n)){if(a=n.stateNode,i=n.memoizedProps,a[Yt]=n,(m=a.nodeValue!==i)&&(t=yt,t!==null))switch(t.tag){case 3:ps(a.nodeValue,i,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ps(a.nodeValue,i,(t.mode&1)!==0)}m&&(n.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[Yt]=n,n.stateNode=a}return nt(n),null;case 13:if(Te(Oe),a=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&vt!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Kd(),Hr(),n.flags|=98560,m=!1;else if(m=Es(n),a!==null&&a.dehydrated!==null){if(t===null){if(!m)throw Error(o(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));m[Yt]=n}else Hr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;nt(n),m=!1}else Lt!==null&&(ju(Lt),Lt=null),m=!0;if(!m)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=i,n):(a=a!==null,a!==(t!==null&&t.memoizedState!==null)&&a&&(n.child.flags|=8192,(n.mode&1)!==0&&(t===null||(Oe.current&1)!==0?Qe===0&&(Qe=3):Iu())),n.updateQueue!==null&&(n.flags|=4),nt(n),null);case 4:return Wr(),yu(t,n),t===null&&Bo(n.stateNode.containerInfo),nt(n),null;case 10:return Wa(n.type._context),nt(n),null;case 17:return lt(n.type)&&ys(),nt(n),null;case 19:if(Te(Oe),m=n.memoizedState,m===null)return nt(n),null;if(a=(n.flags&128)!==0,N=m.rendering,N===null)if(a)ti(m,!1);else{if(Qe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(N=js(t),N!==null){for(n.flags|=128,ti(m,!1),a=N.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=i,i=n.child;i!==null;)m=i,t=a,m.flags&=14680066,N=m.alternate,N===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=N.childLanes,m.lanes=N.lanes,m.child=N.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=N.memoizedProps,m.memoizedState=N.memoizedState,m.updateQueue=N.updateQueue,m.type=N.type,t=N.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return Re(Oe,Oe.current&1|2),n.child}t=t.sibling}m.tail!==null&&De()>Gr&&(n.flags|=128,a=!0,ti(m,!1),n.lanes=4194304)}else{if(!a)if(t=js(N),t!==null){if(n.flags|=128,a=!0,i=t.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),ti(m,!0),m.tail===null&&m.tailMode==="hidden"&&!N.alternate&&!ze)return nt(n),null}else 2*De()-m.renderingStartTime>Gr&&i!==1073741824&&(n.flags|=128,a=!0,ti(m,!1),n.lanes=4194304);m.isBackwards?(N.sibling=n.child,n.child=N):(i=m.last,i!==null?i.sibling=N:n.child=N,m.last=N)}return m.tail!==null?(n=m.tail,m.rendering=n,m.tail=n.sibling,m.renderingStartTime=De(),n.sibling=null,i=Oe.current,Re(Oe,a?i&1|2:i&1),n):(nt(n),null);case 22:case 23:return Mu(),a=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==a&&(n.flags|=8192),a&&(n.mode&1)!==0?(xt&1073741824)!==0&&(nt(n),n.subtreeFlags&6&&(n.flags|=8192)):nt(n),null;case 24:return null;case 25:return null}throw Error(o(156,n.tag))}function My(t,n){switch(Oa(n),n.tag){case 1:return lt(n.type)&&ys(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Wr(),Te(st),Te(et),Za(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 5:return Ka(n),null;case 13:if(Te(Oe),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(o(340));Hr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Te(Oe),null;case 4:return Wr(),null;case 10:return Wa(n.type._context),null;case 22:case 23:return Mu(),null;case 24:return null;default:return null}}var As=!1,rt=!1,Iy=typeof WeakSet=="function"?WeakSet:Set,he=null;function Xr(t,n){var i=t.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){Ve(t,n,a)}else i.current=null}function vu(t,n,i){try{i()}catch(a){Ve(t,n,a)}}var Gf=!1;function Ry(t,n){if(Ma=rs,t=_d(),Ea(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var d=a.anchorOffset,m=a.focusNode;a=a.focusOffset;try{i.nodeType,m.nodeType}catch{i=null;break e}var N=0,L=-1,O=-1,J=0,se=0,ae=t,ie=null;t:for(;;){for(var de;ae!==i||d!==0&&ae.nodeType!==3||(L=N+d),ae!==m||a!==0&&ae.nodeType!==3||(O=N+a),ae.nodeType===3&&(N+=ae.nodeValue.length),(de=ae.firstChild)!==null;)ie=ae,ae=de;for(;;){if(ae===t)break t;if(ie===i&&++J===d&&(L=N),ie===m&&++se===a&&(O=N),(de=ae.nextSibling)!==null)break;ae=ie,ie=ae.parentNode}ae=de}i=L===-1||O===-1?null:{start:L,end:O}}else i=null}i=i||{start:0,end:0}}else i=null;for(Ia={focusedElem:t,selectionRange:i},rs=!1,he=n;he!==null;)if(n=he,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,he=t;else for(;he!==null;){n=he;try{var me=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ge=me.memoizedProps,Be=me.memoizedState,K=n.stateNode,B=K.getSnapshotBeforeUpdate(n.elementType===n.type?ge:Tt(n.type,ge),Be);K.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var q=n.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ue){Ve(n,n.return,ue)}if(t=n.sibling,t!==null){t.return=n.return,he=t;break}he=n.return}return me=Gf,Gf=!1,me}function ni(t,n,i){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&t)===t){var m=d.destroy;d.destroy=void 0,m!==void 0&&vu(n,i,m)}d=d.next}while(d!==a)}}function Ds(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.create;i.destroy=a()}i=i.next}while(i!==n)}}function xu(t){var n=t.ref;if(n!==null){var i=t.stateNode;switch(t.tag){case 5:t=i;break;default:t=i}typeof n=="function"?n(t):n.current=t}}function Kf(t){var n=t.alternate;n!==null&&(t.alternate=null,Kf(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[Yt],delete n[Wo],delete n[za],delete n[py],delete n[my])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qf(t){return t.tag===5||t.tag===3||t.tag===4}function Zf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wu(t,n,i){var a=t.tag;if(a===5||a===6)t=t.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(t,n):i.insertBefore(t,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(t,i)):(n=i,n.appendChild(t)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=ms));else if(a!==4&&(t=t.child,t!==null))for(wu(t,n,i),t=t.sibling;t!==null;)wu(t,n,i),t=t.sibling}function Su(t,n,i){var a=t.tag;if(a===5||a===6)t=t.stateNode,n?i.insertBefore(t,n):i.appendChild(t);else if(a!==4&&(t=t.child,t!==null))for(Su(t,n,i),t=t.sibling;t!==null;)Su(t,n,i),t=t.sibling}var Ze=null,zt=!1;function zn(t,n,i){for(i=i.child;i!==null;)Jf(t,n,i),i=i.sibling}function Jf(t,n,i){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Jn,i)}catch{}switch(i.tag){case 5:rt||Xr(i,n);case 6:var a=Ze,d=zt;Ze=null,zn(t,n,i),Ze=a,zt=d,Ze!==null&&(zt?(t=Ze,i=i.stateNode,t.nodeType===8?t.parentNode.removeChild(i):t.removeChild(i)):Ze.removeChild(i.stateNode));break;case 18:Ze!==null&&(zt?(t=Ze,i=i.stateNode,t.nodeType===8?Ta(t.parentNode,i):t.nodeType===1&&Ta(t,i),To(t)):Ta(Ze,i.stateNode));break;case 4:a=Ze,d=zt,Ze=i.stateNode.containerInfo,zt=!0,zn(t,n,i),Ze=a,zt=d;break;case 0:case 11:case 14:case 15:if(!rt&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){d=a=a.next;do{var m=d,N=m.destroy;m=m.tag,N!==void 0&&((m&2)!==0||(m&4)!==0)&&vu(i,n,N),d=d.next}while(d!==a)}zn(t,n,i);break;case 1:if(!rt&&(Xr(i,n),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(L){Ve(i,n,L)}zn(t,n,i);break;case 21:zn(t,n,i);break;case 22:i.mode&1?(rt=(a=rt)||i.memoizedState!==null,zn(t,n,i),rt=a):zn(t,n,i);break;default:zn(t,n,i)}}function eh(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var i=t.stateNode;i===null&&(i=t.stateNode=new Iy),n.forEach(function(a){var d=Hy.bind(null,t,a);i.has(a)||(i.add(a),a.then(d,d))})}}function $t(t,n){var i=n.deletions;if(i!==null)for(var a=0;a<i.length;a++){var d=i[a];try{var m=t,N=n,L=N;e:for(;L!==null;){switch(L.tag){case 5:Ze=L.stateNode,zt=!1;break e;case 3:Ze=L.stateNode.containerInfo,zt=!0;break e;case 4:Ze=L.stateNode.containerInfo,zt=!0;break e}L=L.return}if(Ze===null)throw Error(o(160));Jf(m,N,d),Ze=null,zt=!1;var O=d.alternate;O!==null&&(O.return=null),d.return=null}catch(J){Ve(d,n,J)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)th(n,t),n=n.sibling}function th(t,n){var i=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($t(n,t),Gt(t),a&4){try{ni(3,t,t.return),Ds(3,t)}catch(ge){Ve(t,t.return,ge)}try{ni(5,t,t.return)}catch(ge){Ve(t,t.return,ge)}}break;case 1:$t(n,t),Gt(t),a&512&&i!==null&&Xr(i,i.return);break;case 5:if($t(n,t),Gt(t),a&512&&i!==null&&Xr(i,i.return),t.flags&32){var d=t.stateNode;try{on(d,"")}catch(ge){Ve(t,t.return,ge)}}if(a&4&&(d=t.stateNode,d!=null)){var m=t.memoizedProps,N=i!==null?i.memoizedProps:m,L=t.type,O=t.updateQueue;if(t.updateQueue=null,O!==null)try{L==="input"&&m.type==="radio"&&m.name!=null&&_e(d,m),vo(L,N);var J=vo(L,m);for(N=0;N<O.length;N+=2){var se=O[N],ae=O[N+1];se==="style"?Oi(d,ae):se==="dangerouslySetInnerHTML"?Ai(d,ae):se==="children"?on(d,ae):w(d,se,ae,J)}switch(L){case"input":Ue(d,m);break;case"textarea":Sr(d,m);break;case"select":var ie=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var de=m.value;de!=null?Et(d,!!m.multiple,de,!1):ie!==!!m.multiple&&(m.defaultValue!=null?Et(d,!!m.multiple,m.defaultValue,!0):Et(d,!!m.multiple,m.multiple?[]:"",!1))}d[Wo]=m}catch(ge){Ve(t,t.return,ge)}}break;case 6:if($t(n,t),Gt(t),a&4){if(t.stateNode===null)throw Error(o(162));d=t.stateNode,m=t.memoizedProps;try{d.nodeValue=m}catch(ge){Ve(t,t.return,ge)}}break;case 3:if($t(n,t),Gt(t),a&4&&i!==null&&i.memoizedState.isDehydrated)try{To(n.containerInfo)}catch(ge){Ve(t,t.return,ge)}break;case 4:$t(n,t),Gt(t);break;case 13:$t(n,t),Gt(t),d=t.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(ku=De())),a&4&&eh(t);break;case 22:if(se=i!==null&&i.memoizedState!==null,t.mode&1?(rt=(J=rt)||se,$t(n,t),rt=J):$t(n,t),Gt(t),a&8192){if(J=t.memoizedState!==null,(t.stateNode.isHidden=J)&&!se&&(t.mode&1)!==0)for(he=t,se=t.child;se!==null;){for(ae=he=se;he!==null;){switch(ie=he,de=ie.child,ie.tag){case 0:case 11:case 14:case 15:ni(4,ie,ie.return);break;case 1:Xr(ie,ie.return);var me=ie.stateNode;if(typeof me.componentWillUnmount=="function"){a=ie,i=ie.return;try{n=a,me.props=n.memoizedProps,me.state=n.memoizedState,me.componentWillUnmount()}catch(ge){Ve(a,i,ge)}}break;case 5:Xr(ie,ie.return);break;case 22:if(ie.memoizedState!==null){oh(ae);continue}}de!==null?(de.return=ie,he=de):oh(ae)}se=se.sibling}e:for(se=null,ae=t;;){if(ae.tag===5){if(se===null){se=ae;try{d=ae.stateNode,J?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(L=ae.stateNode,O=ae.memoizedProps.style,N=O!=null&&O.hasOwnProperty("display")?O.display:null,L.style.display=Di("display",N))}catch(ge){Ve(t,t.return,ge)}}}else if(ae.tag===6){if(se===null)try{ae.stateNode.nodeValue=J?"":ae.memoizedProps}catch(ge){Ve(t,t.return,ge)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===t)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===t)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===t)break e;se===ae&&(se=null),ae=ae.return}se===ae&&(se=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:$t(n,t),Gt(t),a&4&&eh(t);break;case 21:break;default:$t(n,t),Gt(t)}}function Gt(t){var n=t.flags;if(n&2){try{e:{for(var i=t.return;i!==null;){if(qf(i)){var a=i;break e}i=i.return}throw Error(o(160))}switch(a.tag){case 5:var d=a.stateNode;a.flags&32&&(on(d,""),a.flags&=-33);var m=Zf(t);Su(t,m,d);break;case 3:case 4:var N=a.stateNode.containerInfo,L=Zf(t);wu(t,L,N);break;default:throw Error(o(161))}}catch(O){Ve(t,t.return,O)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ly(t,n,i){he=t,nh(t)}function nh(t,n,i){for(var a=(t.mode&1)!==0;he!==null;){var d=he,m=d.child;if(d.tag===22&&a){var N=d.memoizedState!==null||As;if(!N){var L=d.alternate,O=L!==null&&L.memoizedState!==null||rt;L=As;var J=rt;if(As=N,(rt=O)&&!J)for(he=d;he!==null;)N=he,O=N.child,N.tag===22&&N.memoizedState!==null?ih(d):O!==null?(O.return=N,he=O):ih(d);for(;m!==null;)he=m,nh(m),m=m.sibling;he=d,As=L,rt=J}rh(t)}else(d.subtreeFlags&8772)!==0&&m!==null?(m.return=d,he=m):rh(t)}}function rh(t){for(;he!==null;){var n=he;if((n.flags&8772)!==0){var i=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:rt||Ds(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!rt)if(i===null)a.componentDidMount();else{var d=n.elementType===n.type?i.memoizedProps:Tt(n.type,i.memoizedProps);a.componentDidUpdate(d,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var m=n.updateQueue;m!==null&&rf(n,m,a);break;case 3:var N=n.updateQueue;if(N!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}rf(n,N,i)}break;case 5:var L=n.stateNode;if(i===null&&n.flags&4){i=L;var O=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&i.focus();break;case"img":O.src&&(i.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var J=n.alternate;if(J!==null){var se=J.memoizedState;if(se!==null){var ae=se.dehydrated;ae!==null&&To(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}rt||n.flags&512&&xu(n)}catch(ie){Ve(n,n.return,ie)}}if(n===t){he=null;break}if(i=n.sibling,i!==null){i.return=n.return,he=i;break}he=n.return}}function oh(t){for(;he!==null;){var n=he;if(n===t){he=null;break}var i=n.sibling;if(i!==null){i.return=n.return,he=i;break}he=n.return}}function ih(t){for(;he!==null;){var n=he;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{Ds(4,n)}catch(O){Ve(n,i,O)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var d=n.return;try{a.componentDidMount()}catch(O){Ve(n,d,O)}}var m=n.return;try{xu(n)}catch(O){Ve(n,m,O)}break;case 5:var N=n.return;try{xu(n)}catch(O){Ve(n,N,O)}}}catch(O){Ve(n,n.return,O)}if(n===t){he=null;break}var L=n.sibling;if(L!==null){L.return=n.return,he=L;break}he=n.return}}var Ty=Math.ceil,Os=P.ReactCurrentDispatcher,Eu=P.ReactCurrentOwner,jt=P.ReactCurrentBatchConfig,je=0,Ke=null,We=null,Je=0,xt=0,Qr=Mn(0),Qe=0,ri=null,ar=0,Fs=0,Nu=0,oi=null,ut=null,ku=0,Gr=1/0,hn=null,Hs=!1,Cu=null,$n=null,Vs=!1,An=null,Bs=0,ii=0,_u=null,Us=-1,Ws=0;function it(){return(je&6)!==0?De():Us!==-1?Us:Us=De()}function Dn(t){return(t.mode&1)===0?1:(je&2)!==0&&Je!==0?Je&-Je:yy.transition!==null?(Ws===0&&(Ws=jr()),Ws):(t=Ie,t!==0||(t=window.event,t=t===void 0?16:sd(t.type)),t)}function At(t,n,i,a){if(50<ii)throw ii=0,_u=null,Error(o(185));er(t,i,a),((je&2)===0||t!==Ke)&&(t===Ke&&((je&2)===0&&(Fs|=i),Qe===4&&On(t,Je)),ct(t,a),i===1&&je===0&&(n.mode&1)===0&&(Gr=De()+500,xs&&Rn()))}function ct(t,n){var i=t.callbackNode;la(t,n);var a=br(t,t===Ke?Je:0);if(a===0)i!==null&&Gi(i),t.callbackNode=null,t.callbackPriority=0;else if(n=a&-a,t.callbackPriority!==n){if(i!=null&&Gi(i),n===1)t.tag===0?gy(lh.bind(null,t)):Wd(lh.bind(null,t)),fy(function(){(je&6)===0&&Rn()}),i=null;else{switch(Zc(a)){case 1:i=bo;break;case 4:i=qi;break;case 16:i=kr;break;case 536870912:i=Zi;break;default:i=kr}i=mh(i,sh.bind(null,t))}t.callbackPriority=n,t.callbackNode=i}}function sh(t,n){if(Us=-1,Ws=0,(je&6)!==0)throw Error(o(327));var i=t.callbackNode;if(Kr()&&t.callbackNode!==i)return null;var a=br(t,t===Ke?Je:0);if(a===0)return null;if((a&30)!==0||(a&t.expiredLanes)!==0||n)n=Ys(t,a);else{n=a;var d=je;je|=2;var m=uh();(Ke!==t||Je!==n)&&(hn=null,Gr=De()+500,cr(t,n));do try{Ay();break}catch(L){ah(t,L)}while(!0);Ua(),Os.current=m,je=d,We!==null?n=0:(Ke=null,Je=0,n=Qe)}if(n!==0){if(n===2&&(d=jo(t),d!==0&&(a=d,n=bu(t,d))),n===1)throw i=ri,cr(t,0),On(t,a),ct(t,De()),i;if(n===6)On(t,a);else{if(d=t.current.alternate,(a&30)===0&&!zy(d)&&(n=Ys(t,a),n===2&&(m=jo(t),m!==0&&(a=m,n=bu(t,m))),n===1))throw i=ri,cr(t,0),On(t,a),ct(t,De()),i;switch(t.finishedWork=d,t.finishedLanes=a,n){case 0:case 1:throw Error(o(345));case 2:dr(t,ut,hn);break;case 3:if(On(t,a),(a&130023424)===a&&(n=ku+500-De(),10<n)){if(br(t,0)!==0)break;if(d=t.suspendedLanes,(d&a)!==a){it(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=La(dr.bind(null,t,ut,hn),n);break}dr(t,ut,hn);break;case 4:if(On(t,a),(a&4194240)===a)break;for(n=t.eventTimes,d=-1;0<a;){var N=31-mt(a);m=1<<N,N=n[N],N>d&&(d=N),a&=~m}if(a=d,a=De()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Ty(a/1960))-a,10<a){t.timeoutHandle=La(dr.bind(null,t,ut,hn),a);break}dr(t,ut,hn);break;case 5:dr(t,ut,hn);break;default:throw Error(o(329))}}}return ct(t,De()),t.callbackNode===i?sh.bind(null,t):null}function bu(t,n){var i=oi;return t.current.memoizedState.isDehydrated&&(cr(t,n).flags|=256),t=Ys(t,n),t!==2&&(n=ut,ut=i,n!==null&&ju(n)),t}function ju(t){ut===null?ut=t:ut.push.apply(ut,t)}function zy(t){for(var n=t;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var d=i[a],m=d.getSnapshot;d=d.value;try{if(!Rt(m(),d))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function On(t,n){for(n&=~Nu,n&=~Fs,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var i=31-mt(n),a=1<<i;t[i]=-1,n&=~a}}function lh(t){if((je&6)!==0)throw Error(o(327));Kr();var n=br(t,0);if((n&1)===0)return ct(t,De()),null;var i=Ys(t,n);if(t.tag!==0&&i===2){var a=jo(t);a!==0&&(n=a,i=bu(t,a))}if(i===1)throw i=ri,cr(t,0),On(t,n),ct(t,De()),i;if(i===6)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,dr(t,ut,hn),ct(t,De()),null}function Pu(t,n){var i=je;je|=1;try{return t(n)}finally{je=i,je===0&&(Gr=De()+500,xs&&Rn())}}function ur(t){An!==null&&An.tag===0&&(je&6)===0&&Kr();var n=je;je|=1;var i=jt.transition,a=Ie;try{if(jt.transition=null,Ie=1,t)return t()}finally{Ie=a,jt.transition=i,je=n,(je&6)===0&&Rn()}}function Mu(){xt=Qr.current,Te(Qr)}function cr(t,n){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(i!==-1&&(t.timeoutHandle=-1,dy(i)),We!==null)for(i=We.return;i!==null;){var a=i;switch(Oa(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&ys();break;case 3:Wr(),Te(st),Te(et),Za();break;case 5:Ka(a);break;case 4:Wr();break;case 13:Te(Oe);break;case 19:Te(Oe);break;case 10:Wa(a.type._context);break;case 22:case 23:Mu()}i=i.return}if(Ke=t,We=t=Fn(t.current,null),Je=xt=n,Qe=0,ri=null,Nu=Fs=ar=0,ut=oi=null,ir!==null){for(n=0;n<ir.length;n++)if(i=ir[n],a=i.interleaved,a!==null){i.interleaved=null;var d=a.next,m=i.pending;if(m!==null){var N=m.next;m.next=d,a.next=N}i.pending=a}ir=null}return t}function ah(t,n){do{var i=We;try{if(Ua(),Ps.current=Ls,Ms){for(var a=Fe.memoizedState;a!==null;){var d=a.queue;d!==null&&(d.pending=null),a=a.next}Ms=!1}if(lr=0,Ge=Xe=Fe=null,qo=!1,Zo=0,Eu.current=null,i===null||i.return===null){Qe=1,ri=n,We=null;break}e:{var m=t,N=i.return,L=i,O=n;if(n=Je,L.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var J=O,se=L,ae=se.tag;if((se.mode&1)===0&&(ae===0||ae===11||ae===15)){var ie=se.alternate;ie?(se.updateQueue=ie.updateQueue,se.memoizedState=ie.memoizedState,se.lanes=ie.lanes):(se.updateQueue=null,se.memoizedState=null)}var de=Lf(N);if(de!==null){de.flags&=-257,Tf(de,N,L,m,n),de.mode&1&&Rf(m,J,n),n=de,O=J;var me=n.updateQueue;if(me===null){var ge=new Set;ge.add(O),n.updateQueue=ge}else me.add(O);break e}else{if((n&1)===0){Rf(m,J,n),Iu();break e}O=Error(o(426))}}else if(ze&&L.mode&1){var Be=Lf(N);if(Be!==null){(Be.flags&65536)===0&&(Be.flags|=256),Tf(Be,N,L,m,n),Va(Yr(O,L));break e}}m=O=Yr(O,L),Qe!==4&&(Qe=2),oi===null?oi=[m]:oi.push(m),m=N;do{switch(m.tag){case 3:m.flags|=65536,n&=-n,m.lanes|=n;var K=Mf(m,O,n);nf(m,K);break e;case 1:L=O;var B=m.type,q=m.stateNode;if((m.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&($n===null||!$n.has(q)))){m.flags|=65536,n&=-n,m.lanes|=n;var ue=If(m,L,n);nf(m,ue);break e}}m=m.return}while(m!==null)}dh(i)}catch(ve){n=ve,We===i&&i!==null&&(We=i=i.return);continue}break}while(!0)}function uh(){var t=Os.current;return Os.current=Ls,t===null?Ls:t}function Iu(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),Ke===null||(ar&268435455)===0&&(Fs&268435455)===0||On(Ke,Je)}function Ys(t,n){var i=je;je|=2;var a=uh();(Ke!==t||Je!==n)&&(hn=null,cr(t,n));do try{$y();break}catch(d){ah(t,d)}while(!0);if(Ua(),je=i,Os.current=a,We!==null)throw Error(o(261));return Ke=null,Je=0,Qe}function $y(){for(;We!==null;)ch(We)}function Ay(){for(;We!==null&&!ea();)ch(We)}function ch(t){var n=ph(t.alternate,t,xt);t.memoizedProps=t.pendingProps,n===null?dh(t):We=n,Eu.current=null}function dh(t){var n=t;do{var i=n.alternate;if(t=n.return,(n.flags&32768)===0){if(i=Py(i,n,xt),i!==null){We=i;return}}else{if(i=My(i,n),i!==null){i.flags&=32767,We=i;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,We=null;return}}if(n=n.sibling,n!==null){We=n;return}We=n=t}while(n!==null);Qe===0&&(Qe=5)}function dr(t,n,i){var a=Ie,d=jt.transition;try{jt.transition=null,Ie=1,Dy(t,n,i,a)}finally{jt.transition=d,Ie=a}return null}function Dy(t,n,i,a){do Kr();while(An!==null);if((je&6)!==0)throw Error(o(327));i=t.finishedWork;var d=t.finishedLanes;if(i===null)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var m=i.lanes|i.childLanes;if(es(t,m),t===Ke&&(We=Ke=null,Je=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Vs||(Vs=!0,mh(kr,function(){return Kr(),null})),m=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||m){m=jt.transition,jt.transition=null;var N=Ie;Ie=1;var L=je;je|=4,Eu.current=null,Ry(t,i),th(i,t),oy(Ia),rs=!!Ma,Ia=Ma=null,t.current=i,Ly(i),Ki(),je=L,Ie=N,jt.transition=m}else t.current=i;if(Vs&&(Vs=!1,An=t,Bs=d),m=t.pendingLanes,m===0&&($n=null),ra(i.stateNode),ct(t,De()),n!==null)for(a=t.onRecoverableError,i=0;i<n.length;i++)d=n[i],a(d.value,{componentStack:d.stack,digest:d.digest});if(Hs)throw Hs=!1,t=Cu,Cu=null,t;return(Bs&1)!==0&&t.tag!==0&&Kr(),m=t.pendingLanes,(m&1)!==0?t===_u?ii++:(ii=0,_u=t):ii=0,Rn(),null}function Kr(){if(An!==null){var t=Zc(Bs),n=jt.transition,i=Ie;try{if(jt.transition=null,Ie=16>t?16:t,An===null)var a=!1;else{if(t=An,An=null,Bs=0,(je&6)!==0)throw Error(o(331));var d=je;for(je|=4,he=t.current;he!==null;){var m=he,N=m.child;if((he.flags&16)!==0){var L=m.deletions;if(L!==null){for(var O=0;O<L.length;O++){var J=L[O];for(he=J;he!==null;){var se=he;switch(se.tag){case 0:case 11:case 15:ni(8,se,m)}var ae=se.child;if(ae!==null)ae.return=se,he=ae;else for(;he!==null;){se=he;var ie=se.sibling,de=se.return;if(Kf(se),se===J){he=null;break}if(ie!==null){ie.return=de,he=ie;break}he=de}}}var me=m.alternate;if(me!==null){var ge=me.child;if(ge!==null){me.child=null;do{var Be=ge.sibling;ge.sibling=null,ge=Be}while(ge!==null)}}he=m}}if((m.subtreeFlags&2064)!==0&&N!==null)N.return=m,he=N;else e:for(;he!==null;){if(m=he,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:ni(9,m,m.return)}var K=m.sibling;if(K!==null){K.return=m.return,he=K;break e}he=m.return}}var B=t.current;for(he=B;he!==null;){N=he;var q=N.child;if((N.subtreeFlags&2064)!==0&&q!==null)q.return=N,he=q;else e:for(N=B;he!==null;){if(L=he,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:Ds(9,L)}}catch(ve){Ve(L,L.return,ve)}if(L===N){he=null;break e}var ue=L.sibling;if(ue!==null){ue.return=L.return,he=ue;break e}he=L.return}}if(je=d,Rn(),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Jn,t)}catch{}a=!0}return a}finally{Ie=i,jt.transition=n}}return!1}function fh(t,n,i){n=Yr(i,n),n=Mf(t,n,1),t=Tn(t,n,1),n=it(),t!==null&&(er(t,1,n),ct(t,n))}function Ve(t,n,i){if(t.tag===3)fh(t,t,i);else for(;n!==null;){if(n.tag===3){fh(n,t,i);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&($n===null||!$n.has(a))){t=Yr(i,t),t=If(n,t,1),n=Tn(n,t,1),t=it(),n!==null&&(er(n,1,t),ct(n,t));break}}n=n.return}}function Oy(t,n,i){var a=t.pingCache;a!==null&&a.delete(n),n=it(),t.pingedLanes|=t.suspendedLanes&i,Ke===t&&(Je&i)===i&&(Qe===4||Qe===3&&(Je&130023424)===Je&&500>De()-ku?cr(t,0):Nu|=i),ct(t,n)}function hh(t,n){n===0&&((t.mode&1)===0?n=1:(n=_r,_r<<=1,(_r&130023424)===0&&(_r=4194304)));var i=it();t=cn(t,n),t!==null&&(er(t,n,i),ct(t,i))}function Fy(t){var n=t.memoizedState,i=0;n!==null&&(i=n.retryLane),hh(t,i)}function Hy(t,n){var i=0;switch(t.tag){case 13:var a=t.stateNode,d=t.memoizedState;d!==null&&(i=d.retryLane);break;case 19:a=t.stateNode;break;default:throw Error(o(314))}a!==null&&a.delete(n),hh(t,i)}var ph;ph=function(t,n,i){if(t!==null)if(t.memoizedProps!==n.pendingProps||st.current)at=!0;else{if((t.lanes&i)===0&&(n.flags&128)===0)return at=!1,jy(t,n,i);at=(t.flags&131072)!==0}else at=!1,ze&&(n.flags&1048576)!==0&&Yd(n,Ss,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;$s(t,n),t=n.pendingProps;var d=Dr(n,et.current);Ur(n,i),d=tu(null,n,a,t,d,i);var m=nu();return n.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,lt(a)?(m=!0,vs(n)):m=!1,n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Qa(n),d.updater=Ts,n.stateNode=d,d._reactInternals=n,au(n,a,t,i),n=fu(null,n,a,!0,m,i)):(n.tag=0,ze&&m&&Da(n),ot(null,n,d,i),n=n.child),n;case 16:a=n.elementType;e:{switch($s(t,n),t=n.pendingProps,d=a._init,a=d(a._payload),n.type=a,d=n.tag=By(a),t=Tt(a,t),d){case 0:n=du(null,n,a,t,i);break e;case 1:n=Ff(null,n,a,t,i);break e;case 11:n=zf(null,n,a,t,i);break e;case 14:n=$f(null,n,a,Tt(a.type,t),i);break e}throw Error(o(306,a,""))}return n;case 0:return a=n.type,d=n.pendingProps,d=n.elementType===a?d:Tt(a,d),du(t,n,a,d,i);case 1:return a=n.type,d=n.pendingProps,d=n.elementType===a?d:Tt(a,d),Ff(t,n,a,d,i);case 3:e:{if(Hf(n),t===null)throw Error(o(387));a=n.pendingProps,m=n.memoizedState,d=m.element,tf(t,n),bs(n,a,null,i);var N=n.memoizedState;if(a=N.element,m.isDehydrated)if(m={element:a,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){d=Yr(Error(o(423)),n),n=Vf(t,n,a,i,d);break e}else if(a!==d){d=Yr(Error(o(424)),n),n=Vf(t,n,a,i,d);break e}else for(vt=Pn(n.stateNode.containerInfo.firstChild),yt=n,ze=!0,Lt=null,i=Jd(n,null,a,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Hr(),a===d){n=fn(t,n,i);break e}ot(t,n,a,i)}n=n.child}return n;case 5:return of(n),t===null&&Ha(n),a=n.type,d=n.pendingProps,m=t!==null?t.memoizedProps:null,N=d.children,Ra(a,d)?N=null:m!==null&&Ra(a,m)&&(n.flags|=32),Of(t,n),ot(t,n,N,i),n.child;case 6:return t===null&&Ha(n),null;case 13:return Bf(t,n,i);case 4:return Ga(n,n.stateNode.containerInfo),a=n.pendingProps,t===null?n.child=Vr(n,null,a,i):ot(t,n,a,i),n.child;case 11:return a=n.type,d=n.pendingProps,d=n.elementType===a?d:Tt(a,d),zf(t,n,a,d,i);case 7:return ot(t,n,n.pendingProps,i),n.child;case 8:return ot(t,n,n.pendingProps.children,i),n.child;case 12:return ot(t,n,n.pendingProps.children,i),n.child;case 10:e:{if(a=n.type._context,d=n.pendingProps,m=n.memoizedProps,N=d.value,Re(ks,a._currentValue),a._currentValue=N,m!==null)if(Rt(m.value,N)){if(m.children===d.children&&!st.current){n=fn(t,n,i);break e}}else for(m=n.child,m!==null&&(m.return=n);m!==null;){var L=m.dependencies;if(L!==null){N=m.child;for(var O=L.firstContext;O!==null;){if(O.context===a){if(m.tag===1){O=dn(-1,i&-i),O.tag=2;var J=m.updateQueue;if(J!==null){J=J.shared;var se=J.pending;se===null?O.next=O:(O.next=se.next,se.next=O),J.pending=O}}m.lanes|=i,O=m.alternate,O!==null&&(O.lanes|=i),Ya(m.return,i,n),L.lanes|=i;break}O=O.next}}else if(m.tag===10)N=m.type===n.type?null:m.child;else if(m.tag===18){if(N=m.return,N===null)throw Error(o(341));N.lanes|=i,L=N.alternate,L!==null&&(L.lanes|=i),Ya(N,i,n),N=m.sibling}else N=m.child;if(N!==null)N.return=m;else for(N=m;N!==null;){if(N===n){N=null;break}if(m=N.sibling,m!==null){m.return=N.return,N=m;break}N=N.return}m=N}ot(t,n,d.children,i),n=n.child}return n;case 9:return d=n.type,a=n.pendingProps.children,Ur(n,i),d=_t(d),a=a(d),n.flags|=1,ot(t,n,a,i),n.child;case 14:return a=n.type,d=Tt(a,n.pendingProps),d=Tt(a.type,d),$f(t,n,a,d,i);case 15:return Af(t,n,n.type,n.pendingProps,i);case 17:return a=n.type,d=n.pendingProps,d=n.elementType===a?d:Tt(a,d),$s(t,n),n.tag=1,lt(a)?(t=!0,vs(n)):t=!1,Ur(n,i),jf(n,a,d),au(n,a,d,i),fu(null,n,a,!0,t,i);case 19:return Wf(t,n,i);case 22:return Df(t,n,i)}throw Error(o(156,n.tag))};function mh(t,n){return Qi(t,n)}function Vy(t,n,i,a){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(t,n,i,a){return new Vy(t,n,i,a)}function Ru(t){return t=t.prototype,!(!t||!t.isReactComponent)}function By(t){if(typeof t=="function")return Ru(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Q)return 11;if(t===V)return 14}return 2}function Fn(t,n){var i=t.alternate;return i===null?(i=Pt(t.tag,n,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=n,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&14680064,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,n=t.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function Xs(t,n,i,a,d,m){var N=2;if(a=t,typeof t=="function")Ru(t)&&(N=1);else if(typeof t=="string")N=5;else e:switch(t){case T:return fr(i.children,d,m,n);case Y:N=8,d|=8;break;case X:return t=Pt(12,i,n,d|2),t.elementType=X,t.lanes=m,t;case ne:return t=Pt(13,i,n,d),t.elementType=ne,t.lanes=m,t;case R:return t=Pt(19,i,n,d),t.elementType=R,t.lanes=m,t;case H:return Qs(i,d,m,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:N=10;break e;case G:N=9;break e;case Q:N=11;break e;case V:N=14;break e;case $:N=16,a=null;break e}throw Error(o(130,t==null?t:typeof t,""))}return n=Pt(N,i,n,d),n.elementType=t,n.type=a,n.lanes=m,n}function fr(t,n,i,a){return t=Pt(7,t,a,n),t.lanes=i,t}function Qs(t,n,i,a){return t=Pt(22,t,a,n),t.elementType=H,t.lanes=i,t.stateNode={isHidden:!1},t}function Lu(t,n,i){return t=Pt(6,t,null,n),t.lanes=i,t}function Tu(t,n,i){return n=Pt(4,t.children!==null?t.children:[],t.key,n),n.lanes=i,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Uy(t,n,i,a,d){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Po(0),this.expirationTimes=Po(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Po(0),this.identifierPrefix=a,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function zu(t,n,i,a,d,m,N,L,O){return t=new Uy(t,n,i,L,O),n===1?(n=1,m===!0&&(n|=8)):n=0,m=Pt(3,null,null,n),t.current=m,m.stateNode=t,m.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qa(m),t}function Wy(t,n,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:a==null?null:""+a,children:t,containerInfo:n,implementation:i}}function gh(t){if(!t)return In;t=t._reactInternals;e:{if(Ut(t)!==t||t.tag!==1)throw Error(o(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(lt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(o(171))}if(t.tag===1){var i=t.type;if(lt(i))return Bd(t,i,n)}return n}function yh(t,n,i,a,d,m,N,L,O){return t=zu(i,a,!0,t,d,m,N,L,O),t.context=gh(null),i=t.current,a=it(),d=Dn(i),m=dn(a,d),m.callback=n??null,Tn(i,m,d),t.current.lanes=d,er(t,d,a),ct(t,a),t}function Gs(t,n,i,a){var d=n.current,m=it(),N=Dn(d);return i=gh(i),n.context===null?n.context=i:n.pendingContext=i,n=dn(m,N),n.payload={element:t},a=a===void 0?null:a,a!==null&&(n.callback=a),t=Tn(d,n,N),t!==null&&(At(t,d,N,m),_s(t,d,N)),N}function Ks(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vh(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<n?i:n}}function $u(t,n){vh(t,n),(t=t.alternate)&&vh(t,n)}function Yy(){return null}var xh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Au(t){this._internalRoot=t}qs.prototype.render=Au.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(o(409));Gs(t,n,null,null)},qs.prototype.unmount=Au.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ur(function(){Gs(null,t,null,null)}),n[sn]=null}};function qs(t){this._internalRoot=t}qs.prototype.unstable_scheduleHydration=function(t){if(t){var n=td();t={blockedOn:null,target:t,priority:n};for(var i=0;i<_n.length&&n!==0&&n<_n[i].priority;i++);_n.splice(i,0,t),i===0&&od(t)}};function Du(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zs(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wh(){}function Xy(t,n,i,a,d){if(d){if(typeof a=="function"){var m=a;a=function(){var J=Ks(N);m.call(J)}}var N=yh(n,a,t,0,null,!1,!1,"",wh);return t._reactRootContainer=N,t[sn]=N.current,Bo(t.nodeType===8?t.parentNode:t),ur(),N}for(;d=t.lastChild;)t.removeChild(d);if(typeof a=="function"){var L=a;a=function(){var J=Ks(O);L.call(J)}}var O=zu(t,0,!1,null,null,!1,!1,"",wh);return t._reactRootContainer=O,t[sn]=O.current,Bo(t.nodeType===8?t.parentNode:t),ur(function(){Gs(n,O,i,a)}),O}function Js(t,n,i,a,d){var m=i._reactRootContainer;if(m){var N=m;if(typeof d=="function"){var L=d;d=function(){var O=Ks(N);L.call(O)}}Gs(n,N,t,d)}else N=Xy(i,n,t,d,a);return Ks(N)}Jc=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var i=Wt(n.pendingLanes);i!==0&&(aa(n,i|1),ct(n,De()),(je&6)===0&&(Gr=De()+500,Rn()))}break;case 13:ur(function(){var a=cn(t,1);if(a!==null){var d=it();At(a,t,1,d)}}),$u(t,1)}},ua=function(t){if(t.tag===13){var n=cn(t,134217728);if(n!==null){var i=it();At(n,t,134217728,i)}$u(t,134217728)}},ed=function(t){if(t.tag===13){var n=Dn(t),i=cn(t,n);if(i!==null){var a=it();At(i,t,n,a)}$u(t,n)}},td=function(){return Ie},nd=function(t,n){var i=Ie;try{return Ie=t,n()}finally{Ie=i}},So=function(t,n,i){switch(n){case"input":if(Ue(t,i),n=i.name,i.type==="radio"&&n!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var a=i[n];if(a!==t&&a.form===t.form){var d=gs(a);if(!d)throw Error(o(90));ye(a),Ue(a,d)}}}break;case"textarea":Sr(t,i);break;case"select":n=i.value,n!=null&&Et(t,!!i.multiple,n,!1)}},Bi=Pu,Ui=ur;var Qy={usingClientEntryPoint:!1,Events:[Yo,$r,gs,Hi,Vi,Pu]},si={findFiberByHostInstance:tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gy={bundleType:si.bundleType,version:si.version,rendererPackageName:si.rendererPackageName,rendererConfig:si.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Yi(t),t===null?null:t.stateNode},findFiberByHostInstance:si.findFiberByHostInstance||Yy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var el=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!el.isDisabled&&el.supportsFiber)try{Jn=el.inject(Gy),Nt=el}catch{}}return dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qy,dt.createPortal=function(t,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Du(n))throw Error(o(200));return Wy(t,n,null,i)},dt.createRoot=function(t,n){if(!Du(t))throw Error(o(299));var i=!1,a="",d=xh;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=zu(t,1,!1,null,null,i,!1,a,d),t[sn]=n.current,Bo(t.nodeType===8?t.parentNode:t),new Au(n)},dt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=Yi(n),t=t===null?null:t.stateNode,t},dt.flushSync=function(t){return ur(t)},dt.hydrate=function(t,n,i){if(!Zs(n))throw Error(o(200));return Js(null,t,n,!0,i)},dt.hydrateRoot=function(t,n,i){if(!Du(t))throw Error(o(405));var a=i!=null&&i.hydratedSources||null,d=!1,m="",N=xh;if(i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(m=i.identifierPrefix),i.onRecoverableError!==void 0&&(N=i.onRecoverableError)),n=yh(n,null,t,1,i??null,d,!1,m,N),t[sn]=n.current,Bo(t),a)for(t=0;t<a.length;t++)i=a[t],d=i._getVersion,d=d(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,d]:n.mutableSourceEagerHydrationData.push(i,d);return new qs(n)},dt.render=function(t,n,i){if(!Zs(n))throw Error(o(200));return Js(null,t,n,!1,i)},dt.unmountComponentAtNode=function(t){if(!Zs(t))throw Error(o(40));return t._reactRootContainer?(ur(function(){Js(null,null,t,!1,function(){t._reactRootContainer=null,t[sn]=null})}),!0):!1},dt.unstable_batchedUpdates=Pu,dt.unstable_renderSubtreeIntoContainer=function(t,n,i,a){if(!Zs(i))throw Error(o(200));if(t==null||t._reactInternals===void 0)throw Error(o(38));return Js(t,n,i,!1,a)},dt.version="18.3.1-next-f1338f8080-20240426",dt}var jh;function tm(){if(jh)return Hu.exports;jh=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),Hu.exports=nv(),Hu.exports}var Ph;function rv(){if(Ph)return tl;Ph=1;var e=tm();return tl.createRoot=e.createRoot,tl.hydrateRoot=e.hydrateRoot,tl}var ov=rv();const iv=bc(ov);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Mh="popstate";function sv(e={}){function r(s,l){let{pathname:u,search:c,hash:f}=s.location;return uc("",{pathname:u,search:c,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function o(s,l){return typeof l=="string"?l:yi(l)}return av(r,o,null,e)}function He(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function Vt(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function lv(){return Math.random().toString(36).substring(2,10)}function Ih(e,r){return{usr:e.state,key:e.key,idx:r}}function uc(e,r,o=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof r=="string"?mo(r):r,state:o,key:r&&r.key||s||lv()}}function yi({pathname:e="/",search:r="",hash:o=""}){return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(e+=o.charAt(0)==="#"?o:"#"+o),e}function mo(e){let r={};if(e){let o=e.indexOf("#");o>=0&&(r.hash=e.substring(o),e=e.substring(0,o));let s=e.indexOf("?");s>=0&&(r.search=e.substring(s),e=e.substring(0,s)),e&&(r.pathname=e)}return r}function av(e,r,o,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,c=l.history,f="POP",h=null,y=v();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function v(){return(c.state||{idx:null}).idx}function p(){f="POP";let C=v(),_=C==null?null:C-y;y=C,h&&h({action:f,location:b.location,delta:_})}function x(C,_){f="PUSH";let M=uc(b.location,C,_);y=v()+1;let w=Ih(M,y),P=b.createHref(M);try{c.pushState(w,"",P)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;l.location.assign(P)}u&&h&&h({action:f,location:b.location,delta:1})}function S(C,_){f="REPLACE";let M=uc(b.location,C,_);y=v();let w=Ih(M,y),P=b.createHref(M);c.replaceState(w,"",P),u&&h&&h({action:f,location:b.location,delta:0})}function E(C){return uv(C)}let b={get action(){return f},get location(){return e(l,c)},listen(C){if(h)throw new Error("A history only accepts one active listener");return l.addEventListener(Mh,p),h=C,()=>{l.removeEventListener(Mh,p),h=null}},createHref(C){return r(l,C)},createURL:E,encodeLocation(C){let _=E(C);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:x,replace:S,go(C){return c.go(C)}};return b}function uv(e,r=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),He(o,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:yi(e);return s=s.replace(/ $/,"%20"),!r&&s.startsWith("//")&&(s=o+s),new URL(s,o)}function nm(e,r,o="/"){return cv(e,r,o,!1)}function cv(e,r,o,s){let l=typeof r=="string"?mo(r):r,u=yn(l.pathname||"/",o);if(u==null)return null;let c=rm(e);dv(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let y=Ev(u);f=wv(c[h],y,s)}return f}function rm(e,r=[],o=[],s="",l=!1){let u=(c,f,h=l,y)=>{let v={relativePath:y===void 0?c.path||"":y,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&h)return;He(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let p=gn([s,v.relativePath]),x=o.concat(v);c.children&&c.children.length>0&&(He(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),rm(c.children,r,x,p,h)),!(c.path==null&&!c.index)&&r.push({path:p,score:vv(p,c.index),routesMeta:x})};return e.forEach((c,f)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))u(c,f);else for(let y of om(c.path))u(c,f,!0,y)}),r}function om(e){let r=e.split("/");if(r.length===0)return[];let[o,...s]=r,l=o.endsWith("?"),u=o.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let c=om(s.join("/")),f=[];return f.push(...c.map(h=>h===""?u:[u,h].join("/"))),l&&f.push(...c),f.map(h=>e.startsWith("/")&&h===""?"/":h)}function dv(e){e.sort((r,o)=>r.score!==o.score?o.score-r.score:xv(r.routesMeta.map(s=>s.childrenIndex),o.routesMeta.map(s=>s.childrenIndex)))}var fv=/^:[\w-]+$/,hv=3,pv=2,mv=1,gv=10,yv=-2,Rh=e=>e==="*";function vv(e,r){let o=e.split("/"),s=o.length;return o.some(Rh)&&(s+=yv),r&&(s+=pv),o.filter(l=>!Rh(l)).reduce((l,u)=>l+(fv.test(u)?hv:u===""?mv:gv),s)}function xv(e,r){return e.length===r.length&&e.slice(0,-1).every((s,l)=>s===r[l])?e[e.length-1]-r[r.length-1]:0}function wv(e,r,o=!1){let{routesMeta:s}=e,l={},u="/",c=[];for(let f=0;f<s.length;++f){let h=s[f],y=f===s.length-1,v=u==="/"?r:r.slice(u.length)||"/",p=xl({path:h.relativePath,caseSensitive:h.caseSensitive,end:y},v),x=h.route;if(!p&&y&&o&&!s[s.length-1].route.index&&(p=xl({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!p)return null;Object.assign(l,p.params),c.push({params:l,pathname:gn([u,p.pathname]),pathnameBase:_v(gn([u,p.pathnameBase])),route:x}),p.pathnameBase!=="/"&&(u=gn([u,p.pathnameBase]))}return c}function xl(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[o,s]=Sv(e.path,e.caseSensitive,e.end),l=r.match(o);if(!l)return null;let u=l[0],c=u.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:s.reduce((y,{paramName:v,isOptional:p},x)=>{if(v==="*"){let E=f[x]||"";c=u.slice(0,u.length-E.length).replace(/(.)\/+$/,"$1")}const S=f[x];return p&&!S?y[v]=void 0:y[v]=(S||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:c,pattern:e}}function Sv(e,r=!1,o=!0){Vt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(s.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,r?void 0:"i"),s]}function Ev(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Vt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),e}}function yn(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let o=r.endsWith("/")?r.length-1:r.length,s=e.charAt(o);return s&&s!=="/"?null:e.slice(o)||"/"}var im=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nv=e=>im.test(e);function kv(e,r="/"){let{pathname:o,search:s="",hash:l=""}=typeof e=="string"?mo(e):e,u;if(o)if(Nv(o))u=o;else{if(o.includes("//")){let c=o;o=o.replace(/\/\/+/g,"/"),Vt(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${o}`)}o.startsWith("/")?u=Lh(o.substring(1),"/"):u=Lh(o,r)}else u=r;return{pathname:u,search:bv(s),hash:jv(l)}}function Lh(e,r){let o=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?o.length>1&&o.pop():l!=="."&&o.push(l)}),o.length>1?o.join("/"):"/"}function Uu(e,r,o,s){return`Cannot include a '${e}' character in a manually specified \`to.${r}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Cv(e){return e.filter((r,o)=>o===0||r.route.path&&r.route.path.length>0)}function sm(e){let r=Cv(e);return r.map((o,s)=>s===r.length-1?o.pathname:o.pathnameBase)}function lm(e,r,o,s=!1){let l;typeof e=="string"?l=mo(e):(l={...e},He(!l.pathname||!l.pathname.includes("?"),Uu("?","pathname","search",l)),He(!l.pathname||!l.pathname.includes("#"),Uu("#","pathname","hash",l)),He(!l.search||!l.search.includes("#"),Uu("#","search","hash",l)));let u=e===""||l.pathname==="",c=u?"/":l.pathname,f;if(c==null)f=o;else{let p=r.length-1;if(!s&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),p-=1;l.pathname=x.join("/")}f=p>=0?r[p]:"/"}let h=kv(l,f),y=c&&c!=="/"&&c.endsWith("/"),v=(u||c===".")&&o.endsWith("/");return!h.pathname.endsWith("/")&&(y||v)&&(h.pathname+="/"),h}var gn=e=>e.join("/").replace(/\/\/+/g,"/"),_v=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),bv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,jv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Pv=class{constructor(e,r,o,s=!1){this.status=e,this.statusText=r||"",this.internal=s,o instanceof Error?(this.data=o.toString(),this.error=o):this.data=o}};function Mv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Iv(e){return e.map(r=>r.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var am=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function um(e,r){let o=e;if(typeof o!="string"||!im.test(o))return{absoluteURL:void 0,isExternal:!1,to:o};let s=o,l=!1;if(am)try{let u=new URL(window.location.href),c=o.startsWith("//")?new URL(u.protocol+o):new URL(o),f=yn(c.pathname,r);c.origin===u.origin&&f!=null?o=f+c.search+c.hash:l=!0}catch{Vt(!1,`<Link to="${o}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:l,to:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var cm=["POST","PUT","PATCH","DELETE"];new Set(cm);var Rv=["GET",...cm];new Set(Rv);var go=k.createContext(null);go.displayName="DataRouter";var Rl=k.createContext(null);Rl.displayName="DataRouterState";var Lv=k.createContext(!1),dm=k.createContext({isTransitioning:!1});dm.displayName="ViewTransition";var Tv=k.createContext(new Map);Tv.displayName="Fetchers";var zv=k.createContext(null);zv.displayName="Await";var Mt=k.createContext(null);Mt.displayName="Navigation";var ji=k.createContext(null);ji.displayName="Location";var Jt=k.createContext({outlet:null,matches:[],isDataRoute:!1});Jt.displayName="Route";var jc=k.createContext(null);jc.displayName="RouteError";var fm="REACT_ROUTER_ERROR",$v="REDIRECT",Av="ROUTE_ERROR_RESPONSE";function Dv(e){if(e.startsWith(`${fm}:${$v}:{`))try{let r=JSON.parse(e.slice(28));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.location=="string"&&typeof r.reloadDocument=="boolean"&&typeof r.replace=="boolean")return r}catch{}}function Ov(e){if(e.startsWith(`${fm}:${Av}:{`))try{let r=JSON.parse(e.slice(40));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string")return new Pv(r.status,r.statusText,r.data)}catch{}}function Fv(e,{relative:r}={}){He(Pi(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:s}=k.useContext(Mt),{hash:l,pathname:u,search:c}=Mi(e,{relative:r}),f=u;return o!=="/"&&(f=u==="/"?o:gn([o,u])),s.createHref({pathname:f,search:c,hash:l})}function Pi(){return k.useContext(ji)!=null}function Yn(){return He(Pi(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(ji).location}var hm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pm(e){k.useContext(Mt).static||k.useLayoutEffect(e)}function Ll(){let{isDataRoute:e}=k.useContext(Jt);return e?ex():Hv()}function Hv(){He(Pi(),"useNavigate() may be used only in the context of a <Router> component.");let e=k.useContext(go),{basename:r,navigator:o}=k.useContext(Mt),{matches:s}=k.useContext(Jt),{pathname:l}=Yn(),u=JSON.stringify(sm(s)),c=k.useRef(!1);return pm(()=>{c.current=!0}),k.useCallback((h,y={})=>{if(Vt(c.current,hm),!c.current)return;if(typeof h=="number"){o.go(h);return}let v=lm(h,JSON.parse(u),l,y.relative==="path");e==null&&r!=="/"&&(v.pathname=v.pathname==="/"?r:gn([r,v.pathname])),(y.replace?o.replace:o.push)(v,y.state,y)},[r,o,u,l,e])}k.createContext(null);function Vv(){let{matches:e}=k.useContext(Jt),r=e[e.length-1];return r?r.params:{}}function Mi(e,{relative:r}={}){let{matches:o}=k.useContext(Jt),{pathname:s}=Yn(),l=JSON.stringify(sm(o));return k.useMemo(()=>lm(e,JSON.parse(l),s,r==="path"),[e,l,s,r])}function Bv(e,r){return mm(e,r)}function mm(e,r,o,s,l){var M;He(Pi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=k.useContext(Mt),{matches:c}=k.useContext(Jt),f=c[c.length-1],h=f?f.params:{},y=f?f.pathname:"/",v=f?f.pathnameBase:"/",p=f&&f.route;{let w=p&&p.path||"";ym(y,!p||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let x=Yn(),S;if(r){let w=typeof r=="string"?mo(r):r;He(v==="/"||((M=w.pathname)==null?void 0:M.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${w.pathname}" was given in the \`location\` prop.`),S=w}else S=x;let E=S.pathname||"/",b=E;if(v!=="/"){let w=v.replace(/^\//,"").split("/");b="/"+E.replace(/^\//,"").split("/").slice(w.length).join("/")}let C=nm(e,{pathname:b});Vt(p||C!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Vt(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=Qv(C&&C.map(w=>Object.assign({},w,{params:Object.assign({},h,w.params),pathname:gn([v,u.encodeLocation?u.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?v:gn([v,u.encodeLocation?u.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),c,o,s,l);return r&&_?k.createElement(ji.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},_):_}function Uv(){let e=Jv(),r=Mv(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),o=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:u},"ErrorBoundary")," or"," ",k.createElement("code",{style:u},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},r),o?k.createElement("pre",{style:l},o):null,c)}var Wv=k.createElement(Uv,null),gm=class extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){this.props.onError?this.props.onError(e,r):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const o=Ov(e.digest);o&&(e=o)}let r=e!==void 0?k.createElement(Jt.Provider,{value:this.props.routeContext},k.createElement(jc.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?k.createElement(Yv,{error:e},r):r}};gm.contextType=Lv;var Wu=new WeakMap;function Yv({children:e,error:r}){let{basename:o}=k.useContext(Mt);if(typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){let s=Dv(r.digest);if(s){let l=Wu.get(r);if(l)throw l;let u=um(s.location,o);if(am&&!Wu.get(r))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Wu.set(r,c),c}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return e}function Xv({routeContext:e,match:r,children:o}){let s=k.useContext(go);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(Jt.Provider,{value:e},o)}function Qv(e,r=[],o=null,s=null,l=null){if(e==null){if(!o)return null;if(o.errors)e=o.matches;else if(r.length===0&&!o.initialized&&o.matches.length>0)e=o.matches;else return null}let u=e,c=o==null?void 0:o.errors;if(c!=null){let v=u.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);He(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let f=!1,h=-1;if(o)for(let v=0;v<u.length;v++){let p=u[v];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=v),p.route.id){let{loaderData:x,errors:S}=o,E=p.route.loader&&!x.hasOwnProperty(p.route.id)&&(!S||S[p.route.id]===void 0);if(p.route.lazy||E){f=!0,h>=0?u=u.slice(0,h+1):u=[u[0]];break}}}let y=o&&s?(v,p)=>{var x,S;s(v,{location:o.location,params:((S=(x=o.matches)==null?void 0:x[0])==null?void 0:S.params)??{},unstable_pattern:Iv(o.matches),errorInfo:p})}:void 0;return u.reduceRight((v,p,x)=>{let S,E=!1,b=null,C=null;o&&(S=c&&p.route.id?c[p.route.id]:void 0,b=p.route.errorElement||Wv,f&&(h<0&&x===0?(ym("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,C=null):h===x&&(E=!0,C=p.route.hydrateFallbackElement||null)));let _=r.concat(u.slice(0,x+1)),M=()=>{let w;return S?w=b:E?w=C:p.route.Component?w=k.createElement(p.route.Component,null):p.route.element?w=p.route.element:w=v,k.createElement(Xv,{match:p,routeContext:{outlet:v,matches:_,isDataRoute:o!=null},children:w})};return o&&(p.route.ErrorBoundary||p.route.errorElement||x===0)?k.createElement(gm,{location:o.location,revalidation:o.revalidation,component:b,error:S,children:M(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:y}):M()},null)}function Pc(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gv(e){let r=k.useContext(go);return He(r,Pc(e)),r}function Kv(e){let r=k.useContext(Rl);return He(r,Pc(e)),r}function qv(e){let r=k.useContext(Jt);return He(r,Pc(e)),r}function Mc(e){let r=qv(e),o=r.matches[r.matches.length-1];return He(o.route.id,`${e} can only be used on routes that contain a unique "id"`),o.route.id}function Zv(){return Mc("useRouteId")}function Jv(){var s;let e=k.useContext(jc),r=Kv("useRouteError"),o=Mc("useRouteError");return e!==void 0?e:(s=r.errors)==null?void 0:s[o]}function ex(){let{router:e}=Gv("useNavigate"),r=Mc("useNavigate"),o=k.useRef(!1);return pm(()=>{o.current=!0}),k.useCallback(async(l,u={})=>{Vt(o.current,hm),o.current&&(typeof l=="number"?await e.navigate(l):await e.navigate(l,{fromRouteId:r,...u}))},[e,r])}var Th={};function ym(e,r,o){!r&&!Th[e]&&(Th[e]=!0,Vt(!1,o))}k.memo(tx);function tx({routes:e,future:r,state:o,onError:s}){return mm(e,void 0,o,s,r)}function di(e){He(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nx({basename:e="/",children:r=null,location:o,navigationType:s="POP",navigator:l,static:u=!1,unstable_useTransitions:c}){He(!Pi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),h=k.useMemo(()=>({basename:f,navigator:l,static:u,unstable_useTransitions:c,future:{}}),[f,l,u,c]);typeof o=="string"&&(o=mo(o));let{pathname:y="/",search:v="",hash:p="",state:x=null,key:S="default"}=o,E=k.useMemo(()=>{let b=yn(y,f);return b==null?null:{location:{pathname:b,search:v,hash:p,state:x,key:S},navigationType:s}},[f,y,v,p,x,S,s]);return Vt(E!=null,`<Router basename="${f}"> is not able to match the URL "${y}${v}${p}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:k.createElement(Mt.Provider,{value:h},k.createElement(ji.Provider,{children:r,value:E}))}function rx({children:e,location:r}){return Bv(cc(e),r)}function cc(e,r=[]){let o=[];return k.Children.forEach(e,(s,l)=>{if(!k.isValidElement(s))return;let u=[...r,l];if(s.type===k.Fragment){o.push.apply(o,cc(s.props.children,u));return}He(s.type===di,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),He(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=cc(s.props.children,u)),o.push(c)}),o}var fl="get",hl="application/x-www-form-urlencoded";function Tl(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function ox(e){return Tl(e)&&e.tagName.toLowerCase()==="button"}function ix(e){return Tl(e)&&e.tagName.toLowerCase()==="form"}function sx(e){return Tl(e)&&e.tagName.toLowerCase()==="input"}function lx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ax(e,r){return e.button===0&&(!r||r==="_self")&&!lx(e)}var nl=null;function ux(){if(nl===null)try{new FormData(document.createElement("form"),0),nl=!1}catch{nl=!0}return nl}var cx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yu(e){return e!=null&&!cx.has(e)?(Vt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hl}"`),null):e}function dx(e,r){let o,s,l,u,c;if(ix(e)){let f=e.getAttribute("action");s=f?yn(f,r):null,o=e.getAttribute("method")||fl,l=Yu(e.getAttribute("enctype"))||hl,u=new FormData(e)}else if(ox(e)||sx(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||f.getAttribute("action");if(s=h?yn(h,r):null,o=e.getAttribute("formmethod")||f.getAttribute("method")||fl,l=Yu(e.getAttribute("formenctype"))||Yu(f.getAttribute("enctype"))||hl,u=new FormData(f,e),!ux()){let{name:y,type:v,value:p}=e;if(v==="image"){let x=y?`${y}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else y&&u.append(y,p)}}else{if(Tl(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=fl,s=null,l=hl,c=e}return u&&l==="text/plain"&&(c=u,u=void 0),{action:s,method:o.toLowerCase(),encType:l,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ic(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function fx(e,r,o){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${o}`:r&&yn(s.pathname,r)==="/"?s.pathname=`${r.replace(/\/$/,"")}/_root.${o}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${o}`,s}async function hx(e,r){if(e.id in r)return r[e.id];try{let o=await import(e.module);return r[e.id]=o,o}catch(o){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function px(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function mx(e,r,o){let s=await Promise.all(e.map(async l=>{let u=r.routes[l.route.id];if(u){let c=await hx(u,o);return c.links?c.links():[]}return[]}));return xx(s.flat(1).filter(px).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function zh(e,r,o,s,l,u){let c=(h,y)=>o[y]?h.route.id!==o[y].route.id:!0,f=(h,y)=>{var v;return o[y].pathname!==h.pathname||((v=o[y].route.path)==null?void 0:v.endsWith("*"))&&o[y].params["*"]!==h.params["*"]};return u==="assets"?r.filter((h,y)=>c(h,y)||f(h,y)):u==="data"?r.filter((h,y)=>{var p;let v=s.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(c(h,y)||f(h,y))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((p=o[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function gx(e,r,{includeHydrateFallback:o}={}){return yx(e.map(s=>{let l=r.routes[s.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),o&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function yx(e){return[...new Set(e)]}function vx(e){let r={},o=Object.keys(e).sort();for(let s of o)r[s]=e[s];return r}function xx(e,r){let o=new Set;return new Set(r),e.reduce((s,l)=>{let u=JSON.stringify(vx(l));return o.has(u)||(o.add(u),s.push({key:u,link:l})),s},[])}function vm(){let e=k.useContext(go);return Ic(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function wx(){let e=k.useContext(Rl);return Ic(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Rc=k.createContext(void 0);Rc.displayName="FrameworkContext";function xm(){let e=k.useContext(Rc);return Ic(e,"You must render this element inside a <HydratedRouter> element"),e}function Sx(e,r){let o=k.useContext(Rc),[s,l]=k.useState(!1),[u,c]=k.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:y,onMouseLeave:v,onTouchStart:p}=r,x=k.useRef(null);k.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let b=_=>{_.forEach(M=>{c(M.isIntersecting)})},C=new IntersectionObserver(b,{threshold:.5});return x.current&&C.observe(x.current),()=>{C.disconnect()}}},[e]),k.useEffect(()=>{if(s){let b=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(b)}}},[s]);let S=()=>{l(!0)},E=()=>{l(!1),c(!1)};return o?e!=="intent"?[u,x,{}]:[u,x,{onFocus:ai(f,S),onBlur:ai(h,E),onMouseEnter:ai(y,S),onMouseLeave:ai(v,E),onTouchStart:ai(p,S)}]:[!1,x,{}]}function ai(e,r){return o=>{e&&e(o),o.defaultPrevented||r(o)}}function Ex({page:e,...r}){let{router:o}=vm(),s=k.useMemo(()=>nm(o.routes,e,o.basename),[o.routes,e,o.basename]);return s?k.createElement(kx,{page:e,matches:s,...r}):null}function Nx(e){let{manifest:r,routeModules:o}=xm(),[s,l]=k.useState([]);return k.useEffect(()=>{let u=!1;return mx(e,r,o).then(c=>{u||l(c)}),()=>{u=!0}},[e,r,o]),s}function kx({page:e,matches:r,...o}){let s=Yn(),{manifest:l,routeModules:u}=xm(),{basename:c}=vm(),{loaderData:f,matches:h}=wx(),y=k.useMemo(()=>zh(e,r,h,l,s,"data"),[e,r,h,l,s]),v=k.useMemo(()=>zh(e,r,h,l,s,"assets"),[e,r,h,l,s]),p=k.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let E=new Set,b=!1;if(r.forEach(_=>{var w;let M=l.routes[_.route.id];!M||!M.hasLoader||(!y.some(P=>P.route.id===_.route.id)&&_.route.id in f&&((w=u[_.route.id])!=null&&w.shouldRevalidate)||M.hasClientLoader?b=!0:E.add(_.route.id))}),E.size===0)return[];let C=fx(e,c,"data");return b&&E.size>0&&C.searchParams.set("_routes",r.filter(_=>E.has(_.route.id)).map(_=>_.route.id).join(",")),[C.pathname+C.search]},[c,f,s,l,y,r,e,u]),x=k.useMemo(()=>gx(v,l),[v,l]),S=Nx(v);return k.createElement(k.Fragment,null,p.map(E=>k.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...o})),x.map(E=>k.createElement("link",{key:E,rel:"modulepreload",href:E,...o})),S.map(({key:E,link:b})=>k.createElement("link",{key:E,nonce:o.nonce,...b})))}function Cx(...e){return r=>{e.forEach(o=>{typeof o=="function"?o(r):o!=null&&(o.current=r)})}}var _x=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_x&&(window.__reactRouterVersion="7.11.0")}catch{}function bx({basename:e,children:r,unstable_useTransitions:o,window:s}){let l=k.useRef();l.current==null&&(l.current=sv({window:s,v5Compat:!0}));let u=l.current,[c,f]=k.useState({action:u.action,location:u.location}),h=k.useCallback(y=>{o===!1?f(y):k.startTransition(()=>f(y))},[o]);return k.useLayoutEffect(()=>u.listen(h),[u,h]),k.createElement(nx,{basename:e,children:r,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:o})}var wm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lc=k.forwardRef(function({onClick:r,discover:o="render",prefetch:s="none",relative:l,reloadDocument:u,replace:c,state:f,target:h,to:y,preventScrollReset:v,viewTransition:p,unstable_defaultShouldRevalidate:x,...S},E){let{basename:b,unstable_useTransitions:C}=k.useContext(Mt),_=typeof y=="string"&&wm.test(y),M=um(y,b);y=M.to;let w=Fv(y,{relative:l}),[P,F,D]=Sx(s,S),T=Ix(y,{replace:c,state:f,target:h,preventScrollReset:v,relative:l,viewTransition:p,unstable_defaultShouldRevalidate:x,unstable_useTransitions:C});function Y(re){r&&r(re),re.defaultPrevented||T(re)}let X=k.createElement("a",{...S,...D,href:M.absoluteURL||w,onClick:M.isExternal||u?r:Y,ref:Cx(E,F),target:h,"data-discover":!_&&o==="render"?"true":void 0});return P&&!_?k.createElement(k.Fragment,null,X,k.createElement(Ex,{page:w})):X});Lc.displayName="Link";var jx=k.forwardRef(function({"aria-current":r="page",caseSensitive:o=!1,className:s="",end:l=!1,style:u,to:c,viewTransition:f,children:h,...y},v){let p=Mi(c,{relative:y.relative}),x=Yn(),S=k.useContext(Rl),{navigator:E,basename:b}=k.useContext(Mt),C=S!=null&&$x(p)&&f===!0,_=E.encodeLocation?E.encodeLocation(p).pathname:p.pathname,M=x.pathname,w=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;o||(M=M.toLowerCase(),w=w?w.toLowerCase():null,_=_.toLowerCase()),w&&b&&(w=yn(w,b)||w);const P=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let F=M===_||!l&&M.startsWith(_)&&M.charAt(P)==="/",D=w!=null&&(w===_||!l&&w.startsWith(_)&&w.charAt(_.length)==="/"),T={isActive:F,isPending:D,isTransitioning:C},Y=F?r:void 0,X;typeof s=="function"?X=s(T):X=[s,F?"active":null,D?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let re=typeof u=="function"?u(T):u;return k.createElement(Lc,{...y,"aria-current":Y,className:X,ref:v,style:re,to:c,viewTransition:f},typeof h=="function"?h(T):h)});jx.displayName="NavLink";var Px=k.forwardRef(({discover:e="render",fetcherKey:r,navigate:o,reloadDocument:s,replace:l,state:u,method:c=fl,action:f,onSubmit:h,relative:y,preventScrollReset:v,viewTransition:p,unstable_defaultShouldRevalidate:x,...S},E)=>{let{unstable_useTransitions:b}=k.useContext(Mt),C=Tx(),_=zx(f,{relative:y}),M=c.toLowerCase()==="get"?"get":"post",w=typeof f=="string"&&wm.test(f),P=F=>{if(h&&h(F),F.defaultPrevented)return;F.preventDefault();let D=F.nativeEvent.submitter,T=(D==null?void 0:D.getAttribute("formmethod"))||c,Y=()=>C(D||F.currentTarget,{fetcherKey:r,method:T,navigate:o,replace:l,state:u,relative:y,preventScrollReset:v,viewTransition:p,unstable_defaultShouldRevalidate:x});b&&o!==!1?k.startTransition(()=>Y()):Y()};return k.createElement("form",{ref:E,method:M,action:_,onSubmit:s?h:P,...S,"data-discover":!w&&e==="render"?"true":void 0})});Px.displayName="Form";function Mx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sm(e){let r=k.useContext(go);return He(r,Mx(e)),r}function Ix(e,{target:r,replace:o,state:s,preventScrollReset:l,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:h}={}){let y=Ll(),v=Yn(),p=Mi(e,{relative:u});return k.useCallback(x=>{if(ax(x,r)){x.preventDefault();let S=o!==void 0?o:yi(v)===yi(p),E=()=>y(e,{replace:S,state:s,preventScrollReset:l,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:f});h?k.startTransition(()=>E()):E()}},[v,y,p,o,s,r,e,l,u,c,f,h])}var Rx=0,Lx=()=>`__${String(++Rx)}__`;function Tx(){let{router:e}=Sm("useSubmit"),{basename:r}=k.useContext(Mt),o=Zv(),s=e.fetch,l=e.navigate;return k.useCallback(async(u,c={})=>{let{action:f,method:h,encType:y,formData:v,body:p}=dx(u,r);if(c.navigate===!1){let x=c.fetcherKey||Lx();await s(x,o,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:p,formMethod:c.method||h,formEncType:c.encType||y,flushSync:c.flushSync})}else await l(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:p,formMethod:c.method||h,formEncType:c.encType||y,replace:c.replace,state:c.state,fromRouteId:o,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,l,r,o])}function zx(e,{relative:r}={}){let{basename:o}=k.useContext(Mt),s=k.useContext(Jt);He(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...Mi(e||".",{relative:r})},c=Yn();if(e==null){u.search=c.search;let f=new URLSearchParams(u.search),h=f.getAll("index");if(h.some(v=>v==="")){f.delete("index"),h.filter(p=>p).forEach(p=>f.append("index",p));let v=f.toString();u.search=v?`?${v}`:""}}return(!e||e===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(u.pathname=u.pathname==="/"?o:gn([o,u.pathname])),yi(u)}function $x(e,{relative:r}={}){let o=k.useContext(dm);He(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Sm("useViewTransitionState"),l=Mi(e,{relative:r});if(!o.isTransitioning)return!1;let u=yn(o.currentLocation.pathname,s)||o.currentLocation.pathname,c=yn(o.nextLocation.pathname,s)||o.nextLocation.pathname;return xl(l.pathname,c)!=null||xl(l.pathname,u)!=null}tm();function pi({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z",clipRule:"evenodd"})})}function Ax({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10zm0 5.25a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75a.75.75 0 01-.75-.75z",clipRule:"evenodd"})})}function Dx({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M4.25 2A2.25 2.25 0 002 4.25v11.5A2.25 2.25 0 004.25 18h11.5A2.25 2.25 0 0018 15.75V4.25A2.25 2.25 0 0015.75 2H4.25zM6 13.25v-2.5h2.5v2.5H6zm0-3.5V7.25h2.5v2.5H6zm3.5 0V7.25H12v2.5H9.5zm0 3.5v-2.5H12v2.5H9.5zm3.5 0v-2.5h2.5v2.5H13zm0-3.5V7.25h2.5v2.5H13z",clipRule:"evenodd"})})}function Ox({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M10 2c-2.236 0-4.43.18-6.57.524C1.993 2.755 1 4.014 1 5.426v5.148c0 1.413.993 2.67 2.43 2.902 1.168.188 2.352.327 3.55.414.28.02.521.18.642.413l1.713 3.293a.75.75 0 001.33 0l1.713-3.293c.121-.233.362-.393.642-.413a41.102 41.102 0 003.55-.414c1.437-.232 2.43-1.49 2.43-2.902V5.426c0-1.412-.993-2.67-2.43-2.902A41.289 41.289 0 0010 2zM6.75 6a.75.75 0 000 1.5h6.5a.75.75 0 000-1.5h-6.5zm0 2.5a.75.75 0 000 1.5h3.5a.75.75 0 000-1.5h-3.5z",clipRule:"evenodd"})})}function Fx({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z",clipRule:"evenodd"})})}function dc({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm.75-13a.75.75 0 00-1.5 0v5c0 .414.336.75.75.75h4a.75.75 0 000-1.5h-3.25V5z",clipRule:"evenodd"})})}function Hx({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{d:"M3.75 3A1.75 1.75 0 002 4.75v3.26a3.235 3.235 0 011.75-.51h12.5c.644 0 1.245.188 1.75.51V6.75A1.75 1.75 0 0016.25 5h-4.836a.25.25 0 01-.177-.073L9.823 3.513A1.75 1.75 0 008.586 3H3.75zM3.75 9A1.75 1.75 0 002 10.75v4.5c0 .966.784 1.75 1.75 1.75h12.5A1.75 1.75 0 0018 15.25v-4.5A1.75 1.75 0 0016.25 9H3.75z"})})}function $h({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}function Vx({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})})}function Bx({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})}function Ah({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M4.5 2A1.5 1.5 0 003 3.5v13A1.5 1.5 0 004.5 18h11a1.5 1.5 0 001.5-1.5V7.621a1.5 1.5 0 00-.44-1.06l-4.12-4.122A1.5 1.5 0 0011.378 2H4.5zm2.25 8.5a.75.75 0 000 1.5h6.5a.75.75 0 000-1.5h-6.5zm0 3a.75.75 0 000 1.5h6.5a.75.75 0 000-1.5h-6.5z",clipRule:"evenodd"})})}function Em({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M7.455 2.004a.75.75 0 01.26.77 7 7 0 009.958 7.967.75.75 0 011.067.853A8.5 8.5 0 116.647 1.921a.75.75 0 01.808.083z",clipRule:"evenodd"})})}function Nm({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{d:"M10 2a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0110 2zM10 15a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0110 15zM10 7a3 3 0 100 6 3 3 0 000-6zM15.657 5.404a.75.75 0 10-1.06-1.06l-1.061 1.06a.75.75 0 001.06 1.06l1.06-1.06zM6.464 14.596a.75.75 0 10-1.06-1.06l-1.06 1.06a.75.75 0 001.06 1.06l1.06-1.06zM18 10a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0118 10zM5 10a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 015 10zM14.596 15.657a.75.75 0 001.06-1.06l-1.06-1.061a.75.75 0 10-1.06 1.06l1.06 1.06zM5.404 6.464a.75.75 0 001.06-1.06l-1.06-1.06a.75.75 0 10-1.06 1.06l1.06 1.06z"})})}function Ux({className:e}){return g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:[g.jsx("path",{d:"M10 12.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"}),g.jsx("path",{fillRule:"evenodd",d:"M.664 10.59a1.651 1.651 0 010-1.186A10.004 10.004 0 0110 3c4.257 0 7.893 2.66 9.336 6.41.147.381.146.804 0 1.186A10.004 10.004 0 0110 17c-4.257 0-7.893-2.66-9.336-6.41zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})}function Wx({className:e}){return g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:[g.jsx("path",{fillRule:"evenodd",d:"M3.28 2.22a.75.75 0 00-1.06 1.06l14.5 14.5a.75.75 0 101.06-1.06l-1.745-1.745a10.029 10.029 0 003.3-4.38 1.651 1.651 0 000-1.185A10.004 10.004 0 009.999 3a9.956 9.956 0 00-4.744 1.194L3.28 2.22zM7.752 6.69l1.092 1.092a2.5 2.5 0 013.374 3.373l1.091 1.092a4 4 0 00-5.557-5.557z",clipRule:"evenodd"}),g.jsx("path",{d:"M10.748 13.93l2.523 2.523a9.987 9.987 0 01-3.27.547c-4.258 0-7.894-2.66-9.337-6.41a1.651 1.651 0 010-1.186A10.007 10.007 0 012.839 6.02L6.07 9.252a4 4 0 004.678 4.678z"})]})}function io({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.519.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z",clipRule:"evenodd"})})}function km({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})})}function Cm({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"})})}function Yx({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{d:"M2.695 14.763l-1.262 3.154a.5.5 0 00.65.65l3.155-1.262a4 4 0 001.343-.885L17.5 5.5a2.121 2.121 0 00-3-3L3.58 13.42a4 4 0 00-.885 1.343z"})})}const Dh="claude-cnthub-theme";function _m(){const[e,r]=k.useState(()=>{if(typeof window<"u"){const l=localStorage.getItem(Dh);if(l==="light"||l==="dark")return l}return"dark"});k.useEffect(()=>{const l=document.documentElement;e==="light"?(l.classList.add("light"),l.classList.remove("dark")):(l.classList.add("dark"),l.classList.remove("light")),localStorage.setItem(Dh,e)},[e]);const o=k.useCallback(()=>{r(l=>l==="dark"?"light":"dark")},[]),s=k.useCallback(l=>{r(l)},[]);return{theme:e,toggleTheme:o,setTheme:s}}function Xx({onMenuClick:e}){const{theme:r,toggleTheme:o}=_m();return g.jsxs("header",{className:"h-14 bg-[var(--bg-surface)] border-b border-[var(--border-subtle)] flex items-center justify-between px-4",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("button",{onClick:e,className:"lg:hidden p-2 rounded-lg hover:bg-[var(--bg-elevated)] transition-colors","aria-label":"Toggle menu",children:g.jsx(Ax,{className:"w-5 h-5 text-[var(--text-secondary)]"})}),g.jsx("h1",{className:"text-lg font-semibold text-[var(--text-primary)]",children:"Claude CNT Hub"})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:"relative",children:[g.jsx("label",{htmlFor:"search-sessions",className:"sr-only",children:"Search sessions"}),g.jsx(pi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[var(--text-muted)]"}),g.jsx("input",{id:"search-sessions",type:"search",placeholder:"Search sessions...",className:"input pl-10 w-64"})]}),g.jsx("button",{onClick:o,className:"p-2 rounded-lg hover:bg-[var(--bg-elevated)] transition-colors","aria-label":r==="dark"?"Switch to light mode":"Switch to dark mode",children:r==="dark"?g.jsx(Nm,{className:"w-5 h-5 text-[var(--text-secondary)]"}):g.jsx(Em,{className:"w-5 h-5 text-[var(--text-secondary)]"})})]})]})}function Qx({isOpen:e=!0,onClose:r}){const o=Yn(),s=Ll(),l=c=>{s(c),r==null||r()},u=c=>c==="/"?o.pathname==="/"||o.pathname==="/sessions":o.pathname.startsWith(c);return g.jsxs(g.Fragment,{children:[e&&g.jsx("div",{className:"fixed inset-0 bg-black/50 lg:hidden z-40",onClick:r}),g.jsxs("aside",{className:`
          fixed lg:static inset-y-0 left-0 z-50
          w-64 bg-[var(--bg-surface)] border-r border-[var(--border-subtle)]
          transform transition-transform duration-200 ease-in-out
          ${e?"translate-x-0":"-translate-x-full lg:translate-x-0"}
          flex flex-col
        `,children:[g.jsx("div",{className:"p-4",children:g.jsx("button",{className:"btn-primary w-full",onClick:()=>l("/"),children:"New Session"})}),g.jsx("nav",{className:"flex-1 px-3 py-2 overflow-y-auto scrollbar-thin",children:g.jsxs("div",{className:"space-y-1",children:[g.jsx(Oh,{icon:g.jsx(Dx,{className:"w-5 h-5"}),label:"Sessions",active:u("/"),onClick:()=>l("/sessions")}),g.jsx(Oh,{icon:g.jsx(pi,{className:"w-5 h-5"}),label:"Search",active:u("/search"),onClick:()=>l("/search")})]})})]})]})}function Oh({icon:e,label:r,active:o,onClick:s}){return g.jsxs("button",{onClick:s,className:o?"sidebar-item-active w-full":"sidebar-item w-full",children:[e,g.jsx("span",{children:r})]})}function Xu({children:e}){const[r,o]=k.useState(!1),s=k.useCallback(()=>{o(u=>!u)},[]),l=k.useCallback(()=>{o(!1)},[]);return k.useEffect(()=>{const u=c=>{c.key==="Escape"&&r&&o(!1)};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[r]),g.jsxs("div",{className:"h-screen flex flex-col bg-[var(--bg-base)] text-[var(--text-primary)]",children:[g.jsx(Xx,{onMenuClick:s}),g.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[g.jsx(Qx,{isOpen:r,onClose:l}),g.jsx("main",{className:"flex-1 overflow-y-auto scrollbar-thin p-6",children:e})]})]})}function Gx(){const[e,r]=k.useState([]),[o,s]=k.useState(!0),[l,u]=k.useState(null),[c,f]=k.useState(!1),h=k.useCallback(async()=>{try{u(null),s(!0);const p=await fetch("/api/sessions");if(!p.ok)throw new Error("Failed to fetch sessions");const x=await p.json();r(x.items||[])}catch(p){u("Unable to load sessions. Please try again."),console.error("Error fetching sessions:",p)}finally{s(!1)}},[]);k.useEffect(()=>{h()},[h]);const y=k.useCallback(()=>{h()},[h]),v=k.useCallback(async()=>{try{if(f(!0),!(await fetch("/api/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:`Session ${new Date().toLocaleString("ja-JP")}`,workingDir:window.location.pathname||"/"})})).ok)throw new Error("Failed to create session");await h()}catch(p){console.error("Error creating session:",p),u("Failed to create session. Please try again.")}finally{f(!1)}},[h]);return o?g.jsx(Zx,{}):l?g.jsxs("div",{className:"card text-center py-8",role:"alert",children:[g.jsx("p",{className:"text-red-400 mb-4",children:l}),g.jsx("button",{onClick:y,className:"btn-secondary",children:"Retry"})]}):e.length===0?g.jsxs("div",{className:"card text-center py-12",children:[g.jsx("div",{"aria-hidden":"true",children:g.jsx(Ox,{className:"w-12 h-12 text-[var(--text-muted)] mx-auto mb-4"})}),g.jsx("h3",{className:"text-lg font-medium text-[var(--text-primary)] mb-2",children:"No sessions yet"}),g.jsx("p",{className:"text-[var(--text-muted)] mb-6",children:"Start a new session to begin tracking your work"}),g.jsx("button",{className:"btn-primary disabled:opacity-50",onClick:v,disabled:c,children:c?"Creating...":"Create New Session"})]}):g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h2",{className:"text-xl font-semibold text-[var(--text-primary)]",children:"Sessions"}),g.jsxs("span",{className:"text-sm text-[var(--text-muted)]","aria-label":`${e.length} sessions total`,children:[e.length," total"]})]}),g.jsx("div",{className:"grid gap-3",role:"list","aria-label":"Session list",children:e.map(p=>g.jsx(qx,{session:p},p.sessionId))})]})}const Kx={idle:"Idle",active:"Active",completed:"Completed",error:"Error"},qx=k.memo(function({session:r}){const o=Ll(),s=k.useCallback(()=>{o(`/sessions/${r.sessionId}`)},[o,r.sessionId]),l=k.useMemo(()=>({idle:"bg-gray-400",active:"bg-primary-500",completed:"bg-green-500",error:"bg-red-500"}),[]),u=k.useMemo(()=>new Date(r.updatedAt).toLocaleDateString("ja-JP",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),[r.updatedAt]);return g.jsx("button",{className:"card hover:bg-[var(--bg-elevated)] transition-colors w-full text-left group",role:"listitem","aria-label":`Open session: ${r.name}`,onClick:s,children:g.jsxs("div",{className:"flex items-start justify-between",children:[g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("span",{className:`w-2 h-2 rounded-full ${l[r.status]}`,role:"status","aria-label":`Status: ${Kx[r.status]}`}),g.jsx("h3",{className:"font-medium text-[var(--text-primary)] truncate",children:r.name})]}),g.jsxs("div",{className:"flex items-center gap-4 text-sm text-[var(--text-muted)]",children:[g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(dc,{className:"w-4 h-4"}),g.jsx("time",{dateTime:r.updatedAt,children:u})]}),r.workingDir&&g.jsx("span",{className:"text-xs truncate max-w-48",children:r.workingDir})]})]}),g.jsx(Fx,{className:"w-5 h-5 text-[var(--text-muted)] group-hover:text-[var(--text-primary)] transition-colors"})]})})});function Zx(){return g.jsxs("div",{className:"space-y-4","aria-busy":"true","aria-label":"Loading sessions",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("div",{className:"h-7 w-24 bg-[var(--bg-elevated)] rounded animate-pulse"}),g.jsx("div",{className:"h-5 w-16 bg-[var(--bg-elevated)] rounded animate-pulse"})]}),g.jsx("div",{className:"grid gap-3",children:[1,2,3].map(e=>g.jsx("div",{className:"card",children:g.jsx("div",{className:"flex items-start justify-between",children:g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g.jsx("div",{className:"w-2 h-2 bg-[var(--border-default)] rounded-full"}),g.jsx("div",{className:"h-5 w-48 bg-[var(--bg-elevated)] rounded animate-pulse"})]}),g.jsx("div",{className:"h-4 w-32 bg-[var(--bg-elevated)] rounded animate-pulse"})]})})},e))})]})}const qr=1e4;function Jx(){const{id:e}=Vv(),r=Ll();return k.useEffect(()=>{e||r("/sessions")},[e,r]),e?g.jsx(ew,{sessionId:e}):null}function ew({sessionId:e}){const[r,o]=k.useState([]),[s,l]=k.useState(""),[u,c]=k.useState(!0),[f,h]=k.useState(!1),[y,v]=k.useState(null),p=k.useRef(null);k.useEffect(()=>{async function C(){try{v(null);const _=await fetch(`/api/sessions/${e}/messages`);if(!_.ok)throw new Error("Failed to fetch messages");const M=await _.json();o(M.items||[])}catch(_){v("Unable to load messages. Please try again."),console.error("Error fetching messages:",_)}finally{c(!1)}}C()},[e]),k.useEffect(()=>{var C;(C=p.current)==null||C.scrollIntoView({behavior:"smooth"})},[r]);const x=k.useCallback(C=>{const _=C.target.value;_.length<=qr&&l(_)},[]),S=k.useCallback(async C=>{if(C.preventDefault(),!s.trim()||f)return;const _=s.trim();if(_.length>qr){v(`Message too long. Maximum ${qr} characters.`);return}l(""),h(!0),v(null);const M=`temp-${Date.now()}`;o(w=>[...w,{messageId:M,type:"user",content:_,timestamp:new Date().toISOString()}]);try{const w=await fetch(`/api/sessions/${e}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:_})});if(!w.ok)throw new Error("Failed to send message");const P=await w.json(),F=P.message||P;o(D=>D.filter(T=>T.messageId!==M).concat(F))}catch(w){console.error("Error sending message:",w),o(P=>P.map(F=>F.messageId===M?{...F,error:!0}:F)),v("Failed to send message. Please try again.")}finally{h(!1)}},[s,f,e]),E=k.useCallback(()=>{v(null),window.location.reload()},[]),b=k.useCallback(async C=>{if(confirm(""))try{if(!(await fetch(`/api/sessions/${e}/messages/${C}`,{method:"DELETE"})).ok)throw new Error("");o(M=>M.filter(w=>w.messageId!==C))}catch(_){v(_ instanceof Error?_.message:"")}},[e]);return u?g.jsx(rw,{}):g.jsxs("div",{className:"flex flex-col h-full",children:[y&&g.jsxs("div",{className:"p-3 bg-red-900/30 border-b border-red-800 text-red-300 text-sm flex justify-between items-center",children:[g.jsx("span",{children:y}),g.jsx("button",{onClick:E,className:"text-red-400 hover:text-red-300 underline",children:"Retry"})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-thin p-4 space-y-4",role:"log","aria-live":"polite","aria-label":"Chat messages",children:[r.length===0?g.jsx(nw,{}):r.map(C=>g.jsx(tw,{message:C,onDelete:b},C.messageId)),g.jsx("div",{ref:p})]}),g.jsxs("form",{onSubmit:S,className:"p-4 border-t border-[var(--border-subtle)]","aria-label":"Send message",children:[g.jsxs("div",{className:"flex gap-3",children:[g.jsx("label",{htmlFor:"chat-input",className:"sr-only",children:"Type your message"}),g.jsx("input",{id:"chat-input",type:"text",value:s,onChange:x,placeholder:"Type a message...",className:"input flex-1",disabled:f,maxLength:qr,"aria-describedby":"char-count"}),g.jsx("button",{type:"submit",className:"btn-primary px-6",disabled:!s.trim()||f,children:f?"Sending...":"Send"})]}),s.length>qr*.9&&g.jsxs("p",{id:"char-count",className:"text-xs text-[var(--text-muted)] mt-1",children:[s.length,"/",qr," characters"]})]})]})}const tw=k.memo(function({message:r,onDelete:o}){const s=r.type==="user",l=k.useMemo(()=>new Date(r.timestamp).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"}),[r.timestamp]),u=k.useCallback(()=>{o==null||o(r.messageId)},[o,r.messageId]);return g.jsx("div",{className:`group flex ${s?"justify-end":"justify-start"}`,role:"article","aria-label":`Message from ${s?"you":"assistant"}`,children:g.jsxs("div",{className:"relative",children:[g.jsxs("div",{className:`
            max-w-[80%] rounded-2xl px-4 py-3
            ${r.error?"bg-red-900/30 border border-red-700 text-red-300 rounded-br-md":s?"bg-primary-500 text-white rounded-br-md":"bg-[var(--bg-elevated)] text-[var(--text-primary)] border border-[var(--border-subtle)] rounded-bl-md"}
          `,children:[g.jsx("p",{className:"whitespace-pre-wrap break-words",children:r.content}),r.error&&g.jsx("span",{className:"text-xs text-red-600 block mt-1",children:"Failed to send"}),g.jsx("span",{className:`
              text-xs mt-1 block
              ${r.error?"text-red-400":s?"text-primary-200":"text-[var(--text-muted)]"}
            `,children:l})]}),o&&g.jsx("button",{onClick:u,className:`
              absolute top-1 opacity-0 group-hover:opacity-100 focus:opacity-100 p-1 rounded
              hover:bg-red-500/20 transition-all
              ${s?"left-[-28px]":"right-[-28px]"}
            `,title:"","aria-label":"",children:g.jsx(io,{className:"w-4 h-4 text-red-400 hover:text-red-300"})})]})})});function nw(){return g.jsx("div",{className:"flex items-center justify-center h-full text-center",children:g.jsxs("div",{children:[g.jsx("div",{className:"w-16 h-16 bg-[var(--bg-elevated)] border border-[var(--border-subtle)] rounded-full flex items-center justify-center mx-auto mb-4","aria-hidden":"true",children:g.jsx("span",{className:"text-3xl",children:""})}),g.jsx("h3",{className:"text-lg font-medium text-[var(--text-primary)] mb-2",children:"Start the conversation"}),g.jsx("p",{className:"text-[var(--text-muted)]",children:"Type a message below to begin"})]})})}function rw(){return g.jsxs("div",{className:"flex flex-col h-full","aria-busy":"true","aria-label":"Loading chat",children:[g.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[1,2,3].map(e=>g.jsx("div",{className:`flex ${e%2===0?"justify-end":"justify-start"}`,children:g.jsxs("div",{className:"bg-[var(--bg-elevated)] rounded-2xl px-4 py-3 w-64 animate-pulse",children:[g.jsx("div",{className:"h-4 bg-[var(--border-default)] rounded w-full mb-2"}),g.jsx("div",{className:"h-4 bg-[var(--border-default)] rounded w-3/4"})]})},e))}),g.jsx("div",{className:"p-4 border-t border-[var(--border-subtle)]",children:g.jsxs("div",{className:"flex gap-3",children:[g.jsx("div",{className:"input flex-1 h-10 bg-[var(--bg-elevated)] animate-pulse"}),g.jsx("div",{className:"btn-primary w-20 h-10 bg-[var(--border-default)] animate-pulse"})]})})]})}const Fh=e=>{let r;const o=new Set,s=(y,v)=>{const p=typeof y=="function"?y(r):y;if(!Object.is(p,r)){const x=r;r=v??(typeof p!="object"||p===null)?p:Object.assign({},r,p),o.forEach(S=>S(r,x))}},l=()=>r,f={setState:s,getState:l,getInitialState:()=>h,subscribe:y=>(o.add(y),()=>o.delete(y))},h=r=e(s,l,f);return f},ow=(e=>e?Fh(e):Fh),iw=e=>e;function sw(e,r=iw){const o=eo.useSyncExternalStore(e.subscribe,eo.useCallback(()=>r(e.getState()),[e,r]),eo.useCallback(()=>r(e.getInitialState()),[e,r]));return eo.useDebugValue(o),o}const Hh=e=>{const r=ow(e),o=s=>sw(r,s);return Object.assign(o,r),o},bm=(e=>e?Hh(e):Hh),lw="http://localhost:3048",Vh=lw,aw=bm(e=>({query:"",results:[],totalResults:0,isSearching:!1,error:null,status:null,isLoadingStatus:!1,setQuery:r=>e({query:r}),search:async(r,o=10)=>{if(!r.trim()){e({results:[],totalResults:0,error:null});return}e({isSearching:!0,error:null,query:r});try{const s=await fetch(`${Vh}/api/search`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:r,limit:o})});if(!s.ok){const u=await s.json();throw new Error(u.message||"Search failed")}const l=await s.json();e({results:l.results,totalResults:l.totalResults,isSearching:!1})}catch(s){e({error:s instanceof Error?s.message:"Search failed",isSearching:!1,results:[],totalResults:0})}},clearResults:()=>e({query:"",results:[],totalResults:0,error:null}),fetchStatus:async()=>{e({isLoadingStatus:!0});try{const r=await fetch(`${Vh}/api/search/status`);if(!r.ok)throw new Error("Failed to fetch search status");const o=await r.json();e({status:o,isLoadingStatus:!1})}catch(r){e({status:{available:!1,indexedCount:0,message:r instanceof Error?r.message:"Failed to fetch search status"},isLoadingStatus:!1})}}}));function uw(){const{query:e,setQuery:r,results:o,totalResults:s,isSearching:l,error:u,status:c,isLoadingStatus:f,search:h,fetchStatus:y,clearResults:v}=aw(),[p,x]=k.useState(e);k.useEffect(()=>{y()},[]);const S=k.useCallback(async b=>{b.preventDefault(),p.trim()&&await h(p)},[p,h]),E=k.useCallback(()=>{x(""),v()},[v]);return g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsxs("header",{className:"mb-8",children:[g.jsx("h1",{className:"text-2xl font-semibold text-[var(--text-primary)]",children:"Search"}),g.jsx("p",{className:"text-[var(--text-muted)] mt-1",children:"Search your past sessions semantically"})]}),g.jsx("form",{onSubmit:S,className:"mb-6",children:g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(pi,{className:"h-5 w-5 text-[var(--text-muted)]"})}),g.jsx("input",{type:"text",value:p,onChange:b=>x(b.target.value),placeholder:"Search for topics, concepts, or keywords...",className:"input pl-10 pr-20",disabled:!(c!=null&&c.available),"aria-label":"Search query"}),g.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 gap-2",children:[p&&g.jsx("button",{type:"button",onClick:E,className:"text-[var(--text-muted)] hover:text-[var(--text-primary)] text-sm",children:"Clear"}),g.jsx("button",{type:"submit",disabled:l||!(c!=null&&c.available)||!p.trim(),className:"btn-primary text-sm disabled:opacity-50",children:l?"Searching...":"Search"})]})]})}),f?g.jsx("div",{className:"text-center py-8 text-[var(--text-muted)]",children:"Loading search status..."}):c!=null&&c.available?g.jsxs(g.Fragment,{children:[u&&g.jsx("div",{className:"card bg-red-900/30 border-red-800 mb-6",children:g.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[g.jsx($h,{className:"w-5 h-5"}),g.jsx("span",{children:u})]})}),o.length>0&&g.jsxs("div",{children:[g.jsx("div",{className:"flex items-center justify-between mb-4",children:g.jsxs("h2",{className:"text-sm font-medium text-[var(--text-muted)]",children:["Results (",s," found)"]})}),g.jsx("div",{className:"space-y-3",children:o.map(b=>g.jsx(cw,{result:b},b.sessionId))})]}),e&&o.length===0&&!l&&!u&&g.jsxs("div",{className:"text-center py-12",children:[g.jsx(pi,{className:"w-12 h-12 text-[var(--text-muted)] mx-auto mb-4"}),g.jsx("h3",{className:"text-lg font-medium text-[var(--text-primary)]",children:"No results found"}),g.jsx("p",{className:"text-[var(--text-muted)] mt-1",children:"Try different keywords or phrases"})]}),!e&&o.length===0&&g.jsxs("div",{className:"text-center py-12",children:[g.jsx(pi,{className:"w-12 h-12 text-[var(--text-muted)] mx-auto mb-4"}),g.jsx("h3",{className:"text-lg font-medium text-[var(--text-primary)]",children:"Search your sessions"}),g.jsx("p",{className:"text-[var(--text-muted)] mt-1",children:"Enter a query to find relevant past sessions"}),g.jsxs("p",{className:"text-sm text-[var(--text-muted)] mt-4",children:[c.indexedCount," sessions indexed"]})]})]}):g.jsx("div",{className:"card bg-yellow-900/30 border-yellow-800",children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx($h,{className:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5"}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-medium text-yellow-300",children:"Search not available"}),g.jsx("p",{className:"text-sm text-yellow-400/80 mt-1",children:c==null?void 0:c.message})]})]})})]})}const cw=k.memo(function({result:r}){const o=s=>Math.round(s*100);return g.jsx(Lc,{to:`/sessions/${r.sessionId}`,className:"block",children:g.jsx("div",{className:"card hover:shadow-md transition-shadow cursor-pointer",children:g.jsxs("div",{className:"flex items-start justify-between gap-4",children:[g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("h3",{className:"font-medium text-[var(--text-primary)] truncate",children:r.sessionName}),g.jsx("p",{className:"text-sm text-[var(--text-secondary)] mt-1 line-clamp-2",children:r.shortSummary})]}),g.jsx("div",{className:"flex-shrink-0",children:g.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${r.relevanceScore>.8?"bg-green-900/40 text-green-400":r.relevanceScore>.5?"bg-yellow-900/40 text-yellow-400":"bg-gray-800 text-gray-400"}`,children:[o(r.relevanceScore),"% match"]})})]})})})}),dw=bm((e,r)=>({projects:[],selectedProjectId:null,loading:!1,error:null,fetchProjects:async()=>{e({loading:!0,error:null});try{const o=await fetch("/api/projects?limit=100");if(!o.ok)throw new Error("Failed to fetch projects");const s=await o.json();e({projects:s.projects||[],loading:!1})}catch(o){const s=o instanceof Error?o.message:"";console.error("[ProjectStore] Failed to fetch projects:",o),e({error:s,loading:!1})}},selectProject:o=>{e({selectedProjectId:o})},getSelectedProject:()=>{const{projects:o,selectedProjectId:s}=r();return s&&o.find(l=>l.projectId===s)||null},createProject:async o=>{var s;e({error:null});try{const l=await fetch("/api/projects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!l.ok){const c=await l.json(),f=typeof c.error=="string"?c.error:((s=c.error)==null?void 0:s.message)||"";throw new Error(f)}const u=await l.json();return e(c=>({projects:[...c.projects,u]})),u}catch(l){const u=l instanceof Error?l.message:"";return e({error:u}),null}},updateProject:async(o,s)=>{var l;e({error:null});try{const u=await fetch(`/api/projects/${o}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!u.ok){const f=await u.json(),h=typeof f.error=="string"?f.error:((l=f.error)==null?void 0:l.message)||"";throw new Error(h)}const c=await u.json();return e(f=>({projects:f.projects.map(h=>h.projectId===o?c:h)})),c}catch(u){const c=u instanceof Error?u.message:"";return e({error:c}),null}},deleteProject:async o=>{var s;e({error:null});try{const l=await fetch(`/api/projects/${o}`,{method:"DELETE"});if(!l.ok&&l.status!==204){const u=await l.json(),c=typeof u.error=="string"?u.error:((s=u.error)==null?void 0:s.message)||"";throw new Error(c)}return e(u=>({projects:u.projects.filter(c=>c.projectId!==o),selectedProjectId:u.selectedProjectId===o?null:u.selectedProjectId})),!0}catch(l){const u=l instanceof Error?l.message:"";return e({error:u}),!1}}}));function fw({sessions:e,sessionsLoading:r=!1,onSessionSelect:o,onSessionClick:s,onSessionDelete:l,onBulkDelete:u,selectedSessionIds:c=[]}){const{projects:f,selectedProjectId:h,loading:y,fetchProjects:v,selectProject:p,updateProject:x,deleteProject:S}=dw(),[E,b]=k.useState(!1),[C,_]=k.useState(!1),[M,w]=k.useState(new Set),[P,F]=k.useState(!1),[D,T]=k.useState(null),[Y,X]=k.useState("");k.useEffect(()=>{v()},[v]);const re=k.useMemo(()=>h?e.filter(j=>j.projectId===h):e,[e,h]),G=k.useCallback(j=>{p(j),b(!1)},[p]),Q=f.find(j=>j.projectId===h),ne=k.useCallback((j,A)=>{T(j),X(A),b(!1)},[]),R=k.useCallback(async()=>{!D||!Y.trim()||(await x(D,{name:Y.trim()}),T(null),X(""))},[D,Y,x]),V=k.useCallback(()=>{T(null),X("")},[]),$=k.useCallback(async j=>{confirm("")&&(await S(j),b(!1))},[S]),H=k.useCallback(()=>{_(j=>!j),w(new Set)},[]),I=k.useCallback(j=>{w(A=>{const U=new Set(A);return U.has(j)?U.delete(j):U.add(j),U})},[]),z=k.useCallback(()=>{M.size===re.length?w(new Set):w(new Set(re.map(j=>j.sessionId)))},[re,M.size]),W=k.useCallback(async()=>{if(!(M.size===0||!u)){F(!0);try{await u(Array.from(M)),w(new Set),_(!1)}finally{F(!1)}}},[M,u]);return g.jsxs("aside",{className:"w-64 bg-[var(--bg-surface)] border-r border-[var(--border-subtle)] flex flex-col h-full",children:[g.jsx("div",{className:"p-3 border-b border-[var(--border-subtle)]",children:g.jsxs("div",{className:"relative",children:[g.jsxs("button",{onClick:()=>b(!E),className:"w-full flex items-center justify-between px-3 py-2 bg-[var(--bg-elevated)] rounded-lg hover:brightness-110 transition-colors","aria-expanded":E,"aria-haspopup":"listbox",children:[g.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[g.jsx(Hx,{className:"w-4 h-4 text-[var(--text-muted)] flex-shrink-0"}),g.jsx("span",{className:"text-sm text-[var(--text-primary)] truncate",children:y?"...":(Q==null?void 0:Q.name)||""})]}),g.jsx(Bx,{className:"w-4 h-4 text-[var(--text-muted)] transition-transform "+(E?"rotate-180":"")})]}),E&&g.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-[var(--bg-elevated)] border border-[var(--border-default)] rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:[g.jsx("button",{onClick:()=>G(null),className:"w-full text-left px-3 py-2 text-sm hover:bg-[var(--bg-surface)] transition-colors "+(h?"text-[var(--text-primary)]":"text-[var(--color-primary-400)] bg-[var(--bg-surface)]"),role:"option","aria-selected":!h,children:""}),f.map(j=>g.jsx("div",{className:"group flex items-center gap-1 px-2 py-2 text-sm hover:bg-[var(--bg-surface)] transition-colors "+(h===j.projectId?"text-[var(--color-primary-400)] bg-[var(--bg-surface)]":"text-[var(--text-primary)]"),children:D===j.projectId?g.jsxs("div",{className:"flex-1 flex items-center gap-1",children:[g.jsx("label",{htmlFor:`edit-project-${j.projectId}`,className:"sr-only",children:""}),g.jsx("input",{id:`edit-project-${j.projectId}`,type:"text",value:Y,onChange:A=>X(A.target.value),onKeyDown:A=>{A.key==="Enter"&&R(),A.key==="Escape"&&V()},className:"flex-1 px-2 py-1 text-sm bg-[var(--bg-base)] border border-[var(--border-default)] rounded text-[var(--text-primary)]",autoFocus:!0,"aria-label":""}),g.jsx("button",{onClick:R,className:"p-1 rounded hover:bg-[var(--color-primary-500)] text-[var(--text-muted)] hover:text-white transition-colors","aria-label":"",children:g.jsx(Cm,{className:"w-4 h-4"})})]}):g.jsxs(g.Fragment,{children:[g.jsxs("button",{onClick:()=>G(j.projectId),className:"flex-1 text-left min-w-0",role:"option","aria-selected":h===j.projectId,children:[g.jsx("div",{className:"truncate",children:j.name}),g.jsx("div",{className:"text-xs text-[var(--text-muted)] truncate",children:j.path})]}),g.jsx("button",{onClick:A=>{A.stopPropagation(),ne(j.projectId,j.name)},className:"p-1 rounded opacity-0 group-hover:opacity-100 focus:opacity-100 hover:bg-[var(--bg-base)] transition-all",title:"","aria-label":`${j.name}`,children:g.jsx(Yx,{className:"w-3 h-3 text-[var(--text-muted)]"})}),g.jsx("button",{onClick:A=>{A.stopPropagation(),$(j.projectId)},className:"p-1 rounded opacity-0 group-hover:opacity-100 focus:opacity-100 hover:bg-red-500/20 transition-all",title:"","aria-label":`${j.name}`,children:g.jsx(io,{className:"w-3 h-3 text-red-400"})})]})},j.projectId))]})]})}),g.jsxs("div",{className:"flex-1 overflow-y-auto",children:[g.jsxs("div",{className:"px-3 py-2 flex items-center justify-between",children:[g.jsx("span",{className:"text-xs font-medium text-[var(--text-muted)] uppercase tracking-wider",children:"Sessions"}),u&&re.length>0&&g.jsx("button",{onClick:H,className:`text-xs px-2 py-1 rounded transition-colors ${C?"bg-[var(--color-primary-500)] text-white":"text-[var(--text-muted)] hover:bg-[var(--bg-elevated)]"}`,children:C?"":""})]}),C&&re.length>0&&g.jsxs("div",{className:"px-3 pb-2 flex items-center gap-2",children:[g.jsx("button",{onClick:z,className:"text-xs px-2 py-1 rounded bg-[var(--bg-elevated)] text-[var(--text-secondary)] hover:bg-[var(--bg-surface)] transition-colors",children:M.size===re.length?"":""}),M.size>0&&g.jsxs("button",{onClick:W,disabled:P,className:"text-xs px-2 py-1 rounded bg-red-500/20 text-red-400 hover:bg-red-500/30 transition-colors disabled:opacity-50 flex items-center gap-1",children:[g.jsx(io,{className:"w-3 h-3"}),P?"...":`${M.size}`]})]}),r?g.jsx("div",{className:"px-3 space-y-2",children:[1,2,3].map(j=>g.jsx("div",{className:"h-12 bg-[var(--bg-elevated)] rounded animate-pulse"},j))}):re.length===0?g.jsx("div",{className:"px-3 py-4 text-sm text-[var(--text-muted)] text-center",children:""}):g.jsx("div",{className:"px-2 space-y-1",children:re.map(j=>g.jsx(pw,{session:j,isHidden:c.includes(j.sessionId),onToggle:o,onClick:s,onDelete:l,bulkSelectMode:C,isBulkSelected:M.has(j.sessionId),onBulkToggle:I},j.sessionId))})]}),g.jsx("div",{className:"p-3 border-t border-[var(--border-subtle)]",children:g.jsxs("button",{className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm bg-[var(--color-primary-500)] text-white rounded-lg hover:bg-[var(--color-primary-600)] transition-colors",children:[g.jsx(Vx,{className:"w-4 h-4"}),g.jsx("span",{children:"New Session"})]})})]})}const hw={idle:"bg-gray-400",active:"bg-blue-500",completed:"bg-green-500",error:"bg-red-500",processing:"bg-yellow-500"},pw=k.memo(function({session:r,isHidden:o,onToggle:s,onClick:l,onDelete:u,bulkSelectMode:c=!1,isBulkSelected:f=!1,onBulkToggle:h}){const y=k.useCallback(E=>{E.stopPropagation(),s==null||s(r)},[s,r]),v=k.useCallback(()=>{c?h==null||h(r.sessionId):l==null||l(r)},[c,l,h,r]),p=k.useCallback(E=>{E.stopPropagation(),u==null||u(r)},[u,r]),x=k.useCallback(E=>{E.stopPropagation(),h==null||h(r.sessionId)},[h,r.sessionId]),S=new Date(r.updatedAt).toLocaleDateString("ja-JP",{month:"short",day:"numeric"});return g.jsxs("div",{className:"group flex items-center gap-1 px-2 py-2 rounded-lg transition-colors "+(f?"bg-[var(--color-primary-500)]/20":o?"opacity-50":"hover:bg-[var(--bg-elevated)]"),children:[c?g.jsx("button",{onClick:x,className:`p-1 rounded transition-colors flex-shrink-0 ${f?"bg-[var(--color-primary-500)] text-white":"bg-[var(--bg-elevated)] text-[var(--text-muted)] hover:bg-[var(--bg-surface)]"}`,children:f?g.jsx(Cm,{className:"w-4 h-4"}):g.jsx("div",{className:"w-4 h-4"})}):g.jsx("button",{onClick:y,className:"p-1 rounded hover:bg-[var(--bg-surface)] transition-colors flex-shrink-0",title:o?"":"",children:o?g.jsx(Wx,{className:"w-4 h-4 text-[var(--text-muted)]"}):g.jsx(Ux,{className:"w-4 h-4 text-[var(--text-secondary)]"})}),g.jsxs("button",{onClick:v,className:"flex-1 text-left flex items-center gap-2 min-w-0",children:[g.jsx("span",{className:"w-2 h-2 rounded-full flex-shrink-0 "+(o?"bg-gray-500":hw[r.status])}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("div",{className:"text-sm truncate "+(o?"text-[var(--text-muted)] line-through":"text-[var(--text-primary)]"),children:r.name}),g.jsx("div",{className:"text-xs text-[var(--text-muted)]",children:S})]})]}),!c&&g.jsx("button",{onClick:p,className:"p-1 rounded opacity-0 group-hover:opacity-100 hover:bg-red-500/20 transition-all flex-shrink-0",title:"",children:g.jsx(io,{className:"w-4 h-4 text-red-400 hover:text-red-300"})})]})});function Ye(e){if(typeof e=="string"||typeof e=="number")return""+e;let r="";if(Array.isArray(e))for(let o=0,s;o<e.length;o++)(s=Ye(e[o]))!==""&&(r+=(r&&" ")+s);else for(let o in e)e[o]&&(r+=(r&&" ")+o);return r}var mw={value:()=>{}};function zl(){for(var e=0,r=arguments.length,o={},s;e<r;++e){if(!(s=arguments[e]+"")||s in o||/[\s.]/.test(s))throw new Error("illegal type: "+s);o[s]=[]}return new pl(o)}function pl(e){this._=e}function gw(e,r){return e.trim().split(/^|\s+/).map(function(o){var s="",l=o.indexOf(".");if(l>=0&&(s=o.slice(l+1),o=o.slice(0,l)),o&&!r.hasOwnProperty(o))throw new Error("unknown type: "+o);return{type:o,name:s}})}pl.prototype=zl.prototype={constructor:pl,on:function(e,r){var o=this._,s=gw(e+"",o),l,u=-1,c=s.length;if(arguments.length<2){for(;++u<c;)if((l=(e=s[u]).type)&&(l=yw(o[l],e.name)))return l;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++u<c;)if(l=(e=s[u]).type)o[l]=Bh(o[l],e.name,r);else if(r==null)for(l in o)o[l]=Bh(o[l],e.name,null);return this},copy:function(){var e={},r=this._;for(var o in r)e[o]=r[o].slice();return new pl(e)},call:function(e,r){if((l=arguments.length-2)>0)for(var o=new Array(l),s=0,l,u;s<l;++s)o[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(u=this._[e],s=0,l=u.length;s<l;++s)u[s].value.apply(r,o)},apply:function(e,r,o){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var s=this._[e],l=0,u=s.length;l<u;++l)s[l].value.apply(r,o)}};function yw(e,r){for(var o=0,s=e.length,l;o<s;++o)if((l=e[o]).name===r)return l.value}function Bh(e,r,o){for(var s=0,l=e.length;s<l;++s)if(e[s].name===r){e[s]=mw,e=e.slice(0,s).concat(e.slice(s+1));break}return o!=null&&e.push({name:r,value:o}),e}var fc="http://www.w3.org/1999/xhtml";const Uh={svg:"http://www.w3.org/2000/svg",xhtml:fc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $l(e){var r=e+="",o=r.indexOf(":");return o>=0&&(r=e.slice(0,o))!=="xmlns"&&(e=e.slice(o+1)),Uh.hasOwnProperty(r)?{space:Uh[r],local:e}:e}function vw(e){return function(){var r=this.ownerDocument,o=this.namespaceURI;return o===fc&&r.documentElement.namespaceURI===fc?r.createElement(e):r.createElementNS(o,e)}}function xw(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function jm(e){var r=$l(e);return(r.local?xw:vw)(r)}function ww(){}function Tc(e){return e==null?ww:function(){return this.querySelector(e)}}function Sw(e){typeof e!="function"&&(e=Tc(e));for(var r=this._groups,o=r.length,s=new Array(o),l=0;l<o;++l)for(var u=r[l],c=u.length,f=s[l]=new Array(c),h,y,v=0;v<c;++v)(h=u[v])&&(y=e.call(h,h.__data__,v,u))&&("__data__"in h&&(y.__data__=h.__data__),f[v]=y);return new St(s,this._parents)}function Ew(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Nw(){return[]}function Pm(e){return e==null?Nw:function(){return this.querySelectorAll(e)}}function kw(e){return function(){return Ew(e.apply(this,arguments))}}function Cw(e){typeof e=="function"?e=kw(e):e=Pm(e);for(var r=this._groups,o=r.length,s=[],l=[],u=0;u<o;++u)for(var c=r[u],f=c.length,h,y=0;y<f;++y)(h=c[y])&&(s.push(e.call(h,h.__data__,y,c)),l.push(h));return new St(s,l)}function Mm(e){return function(){return this.matches(e)}}function Im(e){return function(r){return r.matches(e)}}var _w=Array.prototype.find;function bw(e){return function(){return _w.call(this.children,e)}}function jw(){return this.firstElementChild}function Pw(e){return this.select(e==null?jw:bw(typeof e=="function"?e:Im(e)))}var Mw=Array.prototype.filter;function Iw(){return Array.from(this.children)}function Rw(e){return function(){return Mw.call(this.children,e)}}function Lw(e){return this.selectAll(e==null?Iw:Rw(typeof e=="function"?e:Im(e)))}function Tw(e){typeof e!="function"&&(e=Mm(e));for(var r=this._groups,o=r.length,s=new Array(o),l=0;l<o;++l)for(var u=r[l],c=u.length,f=s[l]=[],h,y=0;y<c;++y)(h=u[y])&&e.call(h,h.__data__,y,u)&&f.push(h);return new St(s,this._parents)}function Rm(e){return new Array(e.length)}function zw(){return new St(this._enter||this._groups.map(Rm),this._parents)}function wl(e,r){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=r}wl.prototype={constructor:wl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,r){return this._parent.insertBefore(e,r)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function $w(e){return function(){return e}}function Aw(e,r,o,s,l,u){for(var c=0,f,h=r.length,y=u.length;c<y;++c)(f=r[c])?(f.__data__=u[c],s[c]=f):o[c]=new wl(e,u[c]);for(;c<h;++c)(f=r[c])&&(l[c]=f)}function Dw(e,r,o,s,l,u,c){var f,h,y=new Map,v=r.length,p=u.length,x=new Array(v),S;for(f=0;f<v;++f)(h=r[f])&&(x[f]=S=c.call(h,h.__data__,f,r)+"",y.has(S)?l[f]=h:y.set(S,h));for(f=0;f<p;++f)S=c.call(e,u[f],f,u)+"",(h=y.get(S))?(s[f]=h,h.__data__=u[f],y.delete(S)):o[f]=new wl(e,u[f]);for(f=0;f<v;++f)(h=r[f])&&y.get(x[f])===h&&(l[f]=h)}function Ow(e){return e.__data__}function Fw(e,r){if(!arguments.length)return Array.from(this,Ow);var o=r?Dw:Aw,s=this._parents,l=this._groups;typeof e!="function"&&(e=$w(e));for(var u=l.length,c=new Array(u),f=new Array(u),h=new Array(u),y=0;y<u;++y){var v=s[y],p=l[y],x=p.length,S=Hw(e.call(v,v&&v.__data__,y,s)),E=S.length,b=f[y]=new Array(E),C=c[y]=new Array(E),_=h[y]=new Array(x);o(v,p,b,C,_,S,r);for(var M=0,w=0,P,F;M<E;++M)if(P=b[M]){for(M>=w&&(w=M+1);!(F=C[w])&&++w<E;);P._next=F||null}}return c=new St(c,s),c._enter=f,c._exit=h,c}function Hw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Vw(){return new St(this._exit||this._groups.map(Rm),this._parents)}function Bw(e,r,o){var s=this.enter(),l=this,u=this.exit();return typeof e=="function"?(s=e(s),s&&(s=s.selection())):s=s.append(e+""),r!=null&&(l=r(l),l&&(l=l.selection())),o==null?u.remove():o(u),s&&l?s.merge(l).order():l}function Uw(e){for(var r=e.selection?e.selection():e,o=this._groups,s=r._groups,l=o.length,u=s.length,c=Math.min(l,u),f=new Array(l),h=0;h<c;++h)for(var y=o[h],v=s[h],p=y.length,x=f[h]=new Array(p),S,E=0;E<p;++E)(S=y[E]||v[E])&&(x[E]=S);for(;h<l;++h)f[h]=o[h];return new St(f,this._parents)}function Ww(){for(var e=this._groups,r=-1,o=e.length;++r<o;)for(var s=e[r],l=s.length-1,u=s[l],c;--l>=0;)(c=s[l])&&(u&&c.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(c,u),u=c);return this}function Yw(e){e||(e=Xw);function r(p,x){return p&&x?e(p.__data__,x.__data__):!p-!x}for(var o=this._groups,s=o.length,l=new Array(s),u=0;u<s;++u){for(var c=o[u],f=c.length,h=l[u]=new Array(f),y,v=0;v<f;++v)(y=c[v])&&(h[v]=y);h.sort(r)}return new St(l,this._parents).order()}function Xw(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}function Qw(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Gw(){return Array.from(this)}function Kw(){for(var e=this._groups,r=0,o=e.length;r<o;++r)for(var s=e[r],l=0,u=s.length;l<u;++l){var c=s[l];if(c)return c}return null}function qw(){let e=0;for(const r of this)++e;return e}function Zw(){return!this.node()}function Jw(e){for(var r=this._groups,o=0,s=r.length;o<s;++o)for(var l=r[o],u=0,c=l.length,f;u<c;++u)(f=l[u])&&e.call(f,f.__data__,u,l);return this}function e1(e){return function(){this.removeAttribute(e)}}function t1(e){return function(){this.removeAttributeNS(e.space,e.local)}}function n1(e,r){return function(){this.setAttribute(e,r)}}function r1(e,r){return function(){this.setAttributeNS(e.space,e.local,r)}}function o1(e,r){return function(){var o=r.apply(this,arguments);o==null?this.removeAttribute(e):this.setAttribute(e,o)}}function i1(e,r){return function(){var o=r.apply(this,arguments);o==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,o)}}function s1(e,r){var o=$l(e);if(arguments.length<2){var s=this.node();return o.local?s.getAttributeNS(o.space,o.local):s.getAttribute(o)}return this.each((r==null?o.local?t1:e1:typeof r=="function"?o.local?i1:o1:o.local?r1:n1)(o,r))}function Lm(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function l1(e){return function(){this.style.removeProperty(e)}}function a1(e,r,o){return function(){this.style.setProperty(e,r,o)}}function u1(e,r,o){return function(){var s=r.apply(this,arguments);s==null?this.style.removeProperty(e):this.style.setProperty(e,s,o)}}function c1(e,r,o){return arguments.length>1?this.each((r==null?l1:typeof r=="function"?u1:a1)(e,r,o??"")):so(this.node(),e)}function so(e,r){return e.style.getPropertyValue(r)||Lm(e).getComputedStyle(e,null).getPropertyValue(r)}function d1(e){return function(){delete this[e]}}function f1(e,r){return function(){this[e]=r}}function h1(e,r){return function(){var o=r.apply(this,arguments);o==null?delete this[e]:this[e]=o}}function p1(e,r){return arguments.length>1?this.each((r==null?d1:typeof r=="function"?h1:f1)(e,r)):this.node()[e]}function Tm(e){return e.trim().split(/^|\s+/)}function zc(e){return e.classList||new zm(e)}function zm(e){this._node=e,this._names=Tm(e.getAttribute("class")||"")}zm.prototype={add:function(e){var r=this._names.indexOf(e);r<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var r=this._names.indexOf(e);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function $m(e,r){for(var o=zc(e),s=-1,l=r.length;++s<l;)o.add(r[s])}function Am(e,r){for(var o=zc(e),s=-1,l=r.length;++s<l;)o.remove(r[s])}function m1(e){return function(){$m(this,e)}}function g1(e){return function(){Am(this,e)}}function y1(e,r){return function(){(r.apply(this,arguments)?$m:Am)(this,e)}}function v1(e,r){var o=Tm(e+"");if(arguments.length<2){for(var s=zc(this.node()),l=-1,u=o.length;++l<u;)if(!s.contains(o[l]))return!1;return!0}return this.each((typeof r=="function"?y1:r?m1:g1)(o,r))}function x1(){this.textContent=""}function w1(e){return function(){this.textContent=e}}function S1(e){return function(){var r=e.apply(this,arguments);this.textContent=r??""}}function E1(e){return arguments.length?this.each(e==null?x1:(typeof e=="function"?S1:w1)(e)):this.node().textContent}function N1(){this.innerHTML=""}function k1(e){return function(){this.innerHTML=e}}function C1(e){return function(){var r=e.apply(this,arguments);this.innerHTML=r??""}}function _1(e){return arguments.length?this.each(e==null?N1:(typeof e=="function"?C1:k1)(e)):this.node().innerHTML}function b1(){this.nextSibling&&this.parentNode.appendChild(this)}function j1(){return this.each(b1)}function P1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function M1(){return this.each(P1)}function I1(e){var r=typeof e=="function"?e:jm(e);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function R1(){return null}function L1(e,r){var o=typeof e=="function"?e:jm(e),s=r==null?R1:typeof r=="function"?r:Tc(r);return this.select(function(){return this.insertBefore(o.apply(this,arguments),s.apply(this,arguments)||null)})}function T1(){var e=this.parentNode;e&&e.removeChild(this)}function z1(){return this.each(T1)}function $1(){var e=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function A1(){var e=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function D1(e){return this.select(e?A1:$1)}function O1(e){return arguments.length?this.property("__data__",e):this.node().__data__}function F1(e){return function(r){e.call(this,r,this.__data__)}}function H1(e){return e.trim().split(/^|\s+/).map(function(r){var o="",s=r.indexOf(".");return s>=0&&(o=r.slice(s+1),r=r.slice(0,s)),{type:r,name:o}})}function V1(e){return function(){var r=this.__on;if(r){for(var o=0,s=-1,l=r.length,u;o<l;++o)u=r[o],(!e.type||u.type===e.type)&&u.name===e.name?this.removeEventListener(u.type,u.listener,u.options):r[++s]=u;++s?r.length=s:delete this.__on}}}function B1(e,r,o){return function(){var s=this.__on,l,u=F1(r);if(s){for(var c=0,f=s.length;c<f;++c)if((l=s[c]).type===e.type&&l.name===e.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=u,l.options=o),l.value=r;return}}this.addEventListener(e.type,u,o),l={type:e.type,name:e.name,value:r,listener:u,options:o},s?s.push(l):this.__on=[l]}}function U1(e,r,o){var s=H1(e+""),l,u=s.length,c;if(arguments.length<2){var f=this.node().__on;if(f){for(var h=0,y=f.length,v;h<y;++h)for(l=0,v=f[h];l<u;++l)if((c=s[l]).type===v.type&&c.name===v.name)return v.value}return}for(f=r?B1:V1,l=0;l<u;++l)this.each(f(s[l],r,o));return this}function Dm(e,r,o){var s=Lm(e),l=s.CustomEvent;typeof l=="function"?l=new l(r,o):(l=s.document.createEvent("Event"),o?(l.initEvent(r,o.bubbles,o.cancelable),l.detail=o.detail):l.initEvent(r,!1,!1)),e.dispatchEvent(l)}function W1(e,r){return function(){return Dm(this,e,r)}}function Y1(e,r){return function(){return Dm(this,e,r.apply(this,arguments))}}function X1(e,r){return this.each((typeof r=="function"?Y1:W1)(e,r))}function*Q1(){for(var e=this._groups,r=0,o=e.length;r<o;++r)for(var s=e[r],l=0,u=s.length,c;l<u;++l)(c=s[l])&&(yield c)}var Om=[null];function St(e,r){this._groups=e,this._parents=r}function Ii(){return new St([[document.documentElement]],Om)}function G1(){return this}St.prototype=Ii.prototype={constructor:St,select:Sw,selectAll:Cw,selectChild:Pw,selectChildren:Lw,filter:Tw,data:Fw,enter:zw,exit:Vw,join:Bw,merge:Uw,selection:G1,order:Ww,sort:Yw,call:Qw,nodes:Gw,node:Kw,size:qw,empty:Zw,each:Jw,attr:s1,style:c1,property:p1,classed:v1,text:E1,html:_1,raise:j1,lower:M1,append:I1,insert:L1,remove:z1,clone:D1,datum:O1,on:U1,dispatch:X1,[Symbol.iterator]:Q1};function wt(e){return typeof e=="string"?new St([[document.querySelector(e)]],[document.documentElement]):new St([[e]],Om)}function K1(e){let r;for(;r=e.sourceEvent;)e=r;return e}function Dt(e,r){if(e=K1(e),r===void 0&&(r=e.currentTarget),r){var o=r.ownerSVGElement||r;if(o.createSVGPoint){var s=o.createSVGPoint();return s.x=e.clientX,s.y=e.clientY,s=s.matrixTransform(r.getScreenCTM().inverse()),[s.x,s.y]}if(r.getBoundingClientRect){var l=r.getBoundingClientRect();return[e.clientX-l.left-r.clientLeft,e.clientY-l.top-r.clientTop]}}return[e.pageX,e.pageY]}const q1={passive:!1},vi={capture:!0,passive:!1};function Qu(e){e.stopImmediatePropagation()}function ro(e){e.preventDefault(),e.stopImmediatePropagation()}function Fm(e){var r=e.document.documentElement,o=wt(e).on("dragstart.drag",ro,vi);"onselectstart"in r?o.on("selectstart.drag",ro,vi):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")}function Hm(e,r){var o=e.document.documentElement,s=wt(e).on("dragstart.drag",null);r&&(s.on("click.drag",ro,vi),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in o?s.on("selectstart.drag",null):(o.style.MozUserSelect=o.__noselect,delete o.__noselect)}const rl=e=>()=>e;function hc(e,{sourceEvent:r,subject:o,target:s,identifier:l,active:u,x:c,y:f,dx:h,dy:y,dispatch:v}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},subject:{value:o,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:l,enumerable:!0,configurable:!0},active:{value:u,enumerable:!0,configurable:!0},x:{value:c,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:y,enumerable:!0,configurable:!0},_:{value:v}})}hc.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Z1(e){return!e.ctrlKey&&!e.button}function J1(){return this.parentNode}function eS(e,r){return r??{x:e.x,y:e.y}}function tS(){return navigator.maxTouchPoints||"ontouchstart"in this}function Vm(){var e=Z1,r=J1,o=eS,s=tS,l={},u=zl("start","drag","end"),c=0,f,h,y,v,p=0;function x(P){P.on("mousedown.drag",S).filter(s).on("touchstart.drag",C).on("touchmove.drag",_,q1).on("touchend.drag touchcancel.drag",M).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function S(P,F){if(!(v||!e.call(this,P,F))){var D=w(this,r.call(this,P,F),P,F,"mouse");D&&(wt(P.view).on("mousemove.drag",E,vi).on("mouseup.drag",b,vi),Fm(P.view),Qu(P),y=!1,f=P.clientX,h=P.clientY,D("start",P))}}function E(P){if(ro(P),!y){var F=P.clientX-f,D=P.clientY-h;y=F*F+D*D>p}l.mouse("drag",P)}function b(P){wt(P.view).on("mousemove.drag mouseup.drag",null),Hm(P.view,y),ro(P),l.mouse("end",P)}function C(P,F){if(e.call(this,P,F)){var D=P.changedTouches,T=r.call(this,P,F),Y=D.length,X,re;for(X=0;X<Y;++X)(re=w(this,T,P,F,D[X].identifier,D[X]))&&(Qu(P),re("start",P,D[X]))}}function _(P){var F=P.changedTouches,D=F.length,T,Y;for(T=0;T<D;++T)(Y=l[F[T].identifier])&&(ro(P),Y("drag",P,F[T]))}function M(P){var F=P.changedTouches,D=F.length,T,Y;for(v&&clearTimeout(v),v=setTimeout(function(){v=null},500),T=0;T<D;++T)(Y=l[F[T].identifier])&&(Qu(P),Y("end",P,F[T]))}function w(P,F,D,T,Y,X){var re=u.copy(),G=Dt(X||D,F),Q,ne,R;if((R=o.call(P,new hc("beforestart",{sourceEvent:D,target:x,identifier:Y,active:c,x:G[0],y:G[1],dx:0,dy:0,dispatch:re}),T))!=null)return Q=R.x-G[0]||0,ne=R.y-G[1]||0,function V($,H,I){var z=G,W;switch($){case"start":l[Y]=V,W=c++;break;case"end":delete l[Y],--c;case"drag":G=Dt(I||H,F),W=c;break}re.call($,P,new hc($,{sourceEvent:H,subject:R,target:x,identifier:Y,active:W,x:G[0]+Q,y:G[1]+ne,dx:G[0]-z[0],dy:G[1]-z[1],dispatch:re}),T)}}return x.filter=function(P){return arguments.length?(e=typeof P=="function"?P:rl(!!P),x):e},x.container=function(P){return arguments.length?(r=typeof P=="function"?P:rl(P),x):r},x.subject=function(P){return arguments.length?(o=typeof P=="function"?P:rl(P),x):o},x.touchable=function(P){return arguments.length?(s=typeof P=="function"?P:rl(!!P),x):s},x.on=function(){var P=u.on.apply(u,arguments);return P===u?x:P},x.clickDistance=function(P){return arguments.length?(p=(P=+P)*P,x):Math.sqrt(p)},x}function $c(e,r,o){e.prototype=r.prototype=o,o.constructor=e}function Bm(e,r){var o=Object.create(e.prototype);for(var s in r)o[s]=r[s];return o}function Ri(){}var xi=.7,Sl=1/xi,oo="\\s*([+-]?\\d+)\\s*",wi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nS=/^#([0-9a-f]{3,8})$/,rS=new RegExp(`^rgb\\(${oo},${oo},${oo}\\)$`),oS=new RegExp(`^rgb\\(${qt},${qt},${qt}\\)$`),iS=new RegExp(`^rgba\\(${oo},${oo},${oo},${wi}\\)$`),sS=new RegExp(`^rgba\\(${qt},${qt},${qt},${wi}\\)$`),lS=new RegExp(`^hsl\\(${wi},${qt},${qt}\\)$`),aS=new RegExp(`^hsla\\(${wi},${qt},${qt},${wi}\\)$`),Wh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$c(Ri,yr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Yh,formatHex:Yh,formatHex8:uS,formatHsl:cS,formatRgb:Xh,toString:Xh});function Yh(){return this.rgb().formatHex()}function uS(){return this.rgb().formatHex8()}function cS(){return Um(this).formatHsl()}function Xh(){return this.rgb().formatRgb()}function yr(e){var r,o;return e=(e+"").trim().toLowerCase(),(r=nS.exec(e))?(o=r[1].length,r=parseInt(r[1],16),o===6?Qh(r):o===3?new ft(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):o===8?ol(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):o===4?ol(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=rS.exec(e))?new ft(r[1],r[2],r[3],1):(r=oS.exec(e))?new ft(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=iS.exec(e))?ol(r[1],r[2],r[3],r[4]):(r=sS.exec(e))?ol(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=lS.exec(e))?qh(r[1],r[2]/100,r[3]/100,1):(r=aS.exec(e))?qh(r[1],r[2]/100,r[3]/100,r[4]):Wh.hasOwnProperty(e)?Qh(Wh[e]):e==="transparent"?new ft(NaN,NaN,NaN,0):null}function Qh(e){return new ft(e>>16&255,e>>8&255,e&255,1)}function ol(e,r,o,s){return s<=0&&(e=r=o=NaN),new ft(e,r,o,s)}function dS(e){return e instanceof Ri||(e=yr(e)),e?(e=e.rgb(),new ft(e.r,e.g,e.b,e.opacity)):new ft}function pc(e,r,o,s){return arguments.length===1?dS(e):new ft(e,r,o,s??1)}function ft(e,r,o,s){this.r=+e,this.g=+r,this.b=+o,this.opacity=+s}$c(ft,pc,Bm(Ri,{brighter(e){return e=e==null?Sl:Math.pow(Sl,e),new ft(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?xi:Math.pow(xi,e),new ft(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ft(mr(this.r),mr(this.g),mr(this.b),El(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gh,formatHex:Gh,formatHex8:fS,formatRgb:Kh,toString:Kh}));function Gh(){return`#${pr(this.r)}${pr(this.g)}${pr(this.b)}`}function fS(){return`#${pr(this.r)}${pr(this.g)}${pr(this.b)}${pr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Kh(){const e=El(this.opacity);return`${e===1?"rgb(":"rgba("}${mr(this.r)}, ${mr(this.g)}, ${mr(this.b)}${e===1?")":`, ${e})`}`}function El(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function mr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function pr(e){return e=mr(e),(e<16?"0":"")+e.toString(16)}function qh(e,r,o,s){return s<=0?e=r=o=NaN:o<=0||o>=1?e=r=NaN:r<=0&&(e=NaN),new Ot(e,r,o,s)}function Um(e){if(e instanceof Ot)return new Ot(e.h,e.s,e.l,e.opacity);if(e instanceof Ri||(e=yr(e)),!e)return new Ot;if(e instanceof Ot)return e;e=e.rgb();var r=e.r/255,o=e.g/255,s=e.b/255,l=Math.min(r,o,s),u=Math.max(r,o,s),c=NaN,f=u-l,h=(u+l)/2;return f?(r===u?c=(o-s)/f+(o<s)*6:o===u?c=(s-r)/f+2:c=(r-o)/f+4,f/=h<.5?u+l:2-u-l,c*=60):f=h>0&&h<1?0:c,new Ot(c,f,h,e.opacity)}function hS(e,r,o,s){return arguments.length===1?Um(e):new Ot(e,r,o,s??1)}function Ot(e,r,o,s){this.h=+e,this.s=+r,this.l=+o,this.opacity=+s}$c(Ot,hS,Bm(Ri,{brighter(e){return e=e==null?Sl:Math.pow(Sl,e),new Ot(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?xi:Math.pow(xi,e),new Ot(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,o=this.l,s=o+(o<.5?o:1-o)*r,l=2*o-s;return new ft(Gu(e>=240?e-240:e+120,l,s),Gu(e,l,s),Gu(e<120?e+240:e-120,l,s),this.opacity)},clamp(){return new Ot(Zh(this.h),il(this.s),il(this.l),El(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=El(this.opacity);return`${e===1?"hsl(":"hsla("}${Zh(this.h)}, ${il(this.s)*100}%, ${il(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Zh(e){return e=(e||0)%360,e<0?e+360:e}function il(e){return Math.max(0,Math.min(1,e||0))}function Gu(e,r,o){return(e<60?r+(o-r)*e/60:e<180?o:e<240?r+(o-r)*(240-e)/60:r)*255}const Ac=e=>()=>e;function pS(e,r){return function(o){return e+o*r}}function mS(e,r,o){return e=Math.pow(e,o),r=Math.pow(r,o)-e,o=1/o,function(s){return Math.pow(e+s*r,o)}}function gS(e){return(e=+e)==1?Wm:function(r,o){return o-r?mS(r,o,e):Ac(isNaN(r)?o:r)}}function Wm(e,r){var o=r-e;return o?pS(e,o):Ac(isNaN(e)?r:e)}const Nl=(function e(r){var o=gS(r);function s(l,u){var c=o((l=pc(l)).r,(u=pc(u)).r),f=o(l.g,u.g),h=o(l.b,u.b),y=Wm(l.opacity,u.opacity);return function(v){return l.r=c(v),l.g=f(v),l.b=h(v),l.opacity=y(v),l+""}}return s.gamma=e,s})(1);function yS(e,r){r||(r=[]);var o=e?Math.min(r.length,e.length):0,s=r.slice(),l;return function(u){for(l=0;l<o;++l)s[l]=e[l]*(1-u)+r[l]*u;return s}}function vS(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function xS(e,r){var o=r?r.length:0,s=e?Math.min(o,e.length):0,l=new Array(s),u=new Array(o),c;for(c=0;c<s;++c)l[c]=mi(e[c],r[c]);for(;c<o;++c)u[c]=r[c];return function(f){for(c=0;c<s;++c)u[c]=l[c](f);return u}}function wS(e,r){var o=new Date;return e=+e,r=+r,function(s){return o.setTime(e*(1-s)+r*s),o}}function Kt(e,r){return e=+e,r=+r,function(o){return e*(1-o)+r*o}}function SS(e,r){var o={},s={},l;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(l in r)l in e?o[l]=mi(e[l],r[l]):s[l]=r[l];return function(u){for(l in o)s[l]=o[l](u);return s}}var mc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ku=new RegExp(mc.source,"g");function ES(e){return function(){return e}}function NS(e){return function(r){return e(r)+""}}function Ym(e,r){var o=mc.lastIndex=Ku.lastIndex=0,s,l,u,c=-1,f=[],h=[];for(e=e+"",r=r+"";(s=mc.exec(e))&&(l=Ku.exec(r));)(u=l.index)>o&&(u=r.slice(o,u),f[c]?f[c]+=u:f[++c]=u),(s=s[0])===(l=l[0])?f[c]?f[c]+=l:f[++c]=l:(f[++c]=null,h.push({i:c,x:Kt(s,l)})),o=Ku.lastIndex;return o<r.length&&(u=r.slice(o),f[c]?f[c]+=u:f[++c]=u),f.length<2?h[0]?NS(h[0].x):ES(r):(r=h.length,function(y){for(var v=0,p;v<r;++v)f[(p=h[v]).i]=p.x(y);return f.join("")})}function mi(e,r){var o=typeof r,s;return r==null||o==="boolean"?Ac(r):(o==="number"?Kt:o==="string"?(s=yr(r))?(r=s,Nl):Ym:r instanceof yr?Nl:r instanceof Date?wS:vS(r)?yS:Array.isArray(r)?xS:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?SS:Kt)(e,r)}var Jh=180/Math.PI,gc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Xm(e,r,o,s,l,u){var c,f,h;return(c=Math.sqrt(e*e+r*r))&&(e/=c,r/=c),(h=e*o+r*s)&&(o-=e*h,s-=r*h),(f=Math.sqrt(o*o+s*s))&&(o/=f,s/=f,h/=f),e*s<r*o&&(e=-e,r=-r,h=-h,c=-c),{translateX:l,translateY:u,rotate:Math.atan2(r,e)*Jh,skewX:Math.atan(h)*Jh,scaleX:c,scaleY:f}}var sl;function kS(e){const r=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return r.isIdentity?gc:Xm(r.a,r.b,r.c,r.d,r.e,r.f)}function CS(e){return e==null||(sl||(sl=document.createElementNS("http://www.w3.org/2000/svg","g")),sl.setAttribute("transform",e),!(e=sl.transform.baseVal.consolidate()))?gc:(e=e.matrix,Xm(e.a,e.b,e.c,e.d,e.e,e.f))}function Qm(e,r,o,s){function l(y){return y.length?y.pop()+" ":""}function u(y,v,p,x,S,E){if(y!==p||v!==x){var b=S.push("translate(",null,r,null,o);E.push({i:b-4,x:Kt(y,p)},{i:b-2,x:Kt(v,x)})}else(p||x)&&S.push("translate("+p+r+x+o)}function c(y,v,p,x){y!==v?(y-v>180?v+=360:v-y>180&&(y+=360),x.push({i:p.push(l(p)+"rotate(",null,s)-2,x:Kt(y,v)})):v&&p.push(l(p)+"rotate("+v+s)}function f(y,v,p,x){y!==v?x.push({i:p.push(l(p)+"skewX(",null,s)-2,x:Kt(y,v)}):v&&p.push(l(p)+"skewX("+v+s)}function h(y,v,p,x,S,E){if(y!==p||v!==x){var b=S.push(l(S)+"scale(",null,",",null,")");E.push({i:b-4,x:Kt(y,p)},{i:b-2,x:Kt(v,x)})}else(p!==1||x!==1)&&S.push(l(S)+"scale("+p+","+x+")")}return function(y,v){var p=[],x=[];return y=e(y),v=e(v),u(y.translateX,y.translateY,v.translateX,v.translateY,p,x),c(y.rotate,v.rotate,p,x),f(y.skewX,v.skewX,p,x),h(y.scaleX,y.scaleY,v.scaleX,v.scaleY,p,x),y=v=null,function(S){for(var E=-1,b=x.length,C;++E<b;)p[(C=x[E]).i]=C.x(S);return p.join("")}}}var _S=Qm(kS,"px, ","px)","deg)"),bS=Qm(CS,", ",")",")"),jS=1e-12;function ep(e){return((e=Math.exp(e))+1/e)/2}function PS(e){return((e=Math.exp(e))-1/e)/2}function MS(e){return((e=Math.exp(2*e))-1)/(e+1)}const ml=(function e(r,o,s){function l(u,c){var f=u[0],h=u[1],y=u[2],v=c[0],p=c[1],x=c[2],S=v-f,E=p-h,b=S*S+E*E,C,_;if(b<jS)_=Math.log(x/y)/r,C=function(T){return[f+T*S,h+T*E,y*Math.exp(r*T*_)]};else{var M=Math.sqrt(b),w=(x*x-y*y+s*b)/(2*y*o*M),P=(x*x-y*y-s*b)/(2*x*o*M),F=Math.log(Math.sqrt(w*w+1)-w),D=Math.log(Math.sqrt(P*P+1)-P);_=(D-F)/r,C=function(T){var Y=T*_,X=ep(F),re=y/(o*M)*(X*MS(r*Y+F)-PS(F));return[f+re*S,h+re*E,y*X/ep(r*Y+F)]}}return C.duration=_*1e3*r/Math.SQRT2,C}return l.rho=function(u){var c=Math.max(.001,+u),f=c*c,h=f*f;return e(c,f,h)},l})(Math.SQRT2,2,4);var lo=0,fi=0,ui=0,Gm=1e3,kl,hi,Cl=0,vr=0,Al=0,Si=typeof performance=="object"&&performance.now?performance:Date,Km=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Dc(){return vr||(Km(IS),vr=Si.now()+Al)}function IS(){vr=0}function _l(){this._call=this._time=this._next=null}_l.prototype=qm.prototype={constructor:_l,restart:function(e,r,o){if(typeof e!="function")throw new TypeError("callback is not a function");o=(o==null?Dc():+o)+(r==null?0:+r),!this._next&&hi!==this&&(hi?hi._next=this:kl=this,hi=this),this._call=e,this._time=o,yc()},stop:function(){this._call&&(this._call=null,this._time=1/0,yc())}};function qm(e,r,o){var s=new _l;return s.restart(e,r,o),s}function RS(){Dc(),++lo;for(var e=kl,r;e;)(r=vr-e._time)>=0&&e._call.call(void 0,r),e=e._next;--lo}function tp(){vr=(Cl=Si.now())+Al,lo=fi=0;try{RS()}finally{lo=0,TS(),vr=0}}function LS(){var e=Si.now(),r=e-Cl;r>Gm&&(Al-=r,Cl=e)}function TS(){for(var e,r=kl,o,s=1/0;r;)r._call?(s>r._time&&(s=r._time),e=r,r=r._next):(o=r._next,r._next=null,r=e?e._next=o:kl=o);hi=e,yc(s)}function yc(e){if(!lo){fi&&(fi=clearTimeout(fi));var r=e-vr;r>24?(e<1/0&&(fi=setTimeout(tp,e-Si.now()-Al)),ui&&(ui=clearInterval(ui))):(ui||(Cl=Si.now(),ui=setInterval(LS,Gm)),lo=1,Km(tp))}}function np(e,r,o){var s=new _l;return r=r==null?0:+r,s.restart(l=>{s.stop(),e(l+r)},r,o),s}var zS=zl("start","end","cancel","interrupt"),$S=[],Zm=0,rp=1,vc=2,gl=3,op=4,xc=5,yl=6;function Dl(e,r,o,s,l,u){var c=e.__transition;if(!c)e.__transition={};else if(o in c)return;AS(e,o,{name:r,index:s,group:l,on:zS,tween:$S,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:Zm})}function Oc(e,r){var o=Bt(e,r);if(o.state>Zm)throw new Error("too late; already scheduled");return o}function en(e,r){var o=Bt(e,r);if(o.state>gl)throw new Error("too late; already running");return o}function Bt(e,r){var o=e.__transition;if(!o||!(o=o[r]))throw new Error("transition not found");return o}function AS(e,r,o){var s=e.__transition,l;s[r]=o,o.timer=qm(u,0,o.time);function u(y){o.state=rp,o.timer.restart(c,o.delay,o.time),o.delay<=y&&c(y-o.delay)}function c(y){var v,p,x,S;if(o.state!==rp)return h();for(v in s)if(S=s[v],S.name===o.name){if(S.state===gl)return np(c);S.state===op?(S.state=yl,S.timer.stop(),S.on.call("interrupt",e,e.__data__,S.index,S.group),delete s[v]):+v<r&&(S.state=yl,S.timer.stop(),S.on.call("cancel",e,e.__data__,S.index,S.group),delete s[v])}if(np(function(){o.state===gl&&(o.state=op,o.timer.restart(f,o.delay,o.time),f(y))}),o.state=vc,o.on.call("start",e,e.__data__,o.index,o.group),o.state===vc){for(o.state=gl,l=new Array(x=o.tween.length),v=0,p=-1;v<x;++v)(S=o.tween[v].value.call(e,e.__data__,o.index,o.group))&&(l[++p]=S);l.length=p+1}}function f(y){for(var v=y<o.duration?o.ease.call(null,y/o.duration):(o.timer.restart(h),o.state=xc,1),p=-1,x=l.length;++p<x;)l[p].call(e,v);o.state===xc&&(o.on.call("end",e,e.__data__,o.index,o.group),h())}function h(){o.state=yl,o.timer.stop(),delete s[r];for(var y in s)return;delete e.__transition}}function vl(e,r){var o=e.__transition,s,l,u=!0,c;if(o){r=r==null?null:r+"";for(c in o){if((s=o[c]).name!==r){u=!1;continue}l=s.state>vc&&s.state<xc,s.state=yl,s.timer.stop(),s.on.call(l?"interrupt":"cancel",e,e.__data__,s.index,s.group),delete o[c]}u&&delete e.__transition}}function DS(e){return this.each(function(){vl(this,e)})}function OS(e,r){var o,s;return function(){var l=en(this,e),u=l.tween;if(u!==o){s=o=u;for(var c=0,f=s.length;c<f;++c)if(s[c].name===r){s=s.slice(),s.splice(c,1);break}}l.tween=s}}function FS(e,r,o){var s,l;if(typeof o!="function")throw new Error;return function(){var u=en(this,e),c=u.tween;if(c!==s){l=(s=c).slice();for(var f={name:r,value:o},h=0,y=l.length;h<y;++h)if(l[h].name===r){l[h]=f;break}h===y&&l.push(f)}u.tween=l}}function HS(e,r){var o=this._id;if(e+="",arguments.length<2){for(var s=Bt(this.node(),o).tween,l=0,u=s.length,c;l<u;++l)if((c=s[l]).name===e)return c.value;return null}return this.each((r==null?OS:FS)(o,e,r))}function Fc(e,r,o){var s=e._id;return e.each(function(){var l=en(this,s);(l.value||(l.value={}))[r]=o.apply(this,arguments)}),function(l){return Bt(l,s).value[r]}}function Jm(e,r){var o;return(typeof r=="number"?Kt:r instanceof yr?Nl:(o=yr(r))?(r=o,Nl):Ym)(e,r)}function VS(e){return function(){this.removeAttribute(e)}}function BS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function US(e,r,o){var s,l=o+"",u;return function(){var c=this.getAttribute(e);return c===l?null:c===s?u:u=r(s=c,o)}}function WS(e,r,o){var s,l=o+"",u;return function(){var c=this.getAttributeNS(e.space,e.local);return c===l?null:c===s?u:u=r(s=c,o)}}function YS(e,r,o){var s,l,u;return function(){var c,f=o(this),h;return f==null?void this.removeAttribute(e):(c=this.getAttribute(e),h=f+"",c===h?null:c===s&&h===l?u:(l=h,u=r(s=c,f)))}}function XS(e,r,o){var s,l,u;return function(){var c,f=o(this),h;return f==null?void this.removeAttributeNS(e.space,e.local):(c=this.getAttributeNS(e.space,e.local),h=f+"",c===h?null:c===s&&h===l?u:(l=h,u=r(s=c,f)))}}function QS(e,r){var o=$l(e),s=o==="transform"?bS:Jm;return this.attrTween(e,typeof r=="function"?(o.local?XS:YS)(o,s,Fc(this,"attr."+e,r)):r==null?(o.local?BS:VS)(o):(o.local?WS:US)(o,s,r))}function GS(e,r){return function(o){this.setAttribute(e,r.call(this,o))}}function KS(e,r){return function(o){this.setAttributeNS(e.space,e.local,r.call(this,o))}}function qS(e,r){var o,s;function l(){var u=r.apply(this,arguments);return u!==s&&(o=(s=u)&&KS(e,u)),o}return l._value=r,l}function ZS(e,r){var o,s;function l(){var u=r.apply(this,arguments);return u!==s&&(o=(s=u)&&GS(e,u)),o}return l._value=r,l}function JS(e,r){var o="attr."+e;if(arguments.length<2)return(o=this.tween(o))&&o._value;if(r==null)return this.tween(o,null);if(typeof r!="function")throw new Error;var s=$l(e);return this.tween(o,(s.local?qS:ZS)(s,r))}function e2(e,r){return function(){Oc(this,e).delay=+r.apply(this,arguments)}}function t2(e,r){return r=+r,function(){Oc(this,e).delay=r}}function n2(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?e2:t2)(r,e)):Bt(this.node(),r).delay}function r2(e,r){return function(){en(this,e).duration=+r.apply(this,arguments)}}function o2(e,r){return r=+r,function(){en(this,e).duration=r}}function i2(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?r2:o2)(r,e)):Bt(this.node(),r).duration}function s2(e,r){if(typeof r!="function")throw new Error;return function(){en(this,e).ease=r}}function l2(e){var r=this._id;return arguments.length?this.each(s2(r,e)):Bt(this.node(),r).ease}function a2(e,r){return function(){var o=r.apply(this,arguments);if(typeof o!="function")throw new Error;en(this,e).ease=o}}function u2(e){if(typeof e!="function")throw new Error;return this.each(a2(this._id,e))}function c2(e){typeof e!="function"&&(e=Mm(e));for(var r=this._groups,o=r.length,s=new Array(o),l=0;l<o;++l)for(var u=r[l],c=u.length,f=s[l]=[],h,y=0;y<c;++y)(h=u[y])&&e.call(h,h.__data__,y,u)&&f.push(h);return new vn(s,this._parents,this._name,this._id)}function d2(e){if(e._id!==this._id)throw new Error;for(var r=this._groups,o=e._groups,s=r.length,l=o.length,u=Math.min(s,l),c=new Array(s),f=0;f<u;++f)for(var h=r[f],y=o[f],v=h.length,p=c[f]=new Array(v),x,S=0;S<v;++S)(x=h[S]||y[S])&&(p[S]=x);for(;f<s;++f)c[f]=r[f];return new vn(c,this._parents,this._name,this._id)}function f2(e){return(e+"").trim().split(/^|\s+/).every(function(r){var o=r.indexOf(".");return o>=0&&(r=r.slice(0,o)),!r||r==="start"})}function h2(e,r,o){var s,l,u=f2(r)?Oc:en;return function(){var c=u(this,e),f=c.on;f!==s&&(l=(s=f).copy()).on(r,o),c.on=l}}function p2(e,r){var o=this._id;return arguments.length<2?Bt(this.node(),o).on.on(e):this.each(h2(o,e,r))}function m2(e){return function(){var r=this.parentNode;for(var o in this.__transition)if(+o!==e)return;r&&r.removeChild(this)}}function g2(){return this.on("end.remove",m2(this._id))}function y2(e){var r=this._name,o=this._id;typeof e!="function"&&(e=Tc(e));for(var s=this._groups,l=s.length,u=new Array(l),c=0;c<l;++c)for(var f=s[c],h=f.length,y=u[c]=new Array(h),v,p,x=0;x<h;++x)(v=f[x])&&(p=e.call(v,v.__data__,x,f))&&("__data__"in v&&(p.__data__=v.__data__),y[x]=p,Dl(y[x],r,o,x,y,Bt(v,o)));return new vn(u,this._parents,r,o)}function v2(e){var r=this._name,o=this._id;typeof e!="function"&&(e=Pm(e));for(var s=this._groups,l=s.length,u=[],c=[],f=0;f<l;++f)for(var h=s[f],y=h.length,v,p=0;p<y;++p)if(v=h[p]){for(var x=e.call(v,v.__data__,p,h),S,E=Bt(v,o),b=0,C=x.length;b<C;++b)(S=x[b])&&Dl(S,r,o,b,x,E);u.push(x),c.push(v)}return new vn(u,c,r,o)}var x2=Ii.prototype.constructor;function w2(){return new x2(this._groups,this._parents)}function S2(e,r){var o,s,l;return function(){var u=so(this,e),c=(this.style.removeProperty(e),so(this,e));return u===c?null:u===o&&c===s?l:l=r(o=u,s=c)}}function e0(e){return function(){this.style.removeProperty(e)}}function E2(e,r,o){var s,l=o+"",u;return function(){var c=so(this,e);return c===l?null:c===s?u:u=r(s=c,o)}}function N2(e,r,o){var s,l,u;return function(){var c=so(this,e),f=o(this),h=f+"";return f==null&&(h=f=(this.style.removeProperty(e),so(this,e))),c===h?null:c===s&&h===l?u:(l=h,u=r(s=c,f))}}function k2(e,r){var o,s,l,u="style."+r,c="end."+u,f;return function(){var h=en(this,e),y=h.on,v=h.value[u]==null?f||(f=e0(r)):void 0;(y!==o||l!==v)&&(s=(o=y).copy()).on(c,l=v),h.on=s}}function C2(e,r,o){var s=(e+="")=="transform"?_S:Jm;return r==null?this.styleTween(e,S2(e,s)).on("end.style."+e,e0(e)):typeof r=="function"?this.styleTween(e,N2(e,s,Fc(this,"style."+e,r))).each(k2(this._id,e)):this.styleTween(e,E2(e,s,r),o).on("end.style."+e,null)}function _2(e,r,o){return function(s){this.style.setProperty(e,r.call(this,s),o)}}function b2(e,r,o){var s,l;function u(){var c=r.apply(this,arguments);return c!==l&&(s=(l=c)&&_2(e,c,o)),s}return u._value=r,u}function j2(e,r,o){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(r==null)return this.tween(s,null);if(typeof r!="function")throw new Error;return this.tween(s,b2(e,r,o??""))}function P2(e){return function(){this.textContent=e}}function M2(e){return function(){var r=e(this);this.textContent=r??""}}function I2(e){return this.tween("text",typeof e=="function"?M2(Fc(this,"text",e)):P2(e==null?"":e+""))}function R2(e){return function(r){this.textContent=e.call(this,r)}}function L2(e){var r,o;function s(){var l=e.apply(this,arguments);return l!==o&&(r=(o=l)&&R2(l)),r}return s._value=e,s}function T2(e){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,L2(e))}function z2(){for(var e=this._name,r=this._id,o=t0(),s=this._groups,l=s.length,u=0;u<l;++u)for(var c=s[u],f=c.length,h,y=0;y<f;++y)if(h=c[y]){var v=Bt(h,r);Dl(h,e,o,y,c,{time:v.time+v.delay+v.duration,delay:0,duration:v.duration,ease:v.ease})}return new vn(s,this._parents,e,o)}function $2(){var e,r,o=this,s=o._id,l=o.size();return new Promise(function(u,c){var f={value:c},h={value:function(){--l===0&&u()}};o.each(function(){var y=en(this,s),v=y.on;v!==e&&(r=(e=v).copy(),r._.cancel.push(f),r._.interrupt.push(f),r._.end.push(h)),y.on=r}),l===0&&u()})}var A2=0;function vn(e,r,o,s){this._groups=e,this._parents=r,this._name=o,this._id=s}function t0(){return++A2}var pn=Ii.prototype;vn.prototype={constructor:vn,select:y2,selectAll:v2,selectChild:pn.selectChild,selectChildren:pn.selectChildren,filter:c2,merge:d2,selection:w2,transition:z2,call:pn.call,nodes:pn.nodes,node:pn.node,size:pn.size,empty:pn.empty,each:pn.each,on:p2,attr:QS,attrTween:JS,style:C2,styleTween:j2,text:I2,textTween:T2,remove:g2,tween:HS,delay:n2,duration:i2,ease:l2,easeVarying:u2,end:$2,[Symbol.iterator]:pn[Symbol.iterator]};function D2(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var O2={time:null,delay:0,duration:250,ease:D2};function F2(e,r){for(var o;!(o=e.__transition)||!(o=o[r]);)if(!(e=e.parentNode))throw new Error(`transition ${r} not found`);return o}function H2(e){var r,o;e instanceof vn?(r=e._id,e=e._name):(r=t0(),(o=O2).time=Dc(),e=e==null?null:e+"");for(var s=this._groups,l=s.length,u=0;u<l;++u)for(var c=s[u],f=c.length,h,y=0;y<f;++y)(h=c[y])&&Dl(h,e,r,y,c,o||F2(h,r));return new vn(s,this._parents,e,r)}Ii.prototype.interrupt=DS;Ii.prototype.transition=H2;const ll=e=>()=>e;function V2(e,{sourceEvent:r,target:o,transform:s,dispatch:l}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:l}})}function mn(e,r,o){this.k=e,this.x=r,this.y=o}mn.prototype={constructor:mn,scale:function(e){return e===1?this:new mn(this.k*e,this.x,this.y)},translate:function(e,r){return e===0&r===0?this:new mn(this.k,this.x+this.k*e,this.y+this.k*r)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ol=new mn(1,0,0);n0.prototype=mn.prototype;function n0(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Ol;return e.__zoom}function qu(e){e.stopImmediatePropagation()}function ci(e){e.preventDefault(),e.stopImmediatePropagation()}function B2(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function U2(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function ip(){return this.__zoom||Ol}function W2(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Y2(){return navigator.maxTouchPoints||"ontouchstart"in this}function X2(e,r,o){var s=e.invertX(r[0][0])-o[0][0],l=e.invertX(r[1][0])-o[1][0],u=e.invertY(r[0][1])-o[0][1],c=e.invertY(r[1][1])-o[1][1];return e.translate(l>s?(s+l)/2:Math.min(0,s)||Math.max(0,l),c>u?(u+c)/2:Math.min(0,u)||Math.max(0,c))}function r0(){var e=B2,r=U2,o=X2,s=W2,l=Y2,u=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],f=250,h=ml,y=zl("start","zoom","end"),v,p,x,S=500,E=150,b=0,C=10;function _(R){R.property("__zoom",ip).on("wheel.zoom",Y,{passive:!1}).on("mousedown.zoom",X).on("dblclick.zoom",re).filter(l).on("touchstart.zoom",G).on("touchmove.zoom",Q).on("touchend.zoom touchcancel.zoom",ne).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(R,V,$,H){var I=R.selection?R.selection():R;I.property("__zoom",ip),R!==I?F(R,V,$,H):I.interrupt().each(function(){D(this,arguments).event(H).start().zoom(null,typeof V=="function"?V.apply(this,arguments):V).end()})},_.scaleBy=function(R,V,$,H){_.scaleTo(R,function(){var I=this.__zoom.k,z=typeof V=="function"?V.apply(this,arguments):V;return I*z},$,H)},_.scaleTo=function(R,V,$,H){_.transform(R,function(){var I=r.apply(this,arguments),z=this.__zoom,W=$==null?P(I):typeof $=="function"?$.apply(this,arguments):$,j=z.invert(W),A=typeof V=="function"?V.apply(this,arguments):V;return o(w(M(z,A),W,j),I,c)},$,H)},_.translateBy=function(R,V,$,H){_.transform(R,function(){return o(this.__zoom.translate(typeof V=="function"?V.apply(this,arguments):V,typeof $=="function"?$.apply(this,arguments):$),r.apply(this,arguments),c)},null,H)},_.translateTo=function(R,V,$,H,I){_.transform(R,function(){var z=r.apply(this,arguments),W=this.__zoom,j=H==null?P(z):typeof H=="function"?H.apply(this,arguments):H;return o(Ol.translate(j[0],j[1]).scale(W.k).translate(typeof V=="function"?-V.apply(this,arguments):-V,typeof $=="function"?-$.apply(this,arguments):-$),z,c)},H,I)};function M(R,V){return V=Math.max(u[0],Math.min(u[1],V)),V===R.k?R:new mn(V,R.x,R.y)}function w(R,V,$){var H=V[0]-$[0]*R.k,I=V[1]-$[1]*R.k;return H===R.x&&I===R.y?R:new mn(R.k,H,I)}function P(R){return[(+R[0][0]+ +R[1][0])/2,(+R[0][1]+ +R[1][1])/2]}function F(R,V,$,H){R.on("start.zoom",function(){D(this,arguments).event(H).start()}).on("interrupt.zoom end.zoom",function(){D(this,arguments).event(H).end()}).tween("zoom",function(){var I=this,z=arguments,W=D(I,z).event(H),j=r.apply(I,z),A=$==null?P(j):typeof $=="function"?$.apply(I,z):$,U=Math.max(j[1][0]-j[0][0],j[1][1]-j[0][1]),Z=I.__zoom,ee=typeof V=="function"?V.apply(I,z):V,oe=h(Z.invert(A).concat(U/Z.k),ee.invert(A).concat(U/ee.k));return function(le){if(le===1)le=ee;else{var te=oe(le),ce=U/te[2];le=new mn(ce,A[0]-te[0]*ce,A[1]-te[1]*ce)}W.zoom(null,le)}})}function D(R,V,$){return!$&&R.__zooming||new T(R,V)}function T(R,V){this.that=R,this.args=V,this.active=0,this.sourceEvent=null,this.extent=r.apply(R,V),this.taps=0}T.prototype={event:function(R){return R&&(this.sourceEvent=R),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(R,V){return this.mouse&&R!=="mouse"&&(this.mouse[1]=V.invert(this.mouse[0])),this.touch0&&R!=="touch"&&(this.touch0[1]=V.invert(this.touch0[0])),this.touch1&&R!=="touch"&&(this.touch1[1]=V.invert(this.touch1[0])),this.that.__zoom=V,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(R){var V=wt(this.that).datum();y.call(R,this.that,new V2(R,{sourceEvent:this.sourceEvent,target:_,transform:this.that.__zoom,dispatch:y}),V)}};function Y(R,...V){if(!e.apply(this,arguments))return;var $=D(this,V).event(R),H=this.__zoom,I=Math.max(u[0],Math.min(u[1],H.k*Math.pow(2,s.apply(this,arguments)))),z=Dt(R);if($.wheel)($.mouse[0][0]!==z[0]||$.mouse[0][1]!==z[1])&&($.mouse[1]=H.invert($.mouse[0]=z)),clearTimeout($.wheel);else{if(H.k===I)return;$.mouse=[z,H.invert(z)],vl(this),$.start()}ci(R),$.wheel=setTimeout(W,E),$.zoom("mouse",o(w(M(H,I),$.mouse[0],$.mouse[1]),$.extent,c));function W(){$.wheel=null,$.end()}}function X(R,...V){if(x||!e.apply(this,arguments))return;var $=R.currentTarget,H=D(this,V,!0).event(R),I=wt(R.view).on("mousemove.zoom",A,!0).on("mouseup.zoom",U,!0),z=Dt(R,$),W=R.clientX,j=R.clientY;Fm(R.view),qu(R),H.mouse=[z,this.__zoom.invert(z)],vl(this),H.start();function A(Z){if(ci(Z),!H.moved){var ee=Z.clientX-W,oe=Z.clientY-j;H.moved=ee*ee+oe*oe>b}H.event(Z).zoom("mouse",o(w(H.that.__zoom,H.mouse[0]=Dt(Z,$),H.mouse[1]),H.extent,c))}function U(Z){I.on("mousemove.zoom mouseup.zoom",null),Hm(Z.view,H.moved),ci(Z),H.event(Z).end()}}function re(R,...V){if(e.apply(this,arguments)){var $=this.__zoom,H=Dt(R.changedTouches?R.changedTouches[0]:R,this),I=$.invert(H),z=$.k*(R.shiftKey?.5:2),W=o(w(M($,z),H,I),r.apply(this,V),c);ci(R),f>0?wt(this).transition().duration(f).call(F,W,H,R):wt(this).call(_.transform,W,H,R)}}function G(R,...V){if(e.apply(this,arguments)){var $=R.touches,H=$.length,I=D(this,V,R.changedTouches.length===H).event(R),z,W,j,A;for(qu(R),W=0;W<H;++W)j=$[W],A=Dt(j,this),A=[A,this.__zoom.invert(A),j.identifier],I.touch0?!I.touch1&&I.touch0[2]!==A[2]&&(I.touch1=A,I.taps=0):(I.touch0=A,z=!0,I.taps=1+!!v);v&&(v=clearTimeout(v)),z&&(I.taps<2&&(p=A[0],v=setTimeout(function(){v=null},S)),vl(this),I.start())}}function Q(R,...V){if(this.__zooming){var $=D(this,V).event(R),H=R.changedTouches,I=H.length,z,W,j,A;for(ci(R),z=0;z<I;++z)W=H[z],j=Dt(W,this),$.touch0&&$.touch0[2]===W.identifier?$.touch0[0]=j:$.touch1&&$.touch1[2]===W.identifier&&($.touch1[0]=j);if(W=$.that.__zoom,$.touch1){var U=$.touch0[0],Z=$.touch0[1],ee=$.touch1[0],oe=$.touch1[1],le=(le=ee[0]-U[0])*le+(le=ee[1]-U[1])*le,te=(te=oe[0]-Z[0])*te+(te=oe[1]-Z[1])*te;W=M(W,Math.sqrt(le/te)),j=[(U[0]+ee[0])/2,(U[1]+ee[1])/2],A=[(Z[0]+oe[0])/2,(Z[1]+oe[1])/2]}else if($.touch0)j=$.touch0[0],A=$.touch0[1];else return;$.zoom("touch",o(w(W,j,A),$.extent,c))}}function ne(R,...V){if(this.__zooming){var $=D(this,V).event(R),H=R.changedTouches,I=H.length,z,W;for(qu(R),x&&clearTimeout(x),x=setTimeout(function(){x=null},S),z=0;z<I;++z)W=H[z],$.touch0&&$.touch0[2]===W.identifier?delete $.touch0:$.touch1&&$.touch1[2]===W.identifier&&delete $.touch1;if($.touch1&&!$.touch0&&($.touch0=$.touch1,delete $.touch1),$.touch0)$.touch0[1]=this.__zoom.invert($.touch0[0]);else if($.end(),$.taps===2&&(W=Dt(W,this),Math.hypot(p[0]-W[0],p[1]-W[1])<C)){var j=wt(this).on("dblclick.zoom");j&&j.apply(this,arguments)}}}return _.wheelDelta=function(R){return arguments.length?(s=typeof R=="function"?R:ll(+R),_):s},_.filter=function(R){return arguments.length?(e=typeof R=="function"?R:ll(!!R),_):e},_.touchable=function(R){return arguments.length?(l=typeof R=="function"?R:ll(!!R),_):l},_.extent=function(R){return arguments.length?(r=typeof R=="function"?R:ll([[+R[0][0],+R[0][1]],[+R[1][0],+R[1][1]]]),_):r},_.scaleExtent=function(R){return arguments.length?(u[0]=+R[0],u[1]=+R[1],_):[u[0],u[1]]},_.translateExtent=function(R){return arguments.length?(c[0][0]=+R[0][0],c[1][0]=+R[1][0],c[0][1]=+R[0][1],c[1][1]=+R[1][1],_):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},_.constrain=function(R){return arguments.length?(o=R,_):o},_.duration=function(R){return arguments.length?(f=+R,_):f},_.interpolate=function(R){return arguments.length?(h=R,_):h},_.on=function(){var R=y.on.apply(y,arguments);return R===y?_:R},_.clickDistance=function(R){return arguments.length?(b=(R=+R)*R,_):Math.sqrt(b)},_.tapDistance=function(R){return arguments.length?(C=+R,_):C},_}const Zt={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:r,sourceHandle:o,targetHandle:s})=>`Couldn't create edge for ${e} handle id: "${e==="source"?o:s}", edge id: ${r}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Ei=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],o0=["Enter"," ","Escape"],i0={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:r,y:o})=>`Moved selected node ${e}. New position, x: ${r}, y: ${o}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var ao;(function(e){e.Strict="strict",e.Loose="loose"})(ao||(ao={}));var gr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(gr||(gr={}));var Ni;(function(e){e.Partial="partial",e.Full="full"})(Ni||(Ni={}));const s0={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Un;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Un||(Un={}));var bl;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(bl||(bl={}));var xe;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(xe||(xe={}));const sp={[xe.Left]:xe.Right,[xe.Right]:xe.Left,[xe.Top]:xe.Bottom,[xe.Bottom]:xe.Top};function l0(e){return e===null?null:e?"valid":"invalid"}const a0=e=>"id"in e&&"source"in e&&"target"in e,Q2=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Hc=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Li=(e,r=[0,0])=>{const{width:o,height:s}=xn(e),l=e.origin??r,u=o*l[0],c=s*l[1];return{x:e.position.x-u,y:e.position.y-c}},G2=(e,r={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const o=e.reduce((s,l)=>{const u=typeof l=="string";let c=!r.nodeLookup&&!u?l:void 0;r.nodeLookup&&(c=u?r.nodeLookup.get(l):Hc(l)?l:r.nodeLookup.get(l.id));const f=c?jl(c,r.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Fl(s,f)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Hl(o)},Ti=(e,r={})=>{let o={x:1/0,y:1/0,x2:-1/0,y2:-1/0},s=!1;return e.forEach(l=>{(r.filter===void 0||r.filter(l))&&(o=Fl(o,jl(l)),s=!0)}),s?Hl(o):{x:0,y:0,width:0,height:0}},Vc=(e,r,[o,s,l]=[0,0,1],u=!1,c=!1)=>{const f={...$i(r,[o,s,l]),width:r.width/l,height:r.height/l},h=[];for(const y of e.values()){const{measured:v,selectable:p=!0,hidden:x=!1}=y;if(c&&!p||x)continue;const S=v.width??y.width??y.initialWidth??null,E=v.height??y.height??y.initialHeight??null,b=ki(f,co(y)),C=(S??0)*(E??0),_=u&&b>0;(!y.internals.handleBounds||_||b>=C||y.dragging)&&h.push(y)}return h},K2=(e,r)=>{const o=new Set;return e.forEach(s=>{o.add(s.id)}),r.filter(s=>o.has(s.source)||o.has(s.target))};function q2(e,r){const o=new Map,s=r!=null&&r.nodes?new Set(r.nodes.map(l=>l.id)):null;return e.forEach(l=>{l.measured.width&&l.measured.height&&((r==null?void 0:r.includeHiddenNodes)||!l.hidden)&&(!s||s.has(l.id))&&o.set(l.id,l)}),o}async function Z2({nodes:e,width:r,height:o,panZoom:s,minZoom:l,maxZoom:u},c){if(e.size===0)return Promise.resolve(!0);const f=q2(e,c),h=Ti(f),y=Bc(h,r,o,(c==null?void 0:c.minZoom)??l,(c==null?void 0:c.maxZoom)??u,(c==null?void 0:c.padding)??.1);return await s.setViewport(y,{duration:c==null?void 0:c.duration,ease:c==null?void 0:c.ease,interpolate:c==null?void 0:c.interpolate}),Promise.resolve(!0)}function u0({nodeId:e,nextPosition:r,nodeLookup:o,nodeOrigin:s=[0,0],nodeExtent:l,onError:u}){const c=o.get(e),f=c.parentId?o.get(c.parentId):void 0,{x:h,y}=f?f.internals.positionAbsolute:{x:0,y:0},v=c.origin??s;let p=c.extent||l;if(c.extent==="parent"&&!c.expandParent)if(!f)u==null||u("005",Zt.error005());else{const S=f.measured.width,E=f.measured.height;S&&E&&(p=[[h,y],[h+S,y+E]])}else f&&fo(c.extent)&&(p=[[c.extent[0][0]+h,c.extent[0][1]+y],[c.extent[1][0]+h,c.extent[1][1]+y]]);const x=fo(p)?xr(r,p,c.measured):r;return(c.measured.width===void 0||c.measured.height===void 0)&&(u==null||u("015",Zt.error015())),{position:{x:x.x-h+(c.measured.width??0)*v[0],y:x.y-y+(c.measured.height??0)*v[1]},positionAbsolute:x}}async function J2({nodesToRemove:e=[],edgesToRemove:r=[],nodes:o,edges:s,onBeforeDelete:l}){const u=new Set(e.map(x=>x.id)),c=[];for(const x of o){if(x.deletable===!1)continue;const S=u.has(x.id),E=!S&&x.parentId&&c.find(b=>b.id===x.parentId);(S||E)&&c.push(x)}const f=new Set(r.map(x=>x.id)),h=s.filter(x=>x.deletable!==!1),v=K2(c,h);for(const x of h)f.has(x.id)&&!v.find(E=>E.id===x.id)&&v.push(x);if(!l)return{edges:v,nodes:c};const p=await l({nodes:c,edges:v});return typeof p=="boolean"?p?{edges:v,nodes:c}:{edges:[],nodes:[]}:p}const uo=(e,r=0,o=1)=>Math.min(Math.max(e,r),o),xr=(e={x:0,y:0},r,o)=>({x:uo(e.x,r[0][0],r[1][0]-((o==null?void 0:o.width)??0)),y:uo(e.y,r[0][1],r[1][1]-((o==null?void 0:o.height)??0))});function c0(e,r,o){const{width:s,height:l}=xn(o),{x:u,y:c}=o.internals.positionAbsolute;return xr(e,[[u,c],[u+s,c+l]],r)}const lp=(e,r,o)=>e<r?uo(Math.abs(e-r),1,r)/r:e>o?-uo(Math.abs(e-o),1,r)/r:0,d0=(e,r,o=15,s=40)=>{const l=lp(e.x,s,r.width-s)*o,u=lp(e.y,s,r.height-s)*o;return[l,u]},Fl=(e,r)=>({x:Math.min(e.x,r.x),y:Math.min(e.y,r.y),x2:Math.max(e.x2,r.x2),y2:Math.max(e.y2,r.y2)}),wc=({x:e,y:r,width:o,height:s})=>({x:e,y:r,x2:e+o,y2:r+s}),Hl=({x:e,y:r,x2:o,y2:s})=>({x:e,y:r,width:o-e,height:s-r}),co=(e,r=[0,0])=>{var l,u;const{x:o,y:s}=Hc(e)?e.internals.positionAbsolute:Li(e,r);return{x:o,y:s,width:((l=e.measured)==null?void 0:l.width)??e.width??e.initialWidth??0,height:((u=e.measured)==null?void 0:u.height)??e.height??e.initialHeight??0}},jl=(e,r=[0,0])=>{var l,u;const{x:o,y:s}=Hc(e)?e.internals.positionAbsolute:Li(e,r);return{x:o,y:s,x2:o+(((l=e.measured)==null?void 0:l.width)??e.width??e.initialWidth??0),y2:s+(((u=e.measured)==null?void 0:u.height)??e.height??e.initialHeight??0)}},f0=(e,r)=>Hl(Fl(wc(e),wc(r))),ki=(e,r)=>{const o=Math.max(0,Math.min(e.x+e.width,r.x+r.width)-Math.max(e.x,r.x)),s=Math.max(0,Math.min(e.y+e.height,r.y+r.height)-Math.max(e.y,r.y));return Math.ceil(o*s)},ap=e=>Ft(e.width)&&Ft(e.height)&&Ft(e.x)&&Ft(e.y),Ft=e=>!isNaN(e)&&isFinite(e),eE=(e,r)=>{},zi=(e,r=[1,1])=>({x:r[0]*Math.round(e.x/r[0]),y:r[1]*Math.round(e.y/r[1])}),$i=({x:e,y:r},[o,s,l],u=!1,c=[1,1])=>{const f={x:(e-o)/l,y:(r-s)/l};return u?zi(f,c):f},Pl=({x:e,y:r},[o,s,l])=>({x:e*l+o,y:r*l+s});function Zr(e,r){if(typeof e=="number")return Math.floor((r-r/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const o=parseFloat(e);if(!Number.isNaN(o))return Math.floor(o)}if(typeof e=="string"&&e.endsWith("%")){const o=parseFloat(e);if(!Number.isNaN(o))return Math.floor(r*o*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function tE(e,r,o){if(typeof e=="string"||typeof e=="number"){const s=Zr(e,o),l=Zr(e,r);return{top:s,right:l,bottom:s,left:l,x:l*2,y:s*2}}if(typeof e=="object"){const s=Zr(e.top??e.y??0,o),l=Zr(e.bottom??e.y??0,o),u=Zr(e.left??e.x??0,r),c=Zr(e.right??e.x??0,r);return{top:s,right:c,bottom:l,left:u,x:u+c,y:s+l}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function nE(e,r,o,s,l,u){const{x:c,y:f}=Pl(e,[r,o,s]),{x:h,y}=Pl({x:e.x+e.width,y:e.y+e.height},[r,o,s]),v=l-h,p=u-y;return{left:Math.floor(c),top:Math.floor(f),right:Math.floor(v),bottom:Math.floor(p)}}const Bc=(e,r,o,s,l,u)=>{const c=tE(u,r,o),f=(r-c.x)/e.width,h=(o-c.y)/e.height,y=Math.min(f,h),v=uo(y,s,l),p=e.x+e.width/2,x=e.y+e.height/2,S=r/2-p*v,E=o/2-x*v,b=nE(e,S,E,v,r,o),C={left:Math.min(b.left-c.left,0),top:Math.min(b.top-c.top,0),right:Math.min(b.right-c.right,0),bottom:Math.min(b.bottom-c.bottom,0)};return{x:S-C.left+C.right,y:E-C.top+C.bottom,zoom:v}},Ci=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function fo(e){return e!=null&&e!=="parent"}function xn(e){var r,o;return{width:((r=e.measured)==null?void 0:r.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}}function h0(e){var r,o;return(((r=e.measured)==null?void 0:r.width)??e.width??e.initialWidth)!==void 0&&(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight)!==void 0}function p0(e,r={width:0,height:0},o,s,l){const u={...e},c=s.get(o);if(c){const f=c.origin||l;u.x+=c.internals.positionAbsolute.x-(r.width??0)*f[0],u.y+=c.internals.positionAbsolute.y-(r.height??0)*f[1]}return u}function up(e,r){if(e.size!==r.size)return!1;for(const o of e)if(!r.has(o))return!1;return!0}function rE(){let e,r;return{promise:new Promise((s,l)=>{e=s,r=l}),resolve:e,reject:r}}function oE(e){return{...i0,...e||{}}}function gi(e,{snapGrid:r=[0,0],snapToGrid:o=!1,transform:s,containerBounds:l}){const{x:u,y:c}=Ht(e),f=$i({x:u-((l==null?void 0:l.left)??0),y:c-((l==null?void 0:l.top)??0)},s),{x:h,y}=o?zi(f,r):f;return{xSnapped:h,ySnapped:y,...f}}const Uc=e=>({width:e.offsetWidth,height:e.offsetHeight}),m0=e=>{var r;return((r=e==null?void 0:e.getRootNode)==null?void 0:r.call(e))||(window==null?void 0:window.document)},iE=["INPUT","SELECT","TEXTAREA"];function g0(e){var s,l;const r=((l=(s=e.composedPath)==null?void 0:s.call(e))==null?void 0:l[0])||e.target;return(r==null?void 0:r.nodeType)!==1?!1:iE.includes(r.nodeName)||r.hasAttribute("contenteditable")||!!r.closest(".nokey")}const y0=e=>"clientX"in e,Ht=(e,r)=>{var u,c;const o=y0(e),s=o?e.clientX:(u=e.touches)==null?void 0:u[0].clientX,l=o?e.clientY:(c=e.touches)==null?void 0:c[0].clientY;return{x:s-((r==null?void 0:r.left)??0),y:l-((r==null?void 0:r.top)??0)}},cp=(e,r,o,s,l)=>{const u=r.querySelectorAll(`.${e}`);return!u||!u.length?null:Array.from(u).map(c=>{const f=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),type:e,nodeId:l,position:c.getAttribute("data-handlepos"),x:(f.left-o.left)/s,y:(f.top-o.top)/s,...Uc(c)}})};function v0({sourceX:e,sourceY:r,targetX:o,targetY:s,sourceControlX:l,sourceControlY:u,targetControlX:c,targetControlY:f}){const h=e*.125+l*.375+c*.375+o*.125,y=r*.125+u*.375+f*.375+s*.125,v=Math.abs(h-e),p=Math.abs(y-r);return[h,y,v,p]}function al(e,r){return e>=0?.5*e:r*25*Math.sqrt(-e)}function dp({pos:e,x1:r,y1:o,x2:s,y2:l,c:u}){switch(e){case xe.Left:return[r-al(r-s,u),o];case xe.Right:return[r+al(s-r,u),o];case xe.Top:return[r,o-al(o-l,u)];case xe.Bottom:return[r,o+al(l-o,u)]}}function x0({sourceX:e,sourceY:r,sourcePosition:o=xe.Bottom,targetX:s,targetY:l,targetPosition:u=xe.Top,curvature:c=.25}){const[f,h]=dp({pos:o,x1:e,y1:r,x2:s,y2:l,c}),[y,v]=dp({pos:u,x1:s,y1:l,x2:e,y2:r,c}),[p,x,S,E]=v0({sourceX:e,sourceY:r,targetX:s,targetY:l,sourceControlX:f,sourceControlY:h,targetControlX:y,targetControlY:v});return[`M${e},${r} C${f},${h} ${y},${v} ${s},${l}`,p,x,S,E]}function w0({sourceX:e,sourceY:r,targetX:o,targetY:s}){const l=Math.abs(o-e)/2,u=o<e?o+l:o-l,c=Math.abs(s-r)/2,f=s<r?s+c:s-c;return[u,f,l,c]}function sE({sourceNode:e,targetNode:r,selected:o=!1,zIndex:s=0,elevateOnSelect:l=!1,zIndexMode:u="basic"}){if(u==="manual")return s;const c=l&&o?s+1e3:s,f=Math.max(e.parentId||l&&e.selected?e.internals.z:0,r.parentId||l&&r.selected?r.internals.z:0);return c+f}function lE({sourceNode:e,targetNode:r,width:o,height:s,transform:l}){const u=Fl(jl(e),jl(r));u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c={x:-l[0]/l[2],y:-l[1]/l[2],width:o/l[2],height:s/l[2]};return ki(c,Hl(u))>0}const aE=({source:e,sourceHandle:r,target:o,targetHandle:s})=>`xy-edge__${e}${r||""}-${o}${s||""}`,uE=(e,r)=>r.some(o=>o.source===e.source&&o.target===e.target&&(o.sourceHandle===e.sourceHandle||!o.sourceHandle&&!e.sourceHandle)&&(o.targetHandle===e.targetHandle||!o.targetHandle&&!e.targetHandle)),S0=(e,r,o={})=>{if(!e.source||!e.target)return r;const s=o.getEdgeId||aE;let l;return a0(e)?l={...e}:l={...e,id:s(e)},uE(l,r)?r:(l.sourceHandle===null&&delete l.sourceHandle,l.targetHandle===null&&delete l.targetHandle,r.concat(l))};function E0({sourceX:e,sourceY:r,targetX:o,targetY:s}){const[l,u,c,f]=w0({sourceX:e,sourceY:r,targetX:o,targetY:s});return[`M ${e},${r}L ${o},${s}`,l,u,c,f]}const fp={[xe.Left]:{x:-1,y:0},[xe.Right]:{x:1,y:0},[xe.Top]:{x:0,y:-1},[xe.Bottom]:{x:0,y:1}},cE=({source:e,sourcePosition:r=xe.Bottom,target:o})=>r===xe.Left||r===xe.Right?e.x<o.x?{x:1,y:0}:{x:-1,y:0}:e.y<o.y?{x:0,y:1}:{x:0,y:-1},hp=(e,r)=>Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2));function dE({source:e,sourcePosition:r=xe.Bottom,target:o,targetPosition:s=xe.Top,center:l,offset:u,stepPosition:c}){const f=fp[r],h=fp[s],y={x:e.x+f.x*u,y:e.y+f.y*u},v={x:o.x+h.x*u,y:o.y+h.y*u},p=cE({source:y,sourcePosition:r,target:v}),x=p.x!==0?"x":"y",S=p[x];let E=[],b,C;const _={x:0,y:0},M={x:0,y:0},[,,w,P]=w0({sourceX:e.x,sourceY:e.y,targetX:o.x,targetY:o.y});if(f[x]*h[x]===-1){x==="x"?(b=l.x??y.x+(v.x-y.x)*c,C=l.y??(y.y+v.y)/2):(b=l.x??(y.x+v.x)/2,C=l.y??y.y+(v.y-y.y)*c);const D=[{x:b,y:y.y},{x:b,y:v.y}],T=[{x:y.x,y:C},{x:v.x,y:C}];f[x]===S?E=x==="x"?D:T:E=x==="x"?T:D}else{const D=[{x:y.x,y:v.y}],T=[{x:v.x,y:y.y}];if(x==="x"?E=f.x===S?T:D:E=f.y===S?D:T,r===s){const Q=Math.abs(e[x]-o[x]);if(Q<=u){const ne=Math.min(u-1,u-Q);f[x]===S?_[x]=(y[x]>e[x]?-1:1)*ne:M[x]=(v[x]>o[x]?-1:1)*ne}}if(r!==s){const Q=x==="x"?"y":"x",ne=f[x]===h[Q],R=y[Q]>v[Q],V=y[Q]<v[Q];(f[x]===1&&(!ne&&R||ne&&V)||f[x]!==1&&(!ne&&V||ne&&R))&&(E=x==="x"?D:T)}const Y={x:y.x+_.x,y:y.y+_.y},X={x:v.x+M.x,y:v.y+M.y},re=Math.max(Math.abs(Y.x-E[0].x),Math.abs(X.x-E[0].x)),G=Math.max(Math.abs(Y.y-E[0].y),Math.abs(X.y-E[0].y));re>=G?(b=(Y.x+X.x)/2,C=E[0].y):(b=E[0].x,C=(Y.y+X.y)/2)}return[[e,{x:y.x+_.x,y:y.y+_.y},...E,{x:v.x+M.x,y:v.y+M.y},o],b,C,w,P]}function fE(e,r,o,s){const l=Math.min(hp(e,r)/2,hp(r,o)/2,s),{x:u,y:c}=r;if(e.x===u&&u===o.x||e.y===c&&c===o.y)return`L${u} ${c}`;if(e.y===c){const y=e.x<o.x?-1:1,v=e.y<o.y?1:-1;return`L ${u+l*y},${c}Q ${u},${c} ${u},${c+l*v}`}const f=e.x<o.x?1:-1,h=e.y<o.y?-1:1;return`L ${u},${c+l*h}Q ${u},${c} ${u+l*f},${c}`}function Sc({sourceX:e,sourceY:r,sourcePosition:o=xe.Bottom,targetX:s,targetY:l,targetPosition:u=xe.Top,borderRadius:c=5,centerX:f,centerY:h,offset:y=20,stepPosition:v=.5}){const[p,x,S,E,b]=dE({source:{x:e,y:r},sourcePosition:o,target:{x:s,y:l},targetPosition:u,center:{x:f,y:h},offset:y,stepPosition:v});return[p.reduce((_,M,w)=>{let P="";return w>0&&w<p.length-1?P=fE(p[w-1],M,p[w+1],c):P=`${w===0?"M":"L"}${M.x} ${M.y}`,_+=P,_},""),x,S,E,b]}function pp(e){var r;return e&&!!(e.internals.handleBounds||(r=e.handles)!=null&&r.length)&&!!(e.measured.width||e.width||e.initialWidth)}function hE(e){var p;const{sourceNode:r,targetNode:o}=e;if(!pp(r)||!pp(o))return null;const s=r.internals.handleBounds||mp(r.handles),l=o.internals.handleBounds||mp(o.handles),u=gp((s==null?void 0:s.source)??[],e.sourceHandle),c=gp(e.connectionMode===ao.Strict?(l==null?void 0:l.target)??[]:((l==null?void 0:l.target)??[]).concat((l==null?void 0:l.source)??[]),e.targetHandle);if(!u||!c)return(p=e.onError)==null||p.call(e,"008",Zt.error008(u?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const f=(u==null?void 0:u.position)||xe.Bottom,h=(c==null?void 0:c.position)||xe.Top,y=wr(r,u,f),v=wr(o,c,h);return{sourceX:y.x,sourceY:y.y,targetX:v.x,targetY:v.y,sourcePosition:f,targetPosition:h}}function mp(e){if(!e)return null;const r=[],o=[];for(const s of e)s.width=s.width??1,s.height=s.height??1,s.type==="source"?r.push(s):s.type==="target"&&o.push(s);return{source:r,target:o}}function wr(e,r,o=xe.Left,s=!1){const l=((r==null?void 0:r.x)??0)+e.internals.positionAbsolute.x,u=((r==null?void 0:r.y)??0)+e.internals.positionAbsolute.y,{width:c,height:f}=r??xn(e);if(s)return{x:l+c/2,y:u+f/2};switch((r==null?void 0:r.position)??o){case xe.Top:return{x:l+c/2,y:u};case xe.Right:return{x:l+c,y:u+f/2};case xe.Bottom:return{x:l+c/2,y:u+f};case xe.Left:return{x:l,y:u+f/2}}}function gp(e,r){return e&&(r?e.find(o=>o.id===r):e[0])||null}function Ec(e,r){return e?typeof e=="string"?e:`${r?`${r}__`:""}${Object.keys(e).sort().map(s=>`${s}=${e[s]}`).join("&")}`:""}function pE(e,{id:r,defaultColor:o,defaultMarkerStart:s,defaultMarkerEnd:l}){const u=new Set;return e.reduce((c,f)=>([f.markerStart||s,f.markerEnd||l].forEach(h=>{if(h&&typeof h=="object"){const y=Ec(h,r);u.has(y)||(c.push({id:y,color:h.color||o,...h}),u.add(y))}}),c),[]).sort((c,f)=>c.id.localeCompare(f.id))}const N0=1e3,mE=10,Wc={nodeOrigin:[0,0],nodeExtent:Ei,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},gE={...Wc,checkEquality:!0};function Yc(e,r){const o={...e};for(const s in r)r[s]!==void 0&&(o[s]=r[s]);return o}function yE(e,r,o){const s=Yc(Wc,o);for(const l of e.values())if(l.parentId)Qc(l,e,r,s);else{const u=Li(l,s.nodeOrigin),c=fo(l.extent)?l.extent:s.nodeExtent,f=xr(u,c,xn(l));l.internals.positionAbsolute=f}}function vE(e,r){if(!e.handles)return e.measured?r==null?void 0:r.internals.handleBounds:void 0;const o=[],s=[];for(const l of e.handles){const u={id:l.id,width:l.width??1,height:l.height??1,nodeId:e.id,x:l.x,y:l.y,position:l.position,type:l.type};l.type==="source"?o.push(u):l.type==="target"&&s.push(u)}return{source:o,target:s}}function Xc(e){return e==="manual"}function Nc(e,r,o,s={}){var y,v;const l=Yc(gE,s),u={i:0},c=new Map(r),f=l!=null&&l.elevateNodesOnSelect&&!Xc(l.zIndexMode)?N0:0;let h=e.length>0;r.clear(),o.clear();for(const p of e){let x=c.get(p.id);if(l.checkEquality&&p===(x==null?void 0:x.internals.userNode))r.set(p.id,x);else{const S=Li(p,l.nodeOrigin),E=fo(p.extent)?p.extent:l.nodeExtent,b=xr(S,E,xn(p));x={...l.defaults,...p,measured:{width:(y=p.measured)==null?void 0:y.width,height:(v=p.measured)==null?void 0:v.height},internals:{positionAbsolute:b,handleBounds:vE(p,x),z:k0(p,f,l.zIndexMode),userNode:p}},r.set(p.id,x)}(x.measured===void 0||x.measured.width===void 0||x.measured.height===void 0)&&!x.hidden&&(h=!1),p.parentId&&Qc(x,r,o,s,u)}return h}function xE(e,r){if(!e.parentId)return;const o=r.get(e.parentId);o?o.set(e.id,e):r.set(e.parentId,new Map([[e.id,e]]))}function Qc(e,r,o,s,l){const{elevateNodesOnSelect:u,nodeOrigin:c,nodeExtent:f,zIndexMode:h}=Yc(Wc,s),y=e.parentId,v=r.get(y);if(!v){console.warn(`Parent node ${y} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}xE(e,o),l&&!v.parentId&&v.internals.rootParentIndex===void 0&&h==="auto"&&(v.internals.rootParentIndex=++l.i,v.internals.z=v.internals.z+l.i*mE),l&&v.internals.rootParentIndex!==void 0&&(l.i=v.internals.rootParentIndex);const p=u&&!Xc(h)?N0:0,{x,y:S,z:E}=wE(e,v,c,f,p,h),{positionAbsolute:b}=e.internals,C=x!==b.x||S!==b.y;(C||E!==e.internals.z)&&r.set(e.id,{...e,internals:{...e.internals,positionAbsolute:C?{x,y:S}:b,z:E}})}function k0(e,r,o){const s=Ft(e.zIndex)?e.zIndex:0;return Xc(o)?s:s+(e.selected?r:0)}function wE(e,r,o,s,l,u){const{x:c,y:f}=r.internals.positionAbsolute,h=xn(e),y=Li(e,o),v=fo(e.extent)?xr(y,e.extent,h):y;let p=xr({x:c+v.x,y:f+v.y},s,h);e.extent==="parent"&&(p=c0(p,h,r));const x=k0(e,l,u),S=r.internals.z??0;return{x:p.x,y:p.y,z:S>=x?S+1:x}}function Gc(e,r,o,s=[0,0]){var c;const l=[],u=new Map;for(const f of e){const h=r.get(f.parentId);if(!h)continue;const y=((c=u.get(f.parentId))==null?void 0:c.expandedRect)??co(h),v=f0(y,f.rect);u.set(f.parentId,{expandedRect:v,parent:h})}return u.size>0&&u.forEach(({expandedRect:f,parent:h},y)=>{var w;const v=h.internals.positionAbsolute,p=xn(h),x=h.origin??s,S=f.x<v.x?Math.round(Math.abs(v.x-f.x)):0,E=f.y<v.y?Math.round(Math.abs(v.y-f.y)):0,b=Math.max(p.width,Math.round(f.width)),C=Math.max(p.height,Math.round(f.height)),_=(b-p.width)*x[0],M=(C-p.height)*x[1];(S>0||E>0||_||M)&&(l.push({id:y,type:"position",position:{x:h.position.x-S+_,y:h.position.y-E+M}}),(w=o.get(y))==null||w.forEach(P=>{e.some(F=>F.id===P.id)||l.push({id:P.id,type:"position",position:{x:P.position.x+S,y:P.position.y+E}})})),(p.width<f.width||p.height<f.height||S||E)&&l.push({id:y,type:"dimensions",setAttributes:!0,dimensions:{width:b+(S?x[0]*S-_:0),height:C+(E?x[1]*E-M:0)}})}),l}function SE(e,r,o,s,l,u,c){const f=s==null?void 0:s.querySelector(".xyflow__viewport");let h=!1;if(!f)return{changes:[],updatedInternals:h};const y=[],v=window.getComputedStyle(f),{m22:p}=new window.DOMMatrixReadOnly(v.transform),x=[];for(const S of e.values()){const E=r.get(S.id);if(!E)continue;if(E.hidden){r.set(E.id,{...E,internals:{...E.internals,handleBounds:void 0}}),h=!0;continue}const b=Uc(S.nodeElement),C=E.measured.width!==b.width||E.measured.height!==b.height;if(!!(b.width&&b.height&&(C||!E.internals.handleBounds||S.force))){const M=S.nodeElement.getBoundingClientRect(),w=fo(E.extent)?E.extent:u;let{positionAbsolute:P}=E.internals;E.parentId&&E.extent==="parent"?P=c0(P,b,r.get(E.parentId)):w&&(P=xr(P,w,b));const F={...E,measured:b,internals:{...E.internals,positionAbsolute:P,handleBounds:{source:cp("source",S.nodeElement,M,p,E.id),target:cp("target",S.nodeElement,M,p,E.id)}}};r.set(E.id,F),E.parentId&&Qc(F,r,o,{nodeOrigin:l,zIndexMode:c}),h=!0,C&&(y.push({id:E.id,type:"dimensions",dimensions:b}),E.expandParent&&E.parentId&&x.push({id:E.id,parentId:E.parentId,rect:co(F,l)}))}}if(x.length>0){const S=Gc(x,r,o,l);y.push(...S)}return{changes:y,updatedInternals:h}}async function EE({delta:e,panZoom:r,transform:o,translateExtent:s,width:l,height:u}){if(!r||!e.x&&!e.y)return Promise.resolve(!1);const c=await r.setViewportConstrained({x:o[0]+e.x,y:o[1]+e.y,zoom:o[2]},[[0,0],[l,u]],s),f=!!c&&(c.x!==o[0]||c.y!==o[1]||c.k!==o[2]);return Promise.resolve(f)}function yp(e,r,o,s,l,u){let c=l;const f=s.get(c)||new Map;s.set(c,f.set(o,r)),c=`${l}-${e}`;const h=s.get(c)||new Map;if(s.set(c,h.set(o,r)),u){c=`${l}-${e}-${u}`;const y=s.get(c)||new Map;s.set(c,y.set(o,r))}}function C0(e,r,o){e.clear(),r.clear();for(const s of o){const{source:l,target:u,sourceHandle:c=null,targetHandle:f=null}=s,h={edgeId:s.id,source:l,target:u,sourceHandle:c,targetHandle:f},y=`${l}-${c}--${u}-${f}`,v=`${u}-${f}--${l}-${c}`;yp("source",h,v,e,l,c),yp("target",h,y,e,u,f),r.set(s.id,s)}}function _0(e,r){if(!e.parentId)return!1;const o=r.get(e.parentId);return o?o.selected?!0:_0(o,r):!1}function vp(e,r,o){var l;let s=e;do{if((l=s==null?void 0:s.matches)!=null&&l.call(s,r))return!0;if(s===o)return!1;s=s==null?void 0:s.parentElement}while(s);return!1}function NE(e,r,o,s){const l=new Map;for(const[u,c]of e)if((c.selected||c.id===s)&&(!c.parentId||!_0(c,e))&&(c.draggable||r&&typeof c.draggable>"u")){const f=e.get(u);f&&l.set(u,{id:u,position:f.position||{x:0,y:0},distance:{x:o.x-f.internals.positionAbsolute.x,y:o.y-f.internals.positionAbsolute.y},extent:f.extent,parentId:f.parentId,origin:f.origin,expandParent:f.expandParent,internals:{positionAbsolute:f.internals.positionAbsolute||{x:0,y:0}},measured:{width:f.measured.width??0,height:f.measured.height??0}})}return l}function Zu({nodeId:e,dragItems:r,nodeLookup:o,dragging:s=!0}){var c,f,h;const l=[];for(const[y,v]of r){const p=(c=o.get(y))==null?void 0:c.internals.userNode;p&&l.push({...p,position:v.position,dragging:s})}if(!e)return[l[0],l];const u=(f=o.get(e))==null?void 0:f.internals.userNode;return[u?{...u,position:((h=r.get(e))==null?void 0:h.position)||u.position,dragging:s}:l[0],l]}function kE({dragItems:e,snapGrid:r,x:o,y:s}){const l=e.values().next().value;if(!l)return null;const u={x:o-l.distance.x,y:s-l.distance.y},c=zi(u,r);return{x:c.x-u.x,y:c.y-u.y}}function CE({onNodeMouseDown:e,getStoreItems:r,onDragStart:o,onDrag:s,onDragStop:l}){let u={x:null,y:null},c=0,f=new Map,h=!1,y={x:0,y:0},v=null,p=!1,x=null,S=!1,E=!1,b=null;function C({noDragClassName:M,handleSelector:w,domNode:P,isSelectable:F,nodeId:D,nodeClickDistance:T=0}){x=wt(P);function Y({x:Q,y:ne}){const{nodeLookup:R,nodeExtent:V,snapGrid:$,snapToGrid:H,nodeOrigin:I,onNodeDrag:z,onSelectionDrag:W,onError:j,updateNodePositions:A}=r();u={x:Q,y:ne};let U=!1;const Z=f.size>1,ee=Z&&V?wc(Ti(f)):null,oe=Z&&H?kE({dragItems:f,snapGrid:$,x:Q,y:ne}):null;for(const[le,te]of f){if(!R.has(le))continue;let ce={x:Q-te.distance.x,y:ne-te.distance.y};H&&(ce=oe?{x:Math.round(ce.x+oe.x),y:Math.round(ce.y+oe.y)}:zi(ce,$));let pe=null;if(Z&&V&&!te.extent&&ee){const{positionAbsolute:fe}=te.internals,ke=fe.x-ee.x+V[0][0],Me=fe.x+te.measured.width-ee.x2+V[1][0],_e=fe.y-ee.y+V[0][1],Ue=fe.y+te.measured.height-ee.y2+V[1][1];pe=[[ke,_e],[Me,Ue]]}const{position:we,positionAbsolute:ye}=u0({nodeId:le,nextPosition:ce,nodeLookup:R,nodeExtent:pe||V,nodeOrigin:I,onError:j});U=U||te.position.x!==we.x||te.position.y!==we.y,te.position=we,te.internals.positionAbsolute=ye}if(E=E||U,!!U&&(A(f,!0),b&&(s||z||!D&&W))){const[le,te]=Zu({nodeId:D,dragItems:f,nodeLookup:R});s==null||s(b,f,le,te),z==null||z(b,le,te),D||W==null||W(b,te)}}async function X(){if(!v)return;const{transform:Q,panBy:ne,autoPanSpeed:R,autoPanOnNodeDrag:V}=r();if(!V){h=!1,cancelAnimationFrame(c);return}const[$,H]=d0(y,v,R);($!==0||H!==0)&&(u.x=(u.x??0)-$/Q[2],u.y=(u.y??0)-H/Q[2],await ne({x:$,y:H})&&Y(u)),c=requestAnimationFrame(X)}function re(Q){var Z;const{nodeLookup:ne,multiSelectionActive:R,nodesDraggable:V,transform:$,snapGrid:H,snapToGrid:I,selectNodesOnDrag:z,onNodeDragStart:W,onSelectionDragStart:j,unselectNodesAndEdges:A}=r();p=!0,(!z||!F)&&!R&&D&&((Z=ne.get(D))!=null&&Z.selected||A()),F&&z&&D&&(e==null||e(D));const U=gi(Q.sourceEvent,{transform:$,snapGrid:H,snapToGrid:I,containerBounds:v});if(u=U,f=NE(ne,V,U,D),f.size>0&&(o||W||!D&&j)){const[ee,oe]=Zu({nodeId:D,dragItems:f,nodeLookup:ne});o==null||o(Q.sourceEvent,f,ee,oe),W==null||W(Q.sourceEvent,ee,oe),D||j==null||j(Q.sourceEvent,oe)}}const G=Vm().clickDistance(T).on("start",Q=>{const{domNode:ne,nodeDragThreshold:R,transform:V,snapGrid:$,snapToGrid:H}=r();v=(ne==null?void 0:ne.getBoundingClientRect())||null,S=!1,E=!1,b=Q.sourceEvent,R===0&&re(Q),u=gi(Q.sourceEvent,{transform:V,snapGrid:$,snapToGrid:H,containerBounds:v}),y=Ht(Q.sourceEvent,v)}).on("drag",Q=>{const{autoPanOnNodeDrag:ne,transform:R,snapGrid:V,snapToGrid:$,nodeDragThreshold:H,nodeLookup:I}=r(),z=gi(Q.sourceEvent,{transform:R,snapGrid:V,snapToGrid:$,containerBounds:v});if(b=Q.sourceEvent,(Q.sourceEvent.type==="touchmove"&&Q.sourceEvent.touches.length>1||D&&!I.has(D))&&(S=!0),!S){if(!h&&ne&&p&&(h=!0,X()),!p){const W=Ht(Q.sourceEvent,v),j=W.x-y.x,A=W.y-y.y;Math.sqrt(j*j+A*A)>H&&re(Q)}(u.x!==z.xSnapped||u.y!==z.ySnapped)&&f&&p&&(y=Ht(Q.sourceEvent,v),Y(z))}}).on("end",Q=>{if(!(!p||S)&&(h=!1,p=!1,cancelAnimationFrame(c),f.size>0)){const{nodeLookup:ne,updateNodePositions:R,onNodeDragStop:V,onSelectionDragStop:$}=r();if(E&&(R(f,!1),E=!1),l||V||!D&&$){const[H,I]=Zu({nodeId:D,dragItems:f,nodeLookup:ne,dragging:!1});l==null||l(Q.sourceEvent,f,H,I),V==null||V(Q.sourceEvent,H,I),D||$==null||$(Q.sourceEvent,I)}}}).filter(Q=>{const ne=Q.target;return!Q.button&&(!M||!vp(ne,`.${M}`,P))&&(!w||vp(ne,w,P))});x.call(G)}function _(){x==null||x.on(".drag",null)}return{update:C,destroy:_}}function _E(e,r,o){const s=[],l={x:e.x-o,y:e.y-o,width:o*2,height:o*2};for(const u of r.values())ki(l,co(u))>0&&s.push(u);return s}const bE=250;function jE(e,r,o,s){var f,h;let l=[],u=1/0;const c=_E(e,o,r+bE);for(const y of c){const v=[...((f=y.internals.handleBounds)==null?void 0:f.source)??[],...((h=y.internals.handleBounds)==null?void 0:h.target)??[]];for(const p of v){if(s.nodeId===p.nodeId&&s.type===p.type&&s.id===p.id)continue;const{x,y:S}=wr(y,p,p.position,!0),E=Math.sqrt(Math.pow(x-e.x,2)+Math.pow(S-e.y,2));E>r||(E<u?(l=[{...p,x,y:S}],u=E):E===u&&l.push({...p,x,y:S}))}}if(!l.length)return null;if(l.length>1){const y=s.type==="source"?"target":"source";return l.find(v=>v.type===y)??l[0]}return l[0]}function b0(e,r,o,s,l,u=!1){var y,v,p;const c=s.get(e);if(!c)return null;const f=l==="strict"?(y=c.internals.handleBounds)==null?void 0:y[r]:[...((v=c.internals.handleBounds)==null?void 0:v.source)??[],...((p=c.internals.handleBounds)==null?void 0:p.target)??[]],h=(o?f==null?void 0:f.find(x=>x.id===o):f==null?void 0:f[0])??null;return h&&u?{...h,...wr(c,h,h.position,!0)}:h}function j0(e,r){return e||(r!=null&&r.classList.contains("target")?"target":r!=null&&r.classList.contains("source")?"source":null)}function PE(e,r){let o=null;return r?o=!0:e&&!r&&(o=!1),o}const P0=()=>!0;function ME(e,{connectionMode:r,connectionRadius:o,handleId:s,nodeId:l,edgeUpdaterType:u,isTarget:c,domNode:f,nodeLookup:h,lib:y,autoPanOnConnect:v,flowId:p,panBy:x,cancelConnection:S,onConnectStart:E,onConnect:b,onConnectEnd:C,isValidConnection:_=P0,onReconnectEnd:M,updateConnection:w,getTransform:P,getFromHandle:F,autoPanSpeed:D,dragThreshold:T=1,handleDomNode:Y}){const X=m0(e.target);let re=0,G;const{x:Q,y:ne}=Ht(e),R=j0(u,Y),V=f==null?void 0:f.getBoundingClientRect();let $=!1;if(!V||!R)return;const H=b0(l,R,s,h,r);if(!H)return;let I=Ht(e,V),z=!1,W=null,j=!1,A=null;function U(){if(!v||!V)return;const[we,ye]=d0(I,V,D);x({x:we,y:ye}),re=requestAnimationFrame(U)}const Z={...H,nodeId:l,type:R,position:H.position},ee=h.get(l);let le={inProgress:!0,isValid:null,from:wr(ee,Z,xe.Left,!0),fromHandle:Z,fromPosition:Z.position,fromNode:ee,to:I,toHandle:null,toPosition:sp[Z.position],toNode:null,pointer:I};function te(){$=!0,w(le),E==null||E(e,{nodeId:l,handleId:s,handleType:R})}T===0&&te();function ce(we){if(!$){const{x:Ue,y:It}=Ht(we),ht=Ue-Q,pt=It-ne;if(!(ht*ht+pt*pt>T*T))return;te()}if(!F()||!Z){pe(we);return}const ye=P();I=Ht(we,V),G=jE($i(I,ye,!1,[1,1]),o,h,Z),z||(U(),z=!0);const fe=M0(we,{handle:G,connectionMode:r,fromNodeId:l,fromHandleId:s,fromType:c?"target":"source",isValidConnection:_,doc:X,lib:y,flowId:p,nodeLookup:h});A=fe.handleDomNode,W=fe.connection,j=PE(!!G,fe.isValid);const ke=h.get(l),Me=ke?wr(ke,Z,xe.Left,!0):le.from,_e={...le,from:Me,isValid:j,to:fe.toHandle&&j?Pl({x:fe.toHandle.x,y:fe.toHandle.y},ye):I,toHandle:fe.toHandle,toPosition:j&&fe.toHandle?fe.toHandle.position:sp[Z.position],toNode:fe.toHandle?h.get(fe.toHandle.nodeId):null,pointer:I};w(_e),le=_e}function pe(we){if(!("touches"in we&&we.touches.length>0)){if($){(G||A)&&W&&j&&(b==null||b(W));const{inProgress:ye,...fe}=le,ke={...fe,toPosition:le.toHandle?le.toPosition:null};C==null||C(we,ke),u&&(M==null||M(we,ke))}S(),cancelAnimationFrame(re),z=!1,j=!1,W=null,A=null,X.removeEventListener("mousemove",ce),X.removeEventListener("mouseup",pe),X.removeEventListener("touchmove",ce),X.removeEventListener("touchend",pe)}}X.addEventListener("mousemove",ce),X.addEventListener("mouseup",pe),X.addEventListener("touchmove",ce),X.addEventListener("touchend",pe)}function M0(e,{handle:r,connectionMode:o,fromNodeId:s,fromHandleId:l,fromType:u,doc:c,lib:f,flowId:h,isValidConnection:y=P0,nodeLookup:v}){const p=u==="target",x=r?c.querySelector(`.${f}-flow__handle[data-id="${h}-${r==null?void 0:r.nodeId}-${r==null?void 0:r.id}-${r==null?void 0:r.type}"]`):null,{x:S,y:E}=Ht(e),b=c.elementFromPoint(S,E),C=b!=null&&b.classList.contains(`${f}-flow__handle`)?b:x,_={handleDomNode:C,isValid:!1,connection:null,toHandle:null};if(C){const M=j0(void 0,C),w=C.getAttribute("data-nodeid"),P=C.getAttribute("data-handleid"),F=C.classList.contains("connectable"),D=C.classList.contains("connectableend");if(!w||!M)return _;const T={source:p?w:s,sourceHandle:p?P:l,target:p?s:w,targetHandle:p?l:P};_.connection=T;const X=F&&D&&(o===ao.Strict?p&&M==="source"||!p&&M==="target":w!==s||P!==l);_.isValid=X&&y(T),_.toHandle=b0(w,M,P,v,o,!0)}return _}const kc={onPointerDown:ME,isValid:M0};function IE({domNode:e,panZoom:r,getTransform:o,getViewScale:s}){const l=wt(e);function u({translateExtent:f,width:h,height:y,zoomStep:v=1,pannable:p=!0,zoomable:x=!0,inversePan:S=!1}){const E=w=>{if(w.sourceEvent.type!=="wheel"||!r)return;const P=o(),F=w.sourceEvent.ctrlKey&&Ci()?10:1,D=-w.sourceEvent.deltaY*(w.sourceEvent.deltaMode===1?.05:w.sourceEvent.deltaMode?1:.002)*v,T=P[2]*Math.pow(2,D*F);r.scaleTo(T)};let b=[0,0];const C=w=>{(w.sourceEvent.type==="mousedown"||w.sourceEvent.type==="touchstart")&&(b=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY])},_=w=>{const P=o();if(w.sourceEvent.type!=="mousemove"&&w.sourceEvent.type!=="touchmove"||!r)return;const F=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY],D=[F[0]-b[0],F[1]-b[1]];b=F;const T=s()*Math.max(P[2],Math.log(P[2]))*(S?-1:1),Y={x:P[0]-D[0]*T,y:P[1]-D[1]*T},X=[[0,0],[h,y]];r.setViewportConstrained({x:Y.x,y:Y.y,zoom:P[2]},X,f)},M=r0().on("start",C).on("zoom",p?_:null).on("zoom.wheel",x?E:null);l.call(M,{})}function c(){l.on("zoom",null)}return{update:u,destroy:c,pointer:Dt}}const Vl=e=>({x:e.x,y:e.y,zoom:e.k}),Ju=({x:e,y:r,zoom:o})=>Ol.translate(e,r).scale(o),to=(e,r)=>e.target.closest(`.${r}`),I0=(e,r)=>r===2&&Array.isArray(e)&&e.includes(2),RE=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,ec=(e,r=0,o=RE,s=()=>{})=>{const l=typeof r=="number"&&r>0;return l||s(),l?e.transition().duration(r).ease(o).on("end",s):e},R0=e=>{const r=e.ctrlKey&&Ci()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*r};function LE({zoomPanValues:e,noWheelClassName:r,d3Selection:o,d3Zoom:s,panOnScrollMode:l,panOnScrollSpeed:u,zoomOnPinch:c,onPanZoomStart:f,onPanZoom:h,onPanZoomEnd:y}){return v=>{if(to(v,r))return v.ctrlKey&&v.preventDefault(),!1;v.preventDefault(),v.stopImmediatePropagation();const p=o.property("__zoom").k||1;if(v.ctrlKey&&c){const C=Dt(v),_=R0(v),M=p*Math.pow(2,_);s.scaleTo(o,M,C,v);return}const x=v.deltaMode===1?20:1;let S=l===gr.Vertical?0:v.deltaX*x,E=l===gr.Horizontal?0:v.deltaY*x;!Ci()&&v.shiftKey&&l!==gr.Vertical&&(S=v.deltaY*x,E=0),s.translateBy(o,-(S/p)*u,-(E/p)*u,{internal:!0});const b=Vl(o.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(h==null||h(v,b),e.panScrollTimeout=setTimeout(()=>{y==null||y(v,b),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,f==null||f(v,b))}}function TE({noWheelClassName:e,preventScrolling:r,d3ZoomHandler:o}){return function(s,l){const u=s.type==="wheel",c=!r&&u&&!s.ctrlKey,f=to(s,e);if(s.ctrlKey&&u&&f&&s.preventDefault(),c||f)return null;s.preventDefault(),o.call(this,s,l)}}function zE({zoomPanValues:e,onDraggingChange:r,onPanZoomStart:o}){return s=>{var u,c,f;if((u=s.sourceEvent)!=null&&u.internal)return;const l=Vl(s.transform);e.mouseButton=((c=s.sourceEvent)==null?void 0:c.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=l,((f=s.sourceEvent)==null?void 0:f.type)==="mousedown"&&r(!0),o&&(o==null||o(s.sourceEvent,l))}}function $E({zoomPanValues:e,panOnDrag:r,onPaneContextMenu:o,onTransformChange:s,onPanZoom:l}){return u=>{var c,f;e.usedRightMouseButton=!!(o&&I0(r,e.mouseButton??0)),(c=u.sourceEvent)!=null&&c.sync||s([u.transform.x,u.transform.y,u.transform.k]),l&&!((f=u.sourceEvent)!=null&&f.internal)&&(l==null||l(u.sourceEvent,Vl(u.transform)))}}function AE({zoomPanValues:e,panOnDrag:r,panOnScroll:o,onDraggingChange:s,onPanZoomEnd:l,onPaneContextMenu:u}){return c=>{var f;if(!((f=c.sourceEvent)!=null&&f.internal)&&(e.isZoomingOrPanning=!1,u&&I0(r,e.mouseButton??0)&&!e.usedRightMouseButton&&c.sourceEvent&&u(c.sourceEvent),e.usedRightMouseButton=!1,s(!1),l)){const h=Vl(c.transform);e.prevViewport=h,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{l==null||l(c.sourceEvent,h)},o?150:0)}}}function DE({zoomActivationKeyPressed:e,zoomOnScroll:r,zoomOnPinch:o,panOnDrag:s,panOnScroll:l,zoomOnDoubleClick:u,userSelectionActive:c,noWheelClassName:f,noPanClassName:h,lib:y,connectionInProgress:v}){return p=>{var C;const x=e||r,S=o&&p.ctrlKey,E=p.type==="wheel";if(p.button===1&&p.type==="mousedown"&&(to(p,`${y}-flow__node`)||to(p,`${y}-flow__edge`)))return!0;if(!s&&!x&&!l&&!u&&!o||c||v&&!E||to(p,f)&&E||to(p,h)&&(!E||l&&E&&!e)||!o&&p.ctrlKey&&E)return!1;if(!o&&p.type==="touchstart"&&((C=p.touches)==null?void 0:C.length)>1)return p.preventDefault(),!1;if(!x&&!l&&!S&&E||!s&&(p.type==="mousedown"||p.type==="touchstart")||Array.isArray(s)&&!s.includes(p.button)&&p.type==="mousedown")return!1;const b=Array.isArray(s)&&s.includes(p.button)||!p.button||p.button<=1;return(!p.ctrlKey||E)&&b}}function OE({domNode:e,minZoom:r,maxZoom:o,translateExtent:s,viewport:l,onPanZoom:u,onPanZoomStart:c,onPanZoomEnd:f,onDraggingChange:h}){const y={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},v=e.getBoundingClientRect(),p=r0().scaleExtent([r,o]).translateExtent(s),x=wt(e).call(p);M({x:l.x,y:l.y,zoom:uo(l.zoom,r,o)},[[0,0],[v.width,v.height]],s);const S=x.on("wheel.zoom"),E=x.on("dblclick.zoom");p.wheelDelta(R0);function b(G,Q){return x?new Promise(ne=>{p==null||p.interpolate((Q==null?void 0:Q.interpolate)==="linear"?mi:ml).transform(ec(x,Q==null?void 0:Q.duration,Q==null?void 0:Q.ease,()=>ne(!0)),G)}):Promise.resolve(!1)}function C({noWheelClassName:G,noPanClassName:Q,onPaneContextMenu:ne,userSelectionActive:R,panOnScroll:V,panOnDrag:$,panOnScrollMode:H,panOnScrollSpeed:I,preventScrolling:z,zoomOnPinch:W,zoomOnScroll:j,zoomOnDoubleClick:A,zoomActivationKeyPressed:U,lib:Z,onTransformChange:ee,connectionInProgress:oe,paneClickDistance:le,selectionOnDrag:te}){R&&!y.isZoomingOrPanning&&_();const ce=V&&!U&&!R;p.clickDistance(te?1/0:!Ft(le)||le<0?0:le);const pe=ce?LE({zoomPanValues:y,noWheelClassName:G,d3Selection:x,d3Zoom:p,panOnScrollMode:H,panOnScrollSpeed:I,zoomOnPinch:W,onPanZoomStart:c,onPanZoom:u,onPanZoomEnd:f}):TE({noWheelClassName:G,preventScrolling:z,d3ZoomHandler:S});if(x.on("wheel.zoom",pe,{passive:!1}),!R){const ye=zE({zoomPanValues:y,onDraggingChange:h,onPanZoomStart:c});p.on("start",ye);const fe=$E({zoomPanValues:y,panOnDrag:$,onPaneContextMenu:!!ne,onPanZoom:u,onTransformChange:ee});p.on("zoom",fe);const ke=AE({zoomPanValues:y,panOnDrag:$,panOnScroll:V,onPaneContextMenu:ne,onPanZoomEnd:f,onDraggingChange:h});p.on("end",ke)}const we=DE({zoomActivationKeyPressed:U,panOnDrag:$,zoomOnScroll:j,panOnScroll:V,zoomOnDoubleClick:A,zoomOnPinch:W,userSelectionActive:R,noPanClassName:Q,noWheelClassName:G,lib:Z,connectionInProgress:oe});p.filter(we),A?x.on("dblclick.zoom",E):x.on("dblclick.zoom",null)}function _(){p.on("zoom",null)}async function M(G,Q,ne){const R=Ju(G),V=p==null?void 0:p.constrain()(R,Q,ne);return V&&await b(V),new Promise($=>$(V))}async function w(G,Q){const ne=Ju(G);return await b(ne,Q),new Promise(R=>R(ne))}function P(G){if(x){const Q=Ju(G),ne=x.property("__zoom");(ne.k!==G.zoom||ne.x!==G.x||ne.y!==G.y)&&(p==null||p.transform(x,Q,null,{sync:!0}))}}function F(){const G=x?n0(x.node()):{x:0,y:0,k:1};return{x:G.x,y:G.y,zoom:G.k}}function D(G,Q){return x?new Promise(ne=>{p==null||p.interpolate((Q==null?void 0:Q.interpolate)==="linear"?mi:ml).scaleTo(ec(x,Q==null?void 0:Q.duration,Q==null?void 0:Q.ease,()=>ne(!0)),G)}):Promise.resolve(!1)}function T(G,Q){return x?new Promise(ne=>{p==null||p.interpolate((Q==null?void 0:Q.interpolate)==="linear"?mi:ml).scaleBy(ec(x,Q==null?void 0:Q.duration,Q==null?void 0:Q.ease,()=>ne(!0)),G)}):Promise.resolve(!1)}function Y(G){p==null||p.scaleExtent(G)}function X(G){p==null||p.translateExtent(G)}function re(G){const Q=!Ft(G)||G<0?0:G;p==null||p.clickDistance(Q)}return{update:C,destroy:_,setViewport:w,setViewportConstrained:M,getViewport:F,scaleTo:D,scaleBy:T,setScaleExtent:Y,setTranslateExtent:X,syncViewport:P,setClickDistance:re}}var ho;(function(e){e.Line="line",e.Handle="handle"})(ho||(ho={}));function FE({width:e,prevWidth:r,height:o,prevHeight:s,affectsX:l,affectsY:u}){const c=e-r,f=o-s,h=[c>0?1:c<0?-1:0,f>0?1:f<0?-1:0];return c&&l&&(h[0]=h[0]*-1),f&&u&&(h[1]=h[1]*-1),h}function xp(e){const r=e.includes("right")||e.includes("left"),o=e.includes("bottom")||e.includes("top"),s=e.includes("left"),l=e.includes("top");return{isHorizontal:r,isVertical:o,affectsX:s,affectsY:l}}function Vn(e,r){return Math.max(0,r-e)}function Bn(e,r){return Math.max(0,e-r)}function ul(e,r,o){return Math.max(0,r-e,e-o)}function wp(e,r){return e?!r:r}function HE(e,r,o,s,l,u,c,f){let{affectsX:h,affectsY:y}=r;const{isHorizontal:v,isVertical:p}=r,x=v&&p,{xSnapped:S,ySnapped:E}=o,{minWidth:b,maxWidth:C,minHeight:_,maxHeight:M}=s,{x:w,y:P,width:F,height:D,aspectRatio:T}=e;let Y=Math.floor(v?S-e.pointerX:0),X=Math.floor(p?E-e.pointerY:0);const re=F+(h?-Y:Y),G=D+(y?-X:X),Q=-u[0]*F,ne=-u[1]*D;let R=ul(re,b,C),V=ul(G,_,M);if(c){let I=0,z=0;h&&Y<0?I=Vn(w+Y+Q,c[0][0]):!h&&Y>0&&(I=Bn(w+re+Q,c[1][0])),y&&X<0?z=Vn(P+X+ne,c[0][1]):!y&&X>0&&(z=Bn(P+G+ne,c[1][1])),R=Math.max(R,I),V=Math.max(V,z)}if(f){let I=0,z=0;h&&Y>0?I=Bn(w+Y,f[0][0]):!h&&Y<0&&(I=Vn(w+re,f[1][0])),y&&X>0?z=Bn(P+X,f[0][1]):!y&&X<0&&(z=Vn(P+G,f[1][1])),R=Math.max(R,I),V=Math.max(V,z)}if(l){if(v){const I=ul(re/T,_,M)*T;if(R=Math.max(R,I),c){let z=0;!h&&!y||h&&!y&&x?z=Bn(P+ne+re/T,c[1][1])*T:z=Vn(P+ne+(h?Y:-Y)/T,c[0][1])*T,R=Math.max(R,z)}if(f){let z=0;!h&&!y||h&&!y&&x?z=Vn(P+re/T,f[1][1])*T:z=Bn(P+(h?Y:-Y)/T,f[0][1])*T,R=Math.max(R,z)}}if(p){const I=ul(G*T,b,C)/T;if(V=Math.max(V,I),c){let z=0;!h&&!y||y&&!h&&x?z=Bn(w+G*T+Q,c[1][0])/T:z=Vn(w+(y?X:-X)*T+Q,c[0][0])/T,V=Math.max(V,z)}if(f){let z=0;!h&&!y||y&&!h&&x?z=Vn(w+G*T,f[1][0])/T:z=Bn(w+(y?X:-X)*T,f[0][0])/T,V=Math.max(V,z)}}}X=X+(X<0?V:-V),Y=Y+(Y<0?R:-R),l&&(x?re>G*T?X=(wp(h,y)?-Y:Y)/T:Y=(wp(h,y)?-X:X)*T:v?(X=Y/T,y=h):(Y=X*T,h=y));const $=h?w+Y:w,H=y?P+X:P;return{width:F+(h?-Y:Y),height:D+(y?-X:X),x:u[0]*Y*(h?-1:1)+$,y:u[1]*X*(y?-1:1)+H}}const L0={width:0,height:0,x:0,y:0},VE={...L0,pointerX:0,pointerY:0,aspectRatio:1};function BE(e){return[[0,0],[e.measured.width,e.measured.height]]}function UE(e,r,o){const s=r.position.x+e.position.x,l=r.position.y+e.position.y,u=e.measured.width??0,c=e.measured.height??0,f=o[0]*u,h=o[1]*c;return[[s-f,l-h],[s+u-f,l+c-h]]}function WE({domNode:e,nodeId:r,getStoreItems:o,onChange:s,onEnd:l}){const u=wt(e);let c={controlDirection:xp("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function f({controlPosition:y,boundaries:v,keepAspectRatio:p,resizeDirection:x,onResizeStart:S,onResize:E,onResizeEnd:b,shouldResize:C}){let _={...L0},M={...VE};c={boundaries:v,resizeDirection:x,keepAspectRatio:p,controlDirection:xp(y)};let w,P=null,F=[],D,T,Y,X=!1;const re=Vm().on("start",G=>{const{nodeLookup:Q,transform:ne,snapGrid:R,snapToGrid:V,nodeOrigin:$,paneDomNode:H}=o();if(w=Q.get(r),!w)return;P=(H==null?void 0:H.getBoundingClientRect())??null;const{xSnapped:I,ySnapped:z}=gi(G.sourceEvent,{transform:ne,snapGrid:R,snapToGrid:V,containerBounds:P});_={width:w.measured.width??0,height:w.measured.height??0,x:w.position.x??0,y:w.position.y??0},M={..._,pointerX:I,pointerY:z,aspectRatio:_.width/_.height},D=void 0,w.parentId&&(w.extent==="parent"||w.expandParent)&&(D=Q.get(w.parentId),T=D&&w.extent==="parent"?BE(D):void 0),F=[],Y=void 0;for(const[W,j]of Q)if(j.parentId===r&&(F.push({id:W,position:{...j.position},extent:j.extent}),j.extent==="parent"||j.expandParent)){const A=UE(j,w,j.origin??$);Y?Y=[[Math.min(A[0][0],Y[0][0]),Math.min(A[0][1],Y[0][1])],[Math.max(A[1][0],Y[1][0]),Math.max(A[1][1],Y[1][1])]]:Y=A}S==null||S(G,{..._})}).on("drag",G=>{const{transform:Q,snapGrid:ne,snapToGrid:R,nodeOrigin:V}=o(),$=gi(G.sourceEvent,{transform:Q,snapGrid:ne,snapToGrid:R,containerBounds:P}),H=[];if(!w)return;const{x:I,y:z,width:W,height:j}=_,A={},U=w.origin??V,{width:Z,height:ee,x:oe,y:le}=HE(M,c.controlDirection,$,c.boundaries,c.keepAspectRatio,U,T,Y),te=Z!==W,ce=ee!==j,pe=oe!==I&&te,we=le!==z&&ce;if(!pe&&!we&&!te&&!ce)return;if((pe||we||U[0]===1||U[1]===1)&&(A.x=pe?oe:_.x,A.y=we?le:_.y,_.x=A.x,_.y=A.y,F.length>0)){const Me=oe-I,_e=le-z;for(const Ue of F)Ue.position={x:Ue.position.x-Me+U[0]*(Z-W),y:Ue.position.y-_e+U[1]*(ee-j)},H.push(Ue)}if((te||ce)&&(A.width=te&&(!c.resizeDirection||c.resizeDirection==="horizontal")?Z:_.width,A.height=ce&&(!c.resizeDirection||c.resizeDirection==="vertical")?ee:_.height,_.width=A.width,_.height=A.height),D&&w.expandParent){const Me=U[0]*(A.width??0);A.x&&A.x<Me&&(_.x=Me,M.x=M.x-(A.x-Me));const _e=U[1]*(A.height??0);A.y&&A.y<_e&&(_.y=_e,M.y=M.y-(A.y-_e))}const ye=FE({width:_.width,prevWidth:W,height:_.height,prevHeight:j,affectsX:c.controlDirection.affectsX,affectsY:c.controlDirection.affectsY}),fe={..._,direction:ye};(C==null?void 0:C(G,fe))!==!1&&(X=!0,E==null||E(G,fe),s(A,H))}).on("end",G=>{X&&(b==null||b(G,{..._}),l==null||l({..._}),X=!1)});u.call(re)}function h(){u.on(".drag",null)}return{update:f,destroy:h}}var tc={exports:{}},nc={},rc={exports:{}},oc={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp;function YE(){if(Sp)return oc;Sp=1;var e=bi();function r(p,x){return p===x&&(p!==0||1/p===1/x)||p!==p&&x!==x}var o=typeof Object.is=="function"?Object.is:r,s=e.useState,l=e.useEffect,u=e.useLayoutEffect,c=e.useDebugValue;function f(p,x){var S=x(),E=s({inst:{value:S,getSnapshot:x}}),b=E[0].inst,C=E[1];return u(function(){b.value=S,b.getSnapshot=x,h(b)&&C({inst:b})},[p,S,x]),l(function(){return h(b)&&C({inst:b}),p(function(){h(b)&&C({inst:b})})},[p]),c(S),S}function h(p){var x=p.getSnapshot;p=p.value;try{var S=x();return!o(p,S)}catch{return!0}}function y(p,x){return x()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?y:f;return oc.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:v,oc}var Ep;function XE(){return Ep||(Ep=1,rc.exports=YE()),rc.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function QE(){if(Np)return nc;Np=1;var e=bi(),r=XE();function o(y,v){return y===v&&(y!==0||1/y===1/v)||y!==y&&v!==v}var s=typeof Object.is=="function"?Object.is:o,l=r.useSyncExternalStore,u=e.useRef,c=e.useEffect,f=e.useMemo,h=e.useDebugValue;return nc.useSyncExternalStoreWithSelector=function(y,v,p,x,S){var E=u(null);if(E.current===null){var b={hasValue:!1,value:null};E.current=b}else b=E.current;E=f(function(){function _(D){if(!M){if(M=!0,w=D,D=x(D),S!==void 0&&b.hasValue){var T=b.value;if(S(T,D))return P=T}return P=D}if(T=P,s(w,D))return T;var Y=x(D);return S!==void 0&&S(T,Y)?(w=D,T):(w=D,P=Y)}var M=!1,w,P,F=p===void 0?null:p;return[function(){return _(v())},F===null?void 0:function(){return _(F())}]},[v,p,x,S]);var C=l(y,E[0],E[1]);return c(function(){b.hasValue=!0,b.value=C},[C]),h(C),C},nc}var kp;function GE(){return kp||(kp=1,tc.exports=QE()),tc.exports}var KE=GE();const qE=bc(KE),ZE={},Cp=e=>{let r;const o=new Set,s=(v,p)=>{const x=typeof v=="function"?v(r):v;if(!Object.is(x,r)){const S=r;r=p??(typeof x!="object"||x===null)?x:Object.assign({},r,x),o.forEach(E=>E(r,S))}},l=()=>r,h={setState:s,getState:l,getInitialState:()=>y,subscribe:v=>(o.add(v),()=>o.delete(v)),destroy:()=>{(ZE?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),o.clear()}},y=r=e(s,l,h);return h},JE=e=>e?Cp(e):Cp,{useDebugValue:eN}=eo,{useSyncExternalStoreWithSelector:tN}=qE,nN=e=>e;function T0(e,r=nN,o){const s=tN(e.subscribe,e.getState,e.getServerState||e.getInitialState,r,o);return eN(s),s}const _p=(e,r)=>{const o=JE(e),s=(l,u=r)=>T0(o,l,u);return Object.assign(s,o),s},rN=(e,r)=>e?_p(e,r):_p;function $e(e,r){if(Object.is(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(const[s,l]of e)if(!Object.is(l,r.get(s)))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(const s of e)if(!r.has(s))return!1;return!0}const o=Object.keys(e);if(o.length!==Object.keys(r).length)return!1;for(const s of o)if(!Object.prototype.hasOwnProperty.call(r,s)||!Object.is(e[s],r[s]))return!1;return!0}const Bl=k.createContext(null),oN=Bl.Provider,z0=Zt.error001();function be(e,r){const o=k.useContext(Bl);if(o===null)throw new Error(z0);return T0(o,e,r)}function Ae(){const e=k.useContext(Bl);if(e===null)throw new Error(z0);return k.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const bp={display:"none"},iN={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},$0="react-flow__node-desc",A0="react-flow__edge-desc",sN="react-flow__aria-live",lN=e=>e.ariaLiveMessage,aN=e=>e.ariaLabelConfig;function uN({rfId:e}){const r=be(lN);return g.jsx("div",{id:`${sN}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:iN,children:r})}function cN({rfId:e,disableKeyboardA11y:r}){const o=be(aN);return g.jsxs(g.Fragment,{children:[g.jsx("div",{id:`${$0}-${e}`,style:bp,children:r?o["node.a11yDescription.default"]:o["node.a11yDescription.keyboardDisabled"]}),g.jsx("div",{id:`${A0}-${e}`,style:bp,children:o["edge.a11yDescription.default"]}),!r&&g.jsx(uN,{rfId:e})]})}const Ul=k.forwardRef(({position:e="top-left",children:r,className:o,style:s,...l},u)=>{const c=`${e}`.split("-");return g.jsx("div",{className:Ye(["react-flow__panel",o,...c]),style:s,ref:u,...l,children:r})});Ul.displayName="Panel";function dN({proOptions:e,position:r="bottom-right"}){return e!=null&&e.hideAttribution?null:g.jsx(Ul,{position:r,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:g.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const fN=e=>{const r=[],o=[];for(const[,s]of e.nodeLookup)s.selected&&r.push(s.internals.userNode);for(const[,s]of e.edgeLookup)s.selected&&o.push(s);return{selectedNodes:r,selectedEdges:o}},cl=e=>e.id;function hN(e,r){return $e(e.selectedNodes.map(cl),r.selectedNodes.map(cl))&&$e(e.selectedEdges.map(cl),r.selectedEdges.map(cl))}function pN({onSelectionChange:e}){const r=Ae(),{selectedNodes:o,selectedEdges:s}=be(fN,hN);return k.useEffect(()=>{const l={nodes:o,edges:s};e==null||e(l),r.getState().onSelectionChangeHandlers.forEach(u=>u(l))},[o,s,e]),null}const mN=e=>!!e.onSelectionChangeHandlers;function gN({onSelectionChange:e}){const r=be(mN);return e||r?g.jsx(pN,{onSelectionChange:e}):null}const D0=[0,0],yN={x:0,y:0,zoom:1},vN=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],jp=[...vN,"rfId"],xN=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),Pp={translateExtent:Ei,nodeOrigin:D0,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function wN(e){const{setNodes:r,setEdges:o,setMinZoom:s,setMaxZoom:l,setTranslateExtent:u,setNodeExtent:c,reset:f,setDefaultNodesAndEdges:h}=be(xN,$e),y=Ae();k.useEffect(()=>(h(e.defaultNodes,e.defaultEdges),()=>{v.current=Pp,f()}),[]);const v=k.useRef(Pp);return k.useEffect(()=>{for(const p of jp){const x=e[p],S=v.current[p];x!==S&&(typeof e[p]>"u"||(p==="nodes"?r(x):p==="edges"?o(x):p==="minZoom"?s(x):p==="maxZoom"?l(x):p==="translateExtent"?u(x):p==="nodeExtent"?c(x):p==="ariaLabelConfig"?y.setState({ariaLabelConfig:oE(x)}):p==="fitView"?y.setState({fitViewQueued:x}):p==="fitViewOptions"?y.setState({fitViewOptions:x}):y.setState({[p]:x})))}v.current=e},jp.map(p=>e[p])),null}function Mp(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function SN(e){var s;const[r,o]=k.useState(e==="system"?null:e);return k.useEffect(()=>{if(e!=="system"){o(e);return}const l=Mp(),u=()=>o(l!=null&&l.matches?"dark":"light");return u(),l==null||l.addEventListener("change",u),()=>{l==null||l.removeEventListener("change",u)}},[e]),r!==null?r:(s=Mp())!=null&&s.matches?"dark":"light"}const Ip=typeof document<"u"?document:null;function _i(e=null,r={target:Ip,actInsideInputWithModifier:!0}){const[o,s]=k.useState(!1),l=k.useRef(!1),u=k.useRef(new Set([])),[c,f]=k.useMemo(()=>{if(e!==null){const y=(Array.isArray(e)?e:[e]).filter(p=>typeof p=="string").map(p=>p.replace("+",`
`).replace(`

`,`
+`).split(`
`)),v=y.reduce((p,x)=>p.concat(...x),[]);return[y,v]}return[[],[]]},[e]);return k.useEffect(()=>{const h=(r==null?void 0:r.target)??Ip,y=(r==null?void 0:r.actInsideInputWithModifier)??!0;if(e!==null){const v=S=>{var C,_;if(l.current=S.ctrlKey||S.metaKey||S.shiftKey||S.altKey,(!l.current||l.current&&!y)&&g0(S))return!1;const b=Lp(S.code,f);if(u.current.add(S[b]),Rp(c,u.current,!1)){const M=((_=(C=S.composedPath)==null?void 0:C.call(S))==null?void 0:_[0])||S.target,w=(M==null?void 0:M.nodeName)==="BUTTON"||(M==null?void 0:M.nodeName)==="A";r.preventDefault!==!1&&(l.current||!w)&&S.preventDefault(),s(!0)}},p=S=>{const E=Lp(S.code,f);Rp(c,u.current,!0)?(s(!1),u.current.clear()):u.current.delete(S[E]),S.key==="Meta"&&u.current.clear(),l.current=!1},x=()=>{u.current.clear(),s(!1)};return h==null||h.addEventListener("keydown",v),h==null||h.addEventListener("keyup",p),window.addEventListener("blur",x),window.addEventListener("contextmenu",x),()=>{h==null||h.removeEventListener("keydown",v),h==null||h.removeEventListener("keyup",p),window.removeEventListener("blur",x),window.removeEventListener("contextmenu",x)}}},[e,s]),o}function Rp(e,r,o){return e.filter(s=>o||s.length===r.size).some(s=>s.every(l=>r.has(l)))}function Lp(e,r){return r.includes(e)?"code":"key"}const EN=()=>{const e=Ae();return k.useMemo(()=>({zoomIn:r=>{const{panZoom:o}=e.getState();return o?o.scaleBy(1.2,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},zoomOut:r=>{const{panZoom:o}=e.getState();return o?o.scaleBy(1/1.2,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},zoomTo:(r,o)=>{const{panZoom:s}=e.getState();return s?s.scaleTo(r,{duration:o==null?void 0:o.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(r,o)=>{const{transform:[s,l,u],panZoom:c}=e.getState();return c?(await c.setViewport({x:r.x??s,y:r.y??l,zoom:r.zoom??u},o),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[r,o,s]=e.getState().transform;return{x:r,y:o,zoom:s}},setCenter:async(r,o,s)=>e.getState().setCenter(r,o,s),fitBounds:async(r,o)=>{const{width:s,height:l,minZoom:u,maxZoom:c,panZoom:f}=e.getState(),h=Bc(r,s,l,u,c,(o==null?void 0:o.padding)??.1);return f?(await f.setViewport(h,{duration:o==null?void 0:o.duration,ease:o==null?void 0:o.ease,interpolate:o==null?void 0:o.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(r,o={})=>{const{transform:s,snapGrid:l,snapToGrid:u,domNode:c}=e.getState();if(!c)return r;const{x:f,y:h}=c.getBoundingClientRect(),y={x:r.x-f,y:r.y-h},v=o.snapGrid??l,p=o.snapToGrid??u;return $i(y,s,p,v)},flowToScreenPosition:r=>{const{transform:o,domNode:s}=e.getState();if(!s)return r;const{x:l,y:u}=s.getBoundingClientRect(),c=Pl(r,o);return{x:c.x+l,y:c.y+u}}}),[])};function O0(e,r){const o=[],s=new Map,l=[];for(const u of e)if(u.type==="add"){l.push(u);continue}else if(u.type==="remove"||u.type==="replace")s.set(u.id,[u]);else{const c=s.get(u.id);c?c.push(u):s.set(u.id,[u])}for(const u of r){const c=s.get(u.id);if(!c){o.push(u);continue}if(c[0].type==="remove")continue;if(c[0].type==="replace"){o.push({...c[0].item});continue}const f={...u};for(const h of c)NN(h,f);o.push(f)}return l.length&&l.forEach(u=>{u.index!==void 0?o.splice(u.index,0,{...u.item}):o.push({...u.item})}),o}function NN(e,r){switch(e.type){case"select":{r.selected=e.selected;break}case"position":{typeof e.position<"u"&&(r.position=e.position),typeof e.dragging<"u"&&(r.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(r.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(r.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(r.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(r.resizing=e.resizing);break}}}function F0(e,r){return O0(e,r)}function H0(e,r){return O0(e,r)}function hr(e,r){return{id:e,type:"select",selected:r}}function no(e,r=new Set,o=!1){const s=[];for(const[l,u]of e){const c=r.has(l);!(u.selected===void 0&&!c)&&u.selected!==c&&(o&&(u.selected=c),s.push(hr(u.id,c)))}return s}function Tp({items:e=[],lookup:r}){var l;const o=[],s=new Map(e.map(u=>[u.id,u]));for(const[u,c]of e.entries()){const f=r.get(c.id),h=((l=f==null?void 0:f.internals)==null?void 0:l.userNode)??f;h!==void 0&&h!==c&&o.push({id:c.id,item:c,type:"replace"}),h===void 0&&o.push({item:c,type:"add",index:u})}for(const[u]of r)s.get(u)===void 0&&o.push({id:u,type:"remove"});return o}function zp(e){return{id:e.id,type:"remove"}}const $p=e=>Q2(e),kN=e=>a0(e);function V0(e){return k.forwardRef(e)}const CN=typeof window<"u"?k.useLayoutEffect:k.useEffect;function Ap(e){const[r,o]=k.useState(BigInt(0)),[s]=k.useState(()=>_N(()=>o(l=>l+BigInt(1))));return CN(()=>{const l=s.get();l.length&&(e(l),s.reset())},[r]),s}function _N(e){let r=[];return{get:()=>r,reset:()=>{r=[]},push:o=>{r.push(o),e()}}}const B0=k.createContext(null);function bN({children:e}){const r=Ae(),o=k.useCallback(f=>{const{nodes:h=[],setNodes:y,hasDefaultNodes:v,onNodesChange:p,nodeLookup:x,fitViewQueued:S,onNodesChangeMiddlewareMap:E}=r.getState();let b=h;for(const _ of f)b=typeof _=="function"?_(b):_;let C=Tp({items:b,lookup:x});for(const _ of E.values())C=_(C);v&&y(b),C.length>0?p==null||p(C):S&&window.requestAnimationFrame(()=>{const{fitViewQueued:_,nodes:M,setNodes:w}=r.getState();_&&w(M)})},[]),s=Ap(o),l=k.useCallback(f=>{const{edges:h=[],setEdges:y,hasDefaultEdges:v,onEdgesChange:p,edgeLookup:x}=r.getState();let S=h;for(const E of f)S=typeof E=="function"?E(S):E;v?y(S):p&&p(Tp({items:S,lookup:x}))},[]),u=Ap(l),c=k.useMemo(()=>({nodeQueue:s,edgeQueue:u}),[]);return g.jsx(B0.Provider,{value:c,children:e})}function jN(){const e=k.useContext(B0);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const PN=e=>!!e.panZoom;function Kc(){const e=EN(),r=Ae(),o=jN(),s=be(PN),l=k.useMemo(()=>{const u=p=>r.getState().nodeLookup.get(p),c=p=>{o.nodeQueue.push(p)},f=p=>{o.edgeQueue.push(p)},h=p=>{var _,M;const{nodeLookup:x,nodeOrigin:S}=r.getState(),E=$p(p)?p:x.get(p.id),b=E.parentId?p0(E.position,E.measured,E.parentId,x,S):E.position,C={...E,position:b,width:((_=E.measured)==null?void 0:_.width)??E.width,height:((M=E.measured)==null?void 0:M.height)??E.height};return co(C)},y=(p,x,S={replace:!1})=>{c(E=>E.map(b=>{if(b.id===p){const C=typeof x=="function"?x(b):x;return S.replace&&$p(C)?C:{...b,...C}}return b}))},v=(p,x,S={replace:!1})=>{f(E=>E.map(b=>{if(b.id===p){const C=typeof x=="function"?x(b):x;return S.replace&&kN(C)?C:{...b,...C}}return b}))};return{getNodes:()=>r.getState().nodes.map(p=>({...p})),getNode:p=>{var x;return(x=u(p))==null?void 0:x.internals.userNode},getInternalNode:u,getEdges:()=>{const{edges:p=[]}=r.getState();return p.map(x=>({...x}))},getEdge:p=>r.getState().edgeLookup.get(p),setNodes:c,setEdges:f,addNodes:p=>{const x=Array.isArray(p)?p:[p];o.nodeQueue.push(S=>[...S,...x])},addEdges:p=>{const x=Array.isArray(p)?p:[p];o.edgeQueue.push(S=>[...S,...x])},toObject:()=>{const{nodes:p=[],edges:x=[],transform:S}=r.getState(),[E,b,C]=S;return{nodes:p.map(_=>({..._})),edges:x.map(_=>({..._})),viewport:{x:E,y:b,zoom:C}}},deleteElements:async({nodes:p=[],edges:x=[]})=>{const{nodes:S,edges:E,onNodesDelete:b,onEdgesDelete:C,triggerNodeChanges:_,triggerEdgeChanges:M,onDelete:w,onBeforeDelete:P}=r.getState(),{nodes:F,edges:D}=await J2({nodesToRemove:p,edgesToRemove:x,nodes:S,edges:E,onBeforeDelete:P}),T=D.length>0,Y=F.length>0;if(T){const X=D.map(zp);C==null||C(D),M(X)}if(Y){const X=F.map(zp);b==null||b(F),_(X)}return(Y||T)&&(w==null||w({nodes:F,edges:D})),{deletedNodes:F,deletedEdges:D}},getIntersectingNodes:(p,x=!0,S)=>{const E=ap(p),b=E?p:h(p),C=S!==void 0;return b?(S||r.getState().nodes).filter(_=>{const M=r.getState().nodeLookup.get(_.id);if(M&&!E&&(_.id===p.id||!M.internals.positionAbsolute))return!1;const w=co(C?_:M),P=ki(w,b);return x&&P>0||P>=w.width*w.height||P>=b.width*b.height}):[]},isNodeIntersecting:(p,x,S=!0)=>{const b=ap(p)?p:h(p);if(!b)return!1;const C=ki(b,x);return S&&C>0||C>=x.width*x.height||C>=b.width*b.height},updateNode:y,updateNodeData:(p,x,S={replace:!1})=>{y(p,E=>{const b=typeof x=="function"?x(E):x;return S.replace?{...E,data:b}:{...E,data:{...E.data,...b}}},S)},updateEdge:v,updateEdgeData:(p,x,S={replace:!1})=>{v(p,E=>{const b=typeof x=="function"?x(E):x;return S.replace?{...E,data:b}:{...E,data:{...E.data,...b}}},S)},getNodesBounds:p=>{const{nodeLookup:x,nodeOrigin:S}=r.getState();return G2(p,{nodeLookup:x,nodeOrigin:S})},getHandleConnections:({type:p,id:x,nodeId:S})=>{var E;return Array.from(((E=r.getState().connectionLookup.get(`${S}-${p}${x?`-${x}`:""}`))==null?void 0:E.values())??[])},getNodeConnections:({type:p,handleId:x,nodeId:S})=>{var E;return Array.from(((E=r.getState().connectionLookup.get(`${S}${p?x?`-${p}-${x}`:`-${p}`:""}`))==null?void 0:E.values())??[])},fitView:async p=>{const x=r.getState().fitViewResolver??rE();return r.setState({fitViewQueued:!0,fitViewOptions:p,fitViewResolver:x}),o.nodeQueue.push(S=>[...S]),x.promise}}},[]);return k.useMemo(()=>({...l,...e,viewportInitialized:s}),[s])}const Dp=e=>e.selected,MN=typeof window<"u"?window:void 0;function IN({deleteKeyCode:e,multiSelectionKeyCode:r}){const o=Ae(),{deleteElements:s}=Kc(),l=_i(e,{actInsideInputWithModifier:!1}),u=_i(r,{target:MN});k.useEffect(()=>{if(l){const{edges:c,nodes:f}=o.getState();s({nodes:f.filter(Dp),edges:c.filter(Dp)}),o.setState({nodesSelectionActive:!1})}},[l]),k.useEffect(()=>{o.setState({multiSelectionActive:u})},[u])}function RN(e){const r=Ae();k.useEffect(()=>{const o=()=>{var l,u,c,f;if(!e.current||!(((u=(l=e.current).checkVisibility)==null?void 0:u.call(l))??!0))return!1;const s=Uc(e.current);(s.height===0||s.width===0)&&((f=(c=r.getState()).onError)==null||f.call(c,"004",Zt.error004())),r.setState({width:s.width||500,height:s.height||500})};if(e.current){o(),window.addEventListener("resize",o);const s=new ResizeObserver(()=>o());return s.observe(e.current),()=>{window.removeEventListener("resize",o),s&&e.current&&s.unobserve(e.current)}}},[])}const Wl={position:"absolute",width:"100%",height:"100%",top:0,left:0},LN=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function TN({onPaneContextMenu:e,zoomOnScroll:r=!0,zoomOnPinch:o=!0,panOnScroll:s=!1,panOnScrollSpeed:l=.5,panOnScrollMode:u=gr.Free,zoomOnDoubleClick:c=!0,panOnDrag:f=!0,defaultViewport:h,translateExtent:y,minZoom:v,maxZoom:p,zoomActivationKeyCode:x,preventScrolling:S=!0,children:E,noWheelClassName:b,noPanClassName:C,onViewportChange:_,isControlledViewport:M,paneClickDistance:w,selectionOnDrag:P}){const F=Ae(),D=k.useRef(null),{userSelectionActive:T,lib:Y,connectionInProgress:X}=be(LN,$e),re=_i(x),G=k.useRef();RN(D);const Q=k.useCallback(ne=>{_==null||_({x:ne[0],y:ne[1],zoom:ne[2]}),M||F.setState({transform:ne})},[_,M]);return k.useEffect(()=>{if(D.current){G.current=OE({domNode:D.current,minZoom:v,maxZoom:p,translateExtent:y,viewport:h,onDraggingChange:$=>F.setState({paneDragging:$}),onPanZoomStart:($,H)=>{const{onViewportChangeStart:I,onMoveStart:z}=F.getState();z==null||z($,H),I==null||I(H)},onPanZoom:($,H)=>{const{onViewportChange:I,onMove:z}=F.getState();z==null||z($,H),I==null||I(H)},onPanZoomEnd:($,H)=>{const{onViewportChangeEnd:I,onMoveEnd:z}=F.getState();z==null||z($,H),I==null||I(H)}});const{x:ne,y:R,zoom:V}=G.current.getViewport();return F.setState({panZoom:G.current,transform:[ne,R,V],domNode:D.current.closest(".react-flow")}),()=>{var $;($=G.current)==null||$.destroy()}}},[]),k.useEffect(()=>{var ne;(ne=G.current)==null||ne.update({onPaneContextMenu:e,zoomOnScroll:r,zoomOnPinch:o,panOnScroll:s,panOnScrollSpeed:l,panOnScrollMode:u,zoomOnDoubleClick:c,panOnDrag:f,zoomActivationKeyPressed:re,preventScrolling:S,noPanClassName:C,userSelectionActive:T,noWheelClassName:b,lib:Y,onTransformChange:Q,connectionInProgress:X,selectionOnDrag:P,paneClickDistance:w})},[e,r,o,s,l,u,c,f,re,S,C,T,b,Y,Q,X,P,w]),g.jsx("div",{className:"react-flow__renderer",ref:D,style:Wl,children:E})}const zN=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function $N(){const{userSelectionActive:e,userSelectionRect:r}=be(zN,$e);return e&&r?g.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:r.width,height:r.height,transform:`translate(${r.x}px, ${r.y}px)`}}):null}const ic=(e,r)=>o=>{o.target===r.current&&(e==null||e(o))},AN=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function DN({isSelecting:e,selectionKeyPressed:r,selectionMode:o=Ni.Full,panOnDrag:s,paneClickDistance:l,selectionOnDrag:u,onSelectionStart:c,onSelectionEnd:f,onPaneClick:h,onPaneContextMenu:y,onPaneScroll:v,onPaneMouseEnter:p,onPaneMouseMove:x,onPaneMouseLeave:S,children:E}){const b=Ae(),{userSelectionActive:C,elementsSelectable:_,dragging:M,connectionInProgress:w}=be(AN,$e),P=_&&(e||C),F=k.useRef(null),D=k.useRef(),T=k.useRef(new Set),Y=k.useRef(new Set),X=k.useRef(!1),re=I=>{if(X.current||w){X.current=!1;return}h==null||h(I),b.getState().resetSelectedElements(),b.setState({nodesSelectionActive:!1})},G=I=>{if(Array.isArray(s)&&(s!=null&&s.includes(2))){I.preventDefault();return}y==null||y(I)},Q=v?I=>v(I):void 0,ne=I=>{X.current&&(I.stopPropagation(),X.current=!1)},R=I=>{var ee,oe;const{domNode:z}=b.getState();if(D.current=z==null?void 0:z.getBoundingClientRect(),!D.current)return;const W=I.target===F.current;if(!W&&!!I.target.closest(".nokey")||!e||!(u&&W||r)||I.button!==0||!I.isPrimary)return;(oe=(ee=I.target)==null?void 0:ee.setPointerCapture)==null||oe.call(ee,I.pointerId),X.current=!1;const{x:U,y:Z}=Ht(I.nativeEvent,D.current);b.setState({userSelectionRect:{width:0,height:0,startX:U,startY:Z,x:U,y:Z}}),W||(I.stopPropagation(),I.preventDefault())},V=I=>{const{userSelectionRect:z,transform:W,nodeLookup:j,edgeLookup:A,connectionLookup:U,triggerNodeChanges:Z,triggerEdgeChanges:ee,defaultEdgeOptions:oe,resetSelectedElements:le}=b.getState();if(!D.current||!z)return;const{x:te,y:ce}=Ht(I.nativeEvent,D.current),{startX:pe,startY:we}=z;if(!X.current){const _e=r?0:l;if(Math.hypot(te-pe,ce-we)<=_e)return;le(),c==null||c(I)}X.current=!0;const ye={startX:pe,startY:we,x:te<pe?te:pe,y:ce<we?ce:we,width:Math.abs(te-pe),height:Math.abs(ce-we)},fe=T.current,ke=Y.current;T.current=new Set(Vc(j,ye,W,o===Ni.Partial,!0).map(_e=>_e.id)),Y.current=new Set;const Me=(oe==null?void 0:oe.selectable)??!0;for(const _e of T.current){const Ue=U.get(_e);if(Ue)for(const{edgeId:It}of Ue.values()){const ht=A.get(It);ht&&(ht.selectable??Me)&&Y.current.add(It)}}if(!up(fe,T.current)){const _e=no(j,T.current,!0);Z(_e)}if(!up(ke,Y.current)){const _e=no(A,Y.current);ee(_e)}b.setState({userSelectionRect:ye,userSelectionActive:!0,nodesSelectionActive:!1})},$=I=>{var z,W;I.button===0&&((W=(z=I.target)==null?void 0:z.releasePointerCapture)==null||W.call(z,I.pointerId),!C&&I.target===F.current&&b.getState().userSelectionRect&&(re==null||re(I)),b.setState({userSelectionActive:!1,userSelectionRect:null}),X.current&&(f==null||f(I),b.setState({nodesSelectionActive:T.current.size>0})))},H=s===!0||Array.isArray(s)&&s.includes(0);return g.jsxs("div",{className:Ye(["react-flow__pane",{draggable:H,dragging:M,selection:e}]),onClick:P?void 0:ic(re,F),onContextMenu:ic(G,F),onWheel:ic(Q,F),onPointerEnter:P?void 0:p,onPointerMove:P?V:x,onPointerUp:P?$:void 0,onPointerDownCapture:P?R:void 0,onClickCapture:P?ne:void 0,onPointerLeave:S,ref:F,style:Wl,children:[E,g.jsx($N,{})]})}function Cc({id:e,store:r,unselect:o=!1,nodeRef:s}){const{addSelectedNodes:l,unselectNodesAndEdges:u,multiSelectionActive:c,nodeLookup:f,onError:h}=r.getState(),y=f.get(e);if(!y){h==null||h("012",Zt.error012(e));return}r.setState({nodesSelectionActive:!1}),y.selected?(o||y.selected&&c)&&(u({nodes:[y],edges:[]}),requestAnimationFrame(()=>{var v;return(v=s==null?void 0:s.current)==null?void 0:v.blur()})):l([e])}function U0({nodeRef:e,disabled:r=!1,noDragClassName:o,handleSelector:s,nodeId:l,isSelectable:u,nodeClickDistance:c}){const f=Ae(),[h,y]=k.useState(!1),v=k.useRef();return k.useEffect(()=>{v.current=CE({getStoreItems:()=>f.getState(),onNodeMouseDown:p=>{Cc({id:p,store:f,nodeRef:e})},onDragStart:()=>{y(!0)},onDragStop:()=>{y(!1)}})},[]),k.useEffect(()=>{var p,x;if(r)(p=v.current)==null||p.destroy();else if(e.current)return(x=v.current)==null||x.update({noDragClassName:o,handleSelector:s,domNode:e.current,isSelectable:u,nodeId:l,nodeClickDistance:c}),()=>{var S;(S=v.current)==null||S.destroy()}},[o,s,r,u,e,l]),h}const ON=e=>r=>r.selected&&(r.draggable||e&&typeof r.draggable>"u");function W0(){const e=Ae();return k.useCallback(o=>{const{nodeExtent:s,snapToGrid:l,snapGrid:u,nodesDraggable:c,onError:f,updateNodePositions:h,nodeLookup:y,nodeOrigin:v}=e.getState(),p=new Map,x=ON(c),S=l?u[0]:5,E=l?u[1]:5,b=o.direction.x*S*o.factor,C=o.direction.y*E*o.factor;for(const[,_]of y){if(!x(_))continue;let M={x:_.internals.positionAbsolute.x+b,y:_.internals.positionAbsolute.y+C};l&&(M=zi(M,u));const{position:w,positionAbsolute:P}=u0({nodeId:_.id,nextPosition:M,nodeLookup:y,nodeExtent:s,nodeOrigin:v,onError:f});_.position=w,_.internals.positionAbsolute=P,p.set(_.id,_)}h(p)},[])}const qc=k.createContext(null),FN=qc.Provider;qc.Consumer;const Y0=()=>k.useContext(qc),HN=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),VN=(e,r,o)=>s=>{const{connectionClickStartHandle:l,connectionMode:u,connection:c}=s,{fromHandle:f,toHandle:h,isValid:y}=c,v=(h==null?void 0:h.nodeId)===e&&(h==null?void 0:h.id)===r&&(h==null?void 0:h.type)===o;return{connectingFrom:(f==null?void 0:f.nodeId)===e&&(f==null?void 0:f.id)===r&&(f==null?void 0:f.type)===o,connectingTo:v,clickConnecting:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===r&&(l==null?void 0:l.type)===o,isPossibleEndHandle:u===ao.Strict?(f==null?void 0:f.type)!==o:e!==(f==null?void 0:f.nodeId)||r!==(f==null?void 0:f.id),connectionInProcess:!!f,clickConnectionInProcess:!!l,valid:v&&y}};function BN({type:e="source",position:r=xe.Top,isValidConnection:o,isConnectable:s=!0,isConnectableStart:l=!0,isConnectableEnd:u=!0,id:c,onConnect:f,children:h,className:y,onMouseDown:v,onTouchStart:p,...x},S){var V,$;const E=c||null,b=e==="target",C=Ae(),_=Y0(),{connectOnClick:M,noPanClassName:w,rfId:P}=be(HN,$e),{connectingFrom:F,connectingTo:D,clickConnecting:T,isPossibleEndHandle:Y,connectionInProcess:X,clickConnectionInProcess:re,valid:G}=be(VN(_,E,e),$e);_||($=(V=C.getState()).onError)==null||$.call(V,"010",Zt.error010());const Q=H=>{const{defaultEdgeOptions:I,onConnect:z,hasDefaultEdges:W}=C.getState(),j={...I,...H};if(W){const{edges:A,setEdges:U}=C.getState();U(S0(j,A))}z==null||z(j),f==null||f(j)},ne=H=>{if(!_)return;const I=y0(H.nativeEvent);if(l&&(I&&H.button===0||!I)){const z=C.getState();kc.onPointerDown(H.nativeEvent,{handleDomNode:H.currentTarget,autoPanOnConnect:z.autoPanOnConnect,connectionMode:z.connectionMode,connectionRadius:z.connectionRadius,domNode:z.domNode,nodeLookup:z.nodeLookup,lib:z.lib,isTarget:b,handleId:E,nodeId:_,flowId:z.rfId,panBy:z.panBy,cancelConnection:z.cancelConnection,onConnectStart:z.onConnectStart,onConnectEnd:z.onConnectEnd,updateConnection:z.updateConnection,onConnect:Q,isValidConnection:o||z.isValidConnection,getTransform:()=>C.getState().transform,getFromHandle:()=>C.getState().connection.fromHandle,autoPanSpeed:z.autoPanSpeed,dragThreshold:z.connectionDragThreshold})}I?v==null||v(H):p==null||p(H)},R=H=>{const{onClickConnectStart:I,onClickConnectEnd:z,connectionClickStartHandle:W,connectionMode:j,isValidConnection:A,lib:U,rfId:Z,nodeLookup:ee,connection:oe}=C.getState();if(!_||!W&&!l)return;if(!W){I==null||I(H.nativeEvent,{nodeId:_,handleId:E,handleType:e}),C.setState({connectionClickStartHandle:{nodeId:_,type:e,id:E}});return}const le=m0(H.target),te=o||A,{connection:ce,isValid:pe}=kc.isValid(H.nativeEvent,{handle:{nodeId:_,id:E,type:e},connectionMode:j,fromNodeId:W.nodeId,fromHandleId:W.id||null,fromType:W.type,isValidConnection:te,flowId:Z,doc:le,lib:U,nodeLookup:ee});pe&&ce&&Q(ce);const we=structuredClone(oe);delete we.inProgress,we.toPosition=we.toHandle?we.toHandle.position:null,z==null||z(H,we),C.setState({connectionClickStartHandle:null})};return g.jsx("div",{"data-handleid":E,"data-nodeid":_,"data-handlepos":r,"data-id":`${P}-${_}-${E}-${e}`,className:Ye(["react-flow__handle",`react-flow__handle-${r}`,"nodrag",w,y,{source:!b,target:b,connectable:s,connectablestart:l,connectableend:u,clickconnecting:T,connectingfrom:F,connectingto:D,valid:G,connectionindicator:s&&(!X||Y)&&(X||re?u:l)}]),onMouseDown:ne,onTouchStart:ne,onClick:M?R:void 0,ref:S,...x,children:h})}const po=k.memo(V0(BN));function UN({data:e,isConnectable:r,sourcePosition:o=xe.Bottom}){return g.jsxs(g.Fragment,{children:[e==null?void 0:e.label,g.jsx(po,{type:"source",position:o,isConnectable:r})]})}function WN({data:e,isConnectable:r,targetPosition:o=xe.Top,sourcePosition:s=xe.Bottom}){return g.jsxs(g.Fragment,{children:[g.jsx(po,{type:"target",position:o,isConnectable:r}),e==null?void 0:e.label,g.jsx(po,{type:"source",position:s,isConnectable:r})]})}function YN(){return null}function XN({data:e,isConnectable:r,targetPosition:o=xe.Top}){return g.jsxs(g.Fragment,{children:[g.jsx(po,{type:"target",position:o,isConnectable:r}),e==null?void 0:e.label]})}const Ml={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Op={input:UN,default:WN,output:XN,group:YN};function QN(e){var r,o,s,l;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((r=e.style)==null?void 0:r.width),height:e.height??e.initialHeight??((o=e.style)==null?void 0:o.height)}:{width:e.width??((s=e.style)==null?void 0:s.width),height:e.height??((l=e.style)==null?void 0:l.height)}}const GN=e=>{const{width:r,height:o,x:s,y:l}=Ti(e.nodeLookup,{filter:u=>!!u.selected});return{width:Ft(r)?r:null,height:Ft(o)?o:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${s}px,${l}px)`}};function KN({onSelectionContextMenu:e,noPanClassName:r,disableKeyboardA11y:o}){const s=Ae(),{width:l,height:u,transformString:c,userSelectionActive:f}=be(GN,$e),h=W0(),y=k.useRef(null);if(k.useEffect(()=>{var x;o||(x=y.current)==null||x.focus({preventScroll:!0})},[o]),U0({nodeRef:y}),f||!l||!u)return null;const v=e?x=>{const S=s.getState().nodes.filter(E=>E.selected);e(x,S)}:void 0,p=x=>{Object.prototype.hasOwnProperty.call(Ml,x.key)&&(x.preventDefault(),h({direction:Ml[x.key],factor:x.shiftKey?4:1}))};return g.jsx("div",{className:Ye(["react-flow__nodesselection","react-flow__container",r]),style:{transform:c},children:g.jsx("div",{ref:y,className:"react-flow__nodesselection-rect",onContextMenu:v,tabIndex:o?void 0:-1,onKeyDown:o?void 0:p,style:{width:l,height:u}})})}const Fp=typeof window<"u"?window:void 0,qN=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function X0({children:e,onPaneClick:r,onPaneMouseEnter:o,onPaneMouseMove:s,onPaneMouseLeave:l,onPaneContextMenu:u,onPaneScroll:c,paneClickDistance:f,deleteKeyCode:h,selectionKeyCode:y,selectionOnDrag:v,selectionMode:p,onSelectionStart:x,onSelectionEnd:S,multiSelectionKeyCode:E,panActivationKeyCode:b,zoomActivationKeyCode:C,elementsSelectable:_,zoomOnScroll:M,zoomOnPinch:w,panOnScroll:P,panOnScrollSpeed:F,panOnScrollMode:D,zoomOnDoubleClick:T,panOnDrag:Y,defaultViewport:X,translateExtent:re,minZoom:G,maxZoom:Q,preventScrolling:ne,onSelectionContextMenu:R,noWheelClassName:V,noPanClassName:$,disableKeyboardA11y:H,onViewportChange:I,isControlledViewport:z}){const{nodesSelectionActive:W,userSelectionActive:j}=be(qN,$e),A=_i(y,{target:Fp}),U=_i(b,{target:Fp}),Z=U||Y,ee=U||P,oe=v&&Z!==!0,le=A||j||oe;return IN({deleteKeyCode:h,multiSelectionKeyCode:E}),g.jsx(TN,{onPaneContextMenu:u,elementsSelectable:_,zoomOnScroll:M,zoomOnPinch:w,panOnScroll:ee,panOnScrollSpeed:F,panOnScrollMode:D,zoomOnDoubleClick:T,panOnDrag:!A&&Z,defaultViewport:X,translateExtent:re,minZoom:G,maxZoom:Q,zoomActivationKeyCode:C,preventScrolling:ne,noWheelClassName:V,noPanClassName:$,onViewportChange:I,isControlledViewport:z,paneClickDistance:f,selectionOnDrag:oe,children:g.jsxs(DN,{onSelectionStart:x,onSelectionEnd:S,onPaneClick:r,onPaneMouseEnter:o,onPaneMouseMove:s,onPaneMouseLeave:l,onPaneContextMenu:u,onPaneScroll:c,panOnDrag:Z,isSelecting:!!le,selectionMode:p,selectionKeyPressed:A,paneClickDistance:f,selectionOnDrag:oe,children:[e,W&&g.jsx(KN,{onSelectionContextMenu:R,noPanClassName:$,disableKeyboardA11y:H})]})})}X0.displayName="FlowRenderer";const ZN=k.memo(X0),JN=e=>r=>e?Vc(r.nodeLookup,{x:0,y:0,width:r.width,height:r.height},r.transform,!0).map(o=>o.id):Array.from(r.nodeLookup.keys());function ek(e){return be(k.useCallback(JN(e),[e]),$e)}const tk=e=>e.updateNodeInternals;function nk(){const e=be(tk),[r]=k.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(o=>{const s=new Map;o.forEach(l=>{const u=l.target.getAttribute("data-id");s.set(u,{id:u,nodeElement:l.target,force:!0})}),e(s)}));return k.useEffect(()=>()=>{r==null||r.disconnect()},[r]),r}function rk({node:e,nodeType:r,hasDimensions:o,resizeObserver:s}){const l=Ae(),u=k.useRef(null),c=k.useRef(null),f=k.useRef(e.sourcePosition),h=k.useRef(e.targetPosition),y=k.useRef(r),v=o&&!!e.internals.handleBounds;return k.useEffect(()=>{u.current&&!e.hidden&&(!v||c.current!==u.current)&&(c.current&&(s==null||s.unobserve(c.current)),s==null||s.observe(u.current),c.current=u.current)},[v,e.hidden]),k.useEffect(()=>()=>{c.current&&(s==null||s.unobserve(c.current),c.current=null)},[]),k.useEffect(()=>{if(u.current){const p=y.current!==r,x=f.current!==e.sourcePosition,S=h.current!==e.targetPosition;(p||x||S)&&(y.current=r,f.current=e.sourcePosition,h.current=e.targetPosition,l.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:u.current,force:!0}]])))}},[e.id,r,e.sourcePosition,e.targetPosition]),u}function ok({id:e,onClick:r,onMouseEnter:o,onMouseMove:s,onMouseLeave:l,onContextMenu:u,onDoubleClick:c,nodesDraggable:f,elementsSelectable:h,nodesConnectable:y,nodesFocusable:v,resizeObserver:p,noDragClassName:x,noPanClassName:S,disableKeyboardA11y:E,rfId:b,nodeTypes:C,nodeClickDistance:_,onError:M}){const{node:w,internals:P,isParent:F}=be(te=>{const ce=te.nodeLookup.get(e),pe=te.parentLookup.has(e);return{node:ce,internals:ce.internals,isParent:pe}},$e);let D=w.type||"default",T=(C==null?void 0:C[D])||Op[D];T===void 0&&(M==null||M("003",Zt.error003(D)),D="default",T=(C==null?void 0:C.default)||Op.default);const Y=!!(w.draggable||f&&typeof w.draggable>"u"),X=!!(w.selectable||h&&typeof w.selectable>"u"),re=!!(w.connectable||y&&typeof w.connectable>"u"),G=!!(w.focusable||v&&typeof w.focusable>"u"),Q=Ae(),ne=h0(w),R=rk({node:w,nodeType:D,hasDimensions:ne,resizeObserver:p}),V=U0({nodeRef:R,disabled:w.hidden||!Y,noDragClassName:x,handleSelector:w.dragHandle,nodeId:e,isSelectable:X,nodeClickDistance:_}),$=W0();if(w.hidden)return null;const H=xn(w),I=QN(w),z=X||Y||r||o||s||l,W=o?te=>o(te,{...P.userNode}):void 0,j=s?te=>s(te,{...P.userNode}):void 0,A=l?te=>l(te,{...P.userNode}):void 0,U=u?te=>u(te,{...P.userNode}):void 0,Z=c?te=>c(te,{...P.userNode}):void 0,ee=te=>{const{selectNodesOnDrag:ce,nodeDragThreshold:pe}=Q.getState();X&&(!ce||!Y||pe>0)&&Cc({id:e,store:Q,nodeRef:R}),r&&r(te,{...P.userNode})},oe=te=>{if(!(g0(te.nativeEvent)||E)){if(o0.includes(te.key)&&X){const ce=te.key==="Escape";Cc({id:e,store:Q,unselect:ce,nodeRef:R})}else if(Y&&w.selected&&Object.prototype.hasOwnProperty.call(Ml,te.key)){te.preventDefault();const{ariaLabelConfig:ce}=Q.getState();Q.setState({ariaLiveMessage:ce["node.a11yDescription.ariaLiveMessage"]({direction:te.key.replace("Arrow","").toLowerCase(),x:~~P.positionAbsolute.x,y:~~P.positionAbsolute.y})}),$({direction:Ml[te.key],factor:te.shiftKey?4:1})}}},le=()=>{var ke;if(E||!((ke=R.current)!=null&&ke.matches(":focus-visible")))return;const{transform:te,width:ce,height:pe,autoPanOnNodeFocus:we,setCenter:ye}=Q.getState();if(!we)return;Vc(new Map([[e,w]]),{x:0,y:0,width:ce,height:pe},te,!0).length>0||ye(w.position.x+H.width/2,w.position.y+H.height/2,{zoom:te[2]})};return g.jsx("div",{className:Ye(["react-flow__node",`react-flow__node-${D}`,{[S]:Y},w.className,{selected:w.selected,selectable:X,parent:F,draggable:Y,dragging:V}]),ref:R,style:{zIndex:P.z,transform:`translate(${P.positionAbsolute.x}px,${P.positionAbsolute.y}px)`,pointerEvents:z?"all":"none",visibility:ne?"visible":"hidden",...w.style,...I},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:W,onMouseMove:j,onMouseLeave:A,onContextMenu:U,onClick:ee,onDoubleClick:Z,onKeyDown:G?oe:void 0,tabIndex:G?0:void 0,onFocus:G?le:void 0,role:w.ariaRole??(G?"group":void 0),"aria-roledescription":"node","aria-describedby":E?void 0:`${$0}-${b}`,"aria-label":w.ariaLabel,...w.domAttributes,children:g.jsx(FN,{value:e,children:g.jsx(T,{id:e,data:w.data,type:D,positionAbsoluteX:P.positionAbsolute.x,positionAbsoluteY:P.positionAbsolute.y,selected:w.selected??!1,selectable:X,draggable:Y,deletable:w.deletable??!0,isConnectable:re,sourcePosition:w.sourcePosition,targetPosition:w.targetPosition,dragging:V,dragHandle:w.dragHandle,zIndex:P.z,parentId:w.parentId,...H})})})}var ik=k.memo(ok);const sk=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function Q0(e){const{nodesDraggable:r,nodesConnectable:o,nodesFocusable:s,elementsSelectable:l,onError:u}=be(sk,$e),c=ek(e.onlyRenderVisibleElements),f=nk();return g.jsx("div",{className:"react-flow__nodes",style:Wl,children:c.map(h=>g.jsx(ik,{id:h,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:f,nodesDraggable:r,nodesConnectable:o,nodesFocusable:s,elementsSelectable:l,nodeClickDistance:e.nodeClickDistance,onError:u},h))})}Q0.displayName="NodeRenderer";const lk=k.memo(Q0);function ak(e){return be(k.useCallback(o=>{if(!e)return o.edges.map(l=>l.id);const s=[];if(o.width&&o.height)for(const l of o.edges){const u=o.nodeLookup.get(l.source),c=o.nodeLookup.get(l.target);u&&c&&lE({sourceNode:u,targetNode:c,width:o.width,height:o.height,transform:o.transform})&&s.push(l.id)}return s},[e]),$e)}const uk=({color:e="none",strokeWidth:r=1})=>{const o={strokeWidth:r,...e&&{stroke:e}};return g.jsx("polyline",{className:"arrow",style:o,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},ck=({color:e="none",strokeWidth:r=1})=>{const o={strokeWidth:r,...e&&{stroke:e,fill:e}};return g.jsx("polyline",{className:"arrowclosed",style:o,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Hp={[bl.Arrow]:uk,[bl.ArrowClosed]:ck};function dk(e){const r=Ae();return k.useMemo(()=>{var l,u;return Object.prototype.hasOwnProperty.call(Hp,e)?Hp[e]:((u=(l=r.getState()).onError)==null||u.call(l,"009",Zt.error009(e)),null)},[e])}const fk=({id:e,type:r,color:o,width:s=12.5,height:l=12.5,markerUnits:u="strokeWidth",strokeWidth:c,orient:f="auto-start-reverse"})=>{const h=dk(r);return h?g.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${s}`,markerHeight:`${l}`,viewBox:"-10 -10 20 20",markerUnits:u,orient:f,refX:"0",refY:"0",children:g.jsx(h,{color:o,strokeWidth:c})}):null},G0=({defaultColor:e,rfId:r})=>{const o=be(u=>u.edges),s=be(u=>u.defaultEdgeOptions),l=k.useMemo(()=>pE(o,{id:r,defaultColor:e,defaultMarkerStart:s==null?void 0:s.markerStart,defaultMarkerEnd:s==null?void 0:s.markerEnd}),[o,s,r,e]);return l.length?g.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:g.jsx("defs",{children:l.map(u=>g.jsx(fk,{id:u.id,type:u.type,color:u.color,width:u.width,height:u.height,markerUnits:u.markerUnits,strokeWidth:u.strokeWidth,orient:u.orient},u.id))})}):null};G0.displayName="MarkerDefinitions";var hk=k.memo(G0);function K0({x:e,y:r,label:o,labelStyle:s,labelShowBg:l=!0,labelBgStyle:u,labelBgPadding:c=[2,4],labelBgBorderRadius:f=2,children:h,className:y,...v}){const[p,x]=k.useState({x:1,y:0,width:0,height:0}),S=Ye(["react-flow__edge-textwrapper",y]),E=k.useRef(null);return k.useEffect(()=>{if(E.current){const b=E.current.getBBox();x({x:b.x,y:b.y,width:b.width,height:b.height})}},[o]),o?g.jsxs("g",{transform:`translate(${e-p.width/2} ${r-p.height/2})`,className:S,visibility:p.width?"visible":"hidden",...v,children:[l&&g.jsx("rect",{width:p.width+2*c[0],x:-c[0],y:-c[1],height:p.height+2*c[1],className:"react-flow__edge-textbg",style:u,rx:f,ry:f}),g.jsx("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:E,style:s,children:o}),h]}):null}K0.displayName="EdgeText";const pk=k.memo(K0);function Yl({path:e,labelX:r,labelY:o,label:s,labelStyle:l,labelShowBg:u,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:h,interactionWidth:y=20,...v}){return g.jsxs(g.Fragment,{children:[g.jsx("path",{...v,d:e,fill:"none",className:Ye(["react-flow__edge-path",v.className])}),y?g.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:y,className:"react-flow__edge-interaction"}):null,s&&Ft(r)&&Ft(o)?g.jsx(pk,{x:r,y:o,label:s,labelStyle:l,labelShowBg:u,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:h}):null]})}function Vp({pos:e,x1:r,y1:o,x2:s,y2:l}){return e===xe.Left||e===xe.Right?[.5*(r+s),o]:[r,.5*(o+l)]}function q0({sourceX:e,sourceY:r,sourcePosition:o=xe.Bottom,targetX:s,targetY:l,targetPosition:u=xe.Top}){const[c,f]=Vp({pos:o,x1:e,y1:r,x2:s,y2:l}),[h,y]=Vp({pos:u,x1:s,y1:l,x2:e,y2:r}),[v,p,x,S]=v0({sourceX:e,sourceY:r,targetX:s,targetY:l,sourceControlX:c,sourceControlY:f,targetControlX:h,targetControlY:y});return[`M${e},${r} C${c},${f} ${h},${y} ${s},${l}`,v,p,x,S]}function Z0(e){return k.memo(({id:r,sourceX:o,sourceY:s,targetX:l,targetY:u,sourcePosition:c,targetPosition:f,label:h,labelStyle:y,labelShowBg:v,labelBgStyle:p,labelBgPadding:x,labelBgBorderRadius:S,style:E,markerEnd:b,markerStart:C,interactionWidth:_})=>{const[M,w,P]=q0({sourceX:o,sourceY:s,sourcePosition:c,targetX:l,targetY:u,targetPosition:f}),F=e.isInternal?void 0:r;return g.jsx(Yl,{id:F,path:M,labelX:w,labelY:P,label:h,labelStyle:y,labelShowBg:v,labelBgStyle:p,labelBgPadding:x,labelBgBorderRadius:S,style:E,markerEnd:b,markerStart:C,interactionWidth:_})})}const mk=Z0({isInternal:!1}),J0=Z0({isInternal:!0});mk.displayName="SimpleBezierEdge";J0.displayName="SimpleBezierEdgeInternal";function eg(e){return k.memo(({id:r,sourceX:o,sourceY:s,targetX:l,targetY:u,label:c,labelStyle:f,labelShowBg:h,labelBgStyle:y,labelBgPadding:v,labelBgBorderRadius:p,style:x,sourcePosition:S=xe.Bottom,targetPosition:E=xe.Top,markerEnd:b,markerStart:C,pathOptions:_,interactionWidth:M})=>{const[w,P,F]=Sc({sourceX:o,sourceY:s,sourcePosition:S,targetX:l,targetY:u,targetPosition:E,borderRadius:_==null?void 0:_.borderRadius,offset:_==null?void 0:_.offset,stepPosition:_==null?void 0:_.stepPosition}),D=e.isInternal?void 0:r;return g.jsx(Yl,{id:D,path:w,labelX:P,labelY:F,label:c,labelStyle:f,labelShowBg:h,labelBgStyle:y,labelBgPadding:v,labelBgBorderRadius:p,style:x,markerEnd:b,markerStart:C,interactionWidth:M})})}const tg=eg({isInternal:!1}),ng=eg({isInternal:!0});tg.displayName="SmoothStepEdge";ng.displayName="SmoothStepEdgeInternal";function rg(e){return k.memo(({id:r,...o})=>{var l;const s=e.isInternal?void 0:r;return g.jsx(tg,{...o,id:s,pathOptions:k.useMemo(()=>{var u;return{borderRadius:0,offset:(u=o.pathOptions)==null?void 0:u.offset}},[(l=o.pathOptions)==null?void 0:l.offset])})})}const gk=rg({isInternal:!1}),og=rg({isInternal:!0});gk.displayName="StepEdge";og.displayName="StepEdgeInternal";function ig(e){return k.memo(({id:r,sourceX:o,sourceY:s,targetX:l,targetY:u,label:c,labelStyle:f,labelShowBg:h,labelBgStyle:y,labelBgPadding:v,labelBgBorderRadius:p,style:x,markerEnd:S,markerStart:E,interactionWidth:b})=>{const[C,_,M]=E0({sourceX:o,sourceY:s,targetX:l,targetY:u}),w=e.isInternal?void 0:r;return g.jsx(Yl,{id:w,path:C,labelX:_,labelY:M,label:c,labelStyle:f,labelShowBg:h,labelBgStyle:y,labelBgPadding:v,labelBgBorderRadius:p,style:x,markerEnd:S,markerStart:E,interactionWidth:b})})}const yk=ig({isInternal:!1}),sg=ig({isInternal:!0});yk.displayName="StraightEdge";sg.displayName="StraightEdgeInternal";function lg(e){return k.memo(({id:r,sourceX:o,sourceY:s,targetX:l,targetY:u,sourcePosition:c=xe.Bottom,targetPosition:f=xe.Top,label:h,labelStyle:y,labelShowBg:v,labelBgStyle:p,labelBgPadding:x,labelBgBorderRadius:S,style:E,markerEnd:b,markerStart:C,pathOptions:_,interactionWidth:M})=>{const[w,P,F]=x0({sourceX:o,sourceY:s,sourcePosition:c,targetX:l,targetY:u,targetPosition:f,curvature:_==null?void 0:_.curvature}),D=e.isInternal?void 0:r;return g.jsx(Yl,{id:D,path:w,labelX:P,labelY:F,label:h,labelStyle:y,labelShowBg:v,labelBgStyle:p,labelBgPadding:x,labelBgBorderRadius:S,style:E,markerEnd:b,markerStart:C,interactionWidth:M})})}const vk=lg({isInternal:!1}),ag=lg({isInternal:!0});vk.displayName="BezierEdge";ag.displayName="BezierEdgeInternal";const Bp={default:ag,straight:sg,step:og,smoothstep:ng,simplebezier:J0},Up={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},xk=(e,r,o)=>o===xe.Left?e-r:o===xe.Right?e+r:e,wk=(e,r,o)=>o===xe.Top?e-r:o===xe.Bottom?e+r:e,Wp="react-flow__edgeupdater";function Yp({position:e,centerX:r,centerY:o,radius:s=10,onMouseDown:l,onMouseEnter:u,onMouseOut:c,type:f}){return g.jsx("circle",{onMouseDown:l,onMouseEnter:u,onMouseOut:c,className:Ye([Wp,`${Wp}-${f}`]),cx:xk(r,s,e),cy:wk(o,s,e),r:s,stroke:"transparent",fill:"transparent"})}function Sk({isReconnectable:e,reconnectRadius:r,edge:o,sourceX:s,sourceY:l,targetX:u,targetY:c,sourcePosition:f,targetPosition:h,onReconnect:y,onReconnectStart:v,onReconnectEnd:p,setReconnecting:x,setUpdateHover:S}){const E=Ae(),b=(P,F)=>{if(P.button!==0)return;const{autoPanOnConnect:D,domNode:T,isValidConnection:Y,connectionMode:X,connectionRadius:re,lib:G,onConnectStart:Q,onConnectEnd:ne,cancelConnection:R,nodeLookup:V,rfId:$,panBy:H,updateConnection:I}=E.getState(),z=F.type==="target",W=(U,Z)=>{x(!1),p==null||p(U,o,F.type,Z)},j=U=>y==null?void 0:y(o,U),A=(U,Z)=>{x(!0),v==null||v(P,o,F.type),Q==null||Q(U,Z)};kc.onPointerDown(P.nativeEvent,{autoPanOnConnect:D,connectionMode:X,connectionRadius:re,domNode:T,handleId:F.id,nodeId:F.nodeId,nodeLookup:V,isTarget:z,edgeUpdaterType:F.type,lib:G,flowId:$,cancelConnection:R,panBy:H,isValidConnection:Y,onConnect:j,onConnectStart:A,onConnectEnd:ne,onReconnectEnd:W,updateConnection:I,getTransform:()=>E.getState().transform,getFromHandle:()=>E.getState().connection.fromHandle,dragThreshold:E.getState().connectionDragThreshold,handleDomNode:P.currentTarget})},C=P=>b(P,{nodeId:o.target,id:o.targetHandle??null,type:"target"}),_=P=>b(P,{nodeId:o.source,id:o.sourceHandle??null,type:"source"}),M=()=>S(!0),w=()=>S(!1);return g.jsxs(g.Fragment,{children:[(e===!0||e==="source")&&g.jsx(Yp,{position:f,centerX:s,centerY:l,radius:r,onMouseDown:C,onMouseEnter:M,onMouseOut:w,type:"source"}),(e===!0||e==="target")&&g.jsx(Yp,{position:h,centerX:u,centerY:c,radius:r,onMouseDown:_,onMouseEnter:M,onMouseOut:w,type:"target"})]})}function Ek({id:e,edgesFocusable:r,edgesReconnectable:o,elementsSelectable:s,onClick:l,onDoubleClick:u,onContextMenu:c,onMouseEnter:f,onMouseMove:h,onMouseLeave:y,reconnectRadius:v,onReconnect:p,onReconnectStart:x,onReconnectEnd:S,rfId:E,edgeTypes:b,noPanClassName:C,onError:_,disableKeyboardA11y:M}){let w=be(ye=>ye.edgeLookup.get(e));const P=be(ye=>ye.defaultEdgeOptions);w=P?{...P,...w}:w;let F=w.type||"default",D=(b==null?void 0:b[F])||Bp[F];D===void 0&&(_==null||_("011",Zt.error011(F)),F="default",D=(b==null?void 0:b.default)||Bp.default);const T=!!(w.focusable||r&&typeof w.focusable>"u"),Y=typeof p<"u"&&(w.reconnectable||o&&typeof w.reconnectable>"u"),X=!!(w.selectable||s&&typeof w.selectable>"u"),re=k.useRef(null),[G,Q]=k.useState(!1),[ne,R]=k.useState(!1),V=Ae(),{zIndex:$,sourceX:H,sourceY:I,targetX:z,targetY:W,sourcePosition:j,targetPosition:A}=be(k.useCallback(ye=>{const fe=ye.nodeLookup.get(w.source),ke=ye.nodeLookup.get(w.target);if(!fe||!ke)return{zIndex:w.zIndex,...Up};const Me=hE({id:e,sourceNode:fe,targetNode:ke,sourceHandle:w.sourceHandle||null,targetHandle:w.targetHandle||null,connectionMode:ye.connectionMode,onError:_});return{zIndex:sE({selected:w.selected,zIndex:w.zIndex,sourceNode:fe,targetNode:ke,elevateOnSelect:ye.elevateEdgesOnSelect,zIndexMode:ye.zIndexMode}),...Me||Up}},[w.source,w.target,w.sourceHandle,w.targetHandle,w.selected,w.zIndex]),$e),U=k.useMemo(()=>w.markerStart?`url('#${Ec(w.markerStart,E)}')`:void 0,[w.markerStart,E]),Z=k.useMemo(()=>w.markerEnd?`url('#${Ec(w.markerEnd,E)}')`:void 0,[w.markerEnd,E]);if(w.hidden||H===null||I===null||z===null||W===null)return null;const ee=ye=>{var _e;const{addSelectedEdges:fe,unselectNodesAndEdges:ke,multiSelectionActive:Me}=V.getState();X&&(V.setState({nodesSelectionActive:!1}),w.selected&&Me?(ke({nodes:[],edges:[w]}),(_e=re.current)==null||_e.blur()):fe([e])),l&&l(ye,w)},oe=u?ye=>{u(ye,{...w})}:void 0,le=c?ye=>{c(ye,{...w})}:void 0,te=f?ye=>{f(ye,{...w})}:void 0,ce=h?ye=>{h(ye,{...w})}:void 0,pe=y?ye=>{y(ye,{...w})}:void 0,we=ye=>{var fe;if(!M&&o0.includes(ye.key)&&X){const{unselectNodesAndEdges:ke,addSelectedEdges:Me}=V.getState();ye.key==="Escape"?((fe=re.current)==null||fe.blur(),ke({edges:[w]})):Me([e])}};return g.jsx("svg",{style:{zIndex:$},children:g.jsxs("g",{className:Ye(["react-flow__edge",`react-flow__edge-${F}`,w.className,C,{selected:w.selected,animated:w.animated,inactive:!X&&!l,updating:G,selectable:X}]),onClick:ee,onDoubleClick:oe,onContextMenu:le,onMouseEnter:te,onMouseMove:ce,onMouseLeave:pe,onKeyDown:T?we:void 0,tabIndex:T?0:void 0,role:w.ariaRole??(T?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":w.ariaLabel===null?void 0:w.ariaLabel||`Edge from ${w.source} to ${w.target}`,"aria-describedby":T?`${A0}-${E}`:void 0,ref:re,...w.domAttributes,children:[!ne&&g.jsx(D,{id:e,source:w.source,target:w.target,type:w.type,selected:w.selected,animated:w.animated,selectable:X,deletable:w.deletable??!0,label:w.label,labelStyle:w.labelStyle,labelShowBg:w.labelShowBg,labelBgStyle:w.labelBgStyle,labelBgPadding:w.labelBgPadding,labelBgBorderRadius:w.labelBgBorderRadius,sourceX:H,sourceY:I,targetX:z,targetY:W,sourcePosition:j,targetPosition:A,data:w.data,style:w.style,sourceHandleId:w.sourceHandle,targetHandleId:w.targetHandle,markerStart:U,markerEnd:Z,pathOptions:"pathOptions"in w?w.pathOptions:void 0,interactionWidth:w.interactionWidth}),Y&&g.jsx(Sk,{edge:w,isReconnectable:Y,reconnectRadius:v,onReconnect:p,onReconnectStart:x,onReconnectEnd:S,sourceX:H,sourceY:I,targetX:z,targetY:W,sourcePosition:j,targetPosition:A,setUpdateHover:Q,setReconnecting:R})]})})}var Nk=k.memo(Ek);const kk=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function ug({defaultMarkerColor:e,onlyRenderVisibleElements:r,rfId:o,edgeTypes:s,noPanClassName:l,onReconnect:u,onEdgeContextMenu:c,onEdgeMouseEnter:f,onEdgeMouseMove:h,onEdgeMouseLeave:y,onEdgeClick:v,reconnectRadius:p,onEdgeDoubleClick:x,onReconnectStart:S,onReconnectEnd:E,disableKeyboardA11y:b}){const{edgesFocusable:C,edgesReconnectable:_,elementsSelectable:M,onError:w}=be(kk,$e),P=ak(r);return g.jsxs("div",{className:"react-flow__edges",children:[g.jsx(hk,{defaultColor:e,rfId:o}),P.map(F=>g.jsx(Nk,{id:F,edgesFocusable:C,edgesReconnectable:_,elementsSelectable:M,noPanClassName:l,onReconnect:u,onContextMenu:c,onMouseEnter:f,onMouseMove:h,onMouseLeave:y,onClick:v,reconnectRadius:p,onDoubleClick:x,onReconnectStart:S,onReconnectEnd:E,rfId:o,onError:w,edgeTypes:s,disableKeyboardA11y:b},F))]})}ug.displayName="EdgeRenderer";const Ck=k.memo(ug),_k=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function bk({children:e}){const r=be(_k);return g.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:r},children:e})}function jk(e){const r=Kc(),o=k.useRef(!1);k.useEffect(()=>{!o.current&&r.viewportInitialized&&e&&(setTimeout(()=>e(r),1),o.current=!0)},[e,r.viewportInitialized])}const Pk=e=>{var r;return(r=e.panZoom)==null?void 0:r.syncViewport};function Mk(e){const r=be(Pk),o=Ae();return k.useEffect(()=>{e&&(r==null||r(e),o.setState({transform:[e.x,e.y,e.zoom]}))},[e,r]),null}function Ik(e){return e.connection.inProgress?{...e.connection,to:$i(e.connection.to,e.transform)}:{...e.connection}}function Rk(e){return Ik}function Lk(e){const r=Rk();return be(r,$e)}const Tk=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function zk({containerStyle:e,style:r,type:o,component:s}){const{nodesConnectable:l,width:u,height:c,isValid:f,inProgress:h}=be(Tk,$e);return!(u&&l&&h)?null:g.jsx("svg",{style:e,width:u,height:c,className:"react-flow__connectionline react-flow__container",children:g.jsx("g",{className:Ye(["react-flow__connection",l0(f)]),children:g.jsx(cg,{style:r,type:o,CustomComponent:s,isValid:f})})})}const cg=({style:e,type:r=Un.Bezier,CustomComponent:o,isValid:s})=>{const{inProgress:l,from:u,fromNode:c,fromHandle:f,fromPosition:h,to:y,toNode:v,toHandle:p,toPosition:x,pointer:S}=Lk();if(!l)return;if(o)return g.jsx(o,{connectionLineType:r,connectionLineStyle:e,fromNode:c,fromHandle:f,fromX:u.x,fromY:u.y,toX:y.x,toY:y.y,fromPosition:h,toPosition:x,connectionStatus:l0(s),toNode:v,toHandle:p,pointer:S});let E="";const b={sourceX:u.x,sourceY:u.y,sourcePosition:h,targetX:y.x,targetY:y.y,targetPosition:x};switch(r){case Un.Bezier:[E]=x0(b);break;case Un.SimpleBezier:[E]=q0(b);break;case Un.Step:[E]=Sc({...b,borderRadius:0});break;case Un.SmoothStep:[E]=Sc(b);break;default:[E]=E0(b)}return g.jsx("path",{d:E,fill:"none",className:"react-flow__connection-path",style:e})};cg.displayName="ConnectionLine";const $k={};function Xp(e=$k){k.useRef(e),Ae(),k.useEffect(()=>{},[e])}function Ak(){Ae(),k.useRef(!1),k.useEffect(()=>{},[])}function dg({nodeTypes:e,edgeTypes:r,onInit:o,onNodeClick:s,onEdgeClick:l,onNodeDoubleClick:u,onEdgeDoubleClick:c,onNodeMouseEnter:f,onNodeMouseMove:h,onNodeMouseLeave:y,onNodeContextMenu:v,onSelectionContextMenu:p,onSelectionStart:x,onSelectionEnd:S,connectionLineType:E,connectionLineStyle:b,connectionLineComponent:C,connectionLineContainerStyle:_,selectionKeyCode:M,selectionOnDrag:w,selectionMode:P,multiSelectionKeyCode:F,panActivationKeyCode:D,zoomActivationKeyCode:T,deleteKeyCode:Y,onlyRenderVisibleElements:X,elementsSelectable:re,defaultViewport:G,translateExtent:Q,minZoom:ne,maxZoom:R,preventScrolling:V,defaultMarkerColor:$,zoomOnScroll:H,zoomOnPinch:I,panOnScroll:z,panOnScrollSpeed:W,panOnScrollMode:j,zoomOnDoubleClick:A,panOnDrag:U,onPaneClick:Z,onPaneMouseEnter:ee,onPaneMouseMove:oe,onPaneMouseLeave:le,onPaneScroll:te,onPaneContextMenu:ce,paneClickDistance:pe,nodeClickDistance:we,onEdgeContextMenu:ye,onEdgeMouseEnter:fe,onEdgeMouseMove:ke,onEdgeMouseLeave:Me,reconnectRadius:_e,onReconnect:Ue,onReconnectStart:It,onReconnectEnd:ht,noDragClassName:pt,noWheelClassName:Et,noPanClassName:tn,disableKeyboardA11y:wn,nodeExtent:Sr,rfId:Xn,viewport:nn,onViewportChange:rn}){return Xp(e),Xp(r),Ak(),jk(o),Mk(nn),g.jsx(ZN,{onPaneClick:Z,onPaneMouseEnter:ee,onPaneMouseMove:oe,onPaneMouseLeave:le,onPaneContextMenu:ce,onPaneScroll:te,paneClickDistance:pe,deleteKeyCode:Y,selectionKeyCode:M,selectionOnDrag:w,selectionMode:P,onSelectionStart:x,onSelectionEnd:S,multiSelectionKeyCode:F,panActivationKeyCode:D,zoomActivationKeyCode:T,elementsSelectable:re,zoomOnScroll:H,zoomOnPinch:I,zoomOnDoubleClick:A,panOnScroll:z,panOnScrollSpeed:W,panOnScrollMode:j,panOnDrag:U,defaultViewport:G,translateExtent:Q,minZoom:ne,maxZoom:R,onSelectionContextMenu:p,preventScrolling:V,noDragClassName:pt,noWheelClassName:Et,noPanClassName:tn,disableKeyboardA11y:wn,onViewportChange:rn,isControlledViewport:!!nn,children:g.jsxs(bk,{children:[g.jsx(Ck,{edgeTypes:r,onEdgeClick:l,onEdgeDoubleClick:c,onReconnect:Ue,onReconnectStart:It,onReconnectEnd:ht,onlyRenderVisibleElements:X,onEdgeContextMenu:ye,onEdgeMouseEnter:fe,onEdgeMouseMove:ke,onEdgeMouseLeave:Me,reconnectRadius:_e,defaultMarkerColor:$,noPanClassName:tn,disableKeyboardA11y:wn,rfId:Xn}),g.jsx(zk,{style:b,type:E,component:C,containerStyle:_}),g.jsx("div",{className:"react-flow__edgelabel-renderer"}),g.jsx(lk,{nodeTypes:e,onNodeClick:s,onNodeDoubleClick:u,onNodeMouseEnter:f,onNodeMouseMove:h,onNodeMouseLeave:y,onNodeContextMenu:v,nodeClickDistance:we,onlyRenderVisibleElements:X,noPanClassName:tn,noDragClassName:pt,disableKeyboardA11y:wn,nodeExtent:Sr,rfId:Xn}),g.jsx("div",{className:"react-flow__viewport-portal"})]})})}dg.displayName="GraphView";const Dk=k.memo(dg),Qp=({nodes:e,edges:r,defaultNodes:o,defaultEdges:s,width:l,height:u,fitView:c,fitViewOptions:f,minZoom:h=.5,maxZoom:y=2,nodeOrigin:v,nodeExtent:p,zIndexMode:x="basic"}={})=>{const S=new Map,E=new Map,b=new Map,C=new Map,_=s??r??[],M=o??e??[],w=v??[0,0],P=p??Ei;C0(b,C,_);const F=Nc(M,S,E,{nodeOrigin:w,nodeExtent:P,zIndexMode:x});let D=[0,0,1];if(c&&l&&u){const T=Ti(S,{filter:G=>!!((G.width||G.initialWidth)&&(G.height||G.initialHeight))}),{x:Y,y:X,zoom:re}=Bc(T,l,u,h,y,(f==null?void 0:f.padding)??.1);D=[Y,X,re]}return{rfId:"1",width:l??0,height:u??0,transform:D,nodes:M,nodesInitialized:F,nodeLookup:S,parentLookup:E,edges:_,edgeLookup:C,connectionLookup:b,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:o!==void 0,hasDefaultEdges:s!==void 0,panZoom:null,minZoom:h,maxZoom:y,translateExtent:Ei,nodeExtent:P,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:ao.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:w,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:c??!1,fitViewOptions:f,fitViewResolver:null,connection:{...s0},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:eE,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:i0,zIndexMode:x,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},Ok=({nodes:e,edges:r,defaultNodes:o,defaultEdges:s,width:l,height:u,fitView:c,fitViewOptions:f,minZoom:h,maxZoom:y,nodeOrigin:v,nodeExtent:p,zIndexMode:x})=>rN((S,E)=>{async function b(){const{nodeLookup:C,panZoom:_,fitViewOptions:M,fitViewResolver:w,width:P,height:F,minZoom:D,maxZoom:T}=E();_&&(await Z2({nodes:C,width:P,height:F,panZoom:_,minZoom:D,maxZoom:T},M),w==null||w.resolve(!0),S({fitViewResolver:null}))}return{...Qp({nodes:e,edges:r,width:l,height:u,fitView:c,fitViewOptions:f,minZoom:h,maxZoom:y,nodeOrigin:v,nodeExtent:p,defaultNodes:o,defaultEdges:s,zIndexMode:x}),setNodes:C=>{const{nodeLookup:_,parentLookup:M,nodeOrigin:w,elevateNodesOnSelect:P,fitViewQueued:F,zIndexMode:D}=E(),T=Nc(C,_,M,{nodeOrigin:w,nodeExtent:p,elevateNodesOnSelect:P,checkEquality:!0,zIndexMode:D});F&&T?(b(),S({nodes:C,nodesInitialized:T,fitViewQueued:!1,fitViewOptions:void 0})):S({nodes:C,nodesInitialized:T})},setEdges:C=>{const{connectionLookup:_,edgeLookup:M}=E();C0(_,M,C),S({edges:C})},setDefaultNodesAndEdges:(C,_)=>{if(C){const{setNodes:M}=E();M(C),S({hasDefaultNodes:!0})}if(_){const{setEdges:M}=E();M(_),S({hasDefaultEdges:!0})}},updateNodeInternals:C=>{const{triggerNodeChanges:_,nodeLookup:M,parentLookup:w,domNode:P,nodeOrigin:F,nodeExtent:D,debug:T,fitViewQueued:Y,zIndexMode:X}=E(),{changes:re,updatedInternals:G}=SE(C,M,w,P,F,D,X);G&&(yE(M,w,{nodeOrigin:F,nodeExtent:D,zIndexMode:X}),Y?(b(),S({fitViewQueued:!1,fitViewOptions:void 0})):S({}),(re==null?void 0:re.length)>0&&(T&&console.log("React Flow: trigger node changes",re),_==null||_(re)))},updateNodePositions:(C,_=!1)=>{const M=[];let w=[];const{nodeLookup:P,triggerNodeChanges:F,connection:D,updateConnection:T,onNodesChangeMiddlewareMap:Y}=E();for(const[X,re]of C){const G=P.get(X),Q=!!(G!=null&&G.expandParent&&(G!=null&&G.parentId)&&(re!=null&&re.position)),ne={id:X,type:"position",position:Q?{x:Math.max(0,re.position.x),y:Math.max(0,re.position.y)}:re.position,dragging:_};if(G&&D.inProgress&&D.fromNode.id===G.id){const R=wr(G,D.fromHandle,xe.Left,!0);T({...D,from:R})}Q&&G.parentId&&M.push({id:X,parentId:G.parentId,rect:{...re.internals.positionAbsolute,width:re.measured.width??0,height:re.measured.height??0}}),w.push(ne)}if(M.length>0){const{parentLookup:X,nodeOrigin:re}=E(),G=Gc(M,P,X,re);w.push(...G)}for(const X of Y.values())w=X(w);F(w)},triggerNodeChanges:C=>{const{onNodesChange:_,setNodes:M,nodes:w,hasDefaultNodes:P,debug:F}=E();if(C!=null&&C.length){if(P){const D=F0(C,w);M(D)}F&&console.log("React Flow: trigger node changes",C),_==null||_(C)}},triggerEdgeChanges:C=>{const{onEdgesChange:_,setEdges:M,edges:w,hasDefaultEdges:P,debug:F}=E();if(C!=null&&C.length){if(P){const D=H0(C,w);M(D)}F&&console.log("React Flow: trigger edge changes",C),_==null||_(C)}},addSelectedNodes:C=>{const{multiSelectionActive:_,edgeLookup:M,nodeLookup:w,triggerNodeChanges:P,triggerEdgeChanges:F}=E();if(_){const D=C.map(T=>hr(T,!0));P(D);return}P(no(w,new Set([...C]),!0)),F(no(M))},addSelectedEdges:C=>{const{multiSelectionActive:_,edgeLookup:M,nodeLookup:w,triggerNodeChanges:P,triggerEdgeChanges:F}=E();if(_){const D=C.map(T=>hr(T,!0));F(D);return}F(no(M,new Set([...C]))),P(no(w,new Set,!0))},unselectNodesAndEdges:({nodes:C,edges:_}={})=>{const{edges:M,nodes:w,nodeLookup:P,triggerNodeChanges:F,triggerEdgeChanges:D}=E(),T=C||w,Y=_||M,X=T.map(G=>{const Q=P.get(G.id);return Q&&(Q.selected=!1),hr(G.id,!1)}),re=Y.map(G=>hr(G.id,!1));F(X),D(re)},setMinZoom:C=>{const{panZoom:_,maxZoom:M}=E();_==null||_.setScaleExtent([C,M]),S({minZoom:C})},setMaxZoom:C=>{const{panZoom:_,minZoom:M}=E();_==null||_.setScaleExtent([M,C]),S({maxZoom:C})},setTranslateExtent:C=>{var _;(_=E().panZoom)==null||_.setTranslateExtent(C),S({translateExtent:C})},resetSelectedElements:()=>{const{edges:C,nodes:_,triggerNodeChanges:M,triggerEdgeChanges:w,elementsSelectable:P}=E();if(!P)return;const F=_.reduce((T,Y)=>Y.selected?[...T,hr(Y.id,!1)]:T,[]),D=C.reduce((T,Y)=>Y.selected?[...T,hr(Y.id,!1)]:T,[]);M(F),w(D)},setNodeExtent:C=>{const{nodes:_,nodeLookup:M,parentLookup:w,nodeOrigin:P,elevateNodesOnSelect:F,nodeExtent:D,zIndexMode:T}=E();C[0][0]===D[0][0]&&C[0][1]===D[0][1]&&C[1][0]===D[1][0]&&C[1][1]===D[1][1]||(Nc(_,M,w,{nodeOrigin:P,nodeExtent:C,elevateNodesOnSelect:F,checkEquality:!1,zIndexMode:T}),S({nodeExtent:C}))},panBy:C=>{const{transform:_,width:M,height:w,panZoom:P,translateExtent:F}=E();return EE({delta:C,panZoom:P,transform:_,translateExtent:F,width:M,height:w})},setCenter:async(C,_,M)=>{const{width:w,height:P,maxZoom:F,panZoom:D}=E();if(!D)return Promise.resolve(!1);const T=typeof(M==null?void 0:M.zoom)<"u"?M.zoom:F;return await D.setViewport({x:w/2-C*T,y:P/2-_*T,zoom:T},{duration:M==null?void 0:M.duration,ease:M==null?void 0:M.ease,interpolate:M==null?void 0:M.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{S({connection:{...s0}})},updateConnection:C=>{S({connection:C})},reset:()=>S({...Qp()})}},Object.is);function Fk({initialNodes:e,initialEdges:r,defaultNodes:o,defaultEdges:s,initialWidth:l,initialHeight:u,initialMinZoom:c,initialMaxZoom:f,initialFitViewOptions:h,fitView:y,nodeOrigin:v,nodeExtent:p,zIndexMode:x,children:S}){const[E]=k.useState(()=>Ok({nodes:e,edges:r,defaultNodes:o,defaultEdges:s,width:l,height:u,fitView:y,minZoom:c,maxZoom:f,fitViewOptions:h,nodeOrigin:v,nodeExtent:p,zIndexMode:x}));return g.jsx(oN,{value:E,children:g.jsx(bN,{children:S})})}function Hk({children:e,nodes:r,edges:o,defaultNodes:s,defaultEdges:l,width:u,height:c,fitView:f,fitViewOptions:h,minZoom:y,maxZoom:v,nodeOrigin:p,nodeExtent:x,zIndexMode:S}){return k.useContext(Bl)?g.jsx(g.Fragment,{children:e}):g.jsx(Fk,{initialNodes:r,initialEdges:o,defaultNodes:s,defaultEdges:l,initialWidth:u,initialHeight:c,fitView:f,initialFitViewOptions:h,initialMinZoom:y,initialMaxZoom:v,nodeOrigin:p,nodeExtent:x,zIndexMode:S,children:e})}const Vk={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function Bk({nodes:e,edges:r,defaultNodes:o,defaultEdges:s,className:l,nodeTypes:u,edgeTypes:c,onNodeClick:f,onEdgeClick:h,onInit:y,onMove:v,onMoveStart:p,onMoveEnd:x,onConnect:S,onConnectStart:E,onConnectEnd:b,onClickConnectStart:C,onClickConnectEnd:_,onNodeMouseEnter:M,onNodeMouseMove:w,onNodeMouseLeave:P,onNodeContextMenu:F,onNodeDoubleClick:D,onNodeDragStart:T,onNodeDrag:Y,onNodeDragStop:X,onNodesDelete:re,onEdgesDelete:G,onDelete:Q,onSelectionChange:ne,onSelectionDragStart:R,onSelectionDrag:V,onSelectionDragStop:$,onSelectionContextMenu:H,onSelectionStart:I,onSelectionEnd:z,onBeforeDelete:W,connectionMode:j,connectionLineType:A=Un.Bezier,connectionLineStyle:U,connectionLineComponent:Z,connectionLineContainerStyle:ee,deleteKeyCode:oe="Backspace",selectionKeyCode:le="Shift",selectionOnDrag:te=!1,selectionMode:ce=Ni.Full,panActivationKeyCode:pe="Space",multiSelectionKeyCode:we=Ci()?"Meta":"Control",zoomActivationKeyCode:ye=Ci()?"Meta":"Control",snapToGrid:fe,snapGrid:ke,onlyRenderVisibleElements:Me=!1,selectNodesOnDrag:_e,nodesDraggable:Ue,autoPanOnNodeFocus:It,nodesConnectable:ht,nodesFocusable:pt,nodeOrigin:Et=D0,edgesFocusable:tn,edgesReconnectable:wn,elementsSelectable:Sr=!0,defaultViewport:Xn=yN,minZoom:nn=.5,maxZoom:rn=2,translateExtent:Qn=Ei,preventScrolling:Ai=!0,nodeExtent:on,defaultMarkerColor:Gn="#b1b1b7",zoomOnScroll:Xl=!0,zoomOnPinch:Di=!0,panOnScroll:Oi=!1,panOnScrollSpeed:Ql=.5,panOnScrollMode:yo=gr.Free,zoomOnDoubleClick:vo=!0,panOnDrag:xo=!0,onPaneClick:wo,onPaneMouseEnter:So,onPaneMouseMove:Sn,onPaneMouseLeave:En,onPaneScroll:Fi,onPaneContextMenu:Hi,paneClickDistance:Vi=1,nodeClickDistance:Bi=0,children:Ui,onReconnect:Eo,onReconnectStart:Wi,onReconnectEnd:Kn,onEdgeContextMenu:No,onEdgeDoubleClick:qn,onEdgeMouseEnter:Gl,onEdgeMouseMove:Zn,onEdgeMouseLeave:Er,reconnectRadius:Nr=10,onNodesChange:ko,onEdgesChange:Kl,noDragClassName:ql="nodrag",noWheelClassName:Zl="nowheel",noPanClassName:Ut="nopan",fitView:Co,fitViewOptions:_o,connectOnClick:Jl,attributionPosition:Yi,proOptions:Xi,defaultEdgeOptions:Qi,elevateNodesOnSelect:Gi=!0,elevateEdgesOnSelect:ea=!1,disableKeyboardA11y:Ki=!1,autoPanOnConnect:De,autoPanOnNodeDrag:ta,autoPanSpeed:bo,connectionRadius:qi,isValidConnection:kr,onError:na,style:Zi,id:Jn,nodeDragThreshold:Nt,connectionDragThreshold:ra,viewport:mt,onViewportChange:oa,width:ia,height:sa,colorMode:Cr="light",debug:_r,onScroll:Wt,ariaLabelConfig:br,zIndexMode:Ji="basic",...la},jo){const jr=Jn||"1",Po=SN(Cr),er=k.useCallback(es=>{es.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Wt==null||Wt(es)},[Wt]);return g.jsx("div",{"data-testid":"rf__wrapper",...la,onScroll:er,style:{...Zi,...Vk},ref:jo,className:Ye(["react-flow",l,Po]),id:Jn,role:"application",children:g.jsxs(Hk,{nodes:e,edges:r,width:ia,height:sa,fitView:Co,fitViewOptions:_o,minZoom:nn,maxZoom:rn,nodeOrigin:Et,nodeExtent:on,zIndexMode:Ji,children:[g.jsx(Dk,{onInit:y,onNodeClick:f,onEdgeClick:h,onNodeMouseEnter:M,onNodeMouseMove:w,onNodeMouseLeave:P,onNodeContextMenu:F,onNodeDoubleClick:D,nodeTypes:u,edgeTypes:c,connectionLineType:A,connectionLineStyle:U,connectionLineComponent:Z,connectionLineContainerStyle:ee,selectionKeyCode:le,selectionOnDrag:te,selectionMode:ce,deleteKeyCode:oe,multiSelectionKeyCode:we,panActivationKeyCode:pe,zoomActivationKeyCode:ye,onlyRenderVisibleElements:Me,defaultViewport:Xn,translateExtent:Qn,minZoom:nn,maxZoom:rn,preventScrolling:Ai,zoomOnScroll:Xl,zoomOnPinch:Di,zoomOnDoubleClick:vo,panOnScroll:Oi,panOnScrollSpeed:Ql,panOnScrollMode:yo,panOnDrag:xo,onPaneClick:wo,onPaneMouseEnter:So,onPaneMouseMove:Sn,onPaneMouseLeave:En,onPaneScroll:Fi,onPaneContextMenu:Hi,paneClickDistance:Vi,nodeClickDistance:Bi,onSelectionContextMenu:H,onSelectionStart:I,onSelectionEnd:z,onReconnect:Eo,onReconnectStart:Wi,onReconnectEnd:Kn,onEdgeContextMenu:No,onEdgeDoubleClick:qn,onEdgeMouseEnter:Gl,onEdgeMouseMove:Zn,onEdgeMouseLeave:Er,reconnectRadius:Nr,defaultMarkerColor:Gn,noDragClassName:ql,noWheelClassName:Zl,noPanClassName:Ut,rfId:jr,disableKeyboardA11y:Ki,nodeExtent:on,viewport:mt,onViewportChange:oa}),g.jsx(wN,{nodes:e,edges:r,defaultNodes:o,defaultEdges:s,onConnect:S,onConnectStart:E,onConnectEnd:b,onClickConnectStart:C,onClickConnectEnd:_,nodesDraggable:Ue,autoPanOnNodeFocus:It,nodesConnectable:ht,nodesFocusable:pt,edgesFocusable:tn,edgesReconnectable:wn,elementsSelectable:Sr,elevateNodesOnSelect:Gi,elevateEdgesOnSelect:ea,minZoom:nn,maxZoom:rn,nodeExtent:on,onNodesChange:ko,onEdgesChange:Kl,snapToGrid:fe,snapGrid:ke,connectionMode:j,translateExtent:Qn,connectOnClick:Jl,defaultEdgeOptions:Qi,fitView:Co,fitViewOptions:_o,onNodesDelete:re,onEdgesDelete:G,onDelete:Q,onNodeDragStart:T,onNodeDrag:Y,onNodeDragStop:X,onSelectionDrag:V,onSelectionDragStart:R,onSelectionDragStop:$,onMove:v,onMoveStart:p,onMoveEnd:x,noPanClassName:Ut,nodeOrigin:Et,rfId:jr,autoPanOnConnect:De,autoPanOnNodeDrag:ta,autoPanSpeed:bo,onError:na,connectionRadius:qi,isValidConnection:kr,selectNodesOnDrag:_e,nodeDragThreshold:Nt,connectionDragThreshold:ra,onBeforeDelete:W,debug:_r,ariaLabelConfig:br,zIndexMode:Ji}),g.jsx(gN,{onSelectionChange:ne}),Ui,g.jsx(dN,{proOptions:Xi,position:Yi}),g.jsx(cN,{rfId:jr,disableKeyboardA11y:Ki})]})})}var Uk=V0(Bk);function Wk(e){const[r,o]=k.useState(e),s=k.useCallback(l=>o(u=>F0(l,u)),[]);return[r,o,s]}function Yk(e){const[r,o]=k.useState(e),s=k.useCallback(l=>o(u=>H0(l,u)),[]);return[r,o,s]}function Xk({dimensions:e,lineWidth:r,variant:o,className:s}){return g.jsx("path",{strokeWidth:r,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Ye(["react-flow__background-pattern",o,s])})}function Qk({radius:e,className:r}){return g.jsx("circle",{cx:e,cy:e,r:e,className:Ye(["react-flow__background-pattern","dots",r])})}var Wn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Wn||(Wn={}));const Gk={[Wn.Dots]:1,[Wn.Lines]:1,[Wn.Cross]:6},Kk=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function fg({id:e,variant:r=Wn.Dots,gap:o=20,size:s,lineWidth:l=1,offset:u=0,color:c,bgColor:f,style:h,className:y,patternClassName:v}){const p=k.useRef(null),{transform:x,patternId:S}=be(Kk,$e),E=s||Gk[r],b=r===Wn.Dots,C=r===Wn.Cross,_=Array.isArray(o)?o:[o,o],M=[_[0]*x[2]||1,_[1]*x[2]||1],w=E*x[2],P=Array.isArray(u)?u:[u,u],F=C?[w,w]:M,D=[P[0]*x[2]||1+F[0]/2,P[1]*x[2]||1+F[1]/2],T=`${S}${e||""}`;return g.jsxs("svg",{className:Ye(["react-flow__background",y]),style:{...h,...Wl,"--xy-background-color-props":f,"--xy-background-pattern-color-props":c},ref:p,"data-testid":"rf__background",children:[g.jsx("pattern",{id:T,x:x[0]%M[0],y:x[1]%M[1],width:M[0],height:M[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${D[0]},-${D[1]})`,children:b?g.jsx(Qk,{radius:w/2,className:v}):g.jsx(Xk,{dimensions:F,lineWidth:l,variant:r,className:v})}),g.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${T})`})]})}fg.displayName="Background";k.memo(fg);function qk(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:g.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Zk(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:g.jsx("path",{d:"M0 0h32v4.2H0z"})})}function Jk(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:g.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function eC(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:g.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function tC(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:g.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function dl({children:e,className:r,...o}){return g.jsx("button",{type:"button",className:Ye(["react-flow__controls-button",r]),...o,children:e})}const nC=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function hg({style:e,showZoom:r=!0,showFitView:o=!0,showInteractive:s=!0,fitViewOptions:l,onZoomIn:u,onZoomOut:c,onFitView:f,onInteractiveChange:h,className:y,children:v,position:p="bottom-left",orientation:x="vertical","aria-label":S}){const E=Ae(),{isInteractive:b,minZoomReached:C,maxZoomReached:_,ariaLabelConfig:M}=be(nC,$e),{zoomIn:w,zoomOut:P,fitView:F}=Kc(),D=()=>{w(),u==null||u()},T=()=>{P(),c==null||c()},Y=()=>{F(l),f==null||f()},X=()=>{E.setState({nodesDraggable:!b,nodesConnectable:!b,elementsSelectable:!b}),h==null||h(!b)},re=x==="horizontal"?"horizontal":"vertical";return g.jsxs(Ul,{className:Ye(["react-flow__controls",re,y]),position:p,style:e,"data-testid":"rf__controls","aria-label":S??M["controls.ariaLabel"],children:[r&&g.jsxs(g.Fragment,{children:[g.jsx(dl,{onClick:D,className:"react-flow__controls-zoomin",title:M["controls.zoomIn.ariaLabel"],"aria-label":M["controls.zoomIn.ariaLabel"],disabled:_,children:g.jsx(qk,{})}),g.jsx(dl,{onClick:T,className:"react-flow__controls-zoomout",title:M["controls.zoomOut.ariaLabel"],"aria-label":M["controls.zoomOut.ariaLabel"],disabled:C,children:g.jsx(Zk,{})})]}),o&&g.jsx(dl,{className:"react-flow__controls-fitview",onClick:Y,title:M["controls.fitView.ariaLabel"],"aria-label":M["controls.fitView.ariaLabel"],children:g.jsx(Jk,{})}),s&&g.jsx(dl,{className:"react-flow__controls-interactive",onClick:X,title:M["controls.interactive.ariaLabel"],"aria-label":M["controls.interactive.ariaLabel"],children:b?g.jsx(tC,{}):g.jsx(eC,{})}),v]})}hg.displayName="Controls";const rC=k.memo(hg);function oC({id:e,x:r,y:o,width:s,height:l,style:u,color:c,strokeColor:f,strokeWidth:h,className:y,borderRadius:v,shapeRendering:p,selected:x,onClick:S}){const{background:E,backgroundColor:b}=u||{},C=c||E||b;return g.jsx("rect",{className:Ye(["react-flow__minimap-node",{selected:x},y]),x:r,y:o,rx:v,ry:v,width:s,height:l,style:{fill:C,stroke:f,strokeWidth:h},shapeRendering:p,onClick:S?_=>S(_,e):void 0})}const iC=k.memo(oC),sC=e=>e.nodes.map(r=>r.id),sc=e=>e instanceof Function?e:()=>e;function lC({nodeStrokeColor:e,nodeColor:r,nodeClassName:o="",nodeBorderRadius:s=5,nodeStrokeWidth:l,nodeComponent:u=iC,onClick:c}){const f=be(sC,$e),h=sc(r),y=sc(e),v=sc(o),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return g.jsx(g.Fragment,{children:f.map(x=>g.jsx(uC,{id:x,nodeColorFunc:h,nodeStrokeColorFunc:y,nodeClassNameFunc:v,nodeBorderRadius:s,nodeStrokeWidth:l,NodeComponent:u,onClick:c,shapeRendering:p},x))})}function aC({id:e,nodeColorFunc:r,nodeStrokeColorFunc:o,nodeClassNameFunc:s,nodeBorderRadius:l,nodeStrokeWidth:u,shapeRendering:c,NodeComponent:f,onClick:h}){const{node:y,x:v,y:p,width:x,height:S}=be(E=>{const{internals:b}=E.nodeLookup.get(e),C=b.userNode,{x:_,y:M}=b.positionAbsolute,{width:w,height:P}=xn(C);return{node:C,x:_,y:M,width:w,height:P}},$e);return!y||y.hidden||!h0(y)?null:g.jsx(f,{x:v,y:p,width:x,height:S,style:y.style,selected:!!y.selected,className:s(y),color:r(y),borderRadius:l,strokeColor:o(y),strokeWidth:u,shapeRendering:c,onClick:h,id:y.id})}const uC=k.memo(aC);var cC=k.memo(lC);const dC=200,fC=150,hC=e=>!e.hidden,pC=e=>{const r={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:r,boundingRect:e.nodeLookup.size>0?f0(Ti(e.nodeLookup,{filter:hC}),r):r,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},mC="react-flow__minimap-desc";function pg({style:e,className:r,nodeStrokeColor:o,nodeColor:s,nodeClassName:l="",nodeBorderRadius:u=5,nodeStrokeWidth:c,nodeComponent:f,bgColor:h,maskColor:y,maskStrokeColor:v,maskStrokeWidth:p,position:x="bottom-right",onClick:S,onNodeClick:E,pannable:b=!1,zoomable:C=!1,ariaLabel:_,inversePan:M,zoomStep:w=1,offsetScale:P=5}){const F=Ae(),D=k.useRef(null),{boundingRect:T,viewBB:Y,rfId:X,panZoom:re,translateExtent:G,flowWidth:Q,flowHeight:ne,ariaLabelConfig:R}=be(pC,$e),V=(e==null?void 0:e.width)??dC,$=(e==null?void 0:e.height)??fC,H=T.width/V,I=T.height/$,z=Math.max(H,I),W=z*V,j=z*$,A=P*z,U=T.x-(W-T.width)/2-A,Z=T.y-(j-T.height)/2-A,ee=W+A*2,oe=j+A*2,le=`${mC}-${X}`,te=k.useRef(0),ce=k.useRef();te.current=z,k.useEffect(()=>{if(D.current&&re)return ce.current=IE({domNode:D.current,panZoom:re,getTransform:()=>F.getState().transform,getViewScale:()=>te.current}),()=>{var fe;(fe=ce.current)==null||fe.destroy()}},[re]),k.useEffect(()=>{var fe;(fe=ce.current)==null||fe.update({translateExtent:G,width:Q,height:ne,inversePan:M,pannable:b,zoomStep:w,zoomable:C})},[b,C,M,w,G,Q,ne]);const pe=S?fe=>{var _e;const[ke,Me]=((_e=ce.current)==null?void 0:_e.pointer(fe))||[0,0];S(fe,{x:ke,y:Me})}:void 0,we=E?k.useCallback((fe,ke)=>{const Me=F.getState().nodeLookup.get(ke).internals.userNode;E(fe,Me)},[]):void 0,ye=_??R["minimap.ariaLabel"];return g.jsx(Ul,{position:x,style:{...e,"--xy-minimap-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-background-color-props":typeof y=="string"?y:void 0,"--xy-minimap-mask-stroke-color-props":typeof v=="string"?v:void 0,"--xy-minimap-mask-stroke-width-props":typeof p=="number"?p*z:void 0,"--xy-minimap-node-background-color-props":typeof s=="string"?s:void 0,"--xy-minimap-node-stroke-color-props":typeof o=="string"?o:void 0,"--xy-minimap-node-stroke-width-props":typeof c=="number"?c:void 0},className:Ye(["react-flow__minimap",r]),"data-testid":"rf__minimap",children:g.jsxs("svg",{width:V,height:$,viewBox:`${U} ${Z} ${ee} ${oe}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":le,ref:D,onClick:pe,children:[ye&&g.jsx("title",{id:le,children:ye}),g.jsx(cC,{onClick:we,nodeColor:s,nodeStrokeColor:o,nodeBorderRadius:u,nodeClassName:l,nodeStrokeWidth:c,nodeComponent:f}),g.jsx("path",{className:"react-flow__minimap-mask",d:`M${U-A},${Z-A}h${ee+A*2}v${oe+A*2}h${-ee-A*2}z
        M${Y.x},${Y.y}h${Y.width}v${Y.height}h${-Y.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}pg.displayName="MiniMap";const gC=k.memo(pg),yC=e=>r=>e?`${Math.max(1/r.transform[2],1)}`:void 0,vC={[ho.Line]:"right",[ho.Handle]:"bottom-right"};function xC({nodeId:e,position:r,variant:o=ho.Handle,className:s,style:l=void 0,children:u,color:c,minWidth:f=10,minHeight:h=10,maxWidth:y=Number.MAX_VALUE,maxHeight:v=Number.MAX_VALUE,keepAspectRatio:p=!1,resizeDirection:x,autoScale:S=!0,shouldResize:E,onResizeStart:b,onResize:C,onResizeEnd:_}){const M=Y0(),w=typeof e=="string"?e:M,P=Ae(),F=k.useRef(null),D=o===ho.Handle,T=be(k.useCallback(yC(D&&S),[D,S]),$e),Y=k.useRef(null),X=r??vC[o];k.useEffect(()=>{if(!(!F.current||!w))return Y.current||(Y.current=WE({domNode:F.current,nodeId:w,getStoreItems:()=>{const{nodeLookup:G,transform:Q,snapGrid:ne,snapToGrid:R,nodeOrigin:V,domNode:$}=P.getState();return{nodeLookup:G,transform:Q,snapGrid:ne,snapToGrid:R,nodeOrigin:V,paneDomNode:$}},onChange:(G,Q)=>{const{triggerNodeChanges:ne,nodeLookup:R,parentLookup:V,nodeOrigin:$}=P.getState(),H=[],I={x:G.x,y:G.y},z=R.get(w);if(z&&z.expandParent&&z.parentId){const W=z.origin??$,j=G.width??z.measured.width??0,A=G.height??z.measured.height??0,U={id:z.id,parentId:z.parentId,rect:{width:j,height:A,...p0({x:G.x??z.position.x,y:G.y??z.position.y},{width:j,height:A},z.parentId,R,W)}},Z=Gc([U],R,V,$);H.push(...Z),I.x=G.x?Math.max(W[0]*j,G.x):void 0,I.y=G.y?Math.max(W[1]*A,G.y):void 0}if(I.x!==void 0&&I.y!==void 0){const W={id:w,type:"position",position:{...I}};H.push(W)}if(G.width!==void 0&&G.height!==void 0){const j={id:w,type:"dimensions",resizing:!0,setAttributes:x?x==="horizontal"?"width":"height":!0,dimensions:{width:G.width,height:G.height}};H.push(j)}for(const W of Q){const j={...W,type:"position"};H.push(j)}ne(H)},onEnd:({width:G,height:Q})=>{const ne={id:w,type:"dimensions",resizing:!1,dimensions:{width:G,height:Q}};P.getState().triggerNodeChanges([ne])}})),Y.current.update({controlPosition:X,boundaries:{minWidth:f,minHeight:h,maxWidth:y,maxHeight:v},keepAspectRatio:p,resizeDirection:x,onResizeStart:b,onResize:C,onResizeEnd:_,shouldResize:E}),()=>{var G;(G=Y.current)==null||G.destroy()}},[X,f,h,y,v,p,b,C,_,E]);const re=X.split("-");return g.jsx("div",{className:Ye(["react-flow__resize-control","nodrag",...re,o,s]),ref:F,style:{...l,scale:T,...c&&{[D?"backgroundColor":"borderColor"]:c}},children:u})}k.memo(xC);const mg="cnthub-node-positions",gg="cnthub-edges",yg="cnthub-connected-sessions",wC=180,SC=70,EC=260,NC=140,Il=20;function Gp(e){return e.type==="context"?{width:EC,height:NC}:{width:wC,height:SC}}function vg(e,r){const o=Gp(e),s=Gp(r),l={x:e.position.x+o.width/2,y:e.position.y+o.height/2},u={x:r.position.x+s.width/2,y:r.position.y+s.height/2},c=(o.width+s.width)/2+Il,f=(o.height+s.height)/2+Il,h=Math.abs(l.x-u.x),y=Math.abs(l.y-u.y);return h<c&&y<f}function kC(e,r){const o={...e.position},s=r.filter(h=>h.id!==e.id),l={...e,position:o};let u=!0,c=0;const f=50;for(;u&&c<f;){u=!1;for(const h of s)if(vg(l,h)){u=!0,o.x+=Il+10,o.y+=Il+10,l.position=o;break}c++}return o}function Kp(e,r,o){const l=o==="context"?180:100,u=o==="context"?280:220,c=o==="context"?500:50,f=80;let h=c+e%4*u,y=f+Math.floor(e/4)*l;const v={type:o,position:{x:h,y}};let p=0;const x=100;for(;p<x;){let S=!1;for(const _ of r)if(vg(v,_)){S=!0;break}if(!S)return v.position;const E=p+1,b=E%4,C=Math.floor(E/4);v.position={x:c+b*u,y:f+C*l},p++}return{x:c+p%4*u,y:f+Math.floor(p/4)*l}}function qp(){try{const e=localStorage.getItem(mg);return e?JSON.parse(e):{}}catch{return{}}}function Jr(e){try{localStorage.setItem(mg,JSON.stringify(e))}catch{}}function CC(){try{const e=localStorage.getItem(gg);return e?JSON.parse(e):[]}catch{return[]}}function lc(e){try{localStorage.setItem(gg,JSON.stringify(e))}catch{}}function _C(){try{const e=localStorage.getItem(yg);return e?JSON.parse(e):[]}catch{return[]}}function Zp(e){try{localStorage.setItem(yg,JSON.stringify(e))}catch{}}function _c(e){return e>=1e3?(e/1e3).toFixed(1)+"k":e.toString()}function bC({data:e}){return g.jsxs("div",{className:"px-4 py-3 bg-[var(--bg-surface)] border border-[var(--border-default)] rounded-lg shadow-md min-w-[150px] relative",children:[g.jsx(po,{type:"source",position:xe.Right,className:"w-3 h-3 bg-[var(--color-primary-500)]"}),e.tokenCount!==void 0&&g.jsx("div",{className:"absolute -top-2 -right-2 bg-[var(--bg-elevated)] text-[var(--text-muted)] text-xs px-1.5 py-0.5 rounded-full border border-[var(--border-default)]",children:_c(e.tokenCount)}),g.jsx("div",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:e.label}),e.date&&g.jsx("div",{className:"text-xs text-[var(--text-muted)] mt-1",children:e.date})]})}function jC({data:e}){var u,c,f;const r=k.useCallback(()=>{var h;(h=e.onExport)==null||h.call(e)},[e]),o=!!e.sessionId,s=e.mergeStatus==="merging",l=e.mergeStatus==="completed"&&e.mergedSummary;return g.jsxs("div",{className:`px-6 py-4 text-white rounded-xl shadow-lg min-w-[240px] text-center cursor-pointer transition-colors relative ${s?"bg-[var(--color-primary-400)] animate-pulse":"bg-[var(--color-primary-600)] hover:bg-[var(--color-primary-500)]"}`,onClick:r,children:[g.jsx(po,{type:"target",position:xe.Left,className:"w-3 h-3 bg-[var(--color-cream-100)]"}),e.tokenCount!==void 0&&g.jsx("div",{className:"absolute -top-2 -right-2 bg-white text-[var(--color-primary-600)] text-xs font-bold px-1.5 py-0.5 rounded-full border-2 border-[var(--color-primary-600)]",children:_c(e.tokenCount)}),g.jsx("div",{className:"text-sm font-bold truncate max-w-[220px]",children:o?e.sessionName||e.sessionId:""}),o&&e.sessionId&&g.jsx("div",{className:"text-xs opacity-60 mt-1 font-mono",children:e.sessionId}),g.jsxs("div",{className:"text-xs opacity-90 mt-3 flex justify-center gap-3",children:[g.jsxs("span",{className:"bg-white/20 px-2 py-0.5 rounded",children:[e.observationCount," obs"]}),g.jsxs("span",{className:"bg-white/20 px-2 py-0.5 rounded",children:["+",e.connectedCount," merged"]})]}),s&&g.jsx("div",{className:"text-xs mt-2 bg-white/30 px-2 py-1 rounded",children:" ..."}),l&&g.jsxs("div",{className:"text-xs mt-2 bg-white/20 px-2 py-1 rounded text-left",children:[g.jsx("div",{className:"font-bold mb-1",children:" :"}),g.jsx("div",{className:"line-clamp-2 opacity-90",children:(u=e.mergedSummary)==null?void 0:u.shortSummary}),g.jsxs("div",{className:"opacity-60 mt-1",children:[(c=e.mergedSummary)==null?void 0:c.sessionCount," "," ",_c(((f=e.mergedSummary)==null?void 0:f.mergedTokens)||0)," tokens"]})]}),e.mergeStatus==="error"&&g.jsx("div",{className:"text-xs mt-2 bg-red-500/30 px-2 py-1 rounded",children:" "}),g.jsx("div",{className:"text-xs opacity-60 mt-2",children:" Export"})]})}const PC={session:bC,context:jC};function MC({sessions:e=[],currentSessionsData:r=[],onGetSession:o,onExportSession:s,onDeleteRequest:l,pendingDelete:u,onDeleteComplete:c,onMerge:f,mergeStatus:h="idle",mergedSummary:y}){const v=k.useRef(qp()),p=k.useRef(CC()),x=k.useRef(_C()),[S,E]=k.useState(x.current),[b,C,_]=Wk([]),[M,w,P]=Yk(p.current),F=k.useCallback(R=>{_(R),R.filter($=>$.type==="position"&&"position"in $&&$.position).length>0&&requestAnimationFrame(()=>{C($=>{const H={};return $.forEach(I=>{H[I.id]=I.position}),Jr(H),$})})},[_,C]),D=k.useCallback(R=>{P(R),requestAnimationFrame(()=>{w(V=>(lc(V),V))})},[P,w]),T=k.useCallback(R=>()=>{console.log("[Viewer] Export session:",R),s==null||s(R)},[s]);k.useEffect(()=>{C(R=>{const V=v.current,$=new Set(R.filter(U=>U.id.startsWith("context-")).map(U=>U.id)),H=[];let I=[...R],z=0;r.forEach(U=>{const Z=U.session;if(!Z)return;const ee=`context-${Z.sessionId}`,oe=V[ee],le=oe||Kp(z,I,"context");if(!$.has(ee)){const te={id:ee,type:"context",position:le,data:{label:"",sessionId:Z.sessionId,sessionName:Z.name,status:Z.status,tokenCount:U.tokenCount,connectedCount:S.length,observationCount:U.observationCount,onExport:T(Z.sessionId),mergeStatus:h,mergedSummary:y}};H.push(te),I=[...I,te],z++}});const W=new Set(r.filter(U=>U.session).map(U=>`context-${U.session.sessionId}`)),A=[...R.filter(U=>U.id.startsWith("context-")?W.has(U.id):!0).map(U=>{if(U.id.startsWith("context-")){const Z=U.id.replace("context-",""),ee=r.find(oe=>{var le;return((le=oe.session)==null?void 0:le.sessionId)===Z});if(ee!=null&&ee.session)return{...U,data:{...U.data,sessionId:ee.session.sessionId,sessionName:ee.session.name,status:ee.session.status,tokenCount:ee.tokenCount,connectedCount:S.length,observationCount:ee.observationCount,onExport:T(ee.session.sessionId),mergeStatus:h,mergedSummary:y}}}return U}),...H];if(H.length>0){const U={};A.forEach(Z=>{U[Z.id]=Z.position}),Jr(U)}return A})},[r,S,T,C,h,y]),k.useEffect(()=>{C(R=>{const V=new Set(R.map(U=>U.id)),$=[],H=v.current;let I=[...R],z=0;e.forEach(U=>{const Z="session-"+U.sessionId;if(!V.has(Z)){const ee=H[Z],oe=ee||Kp(z,I,"session"),le={id:Z,type:"session",position:oe,data:{label:U.name,sessionId:U.sessionId,status:U.status,date:new Date(U.updatedAt).toLocaleDateString("ja-JP"),tokenCount:U.tokenCount}};$.push(le),I=[...I,le],z++}});const W=new Set(e.map(U=>"session-"+U.sessionId)),A=[...R.filter(U=>U.id.startsWith("context-")||W.has(U.id)),...$];if($.length>0){const U={};A.forEach(Z=>{U[Z.id]=Z.position}),Jr(U)}return A})},[e,C]);const Y=k.useCallback(R=>{if(!(!R.source||!R.target)&&R.source.startsWith("session-")&&R.target.startsWith("context-")){const V=R.source.replace("session-","");if(S.includes(V))return;w(H=>{const I=S0(R,H);return lc(I),I});const $=[...S,V];E($),Zp($),C(H=>H.map(I=>I.id.startsWith("context-")?{...I,data:{...I.data,connectedCount:$.length}}:I)),o==null||o(V),$.length>=2&&f&&f($)}},[S,w,C,o,f]),X=k.useCallback(R=>{const V=M.find(I=>I.id===R);if(!V)return;const $=V.source.replace("session-",""),H=e.find(I=>I.sessionId===$);l==null||l({type:"edge",id:R,name:(H==null?void 0:H.name)||$})},[M,e,l]),re=k.useCallback((R,V)=>{X(V.id)},[X]),G=k.useCallback(R=>{const V=R.filter(H=>H.source.startsWith("session-")).map(H=>H.source.replace("session-","")),$=S.filter(H=>!V.includes(H));E($),Zp($),w(H=>(lc(H),H)),C(H=>H.map(I=>I.id.startsWith("context-")?{...I,data:{...I.data,connectedCount:$.length}}:I))},[S,C,w]),Q=k.useCallback((R,V)=>{if(V.id.startsWith("context-"))return;const $=V.id.replace("session-",""),H=e.find(I=>I.sessionId===$);l==null||l({type:"node",id:V.id,name:(H==null?void 0:H.name)||$})},[e,l]),ne=k.useCallback((R,V)=>{const $=b.map(I=>I.id===V.id?{...I,position:V.position}:I),H=kC(V,$);if(H.x!==V.position.x||H.y!==V.position.y)C(I=>{const z=I.map(j=>j.id===V.id?{...j,position:H}:j),W={};return z.forEach(j=>{W[j.id]=j.position}),Jr(W),z});else{const I={};$.forEach(z=>{I[z.id]=z.position}),Jr(I)}},[b,C]);return k.useEffect(()=>{if(u){if(u.type==="edge"){const R=M.find(V=>V.id===u.id);R&&(G([R]),w(V=>V.filter($=>$.id!==u.id)))}else if(u.type==="node"&&!u.id.startsWith("context-")){const R=M.filter($=>$.source===u.id||$.target===u.id);R.length>0&&(G(R),w($=>$.filter(H=>H.source!==u.id&&H.target!==u.id))),C($=>$.filter(H=>H.id!==u.id));const V=qp();delete V[u.id],Jr(V)}c==null||c()}},[u,M,G,w,C,c]),g.jsx("div",{className:"w-full h-full bg-[var(--bg-base)]",children:g.jsxs(Uk,{nodes:b,edges:M,onNodesChange:F,onEdgesChange:D,onConnect:Y,onEdgesDelete:G,onEdgeClick:re,onNodeClick:Q,onNodeDragStop:ne,nodeTypes:PC,fitView:!0,proOptions:{hideAttribution:!0},className:"bg-[var(--bg-base)]",children:[g.jsx(rC,{className:"bg-[var(--bg-surface)] border border-[var(--border-default)] rounded-lg"}),g.jsx(gC,{className:"bg-[var(--bg-surface)] border border-[var(--border-default)] rounded-lg",nodeColor:"#d97757",maskColor:"rgba(15, 15, 14, 0.8)"})]})})}function ac(e){return e>=1e3?(e/1e3).toFixed(1)+"k":e.toString()}function IC(e){switch(e){case"feature":return"";case"bugfix":return"";case"refactor":return"";case"docs":return"";case"test":return"";case"config":return"";case"exploration":return"";default:return""}}function RC({isOpen:e,onClose:r,sessionId:o,sessionName:s,onExportComplete:l}){const[u,c]=k.useState(!1),[f,h]=k.useState(!1),[y,v]=k.useState(null),[p,x]=k.useState(new Set),[S,E]=k.useState(null),[b,C]=k.useState(new Set),_=k.useCallback(async()=>{var T;c(!0),E(null);try{const Y=await fetch(`/api/sessions/${o}/analyze`,{method:"POST"});if(!Y.ok){const re=await Y.json();throw new Error(((T=re.error)==null?void 0:T.message)||"")}const X=await Y.json();v(X)}catch(Y){E(Y instanceof Error?Y.message:"")}finally{c(!1)}},[o]);k.useEffect(()=>{e&&!y&&!u&&_()},[e,y,u,_]),k.useEffect(()=>{e||(v(null),x(new Set),E(null),C(new Set))},[e]);const M=k.useCallback(T=>{x(Y=>{const X=new Set(Y);return X.has(T)?X.delete(T):X.add(T),X})},[]),w=k.useCallback(T=>{C(Y=>{const X=new Set(Y);return X.has(T)?X.delete(T):X.add(T),X})},[]),P=k.useCallback(()=>y?y.groups.filter(T=>p.has(T.category)).flatMap(T=>T.observationIds):[],[y,p]),F=k.useCallback(()=>y?y.groups.filter(T=>p.has(T.category)).reduce((T,Y)=>T+Y.estimatedTokens,0):0,[y,p]),D=k.useCallback(async()=>{var re,G;const T=P();if(T.length===0)return;const Y=y==null?void 0:y.groups.filter(Q=>p.has(Q.category)).map(Q=>Q.description).join(", "),X=window.prompt(`Export: ${T.length} observations

:`,`Export: ${Y}`)||`Export from ${s}`;if(X){h(!0),E(null);try{const Q=await fetch(`/api/sessions/${o}/smart-export`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({observationIds:T,groupName:X,deleteAfterExport:!0})});if(!Q.ok){const R=await Q.json();throw new Error(((re=R.error)==null?void 0:re.message)||"Export ")}const ne=await Q.json();alert(`Export !

: ${(G=ne.session)==null?void 0:G.sessionId}
 observations: ${ne.deletedCount}`),l(),r()}catch(Q){E(Q instanceof Error?Q.message:"Export ")}finally{h(!1)}}},[P,y,p,o,s,l,r]);return e?g.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[g.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:r}),g.jsxs("div",{className:"relative bg-[var(--bg-surface)] rounded-xl shadow-2xl w-[600px] max-h-[80vh] flex flex-col border border-[var(--border-default)]",children:[g.jsxs("div",{className:"px-6 py-4 border-b border-[var(--border-subtle)] flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-semibold text-[var(--text-primary)]",children:"Smart Export"}),g.jsx("p",{className:"text-sm text-[var(--text-muted)] mt-1",children:s})]}),g.jsx("button",{onClick:r,className:"p-2 hover:bg-[var(--bg-elevated)] rounded-lg transition-colors",children:g.jsx("svg",{className:"w-5 h-5 text-[var(--text-muted)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[u&&g.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[g.jsx("div",{className:"w-8 h-8 border-2 border-[var(--color-primary-500)] border-t-transparent rounded-full animate-spin"}),g.jsx("p",{className:"mt-4 text-[var(--text-muted)]",children:"AI ..."})]}),S&&g.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-4",children:[g.jsx("p",{className:"text-red-400",children:S}),g.jsx("button",{onClick:_,className:"mt-2 text-sm text-red-400 hover:text-red-300 underline",children:""})]}),y&&!u&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex gap-4 mb-6 text-sm",children:[g.jsxs("div",{className:"bg-[var(--bg-elevated)] px-3 py-2 rounded-lg",children:[g.jsx("span",{className:"text-[var(--text-muted)]",children:": "}),g.jsxs("span",{className:"text-[var(--text-primary)] font-medium",children:[y.totalObservations," obs"]})]}),g.jsxs("div",{className:"bg-[var(--bg-elevated)] px-3 py-2 rounded-lg",children:[g.jsx("span",{className:"text-[var(--text-muted)]",children:": "}),g.jsx("span",{className:"text-[var(--text-primary)] font-medium",children:ac(y.totalEstimatedTokens)})]}),g.jsxs("div",{className:"bg-[var(--bg-elevated)] px-3 py-2 rounded-lg",children:[g.jsx("span",{className:"text-[var(--text-muted)]",children:": "}),g.jsxs("span",{className:"text-[var(--text-primary)] font-medium",children:[(y.analysisTimeMs/1e3).toFixed(1),"s"]})]})]}),g.jsx("div",{className:"space-y-3",children:y.groups.map(T=>g.jsxs("div",{className:`border rounded-lg overflow-hidden transition-colors ${p.has(T.category)?"border-[var(--color-primary-500)] bg-[var(--color-primary-500)]/10":"border-[var(--border-default)] bg-[var(--bg-elevated)]"}`,children:[g.jsxs("div",{className:"flex items-center gap-3 p-4 cursor-pointer",onClick:()=>M(T.category),children:[g.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${p.has(T.category)?"bg-[var(--color-primary-500)] border-[var(--color-primary-500)]":"border-[var(--border-default)]"}`,children:p.has(T.category)&&g.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),g.jsx("span",{className:"text-xl",children:IC(T.category)}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"font-medium text-[var(--text-primary)]",children:T.categoryLabel}),g.jsxs("span",{className:"text-sm text-[var(--text-muted)]",children:["(",T.observationIds.length," obs)"]})]}),g.jsx("p",{className:"text-sm text-[var(--text-muted)] mt-0.5",children:T.description})]}),g.jsxs("div",{className:"text-sm text-[var(--text-muted)]",children:[ac(T.estimatedTokens)," tokens"]}),g.jsx("button",{onClick:Y=>{Y.stopPropagation(),w(T.category)},className:"p-1 hover:bg-[var(--bg-surface)] rounded transition-colors",children:g.jsx("svg",{className:`w-4 h-4 text-[var(--text-muted)] transition-transform ${b.has(T.category)?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),b.has(T.category)&&g.jsx("div",{className:"px-4 pb-4 pt-0",children:g.jsx("div",{className:"bg-[var(--bg-base)] rounded-lg p-3 text-xs font-mono text-[var(--text-muted)] max-h-32 overflow-y-auto",children:T.observationIds.map((Y,X)=>g.jsxs("div",{children:[Y,X<T.observationIds.length-1&&", "]},Y))})})]},T.category))})]})]}),g.jsxs("div",{className:"px-6 py-4 border-t border-[var(--border-subtle)] flex items-center justify-between",children:[g.jsx("div",{className:"text-sm text-[var(--text-muted)]",children:p.size>0&&g.jsxs(g.Fragment,{children:[": ",P().length," obs (",ac(F())," tokens)"]})}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:r,className:"px-4 py-2 text-sm text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)] rounded-lg transition-colors",children:""}),g.jsx("button",{onClick:D,disabled:p.size===0||f||u,className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${p.size===0||f||u?"bg-[var(--bg-elevated)] text-[var(--text-muted)] cursor-not-allowed":"bg-[var(--color-primary-500)] text-white hover:bg-[var(--color-primary-600)]"}`,children:f?"Exporting...":"Export & "})]})]})]})]}):null}const Jp={session:"",node:"",edge:""};function em({isOpen:e,onClose:r,onConfirm:o,targetType:s,targetName:l,targetId:u}){const[c,f]=k.useState(!1),[h,y]=k.useState(null),v=k.useCallback(async()=>{f(!0),y(null);try{await o(),r()}catch(x){y(x instanceof Error?x.message:"")}finally{f(!1)}},[o,r]),p=k.useCallback(()=>{c||(y(null),r())},[c,r]);return e?g.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[g.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:p}),g.jsxs("div",{className:"relative bg-[var(--bg-surface)] rounded-xl shadow-2xl w-[400px] border border-[var(--border-default)]",children:[g.jsxs("div",{className:"px-6 py-4 border-b border-[var(--border-subtle)] flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 bg-red-500/10 rounded-lg",children:g.jsx(io,{className:"w-5 h-5 text-red-500"})}),g.jsxs("h2",{className:"text-lg font-semibold text-[var(--text-primary)]",children:[Jp[s],""]})]}),g.jsx("button",{onClick:p,disabled:c,className:"p-2 hover:bg-[var(--bg-elevated)] rounded-lg transition-colors disabled:opacity-50",children:g.jsx(km,{className:"w-5 h-5 text-[var(--text-muted)]"})})]}),g.jsxs("div",{className:"px-6 py-6",children:[g.jsxs("p",{className:"text-[var(--text-secondary)]",children:["",Jp[s],""]}),g.jsxs("div",{className:"mt-4 p-4 bg-[var(--bg-elevated)] rounded-lg",children:[g.jsx("p",{className:"font-medium text-[var(--text-primary)] truncate",children:l}),u&&g.jsx("p",{className:"text-xs text-[var(--text-muted)] font-mono mt-1 truncate",children:u})]}),g.jsx("p",{className:"mt-4 text-sm text-[var(--text-muted)]",children:""}),h&&g.jsx("div",{className:"mt-4 bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:g.jsx("p",{className:"text-sm text-red-400",children:h})})]}),g.jsxs("div",{className:"px-6 py-4 border-t border-[var(--border-subtle)] flex justify-end gap-3",children:[g.jsx("button",{onClick:p,disabled:c,className:"px-4 py-2 text-sm text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)] rounded-lg transition-colors disabled:opacity-50",children:""}),g.jsx("button",{onClick:v,disabled:c,className:"px-4 py-2 text-sm font-medium bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors disabled:opacity-50 flex items-center gap-2",children:c?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"..."]}):g.jsxs(g.Fragment,{children:[g.jsx(io,{className:"w-4 h-4"}),""]})})]})]})]}):null}function LC({isOpen:e,onClose:r,sessionId:o}){const[s,l]=k.useState(null),[u,c]=k.useState(!1),[f,h]=k.useState(null);k.useEffect(()=>{if(!e||!o)return;(async()=>{var S;c(!0),h(null);try{const[E,b,C]=await Promise.all([fetch(`/api/sessions/${o}`),fetch(`/api/sessions/${o}/summary`),fetch(`/api/sessions/${o}/observations?limit=1`)]);if(!E.ok)throw new Error("");const _=await E.json(),M=b.ok?await b.json():null,w=C.ok?await C.json():null;l({..._,summary:M==null?void 0:M.summary,observationCount:((S=w==null?void 0:w.pagination)==null?void 0:S.total)||_.observationCount})}catch(E){h(E instanceof Error?E.message:"")}finally{c(!1)}})()},[e,o]);const y=k.useCallback(()=>{l(null),h(null),r()},[r]);if(k.useEffect(()=>{if(!e)return;const x=S=>{S.key==="Escape"&&y()};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[e,y]),!e)return null;const v=x=>new Date(x).toLocaleString("ja-JP",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),p={idle:"bg-gray-500",active:"bg-blue-500",completed:"bg-green-500",error:"bg-red-500",processing:"bg-yellow-500",merged:"bg-purple-500"};return g.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[g.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:y}),g.jsxs("div",{className:"relative bg-[var(--bg-surface)] rounded-xl shadow-2xl w-[500px] max-h-[80vh] border border-[var(--border-default)] flex flex-col",children:[g.jsxs("div",{className:"px-6 py-4 border-b border-[var(--border-subtle)] flex items-center justify-between flex-shrink-0",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 bg-[var(--color-primary-500)]/10 rounded-lg",children:g.jsx(Ah,{className:"w-5 h-5 text-[var(--color-primary-500)]"})}),g.jsx("h2",{className:"text-lg font-semibold text-[var(--text-primary)]",children:""})]}),g.jsx("button",{onClick:y,className:"p-2 hover:bg-[var(--bg-elevated)] rounded-lg transition-colors",children:g.jsx(km,{className:"w-5 h-5 text-[var(--text-muted)]"})})]}),g.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:u?g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"h-6 bg-[var(--bg-elevated)] rounded animate-pulse"}),g.jsx("div",{className:"h-4 bg-[var(--bg-elevated)] rounded animate-pulse w-3/4"}),g.jsx("div",{className:"h-20 bg-[var(--bg-elevated)] rounded animate-pulse"})]}):f?g.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:g.jsx("p",{className:"text-sm text-red-400",children:f})}):s?g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-medium text-[var(--text-primary)]",children:s.name}),g.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[g.jsx("span",{className:`w-2 h-2 rounded-full ${p[s.status]||"bg-gray-500"}`}),g.jsx("span",{className:"text-sm text-[var(--text-secondary)] capitalize",children:s.status})]})]}),g.jsxs("div",{className:"bg-[var(--bg-elevated)] rounded-lg p-4 space-y-3",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[g.jsx(dc,{className:"w-4 h-4 text-[var(--text-muted)]"}),g.jsx("span",{className:"text-[var(--text-muted)]",children:":"}),g.jsx("span",{className:"text-[var(--text-primary)]",children:v(s.createdAt)})]}),g.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[g.jsx(dc,{className:"w-4 h-4 text-[var(--text-muted)]"}),g.jsx("span",{className:"text-[var(--text-muted)]",children:":"}),g.jsx("span",{className:"text-[var(--text-primary)]",children:v(s.updatedAt)})]}),s.observationCount!==void 0&&g.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[g.jsx(Ah,{className:"w-4 h-4 text-[var(--text-muted)]"}),g.jsx("span",{className:"text-[var(--text-muted)]",children:":"}),g.jsxs("span",{className:"text-[var(--text-primary)]",children:[s.observationCount,""]})]}),s.tokenCount!==void 0&&s.tokenCount>0&&g.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[g.jsx("span",{className:"w-4 h-4 text-center text-[var(--text-muted)]",children:"#"}),g.jsx("span",{className:"text-[var(--text-muted)]",children:":"}),g.jsx("span",{className:"text-[var(--text-primary)]",children:s.tokenCount.toLocaleString()})]})]}),s.summary&&g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-medium text-[var(--text-muted)] mb-2",children:""}),g.jsx("div",{className:"bg-[var(--bg-elevated)] rounded-lg p-4",children:g.jsx("p",{className:"text-sm text-[var(--text-secondary)] whitespace-pre-wrap",children:s.summary})})]}),g.jsx("div",{className:"pt-2 border-t border-[var(--border-subtle)]",children:g.jsxs("p",{className:"text-xs text-[var(--text-muted)] font-mono",children:["ID: ",s.sessionId]})})]}):null}),g.jsx("div",{className:"px-6 py-4 border-t border-[var(--border-subtle)] flex justify-end flex-shrink-0",children:g.jsx("button",{onClick:y,className:"px-4 py-2 text-sm text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)] rounded-lg transition-colors",children:""})})]})]})}function TC(){const{theme:e,toggleTheme:r}=_m(),[o,s]=k.useState([]),[l,u]=k.useState([]),[c,f]=k.useState([]),[h,y]=k.useState(!1),[v,p]=k.useState(null),[x,S]=k.useState(null),[E,b]=k.useState(null),C=k.useRef(null),[_,M]=k.useState("idle"),[w,P]=k.useState(null),[F,D]=k.useState(null),T=k.useMemo(()=>o.filter(U=>!l.includes(U.sessionId)),[o,l]),Y=k.useCallback(async()=>{try{const U=await fetch("/api/sessions?limit=100&status=completed");if(!U.ok)throw new Error("Failed to fetch");const Z=await U.json();s(Z.items||[])}catch(U){console.error("[ViewerPage] Failed to fetch sessions:",U),s([])}},[]);k.useEffect(()=>{Y()},[Y]),k.useEffect(()=>{let U=!0;const Z=async()=>{try{const oe=[],le=await fetch("/api/sessions?limit=10&status=processing");if(le.ok){const pe=await le.json();oe.push(...pe.items||[])}const te=await fetch("/api/sessions?limit=10&status=idle");if(te.ok){const pe=await te.json();oe.push(...pe.items||[])}if(!U)return;if(oe.length===0){f([]);return}const ce=await Promise.all(oe.map(async pe=>{var we;try{const ye=await fetch(`/api/sessions/${pe.sessionId}/observations?limit=100`);if(ye.ok){const fe=await ye.json();return{session:pe,observations:fe.items||[],observationCount:((we=fe.items)==null?void 0:we.length)||0,tokenCount:pe.tokenCount||0}}}catch{}return{session:pe,observations:[],observationCount:0,tokenCount:pe.tokenCount||0}}));U&&f(ce)}catch(oe){console.error("[ViewerPage] Failed to fetch current sessions:",oe)}};Z();const ee=setInterval(Z,5e3);return()=>{U=!1,clearInterval(ee)}},[]);const X=k.useCallback(U=>{u(Z=>Z.includes(U.sessionId)?Z.filter(ee=>ee!==U.sessionId):[...Z,U.sessionId])},[]),re=k.useCallback(U=>{console.log("[Viewer] Session clicked:",U.sessionId),D(U.sessionId)},[]),G=k.useCallback(U=>{console.log("[Viewer] Get session:",U)},[]),Q=k.useCallback(U=>{p(U)},[]),ne=k.useCallback(async()=>{var Z;if(!v)return;const U=v.sessionId;try{const ee=await fetch(`/api/sessions/${U}`,{method:"DELETE"});if(!ee.ok){const oe=await ee.json();throw new Error(((Z=oe.error)==null?void 0:Z.message)||"")}s(oe=>oe.filter(le=>le.sessionId!==U)),u(oe=>oe.filter(le=>le!==U)),p(null)}catch(ee){console.error("[ViewerPage] Failed to delete session:",ee),alert(ee instanceof Error?ee.message:"")}},[v]),R=k.useCallback(async U=>{var Z;try{const ee=await fetch("/api/sessions/bulk-delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionIds:U})});if(!ee.ok){const te=await ee.json();throw new Error(((Z=te.error)==null?void 0:Z.message)||"")}const oe=await ee.json(),le=new Set(oe.results.filter(te=>te.success).map(te=>te.sessionId));s(te=>te.filter(ce=>!le.has(ce.sessionId))),u(te=>te.filter(ce=>!le.has(ce)))}catch(ee){console.error("[ViewerPage] Failed to bulk delete sessions:",ee),alert(ee instanceof Error?ee.message:"")}},[]),V=k.useCallback(U=>{S(U)},[]),$=k.useCallback(async()=>{if(x)return new Promise(U=>{C.current=U,b({type:x.type,id:x.id})})},[x]),H=k.useCallback(()=>{b(null),S(null),C.current&&(C.current(),C.current=null)},[]),[I,z]=k.useState(null),W=k.useCallback(U=>{const Z=c.find(ee=>{var oe;return((oe=ee.session)==null?void 0:oe.sessionId)===U});if(!(Z!=null&&Z.session)||Z.observationCount===0){alert("observations");return}console.log("[Viewer] Opening Smart Export modal:",U),z(Z),y(!0)},[c]),j=k.useCallback(async()=>{console.log("[Viewer] Smart Export completed"),await Y()},[Y]),A=k.useCallback(async U=>{var Z,ee,oe,le,te,ce,pe,we;if(U.length<2)return null;console.log("[Viewer] Starting merge:",U),M("merging"),P(null);try{const ye=await fetch("/api/merges/with-summary",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sourceSessionIds:U})});if(!ye.ok){const Me=await ye.json();return console.error("[Viewer] Merge failed:",Me),M("error"),null}const fe=await ye.json(),ke={shortSummary:((Z=fe.summary)==null?void 0:Z.shortSummary)||"",detailedSummary:((ee=fe.summary)==null?void 0:ee.detailedSummary)||"",keyDecisions:((oe=fe.summary)==null?void 0:oe.keyDecisions)||[],topics:((le=fe.summary)==null?void 0:le.topics)||[],sessionCount:((te=fe.summary)==null?void 0:te.sessionCount)||U.length,totalOriginalTokens:((ce=fe.summary)==null?void 0:ce.totalOriginalTokens)||0,mergedTokens:((pe=fe.summary)==null?void 0:pe.mergedTokens)||0,compressionRatio:((we=fe.summary)==null?void 0:we.compressionRatio)||0};return P(ke),M("completed"),console.log("[Viewer] Merge completed:",ke),ke}catch(ye){return console.error("[Viewer] Merge error:",ye),M("error"),null}},[]);return g.jsxs("div",{className:"h-screen flex flex-col bg-[var(--bg-base)]",children:[g.jsxs("header",{className:"h-12 flex items-center justify-between px-4 bg-[var(--bg-surface)] border-b border-[var(--border-subtle)]",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-lg font-semibold text-[var(--color-primary-500)]",children:"cnthub"}),g.jsx("span",{className:"text-sm text-[var(--text-muted)]",children:"Viewer"})]}),g.jsx("button",{onClick:r,className:"p-2 rounded-lg hover:bg-[var(--bg-elevated)] transition-colors","aria-label":e==="dark"?"":"",children:e==="dark"?g.jsx(Nm,{className:"w-5 h-5 text-[var(--text-secondary)]"}):g.jsx(Em,{className:"w-5 h-5 text-[var(--text-secondary)]"})})]}),g.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[g.jsx(fw,{sessions:o,onSessionSelect:X,onSessionClick:re,onSessionDelete:Q,onBulkDelete:R,selectedSessionIds:l}),g.jsx("main",{className:"flex-1 overflow-hidden",children:g.jsx(MC,{sessions:T,currentSessionsData:c,onGetSession:G,onExportSession:W,onDeleteRequest:V,pendingDelete:E,onDeleteComplete:H,onMerge:A,mergeStatus:_,mergedSummary:w})})]}),(I==null?void 0:I.session)&&g.jsx(RC,{isOpen:h,onClose:()=>{y(!1),z(null)},sessionId:I.session.sessionId,sessionName:I.session.name,onExportComplete:j}),g.jsx(em,{isOpen:!!v,onClose:()=>p(null),onConfirm:ne,targetType:"session",targetName:(v==null?void 0:v.name)||"",targetId:v==null?void 0:v.sessionId}),g.jsx(em,{isOpen:!!x,onClose:()=>S(null),onConfirm:$,targetType:(x==null?void 0:x.type)==="node"?"node":"edge",targetName:(x==null?void 0:x.name)||"",targetId:x==null?void 0:x.id}),g.jsx(LC,{isOpen:!!F,onClose:()=>D(null),sessionId:F})]})}function zC(){return g.jsxs(rx,{children:[g.jsx(di,{path:"/",element:g.jsx(TC,{})}),g.jsx(di,{path:"/sessions",element:g.jsx(Xu,{children:g.jsx(Gx,{})})}),g.jsx(di,{path:"/sessions/:id",element:g.jsx(Xu,{children:g.jsx(Jx,{})})}),g.jsx(di,{path:"/search",element:g.jsx(Xu,{children:g.jsx(uw,{})})})]})}const $C="/viewer/";iv.createRoot(document.getElementById("root")).render(g.jsx(eo.StrictMode,{children:g.jsx(bx,{basename:$C,children:g.jsx(zC,{})})}));
//# sourceMappingURL=index-JK0CimMJ.js.map
