(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=o(l);fetch(l.href,u)}})();function bc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ou={exports:{}},li={},Fu={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sh;function Gy(){if(Sh)return Ce;Sh=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.iterator;function x(_){return _===null||typeof _!="object"?null:(_=m&&_[m]||_["@@iterator"],typeof _=="function"?_:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,j={};function C(_,$,Q){this.props=_,this.context=$,this.refs=j,this.updater=Q||E}C.prototype.isReactComponent={},C.prototype.setState=function(_,$){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,$,"setState")},C.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function b(){}b.prototype=C.prototype;function M(_,$,Q){this.props=_,this.context=$,this.refs=j,this.updater=Q||E}var w=M.prototype=new b;w.constructor=M,N(w,C.prototype),w.isPureReactComponent=!0;var P=Array.isArray,F=Object.prototype.hasOwnProperty,D={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function W(_,$,Q){var J,re={},oe=null,ae=null;if($!=null)for(J in $.ref!==void 0&&(ae=$.ref),$.key!==void 0&&(oe=""+$.key),$)F.call($,J)&&!T.hasOwnProperty(J)&&(re[J]=$[J]);var te=arguments.length-2;if(te===1)re.children=Q;else if(1<te){for(var ce=Array(te),pe=0;pe<te;pe++)ce[pe]=arguments[pe+2];re.children=ce}if(_&&_.defaultProps)for(J in te=_.defaultProps,te)re[J]===void 0&&(re[J]=te[J]);return{$$typeof:e,type:_,key:oe,ref:ae,props:re,_owner:D.current}}function Y(_,$){return{$$typeof:e,type:_.type,key:$,ref:_.ref,props:_.props,_owner:_._owner}}function ne(_){return typeof _=="object"&&_!==null&&_.$$typeof===e}function G(_){var $={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(Q){return $[Q]})}var X=/\/+/g;function ee(_,$){return typeof _=="object"&&_!==null&&_.key!=null?G(""+_.key):$.toString(36)}function R(_,$,Q,J,re){var oe=typeof _;(oe==="undefined"||oe==="boolean")&&(_=null);var ae=!1;if(_===null)ae=!0;else switch(oe){case"string":case"number":ae=!0;break;case"object":switch(_.$$typeof){case e:case r:ae=!0}}if(ae)return ae=_,re=re(ae),_=J===""?"."+ee(ae,0):J,P(re)?(Q="",_!=null&&(Q=_.replace(X,"$&/")+"/"),R(re,$,Q,"",function(pe){return pe})):re!=null&&(ne(re)&&(re=Y(re,Q+(!re.key||ae&&ae.key===re.key?"":(""+re.key).replace(X,"$&/")+"/")+_)),$.push(re)),1;if(ae=0,J=J===""?".":J+":",P(_))for(var te=0;te<_.length;te++){oe=_[te];var ce=J+ee(oe,te);ae+=R(oe,$,Q,ce,re)}else if(ce=x(_),typeof ce=="function")for(_=ce.call(_),te=0;!(oe=_.next()).done;)oe=oe.value,ce=J+ee(oe,te++),ae+=R(oe,$,Q,ce,re);else if(oe==="object")throw $=String(_),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return ae}function V(_,$,Q){if(_==null)return _;var J=[],re=0;return R(_,J,"","",function(oe){return $.call(Q,oe,re++)}),J}function A(_){if(_._status===-1){var $=_._result;$=$(),$.then(function(Q){(_._status===0||_._status===-1)&&(_._status=1,_._result=Q)},function(Q){(_._status===0||_._status===-1)&&(_._status=2,_._result=Q)}),_._status===-1&&(_._status=0,_._result=$)}if(_._status===1)return _._result.default;throw _._result}var H={current:null},I={transition:null},z={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:I,ReactCurrentOwner:D};function U(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:V,forEach:function(_,$,Q){V(_,function(){$.apply(this,arguments)},Q)},count:function(_){var $=0;return V(_,function(){$++}),$},toArray:function(_){return V(_,function($){return $})||[]},only:function(_){if(!ne(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},Ce.Component=C,Ce.Fragment=o,Ce.Profiler=l,Ce.PureComponent=M,Ce.StrictMode=s,Ce.Suspense=h,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,Ce.act=U,Ce.cloneElement=function(_,$,Q){if(_==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_+".");var J=N({},_.props),re=_.key,oe=_.ref,ae=_._owner;if($!=null){if($.ref!==void 0&&(oe=$.ref,ae=D.current),$.key!==void 0&&(re=""+$.key),_.type&&_.type.defaultProps)var te=_.type.defaultProps;for(ce in $)F.call($,ce)&&!T.hasOwnProperty(ce)&&(J[ce]=$[ce]===void 0&&te!==void 0?te[ce]:$[ce])}var ce=arguments.length-2;if(ce===1)J.children=Q;else if(1<ce){te=Array(ce);for(var pe=0;pe<ce;pe++)te[pe]=arguments[pe+2];J.children=te}return{$$typeof:e,type:_.type,key:re,ref:oe,props:J,_owner:ae}},Ce.createContext=function(_){return _={$$typeof:c,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_.Provider={$$typeof:u,_context:_},_.Consumer=_},Ce.createElement=W,Ce.createFactory=function(_){var $=W.bind(null,_);return $.type=_,$},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(_){return{$$typeof:f,render:_}},Ce.isValidElement=ne,Ce.lazy=function(_){return{$$typeof:v,_payload:{_status:-1,_result:_},_init:A}},Ce.memo=function(_,$){return{$$typeof:y,type:_,compare:$===void 0?null:$}},Ce.startTransition=function(_){var $=I.transition;I.transition={};try{_()}finally{I.transition=$}},Ce.unstable_act=U,Ce.useCallback=function(_,$){return H.current.useCallback(_,$)},Ce.useContext=function(_){return H.current.useContext(_)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(_){return H.current.useDeferredValue(_)},Ce.useEffect=function(_,$){return H.current.useEffect(_,$)},Ce.useId=function(){return H.current.useId()},Ce.useImperativeHandle=function(_,$,Q){return H.current.useImperativeHandle(_,$,Q)},Ce.useInsertionEffect=function(_,$){return H.current.useInsertionEffect(_,$)},Ce.useLayoutEffect=function(_,$){return H.current.useLayoutEffect(_,$)},Ce.useMemo=function(_,$){return H.current.useMemo(_,$)},Ce.useReducer=function(_,$,Q){return H.current.useReducer(_,$,Q)},Ce.useRef=function(_){return H.current.useRef(_)},Ce.useState=function(_){return H.current.useState(_)},Ce.useSyncExternalStore=function(_,$,Q){return H.current.useSyncExternalStore(_,$,Q)},Ce.useTransition=function(){return H.current.useTransition()},Ce.version="18.3.1",Ce}var Eh;function bi(){return Eh||(Eh=1,Fu.exports=Gy()),Fu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nh;function Ky(){if(Nh)return li;Nh=1;var e=bi(),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(f,h,y){var v,m={},x=null,E=null;y!==void 0&&(x=""+y),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(E=h.ref);for(v in h)s.call(h,v)&&!u.hasOwnProperty(v)&&(m[v]=h[v]);if(f&&f.defaultProps)for(v in h=f.defaultProps,h)m[v]===void 0&&(m[v]=h[v]);return{$$typeof:r,type:f,key:x,ref:E,props:m,_owner:l.current}}return li.Fragment=o,li.jsx=c,li.jsxs=c,li}var kh;function qy(){return kh||(kh=1,Ou.exports=Ky()),Ou.exports}var g=qy(),k=bi();const eo=bc(k);var tl={},Hu={exports:{}},dt={},Vu={exports:{}},Bu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ch;function Zy(){return Ch||(Ch=1,(function(e){function r(I,z){var U=I.length;I.push(z);e:for(;0<U;){var _=U-1>>>1,$=I[_];if(0<l($,z))I[_]=z,I[U]=$,U=_;else break e}}function o(I){return I.length===0?null:I[0]}function s(I){if(I.length===0)return null;var z=I[0],U=I.pop();if(U!==z){I[0]=U;e:for(var _=0,$=I.length,Q=$>>>1;_<Q;){var J=2*(_+1)-1,re=I[J],oe=J+1,ae=I[oe];if(0>l(re,U))oe<$&&0>l(ae,re)?(I[_]=ae,I[oe]=U,_=oe):(I[_]=re,I[J]=U,_=J);else if(oe<$&&0>l(ae,U))I[_]=ae,I[oe]=U,_=oe;else break e}}return z}function l(I,z){var U=I.sortIndex-z.sortIndex;return U!==0?U:I.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var h=[],y=[],v=1,m=null,x=3,E=!1,N=!1,j=!1,C=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(I){for(var z=o(y);z!==null;){if(z.callback===null)s(y);else if(z.startTime<=I)s(y),z.sortIndex=z.expirationTime,r(h,z);else break;z=o(y)}}function P(I){if(j=!1,w(I),!N)if(o(h)!==null)N=!0,A(F);else{var z=o(y);z!==null&&H(P,z.startTime-I)}}function F(I,z){N=!1,j&&(j=!1,b(W),W=-1),E=!0;var U=x;try{for(w(z),m=o(h);m!==null&&(!(m.expirationTime>z)||I&&!G());){var _=m.callback;if(typeof _=="function"){m.callback=null,x=m.priorityLevel;var $=_(m.expirationTime<=z);z=e.unstable_now(),typeof $=="function"?m.callback=$:m===o(h)&&s(h),w(z)}else s(h);m=o(h)}if(m!==null)var Q=!0;else{var J=o(y);J!==null&&H(P,J.startTime-z),Q=!1}return Q}finally{m=null,x=U,E=!1}}var D=!1,T=null,W=-1,Y=5,ne=-1;function G(){return!(e.unstable_now()-ne<Y)}function X(){if(T!==null){var I=e.unstable_now();ne=I;var z=!0;try{z=T(!0,I)}finally{z?ee():(D=!1,T=null)}}else D=!1}var ee;if(typeof M=="function")ee=function(){M(X)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,V=R.port2;R.port1.onmessage=X,ee=function(){V.postMessage(null)}}else ee=function(){C(X,0)};function A(I){T=I,D||(D=!0,ee())}function H(I,z){W=C(function(){I(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){N||E||(N=!0,A(F))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return o(h)},e.unstable_next=function(I){switch(x){case 1:case 2:case 3:var z=3;break;default:z=x}var U=x;x=z;try{return I()}finally{x=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,z){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var U=x;x=I;try{return z()}finally{x=U}},e.unstable_scheduleCallback=function(I,z,U){var _=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?_+U:_):U=_,I){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=U+$,I={id:v++,callback:z,priorityLevel:I,startTime:U,expirationTime:$,sortIndex:-1},U>_?(I.sortIndex=U,r(y,I),o(h)===null&&I===o(y)&&(j?(b(W),W=-1):j=!0,H(P,U-_))):(I.sortIndex=$,r(h,I),N||E||(N=!0,A(F))),I},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(I){var z=x;return function(){var U=x;x=z;try{return I.apply(this,arguments)}finally{x=U}}}})(Bu)),Bu}var _h;function Jy(){return _h||(_h=1,Vu.exports=Zy()),Vu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bh;function ev(){if(bh)return dt;bh=1;var e=bi(),r=Jy();function o(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function u(t,n){c(t,n),c(t+"Capture",n)}function c(t,n){for(l[t]=n,t=0;t<n.length;t++)s.add(n[t])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},m={};function x(t){return h.call(m,t)?!0:h.call(v,t)?!1:y.test(t)?m[t]=!0:(v[t]=!0,!1)}function E(t,n,i,a){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function N(t,n,i,a){if(n===null||typeof n>"u"||E(t,n,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function j(t,n,i,a,d,p,S){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=d,this.mustUseProperty=i,this.propertyName=t,this.type=n,this.sanitizeURL=p,this.removeEmptyString=S}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){C[t]=new j(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];C[n]=new j(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){C[t]=new j(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){C[t]=new j(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){C[t]=new j(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){C[t]=new j(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){C[t]=new j(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){C[t]=new j(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){C[t]=new j(t,5,!1,t.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function M(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(b,M);C[n]=new j(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(b,M);C[n]=new j(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(b,M);C[n]=new j(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){C[t]=new j(t,1,!1,t.toLowerCase(),null,!1,!1)}),C.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){C[t]=new j(t,1,!1,t.toLowerCase(),null,!0,!0)});function w(t,n,i,a){var d=C.hasOwnProperty(n)?C[n]:null;(d!==null?d.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(N(n,i,d,a)&&(i=null),a||d===null?x(n)&&(i===null?t.removeAttribute(n):t.setAttribute(n,""+i)):d.mustUseProperty?t[d.propertyName]=i===null?d.type===3?!1:"":i:(n=d.attributeName,a=d.attributeNamespace,i===null?t.removeAttribute(n):(d=d.type,i=d===3||d===4&&i===!0?"":""+i,a?t.setAttributeNS(a,n,i):t.setAttribute(n,i))))}var P=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),D=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),G=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),I=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var U=Object.assign,_;function $(t){if(_===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);_=n&&n[1]||""}return`
`+_+t}var Q=!1;function J(t,n){if(!t||Q)return"";Q=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(Z){var a=Z}Reflect.construct(t,[],n)}else{try{n.call()}catch(Z){a=Z}t.call(n.prototype)}else{try{throw Error()}catch(Z){a=Z}t()}}catch(Z){if(Z&&a&&typeof Z.stack=="string"){for(var d=Z.stack.split(`
`),p=a.stack.split(`
`),S=d.length-1,L=p.length-1;1<=S&&0<=L&&d[S]!==p[L];)L--;for(;1<=S&&0<=L;S--,L--)if(d[S]!==p[L]){if(S!==1||L!==1)do if(S--,L--,0>L||d[S]!==p[L]){var O=`
`+d[S].replace(" at new "," at ");return t.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",t.displayName)),O}while(1<=S&&0<=L);break}}}finally{Q=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?$(t):""}function re(t){switch(t.tag){case 5:return $(t.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return t=J(t.type,!1),t;case 11:return t=J(t.type.render,!1),t;case 1:return t=J(t.type,!0),t;default:return""}}function oe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case T:return"Fragment";case D:return"Portal";case Y:return"Profiler";case W:return"StrictMode";case ee:return"Suspense";case R:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case G:return(t.displayName||"Context")+".Consumer";case ne:return(t._context.displayName||"Context")+".Provider";case X:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return n=t.displayName||null,n!==null?n:oe(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return oe(t(n))}catch{}}return null}function ae(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(n);case 8:return n===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function te(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ce(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function pe(t){var n=ce(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),a=""+t[n];if(!t.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,p=i.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return d.call(this)},set:function(S){a=""+S,p.call(this,S)}}),Object.defineProperty(t,n,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(S){a=""+S},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function we(t){t._valueTracker||(t._valueTracker=pe(t))}function ye(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var i=n.getValue(),a="";return t&&(a=ce(t)?t.checked?"true":"false":t.value),t=a,t!==i?(n.setValue(t),!0):!1}function fe(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ke(t,n){var i=n.checked;return U({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??t._wrapperState.initialChecked})}function Me(t,n){var i=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;i=te(n.value!=null?n.value:i),t._wrapperState={initialChecked:a,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function _e(t,n){n=n.checked,n!=null&&w(t,"checked",n,!1)}function Ue(t,n){_e(t,n);var i=te(n.value),a=n.type;if(i!=null)a==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if(a==="submit"||a==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?ht(t,n.type,i):n.hasOwnProperty("defaultValue")&&ht(t,n.type,te(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function It(t,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,i||n===t.value||(t.value=n),t.defaultValue=n}i=t.name,i!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,i!==""&&(t.name=i)}function ht(t,n,i){(n!=="number"||fe(t.ownerDocument)!==t)&&(i==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var pt=Array.isArray;function Et(t,n,i,a){if(t=t.options,n){n={};for(var d=0;d<i.length;d++)n["$"+i[d]]=!0;for(i=0;i<t.length;i++)d=n.hasOwnProperty("$"+t[i].value),t[i].selected!==d&&(t[i].selected=d),d&&a&&(t[i].defaultSelected=!0)}else{for(i=""+te(i),n=null,d=0;d<t.length;d++){if(t[d].value===i){t[d].selected=!0,a&&(t[d].defaultSelected=!0);return}n!==null||t[d].disabled||(n=t[d])}n!==null&&(n.selected=!0)}}function tn(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(o(91));return U({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wn(t,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(o(92));if(pt(i)){if(1<i.length)throw Error(o(93));i=i[0]}n=i}n==null&&(n=""),i=n}t._wrapperState={initialValue:te(i)}}function Sr(t,n){var i=te(n.value),a=te(n.defaultValue);i!=null&&(i=""+i,i!==t.value&&(t.value=i),n.defaultValue==null&&t.defaultValue!==i&&(t.defaultValue=i)),a!=null&&(t.defaultValue=""+a)}function Xn(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function nn(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rn(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?nn(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qn,Ai=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,a,d){MSApp.execUnsafeLocalFunction(function(){return t(n,i,a,d)})}:t})(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(Qn=Qn||document.createElement("div"),Qn.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Qn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function on(t,n){if(n){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=n;return}}t.textContent=n}var Gn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xl=["Webkit","ms","Moz","O"];Object.keys(Gn).forEach(function(t){Xl.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),Gn[n]=Gn[t]})});function Di(t,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||Gn.hasOwnProperty(t)&&Gn[t]?(""+n).trim():n+"px"}function Oi(t,n){t=t.style;for(var i in n)if(n.hasOwnProperty(i)){var a=i.indexOf("--")===0,d=Di(i,n[i],a);i==="float"&&(i="cssFloat"),a?t.setProperty(i,d):t[i]=d}}var Ql=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yo(t,n){if(n){if(Ql[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(o(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(o(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(o(61))}if(n.style!=null&&typeof n.style!="object")throw Error(o(62))}}function vo(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xo=null;function wo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var So=null,Sn=null,En=null;function Fi(t){if(t=Yo(t)){if(typeof So!="function")throw Error(o(280));var n=t.stateNode;n&&(n=gs(n),So(t.stateNode,t.type,n))}}function Hi(t){Sn?En?En.push(t):En=[t]:Sn=t}function Vi(){if(Sn){var t=Sn,n=En;if(En=Sn=null,Fi(t),n)for(t=0;t<n.length;t++)Fi(n[t])}}function Bi(t,n){return t(n)}function Ui(){}var Eo=!1;function Wi(t,n,i){if(Eo)return t(n,i);Eo=!0;try{return Bi(t,n,i)}finally{Eo=!1,(Sn!==null||En!==null)&&(Ui(),Vi())}}function Kn(t,n){var i=t.stateNode;if(i===null)return null;var a=gs(i);if(a===null)return null;i=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(o(231,n,typeof i));return i}var No=!1;if(f)try{var qn={};Object.defineProperty(qn,"passive",{get:function(){No=!0}}),window.addEventListener("test",qn,qn),window.removeEventListener("test",qn,qn)}catch{No=!1}function Gl(t,n,i,a,d,p,S,L,O){var Z=Array.prototype.slice.call(arguments,3);try{n.apply(i,Z)}catch(se){this.onError(se)}}var Zn=!1,Er=null,Nr=!1,ko=null,Kl={onError:function(t){Zn=!0,Er=t}};function ql(t,n,i,a,d,p,S,L,O){Zn=!1,Er=null,Gl.apply(Kl,arguments)}function Zl(t,n,i,a,d,p,S,L,O){if(ql.apply(this,arguments),Zn){if(Zn){var Z=Er;Zn=!1,Er=null}else throw Error(o(198));Nr||(Nr=!0,ko=Z)}}function Ut(t){var n=t,i=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(i=n.return),t=n.return;while(t)}return n.tag===3?i:null}function Co(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _o(t){if(Ut(t)!==t)throw Error(o(188))}function Jl(t){var n=t.alternate;if(!n){if(n=Ut(t),n===null)throw Error(o(188));return n!==t?null:t}for(var i=t,a=n;;){var d=i.return;if(d===null)break;var p=d.alternate;if(p===null){if(a=d.return,a!==null){i=a;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===i)return _o(d),t;if(p===a)return _o(d),n;p=p.sibling}throw Error(o(188))}if(i.return!==a.return)i=d,a=p;else{for(var S=!1,L=d.child;L;){if(L===i){S=!0,i=d,a=p;break}if(L===a){S=!0,a=d,i=p;break}L=L.sibling}if(!S){for(L=p.child;L;){if(L===i){S=!0,i=p,a=d;break}if(L===a){S=!0,a=p,i=d;break}L=L.sibling}if(!S)throw Error(o(189))}}if(i.alternate!==a)throw Error(o(190))}if(i.tag!==3)throw Error(o(188));return i.stateNode.current===i?t:n}function Yi(t){return t=Jl(t),t!==null?Xi(t):null}function Xi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=Xi(t);if(n!==null)return n;t=t.sibling}return null}var Qi=r.unstable_scheduleCallback,Gi=r.unstable_cancelCallback,ea=r.unstable_shouldYield,Ki=r.unstable_requestPaint,De=r.unstable_now,ta=r.unstable_getCurrentPriorityLevel,bo=r.unstable_ImmediatePriority,qi=r.unstable_UserBlockingPriority,kr=r.unstable_NormalPriority,na=r.unstable_LowPriority,Zi=r.unstable_IdlePriority,Jn=null,Nt=null;function ra(t){if(Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Jn,t,void 0,(t.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:sa,oa=Math.log,ia=Math.LN2;function sa(t){return t>>>=0,t===0?32:31-(oa(t)/ia|0)|0}var Cr=64,_r=4194304;function Wt(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function br(t,n){var i=t.pendingLanes;if(i===0)return 0;var a=0,d=t.suspendedLanes,p=t.pingedLanes,S=i&268435455;if(S!==0){var L=S&~d;L!==0?a=Wt(L):(p&=S,p!==0&&(a=Wt(p)))}else S=i&~d,S!==0?a=Wt(S):p!==0&&(a=Wt(p));if(a===0)return 0;if(n!==0&&n!==a&&(n&d)===0&&(d=a&-a,p=n&-n,d>=p||d===16&&(p&4194240)!==0))return n;if((a&4)!==0&&(a|=i&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=a;0<n;)i=31-mt(n),d=1<<i,a|=t[i],n&=~d;return a}function Ji(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function la(t,n){for(var i=t.suspendedLanes,a=t.pingedLanes,d=t.expirationTimes,p=t.pendingLanes;0<p;){var S=31-mt(p),L=1<<S,O=d[S];O===-1?((L&i)===0||(L&a)!==0)&&(d[S]=Ji(L,n)):O<=n&&(t.expiredLanes|=L),p&=~L}}function jo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function jr(){var t=Cr;return Cr<<=1,(Cr&4194240)===0&&(Cr=64),t}function Po(t){for(var n=[],i=0;31>i;i++)n.push(t);return n}function er(t,n,i){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-mt(n),t[n]=i}function es(t,n){var i=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var a=t.eventTimes;for(t=t.expirationTimes;0<i;){var d=31-mt(i),p=1<<d;n[d]=0,a[d]=-1,t[d]=-1,i&=~p}}function aa(t,n){var i=t.entangledLanes|=n;for(t=t.entanglements;i;){var a=31-mt(i),d=1<<a;d&n|t[a]&n&&(t[a]|=n),i&=~d}}var Ie=0;function Zc(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Jc,ua,ed,td,nd,ca=!1,ts=[],Nn=null,kn=null,Cn=null,Mo=new Map,Io=new Map,_n=[],yg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rd(t,n){switch(t){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":Cn=null;break;case"pointerover":case"pointerout":Mo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Io.delete(n.pointerId)}}function Ro(t,n,i,a,d,p){return t===null||t.nativeEvent!==p?(t={blockedOn:n,domEventName:i,eventSystemFlags:a,nativeEvent:p,targetContainers:[d]},n!==null&&(n=Yo(n),n!==null&&ua(n)),t):(t.eventSystemFlags|=a,n=t.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),t)}function vg(t,n,i,a,d){switch(n){case"focusin":return Nn=Ro(Nn,t,n,i,a,d),!0;case"dragenter":return kn=Ro(kn,t,n,i,a,d),!0;case"mouseover":return Cn=Ro(Cn,t,n,i,a,d),!0;case"pointerover":var p=d.pointerId;return Mo.set(p,Ro(Mo.get(p)||null,t,n,i,a,d)),!0;case"gotpointercapture":return p=d.pointerId,Io.set(p,Ro(Io.get(p)||null,t,n,i,a,d)),!0}return!1}function od(t){var n=tr(t.target);if(n!==null){var i=Ut(n);if(i!==null){if(n=i.tag,n===13){if(n=Co(i),n!==null){t.blockedOn=n,nd(t.priority,function(){ed(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ns(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var i=fa(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(i===null){i=t.nativeEvent;var a=new i.constructor(i.type,i);xo=a,i.target.dispatchEvent(a),xo=null}else return n=Yo(i),n!==null&&ua(n),t.blockedOn=i,!1;n.shift()}return!0}function id(t,n,i){ns(t)&&i.delete(n)}function xg(){ca=!1,Nn!==null&&ns(Nn)&&(Nn=null),kn!==null&&ns(kn)&&(kn=null),Cn!==null&&ns(Cn)&&(Cn=null),Mo.forEach(id),Io.forEach(id)}function Lo(t,n){t.blockedOn===n&&(t.blockedOn=null,ca||(ca=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,xg)))}function To(t){function n(d){return Lo(d,t)}if(0<ts.length){Lo(ts[0],t);for(var i=1;i<ts.length;i++){var a=ts[i];a.blockedOn===t&&(a.blockedOn=null)}}for(Nn!==null&&Lo(Nn,t),kn!==null&&Lo(kn,t),Cn!==null&&Lo(Cn,t),Mo.forEach(n),Io.forEach(n),i=0;i<_n.length;i++)a=_n[i],a.blockedOn===t&&(a.blockedOn=null);for(;0<_n.length&&(i=_n[0],i.blockedOn===null);)od(i),i.blockedOn===null&&_n.shift()}var Pr=P.ReactCurrentBatchConfig,rs=!0;function wg(t,n,i,a){var d=Ie,p=Pr.transition;Pr.transition=null;try{Ie=1,da(t,n,i,a)}finally{Ie=d,Pr.transition=p}}function Sg(t,n,i,a){var d=Ie,p=Pr.transition;Pr.transition=null;try{Ie=4,da(t,n,i,a)}finally{Ie=d,Pr.transition=p}}function da(t,n,i,a){if(rs){var d=fa(t,n,i,a);if(d===null)Pa(t,n,a,os,i),rd(t,a);else if(vg(d,t,n,i,a))a.stopPropagation();else if(rd(t,a),n&4&&-1<yg.indexOf(t)){for(;d!==null;){var p=Yo(d);if(p!==null&&Jc(p),p=fa(t,n,i,a),p===null&&Pa(t,n,a,os,i),p===d)break;d=p}d!==null&&a.stopPropagation()}else Pa(t,n,a,null,i)}}var os=null;function fa(t,n,i,a){if(os=null,t=wo(a),t=tr(t),t!==null)if(n=Ut(t),n===null)t=null;else if(i=n.tag,i===13){if(t=Co(n),t!==null)return t;t=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return os=t,null}function sd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ta()){case bo:return 1;case qi:return 4;case kr:case na:return 16;case Zi:return 536870912;default:return 16}default:return 16}}var bn=null,ha=null,is=null;function ld(){if(is)return is;var t,n=ha,i=n.length,a,d="value"in bn?bn.value:bn.textContent,p=d.length;for(t=0;t<i&&n[t]===d[t];t++);var S=i-t;for(a=1;a<=S&&n[i-a]===d[p-a];a++);return is=d.slice(t,1<a?1-a:void 0)}function ss(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ls(){return!0}function ad(){return!1}function gt(t){function n(i,a,d,p,S){this._reactName=i,this._targetInst=d,this.type=a,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var L in t)t.hasOwnProperty(L)&&(i=t[L],this[L]=i?i(p):p[L]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ls:ad,this.isPropagationStopped=ad,this}return U(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),n}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pa=gt(Mr),zo=U({},Mr,{view:0,detail:0}),Eg=gt(zo),ma,ga,$o,as=U({},zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:va,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$o&&($o&&t.type==="mousemove"?(ma=t.screenX-$o.screenX,ga=t.screenY-$o.screenY):ga=ma=0,$o=t),ma)},movementY:function(t){return"movementY"in t?t.movementY:ga}}),ud=gt(as),Ng=U({},as,{dataTransfer:0}),kg=gt(Ng),Cg=U({},zo,{relatedTarget:0}),ya=gt(Cg),_g=U({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),bg=gt(_g),jg=U({},Mr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pg=gt(jg),Mg=U({},Mr,{data:0}),cd=gt(Mg),Ig={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tg(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Lg[t])?!!n[t]:!1}function va(){return Tg}var zg=U({},zo,{key:function(t){if(t.key){var n=Ig[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ss(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Rg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:va,charCode:function(t){return t.type==="keypress"?ss(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ss(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$g=gt(zg),Ag=U({},as,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dd=gt(Ag),Dg=U({},zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:va}),Og=gt(Dg),Fg=U({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hg=gt(Fg),Vg=U({},as,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Bg=gt(Vg),Ug=[9,13,27,32],xa=f&&"CompositionEvent"in window,Ao=null;f&&"documentMode"in document&&(Ao=document.documentMode);var Wg=f&&"TextEvent"in window&&!Ao,fd=f&&(!xa||Ao&&8<Ao&&11>=Ao),hd=" ",pd=!1;function md(t,n){switch(t){case"keyup":return Ug.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ir=!1;function Yg(t,n){switch(t){case"compositionend":return gd(n);case"keypress":return n.which!==32?null:(pd=!0,hd);case"textInput":return t=n.data,t===hd&&pd?null:t;default:return null}}function Xg(t,n){if(Ir)return t==="compositionend"||!xa&&md(t,n)?(t=ld(),is=ha=bn=null,Ir=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return fd&&n.locale!=="ko"?null:n.data;default:return null}}var Qg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Qg[t.type]:n==="textarea"}function vd(t,n,i,a){Hi(a),n=hs(n,"onChange"),0<n.length&&(i=new pa("onChange","change",null,i,a),t.push({event:i,listeners:n}))}var Do=null,Oo=null;function Gg(t){$d(t,0)}function us(t){var n=$r(t);if(ye(n))return t}function Kg(t,n){if(t==="change")return n}var xd=!1;if(f){var wa;if(f){var Sa="oninput"in document;if(!Sa){var wd=document.createElement("div");wd.setAttribute("oninput","return;"),Sa=typeof wd.oninput=="function"}wa=Sa}else wa=!1;xd=wa&&(!document.documentMode||9<document.documentMode)}function Sd(){Do&&(Do.detachEvent("onpropertychange",Ed),Oo=Do=null)}function Ed(t){if(t.propertyName==="value"&&us(Oo)){var n=[];vd(n,Oo,t,wo(t)),Wi(Gg,n)}}function qg(t,n,i){t==="focusin"?(Sd(),Do=n,Oo=i,Do.attachEvent("onpropertychange",Ed)):t==="focusout"&&Sd()}function Zg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return us(Oo)}function Jg(t,n){if(t==="click")return us(n)}function ey(t,n){if(t==="input"||t==="change")return us(n)}function ty(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Rt=typeof Object.is=="function"?Object.is:ty;function Fo(t,n){if(Rt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var i=Object.keys(t),a=Object.keys(n);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var d=i[a];if(!h.call(n,d)||!Rt(t[d],n[d]))return!1}return!0}function Nd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kd(t,n){var i=Nd(t);t=0;for(var a;i;){if(i.nodeType===3){if(a=t+i.textContent.length,t<=n&&a>=n)return{node:i,offset:n-t};t=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Nd(i)}}function Cd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Cd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function _d(){for(var t=window,n=fe();n instanceof t.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)t=n.contentWindow;else break;n=fe(t.document)}return n}function Ea(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function ny(t){var n=_d(),i=t.focusedElem,a=t.selectionRange;if(n!==i&&i&&i.ownerDocument&&Cd(i.ownerDocument.documentElement,i)){if(a!==null&&Ea(i)){if(n=a.start,t=a.end,t===void 0&&(t=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(t,i.value.length);else if(t=(n=i.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var d=i.textContent.length,p=Math.min(a.start,d);a=a.end===void 0?p:Math.min(a.end,d),!t.extend&&p>a&&(d=a,a=p,p=d),d=kd(i,p);var S=kd(i,a);d&&S&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==S.node||t.focusOffset!==S.offset)&&(n=n.createRange(),n.setStart(d.node,d.offset),t.removeAllRanges(),p>a?(t.addRange(n),t.extend(S.node,S.offset)):(n.setEnd(S.node,S.offset),t.addRange(n)))}}for(n=[],t=i;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)t=n[i],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ry=f&&"documentMode"in document&&11>=document.documentMode,Rr=null,Na=null,Ho=null,ka=!1;function bd(t,n,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ka||Rr==null||Rr!==fe(a)||(a=Rr,"selectionStart"in a&&Ea(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ho&&Fo(Ho,a)||(Ho=a,a=hs(Na,"onSelect"),0<a.length&&(n=new pa("onSelect","select",null,n,i),t.push({event:n,listeners:a}),n.target=Rr)))}function cs(t,n){var i={};return i[t.toLowerCase()]=n.toLowerCase(),i["Webkit"+t]="webkit"+n,i["Moz"+t]="moz"+n,i}var Lr={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionend:cs("Transition","TransitionEnd")},Ca={},jd={};f&&(jd=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function ds(t){if(Ca[t])return Ca[t];if(!Lr[t])return t;var n=Lr[t],i;for(i in n)if(n.hasOwnProperty(i)&&i in jd)return Ca[t]=n[i];return t}var Pd=ds("animationend"),Md=ds("animationiteration"),Id=ds("animationstart"),Rd=ds("transitionend"),Ld=new Map,Td="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jn(t,n){Ld.set(t,n),u(n,[t])}for(var _a=0;_a<Td.length;_a++){var ba=Td[_a],oy=ba.toLowerCase(),iy=ba[0].toUpperCase()+ba.slice(1);jn(oy,"on"+iy)}jn(Pd,"onAnimationEnd"),jn(Md,"onAnimationIteration"),jn(Id,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(Rd,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vo));function zd(t,n,i){var a=t.type||"unknown-event";t.currentTarget=i,Zl(a,n,void 0,t),t.currentTarget=null}function $d(t,n){n=(n&4)!==0;for(var i=0;i<t.length;i++){var a=t[i],d=a.event;a=a.listeners;e:{var p=void 0;if(n)for(var S=a.length-1;0<=S;S--){var L=a[S],O=L.instance,Z=L.currentTarget;if(L=L.listener,O!==p&&d.isPropagationStopped())break e;zd(d,L,Z),p=O}else for(S=0;S<a.length;S++){if(L=a[S],O=L.instance,Z=L.currentTarget,L=L.listener,O!==p&&d.isPropagationStopped())break e;zd(d,L,Z),p=O}}}if(Nr)throw t=ko,Nr=!1,ko=null,t}function Le(t,n){var i=n[za];i===void 0&&(i=n[za]=new Set);var a=t+"__bubble";i.has(a)||(Ad(n,t,2,!1),i.add(a))}function ja(t,n,i){var a=0;n&&(a|=4),Ad(i,t,a,n)}var fs="_reactListening"+Math.random().toString(36).slice(2);function Bo(t){if(!t[fs]){t[fs]=!0,s.forEach(function(i){i!=="selectionchange"&&(sy.has(i)||ja(i,!1,t),ja(i,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[fs]||(n[fs]=!0,ja("selectionchange",!1,n))}}function Ad(t,n,i,a){switch(sd(n)){case 1:var d=wg;break;case 4:d=Sg;break;default:d=da}i=d.bind(null,n,i,t),d=void 0,!No||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),a?d!==void 0?t.addEventListener(n,i,{capture:!0,passive:d}):t.addEventListener(n,i,!0):d!==void 0?t.addEventListener(n,i,{passive:d}):t.addEventListener(n,i,!1)}function Pa(t,n,i,a,d){var p=a;if((n&1)===0&&(n&2)===0&&a!==null)e:for(;;){if(a===null)return;var S=a.tag;if(S===3||S===4){var L=a.stateNode.containerInfo;if(L===d||L.nodeType===8&&L.parentNode===d)break;if(S===4)for(S=a.return;S!==null;){var O=S.tag;if((O===3||O===4)&&(O=S.stateNode.containerInfo,O===d||O.nodeType===8&&O.parentNode===d))return;S=S.return}for(;L!==null;){if(S=tr(L),S===null)return;if(O=S.tag,O===5||O===6){a=p=S;continue e}L=L.parentNode}}a=a.return}Wi(function(){var Z=p,se=wo(i),le=[];e:{var ie=Ld.get(t);if(ie!==void 0){var de=pa,me=t;switch(t){case"keypress":if(ss(i)===0)break e;case"keydown":case"keyup":de=$g;break;case"focusin":me="focus",de=ya;break;case"focusout":me="blur",de=ya;break;case"beforeblur":case"afterblur":de=ya;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=ud;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=kg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Og;break;case Pd:case Md:case Id:de=bg;break;case Rd:de=Hg;break;case"scroll":de=Eg;break;case"wheel":de=Bg;break;case"copy":case"cut":case"paste":de=Pg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=dd}var ge=(n&4)!==0,Be=!ge&&t==="scroll",K=ge?ie!==null?ie+"Capture":null:ie;ge=[];for(var B=Z,q;B!==null;){q=B;var ue=q.stateNode;if(q.tag===5&&ue!==null&&(q=ue,K!==null&&(ue=Kn(B,K),ue!=null&&ge.push(Uo(B,ue,q)))),Be)break;B=B.return}0<ge.length&&(ie=new de(ie,me,null,i,se),le.push({event:ie,listeners:ge}))}}if((n&7)===0){e:{if(ie=t==="mouseover"||t==="pointerover",de=t==="mouseout"||t==="pointerout",ie&&i!==xo&&(me=i.relatedTarget||i.fromElement)&&(tr(me)||me[sn]))break e;if((de||ie)&&(ie=se.window===se?se:(ie=se.ownerDocument)?ie.defaultView||ie.parentWindow:window,de?(me=i.relatedTarget||i.toElement,de=Z,me=me?tr(me):null,me!==null&&(Be=Ut(me),me!==Be||me.tag!==5&&me.tag!==6)&&(me=null)):(de=null,me=Z),de!==me)){if(ge=ud,ue="onMouseLeave",K="onMouseEnter",B="mouse",(t==="pointerout"||t==="pointerover")&&(ge=dd,ue="onPointerLeave",K="onPointerEnter",B="pointer"),Be=de==null?ie:$r(de),q=me==null?ie:$r(me),ie=new ge(ue,B+"leave",de,i,se),ie.target=Be,ie.relatedTarget=q,ue=null,tr(se)===Z&&(ge=new ge(K,B+"enter",me,i,se),ge.target=q,ge.relatedTarget=Be,ue=ge),Be=ue,de&&me)t:{for(ge=de,K=me,B=0,q=ge;q;q=Tr(q))B++;for(q=0,ue=K;ue;ue=Tr(ue))q++;for(;0<B-q;)ge=Tr(ge),B--;for(;0<q-B;)K=Tr(K),q--;for(;B--;){if(ge===K||K!==null&&ge===K.alternate)break t;ge=Tr(ge),K=Tr(K)}ge=null}else ge=null;de!==null&&Dd(le,ie,de,ge,!1),me!==null&&Be!==null&&Dd(le,Be,me,ge,!0)}}e:{if(ie=Z?$r(Z):window,de=ie.nodeName&&ie.nodeName.toLowerCase(),de==="select"||de==="input"&&ie.type==="file")var ve=Kg;else if(yd(ie))if(xd)ve=ey;else{ve=Zg;var Se=qg}else(de=ie.nodeName)&&de.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(ve=Jg);if(ve&&(ve=ve(t,Z))){vd(le,ve,i,se);break e}Se&&Se(t,ie,Z),t==="focusout"&&(Se=ie._wrapperState)&&Se.controlled&&ie.type==="number"&&ht(ie,"number",ie.value)}switch(Se=Z?$r(Z):window,t){case"focusin":(yd(Se)||Se.contentEditable==="true")&&(Rr=Se,Na=Z,Ho=null);break;case"focusout":Ho=Na=Rr=null;break;case"mousedown":ka=!0;break;case"contextmenu":case"mouseup":case"dragend":ka=!1,bd(le,i,se);break;case"selectionchange":if(ry)break;case"keydown":case"keyup":bd(le,i,se)}var Ee;if(xa)e:{switch(t){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Ir?md(t,i)&&(Ne="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Ne="onCompositionStart");Ne&&(fd&&i.locale!=="ko"&&(Ir||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Ir&&(Ee=ld()):(bn=se,ha="value"in bn?bn.value:bn.textContent,Ir=!0)),Se=hs(Z,Ne),0<Se.length&&(Ne=new cd(Ne,t,null,i,se),le.push({event:Ne,listeners:Se}),Ee?Ne.data=Ee:(Ee=gd(i),Ee!==null&&(Ne.data=Ee)))),(Ee=Wg?Yg(t,i):Xg(t,i))&&(Z=hs(Z,"onBeforeInput"),0<Z.length&&(se=new cd("onBeforeInput","beforeinput",null,i,se),le.push({event:se,listeners:Z}),se.data=Ee))}$d(le,n)})}function Uo(t,n,i){return{instance:t,listener:n,currentTarget:i}}function hs(t,n){for(var i=n+"Capture",a=[];t!==null;){var d=t,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=Kn(t,i),p!=null&&a.unshift(Uo(t,p,d)),p=Kn(t,n),p!=null&&a.push(Uo(t,p,d))),t=t.return}return a}function Tr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Dd(t,n,i,a,d){for(var p=n._reactName,S=[];i!==null&&i!==a;){var L=i,O=L.alternate,Z=L.stateNode;if(O!==null&&O===a)break;L.tag===5&&Z!==null&&(L=Z,d?(O=Kn(i,p),O!=null&&S.unshift(Uo(i,O,L))):d||(O=Kn(i,p),O!=null&&S.push(Uo(i,O,L)))),i=i.return}S.length!==0&&t.push({event:n,listeners:S})}var ly=/\r\n?/g,ay=/\u0000|\uFFFD/g;function Od(t){return(typeof t=="string"?t:""+t).replace(ly,`
`).replace(ay,"")}function ps(t,n,i){if(n=Od(n),Od(t)!==n&&i)throw Error(o(425))}function ms(){}var Ma=null,Ia=null;function Ra(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var La=typeof setTimeout=="function"?setTimeout:void 0,uy=typeof clearTimeout=="function"?clearTimeout:void 0,Fd=typeof Promise=="function"?Promise:void 0,cy=typeof queueMicrotask=="function"?queueMicrotask:typeof Fd<"u"?function(t){return Fd.resolve(null).then(t).catch(dy)}:La;function dy(t){setTimeout(function(){throw t})}function Ta(t,n){var i=n,a=0;do{var d=i.nextSibling;if(t.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(a===0){t.removeChild(d),To(n);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=d}while(i);To(n)}function Pn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function Hd(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return t;n--}else i==="/$"&&n++}t=t.previousSibling}return null}var zr=Math.random().toString(36).slice(2),Yt="__reactFiber$"+zr,Wo="__reactProps$"+zr,sn="__reactContainer$"+zr,za="__reactEvents$"+zr,fy="__reactListeners$"+zr,hy="__reactHandles$"+zr;function tr(t){var n=t[Yt];if(n)return n;for(var i=t.parentNode;i;){if(n=i[sn]||i[Yt]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(t=Hd(t);t!==null;){if(i=t[Yt])return i;t=Hd(t)}return n}t=i,i=t.parentNode}return null}function Yo(t){return t=t[Yt]||t[sn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $r(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(o(33))}function gs(t){return t[Wo]||null}var $a=[],Ar=-1;function Mn(t){return{current:t}}function Te(t){0>Ar||(t.current=$a[Ar],$a[Ar]=null,Ar--)}function Re(t,n){Ar++,$a[Ar]=t.current,t.current=n}var In={},et=Mn(In),st=Mn(!1),nr=In;function Dr(t,n){var i=t.type.contextTypes;if(!i)return In;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in i)d[p]=n[p];return a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=d),d}function lt(t){return t=t.childContextTypes,t!=null}function ys(){Te(st),Te(et)}function Vd(t,n,i){if(et.current!==In)throw Error(o(168));Re(et,n),Re(st,i)}function Bd(t,n,i){var a=t.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var d in a)if(!(d in n))throw Error(o(108,ae(t)||"Unknown",d));return U({},i,a)}function vs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||In,nr=et.current,Re(et,t),Re(st,st.current),!0}function Ud(t,n,i){var a=t.stateNode;if(!a)throw Error(o(169));i?(t=Bd(t,n,nr),a.__reactInternalMemoizedMergedChildContext=t,Te(st),Te(et),Re(et,t)):Te(st),Re(st,i)}var ln=null,xs=!1,Aa=!1;function Wd(t){ln===null?ln=[t]:ln.push(t)}function py(t){xs=!0,Wd(t)}function Rn(){if(!Aa&&ln!==null){Aa=!0;var t=0,n=Ie;try{var i=ln;for(Ie=1;t<i.length;t++){var a=i[t];do a=a(!0);while(a!==null)}ln=null,xs=!1}catch(d){throw ln!==null&&(ln=ln.slice(t+1)),Qi(bo,Rn),d}finally{Ie=n,Aa=!1}}return null}var Or=[],Fr=0,ws=null,Ss=0,kt=[],Ct=0,rr=null,an=1,un="";function or(t,n){Or[Fr++]=Ss,Or[Fr++]=ws,ws=t,Ss=n}function Yd(t,n,i){kt[Ct++]=an,kt[Ct++]=un,kt[Ct++]=rr,rr=t;var a=an;t=un;var d=32-mt(a)-1;a&=~(1<<d),i+=1;var p=32-mt(n)+d;if(30<p){var S=d-d%5;p=(a&(1<<S)-1).toString(32),a>>=S,d-=S,an=1<<32-mt(n)+d|i<<d|a,un=p+t}else an=1<<p|i<<d|a,un=t}function Da(t){t.return!==null&&(or(t,1),Yd(t,1,0))}function Oa(t){for(;t===ws;)ws=Or[--Fr],Or[Fr]=null,Ss=Or[--Fr],Or[Fr]=null;for(;t===rr;)rr=kt[--Ct],kt[Ct]=null,un=kt[--Ct],kt[Ct]=null,an=kt[--Ct],kt[Ct]=null}var yt=null,vt=null,ze=!1,Lt=null;function Xd(t,n){var i=Pt(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=t,n=t.deletions,n===null?(t.deletions=[i],t.flags|=16):n.push(i)}function Qd(t,n){switch(t.tag){case 5:var i=t.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,yt=t,vt=Pn(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,yt=t,vt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=rr!==null?{id:an,overflow:un}:null,t.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=Pt(18,null,null,0),i.stateNode=n,i.return=t,t.child=i,yt=t,vt=null,!0):!1;default:return!1}}function Fa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ha(t){if(ze){var n=vt;if(n){var i=n;if(!Qd(t,n)){if(Fa(t))throw Error(o(418));n=Pn(i.nextSibling);var a=yt;n&&Qd(t,n)?Xd(a,i):(t.flags=t.flags&-4097|2,ze=!1,yt=t)}}else{if(Fa(t))throw Error(o(418));t.flags=t.flags&-4097|2,ze=!1,yt=t}}}function Gd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yt=t}function Es(t){if(t!==yt)return!1;if(!ze)return Gd(t),ze=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!Ra(t.type,t.memoizedProps)),n&&(n=vt)){if(Fa(t))throw Kd(),Error(o(418));for(;n;)Xd(t,n),n=Pn(n.nextSibling)}if(Gd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"){if(n===0){vt=Pn(t.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}t=t.nextSibling}vt=null}}else vt=yt?Pn(t.stateNode.nextSibling):null;return!0}function Kd(){for(var t=vt;t;)t=Pn(t.nextSibling)}function Hr(){vt=yt=null,ze=!1}function Va(t){Lt===null?Lt=[t]:Lt.push(t)}var my=P.ReactCurrentBatchConfig;function Xo(t,n,i){if(t=i.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(o(309));var a=i.stateNode}if(!a)throw Error(o(147,t));var d=a,p=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===p?n.ref:(n=function(S){var L=d.refs;S===null?delete L[p]:L[p]=S},n._stringRef=p,n)}if(typeof t!="string")throw Error(o(284));if(!i._owner)throw Error(o(290,t))}return t}function Ns(t,n){throw t=Object.prototype.toString.call(n),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function qd(t){var n=t._init;return n(t._payload)}function Zd(t){function n(K,B){if(t){var q=K.deletions;q===null?(K.deletions=[B],K.flags|=16):q.push(B)}}function i(K,B){if(!t)return null;for(;B!==null;)n(K,B),B=B.sibling;return null}function a(K,B){for(K=new Map;B!==null;)B.key!==null?K.set(B.key,B):K.set(B.index,B),B=B.sibling;return K}function d(K,B){return K=Fn(K,B),K.index=0,K.sibling=null,K}function p(K,B,q){return K.index=q,t?(q=K.alternate,q!==null?(q=q.index,q<B?(K.flags|=2,B):q):(K.flags|=2,B)):(K.flags|=1048576,B)}function S(K){return t&&K.alternate===null&&(K.flags|=2),K}function L(K,B,q,ue){return B===null||B.tag!==6?(B=Lu(q,K.mode,ue),B.return=K,B):(B=d(B,q),B.return=K,B)}function O(K,B,q,ue){var ve=q.type;return ve===T?se(K,B,q.props.children,ue,q.key):B!==null&&(B.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&qd(ve)===B.type)?(ue=d(B,q.props),ue.ref=Xo(K,B,q),ue.return=K,ue):(ue=Xs(q.type,q.key,q.props,null,K.mode,ue),ue.ref=Xo(K,B,q),ue.return=K,ue)}function Z(K,B,q,ue){return B===null||B.tag!==4||B.stateNode.containerInfo!==q.containerInfo||B.stateNode.implementation!==q.implementation?(B=Tu(q,K.mode,ue),B.return=K,B):(B=d(B,q.children||[]),B.return=K,B)}function se(K,B,q,ue,ve){return B===null||B.tag!==7?(B=fr(q,K.mode,ue,ve),B.return=K,B):(B=d(B,q),B.return=K,B)}function le(K,B,q){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Lu(""+B,K.mode,q),B.return=K,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case F:return q=Xs(B.type,B.key,B.props,null,K.mode,q),q.ref=Xo(K,null,B),q.return=K,q;case D:return B=Tu(B,K.mode,q),B.return=K,B;case A:var ue=B._init;return le(K,ue(B._payload),q)}if(pt(B)||z(B))return B=fr(B,K.mode,q,null),B.return=K,B;Ns(K,B)}return null}function ie(K,B,q,ue){var ve=B!==null?B.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ve!==null?null:L(K,B,""+q,ue);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case F:return q.key===ve?O(K,B,q,ue):null;case D:return q.key===ve?Z(K,B,q,ue):null;case A:return ve=q._init,ie(K,B,ve(q._payload),ue)}if(pt(q)||z(q))return ve!==null?null:se(K,B,q,ue,null);Ns(K,q)}return null}function de(K,B,q,ue,ve){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return K=K.get(q)||null,L(B,K,""+ue,ve);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case F:return K=K.get(ue.key===null?q:ue.key)||null,O(B,K,ue,ve);case D:return K=K.get(ue.key===null?q:ue.key)||null,Z(B,K,ue,ve);case A:var Se=ue._init;return de(K,B,q,Se(ue._payload),ve)}if(pt(ue)||z(ue))return K=K.get(q)||null,se(B,K,ue,ve,null);Ns(B,ue)}return null}function me(K,B,q,ue){for(var ve=null,Se=null,Ee=B,Ne=B=0,qe=null;Ee!==null&&Ne<q.length;Ne++){Ee.index>Ne?(qe=Ee,Ee=null):qe=Ee.sibling;var Pe=ie(K,Ee,q[Ne],ue);if(Pe===null){Ee===null&&(Ee=qe);break}t&&Ee&&Pe.alternate===null&&n(K,Ee),B=p(Pe,B,Ne),Se===null?ve=Pe:Se.sibling=Pe,Se=Pe,Ee=qe}if(Ne===q.length)return i(K,Ee),ze&&or(K,Ne),ve;if(Ee===null){for(;Ne<q.length;Ne++)Ee=le(K,q[Ne],ue),Ee!==null&&(B=p(Ee,B,Ne),Se===null?ve=Ee:Se.sibling=Ee,Se=Ee);return ze&&or(K,Ne),ve}for(Ee=a(K,Ee);Ne<q.length;Ne++)qe=de(Ee,K,Ne,q[Ne],ue),qe!==null&&(t&&qe.alternate!==null&&Ee.delete(qe.key===null?Ne:qe.key),B=p(qe,B,Ne),Se===null?ve=qe:Se.sibling=qe,Se=qe);return t&&Ee.forEach(function(Hn){return n(K,Hn)}),ze&&or(K,Ne),ve}function ge(K,B,q,ue){var ve=z(q);if(typeof ve!="function")throw Error(o(150));if(q=ve.call(q),q==null)throw Error(o(151));for(var Se=ve=null,Ee=B,Ne=B=0,qe=null,Pe=q.next();Ee!==null&&!Pe.done;Ne++,Pe=q.next()){Ee.index>Ne?(qe=Ee,Ee=null):qe=Ee.sibling;var Hn=ie(K,Ee,Pe.value,ue);if(Hn===null){Ee===null&&(Ee=qe);break}t&&Ee&&Hn.alternate===null&&n(K,Ee),B=p(Hn,B,Ne),Se===null?ve=Hn:Se.sibling=Hn,Se=Hn,Ee=qe}if(Pe.done)return i(K,Ee),ze&&or(K,Ne),ve;if(Ee===null){for(;!Pe.done;Ne++,Pe=q.next())Pe=le(K,Pe.value,ue),Pe!==null&&(B=p(Pe,B,Ne),Se===null?ve=Pe:Se.sibling=Pe,Se=Pe);return ze&&or(K,Ne),ve}for(Ee=a(K,Ee);!Pe.done;Ne++,Pe=q.next())Pe=de(Ee,K,Ne,Pe.value,ue),Pe!==null&&(t&&Pe.alternate!==null&&Ee.delete(Pe.key===null?Ne:Pe.key),B=p(Pe,B,Ne),Se===null?ve=Pe:Se.sibling=Pe,Se=Pe);return t&&Ee.forEach(function(Qy){return n(K,Qy)}),ze&&or(K,Ne),ve}function Be(K,B,q,ue){if(typeof q=="object"&&q!==null&&q.type===T&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case F:e:{for(var ve=q.key,Se=B;Se!==null;){if(Se.key===ve){if(ve=q.type,ve===T){if(Se.tag===7){i(K,Se.sibling),B=d(Se,q.props.children),B.return=K,K=B;break e}}else if(Se.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&qd(ve)===Se.type){i(K,Se.sibling),B=d(Se,q.props),B.ref=Xo(K,Se,q),B.return=K,K=B;break e}i(K,Se);break}else n(K,Se);Se=Se.sibling}q.type===T?(B=fr(q.props.children,K.mode,ue,q.key),B.return=K,K=B):(ue=Xs(q.type,q.key,q.props,null,K.mode,ue),ue.ref=Xo(K,B,q),ue.return=K,K=ue)}return S(K);case D:e:{for(Se=q.key;B!==null;){if(B.key===Se)if(B.tag===4&&B.stateNode.containerInfo===q.containerInfo&&B.stateNode.implementation===q.implementation){i(K,B.sibling),B=d(B,q.children||[]),B.return=K,K=B;break e}else{i(K,B);break}else n(K,B);B=B.sibling}B=Tu(q,K.mode,ue),B.return=K,K=B}return S(K);case A:return Se=q._init,Be(K,B,Se(q._payload),ue)}if(pt(q))return me(K,B,q,ue);if(z(q))return ge(K,B,q,ue);Ns(K,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,B!==null&&B.tag===6?(i(K,B.sibling),B=d(B,q),B.return=K,K=B):(i(K,B),B=Lu(q,K.mode,ue),B.return=K,K=B),S(K)):i(K,B)}return Be}var Vr=Zd(!0),Jd=Zd(!1),ks=Mn(null),Cs=null,Br=null,Ba=null;function Ua(){Ba=Br=Cs=null}function Wa(t){var n=ks.current;Te(ks),t._currentValue=n}function Ya(t,n,i){for(;t!==null;){var a=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),t===i)break;t=t.return}}function Ur(t,n){Cs=t,Ba=Br=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&n)!==0&&(at=!0),t.firstContext=null)}function _t(t){var n=t._currentValue;if(Ba!==t)if(t={context:t,memoizedValue:n,next:null},Br===null){if(Cs===null)throw Error(o(308));Br=t,Cs.dependencies={lanes:0,firstContext:t}}else Br=Br.next=t;return n}var ir=null;function Xa(t){ir===null?ir=[t]:ir.push(t)}function ef(t,n,i,a){var d=n.interleaved;return d===null?(i.next=i,Xa(n)):(i.next=d.next,d.next=i),n.interleaved=i,cn(t,a)}function cn(t,n){t.lanes|=n;var i=t.alternate;for(i!==null&&(i.lanes|=n),i=t,t=t.return;t!==null;)t.childLanes|=n,i=t.alternate,i!==null&&(i.childLanes|=n),i=t,t=t.return;return i.tag===3?i.stateNode:null}var Ln=!1;function Qa(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dn(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function Tn(t,n,i){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(je&2)!==0){var d=a.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),a.pending=n,cn(t,i)}return d=a.interleaved,d===null?(n.next=n,Xa(a)):(n.next=d.next,d.next=n),a.interleaved=n,cn(t,i)}function _s(t,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var a=n.lanes;a&=t.pendingLanes,i|=a,n.lanes=i,aa(t,i)}}function nf(t,n){var i=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var d=null,p=null;if(i=i.firstBaseUpdate,i!==null){do{var S={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};p===null?d=p=S:p=p.next=S,i=i.next}while(i!==null);p===null?d=p=n:p=p.next=n}else d=p=n;i={baseState:a.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:a.shared,effects:a.effects},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=n:t.next=n,i.lastBaseUpdate=n}function bs(t,n,i,a){var d=t.updateQueue;Ln=!1;var p=d.firstBaseUpdate,S=d.lastBaseUpdate,L=d.shared.pending;if(L!==null){d.shared.pending=null;var O=L,Z=O.next;O.next=null,S===null?p=Z:S.next=Z,S=O;var se=t.alternate;se!==null&&(se=se.updateQueue,L=se.lastBaseUpdate,L!==S&&(L===null?se.firstBaseUpdate=Z:L.next=Z,se.lastBaseUpdate=O))}if(p!==null){var le=d.baseState;S=0,se=Z=O=null,L=p;do{var ie=L.lane,de=L.eventTime;if((a&ie)===ie){se!==null&&(se=se.next={eventTime:de,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var me=t,ge=L;switch(ie=n,de=i,ge.tag){case 1:if(me=ge.payload,typeof me=="function"){le=me.call(de,le,ie);break e}le=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ge.payload,ie=typeof me=="function"?me.call(de,le,ie):me,ie==null)break e;le=U({},le,ie);break e;case 2:Ln=!0}}L.callback!==null&&L.lane!==0&&(t.flags|=64,ie=d.effects,ie===null?d.effects=[L]:ie.push(L))}else de={eventTime:de,lane:ie,tag:L.tag,payload:L.payload,callback:L.callback,next:null},se===null?(Z=se=de,O=le):se=se.next=de,S|=ie;if(L=L.next,L===null){if(L=d.shared.pending,L===null)break;ie=L,L=ie.next,ie.next=null,d.lastBaseUpdate=ie,d.shared.pending=null}}while(!0);if(se===null&&(O=le),d.baseState=O,d.firstBaseUpdate=Z,d.lastBaseUpdate=se,n=d.shared.interleaved,n!==null){d=n;do S|=d.lane,d=d.next;while(d!==n)}else p===null&&(d.shared.lanes=0);ar|=S,t.lanes=S,t.memoizedState=le}}function rf(t,n,i){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var a=t[n],d=a.callback;if(d!==null){if(a.callback=null,a=i,typeof d!="function")throw Error(o(191,d));d.call(a)}}}var Qo={},Xt=Mn(Qo),Go=Mn(Qo),Ko=Mn(Qo);function sr(t){if(t===Qo)throw Error(o(174));return t}function Ga(t,n){switch(Re(Ko,n),Re(Go,t),Re(Xt,Qo),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:rn(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=rn(n,t)}Te(Xt),Re(Xt,n)}function Wr(){Te(Xt),Te(Go),Te(Ko)}function of(t){sr(Ko.current);var n=sr(Xt.current),i=rn(n,t.type);n!==i&&(Re(Go,t),Re(Xt,i))}function Ka(t){Go.current===t&&(Te(Xt),Te(Go))}var Oe=Mn(0);function js(t){for(var n=t;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var qa=[];function Za(){for(var t=0;t<qa.length;t++)qa[t]._workInProgressVersionPrimary=null;qa.length=0}var Ps=P.ReactCurrentDispatcher,Ja=P.ReactCurrentBatchConfig,lr=0,Fe=null,Xe=null,Ge=null,Ms=!1,qo=!1,Zo=0,gy=0;function tt(){throw Error(o(321))}function eu(t,n){if(n===null)return!1;for(var i=0;i<n.length&&i<t.length;i++)if(!Rt(t[i],n[i]))return!1;return!0}function tu(t,n,i,a,d,p){if(lr=p,Fe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ps.current=t===null||t.memoizedState===null?wy:Sy,t=i(a,d),qo){p=0;do{if(qo=!1,Zo=0,25<=p)throw Error(o(301));p+=1,Ge=Xe=null,n.updateQueue=null,Ps.current=Ey,t=i(a,d)}while(qo)}if(Ps.current=Ls,n=Xe!==null&&Xe.next!==null,lr=0,Ge=Xe=Fe=null,Ms=!1,n)throw Error(o(300));return t}function nu(){var t=Zo!==0;return Zo=0,t}function Qt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Fe.memoizedState=Ge=t:Ge=Ge.next=t,Ge}function bt(){if(Xe===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var n=Ge===null?Fe.memoizedState:Ge.next;if(n!==null)Ge=n,Xe=t;else{if(t===null)throw Error(o(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Ge===null?Fe.memoizedState=Ge=t:Ge=Ge.next=t}return Ge}function Jo(t,n){return typeof n=="function"?n(t):n}function ru(t){var n=bt(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=t;var a=Xe,d=a.baseQueue,p=i.pending;if(p!==null){if(d!==null){var S=d.next;d.next=p.next,p.next=S}a.baseQueue=d=p,i.pending=null}if(d!==null){p=d.next,a=a.baseState;var L=S=null,O=null,Z=p;do{var se=Z.lane;if((lr&se)===se)O!==null&&(O=O.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),a=Z.hasEagerState?Z.eagerState:t(a,Z.action);else{var le={lane:se,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};O===null?(L=O=le,S=a):O=O.next=le,Fe.lanes|=se,ar|=se}Z=Z.next}while(Z!==null&&Z!==p);O===null?S=a:O.next=L,Rt(a,n.memoizedState)||(at=!0),n.memoizedState=a,n.baseState=S,n.baseQueue=O,i.lastRenderedState=a}if(t=i.interleaved,t!==null){d=t;do p=d.lane,Fe.lanes|=p,ar|=p,d=d.next;while(d!==t)}else d===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function ou(t){var n=bt(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=t;var a=i.dispatch,d=i.pending,p=n.memoizedState;if(d!==null){i.pending=null;var S=d=d.next;do p=t(p,S.action),S=S.next;while(S!==d);Rt(p,n.memoizedState)||(at=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),i.lastRenderedState=p}return[p,a]}function sf(){}function lf(t,n){var i=Fe,a=bt(),d=n(),p=!Rt(a.memoizedState,d);if(p&&(a.memoizedState=d,at=!0),a=a.queue,iu(cf.bind(null,i,a,t),[t]),a.getSnapshot!==n||p||Ge!==null&&Ge.memoizedState.tag&1){if(i.flags|=2048,ei(9,uf.bind(null,i,a,d,n),void 0,null),Ke===null)throw Error(o(349));(lr&30)!==0||af(i,n,d)}return d}function af(t,n,i){t.flags|=16384,t={getSnapshot:n,value:i},n=Fe.updateQueue,n===null?(n={lastEffect:null,stores:null},Fe.updateQueue=n,n.stores=[t]):(i=n.stores,i===null?n.stores=[t]:i.push(t))}function uf(t,n,i,a){n.value=i,n.getSnapshot=a,df(n)&&ff(t)}function cf(t,n,i){return i(function(){df(n)&&ff(t)})}function df(t){var n=t.getSnapshot;t=t.value;try{var i=n();return!Rt(t,i)}catch{return!0}}function ff(t){var n=cn(t,1);n!==null&&At(n,t,1,-1)}function hf(t){var n=Qt();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:t},n.queue=t,t=t.dispatch=xy.bind(null,Fe,t),[n.memoizedState,t]}function ei(t,n,i,a){return t={tag:t,create:n,destroy:i,deps:a,next:null},n=Fe.updateQueue,n===null?(n={lastEffect:null,stores:null},Fe.updateQueue=n,n.lastEffect=t.next=t):(i=n.lastEffect,i===null?n.lastEffect=t.next=t:(a=i.next,i.next=t,t.next=a,n.lastEffect=t)),t}function pf(){return bt().memoizedState}function Is(t,n,i,a){var d=Qt();Fe.flags|=t,d.memoizedState=ei(1|n,i,void 0,a===void 0?null:a)}function Rs(t,n,i,a){var d=bt();a=a===void 0?null:a;var p=void 0;if(Xe!==null){var S=Xe.memoizedState;if(p=S.destroy,a!==null&&eu(a,S.deps)){d.memoizedState=ei(n,i,p,a);return}}Fe.flags|=t,d.memoizedState=ei(1|n,i,p,a)}function mf(t,n){return Is(8390656,8,t,n)}function iu(t,n){return Rs(2048,8,t,n)}function gf(t,n){return Rs(4,2,t,n)}function yf(t,n){return Rs(4,4,t,n)}function vf(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function xf(t,n,i){return i=i!=null?i.concat([t]):null,Rs(4,4,vf.bind(null,n,t),i)}function su(){}function wf(t,n){var i=bt();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&eu(n,a[1])?a[0]:(i.memoizedState=[t,n],t)}function Sf(t,n){var i=bt();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&eu(n,a[1])?a[0]:(t=t(),i.memoizedState=[t,n],t)}function Ef(t,n,i){return(lr&21)===0?(t.baseState&&(t.baseState=!1,at=!0),t.memoizedState=i):(Rt(i,n)||(i=jr(),Fe.lanes|=i,ar|=i,t.baseState=!0),n)}function yy(t,n){var i=Ie;Ie=i!==0&&4>i?i:4,t(!0);var a=Ja.transition;Ja.transition={};try{t(!1),n()}finally{Ie=i,Ja.transition=a}}function Nf(){return bt().memoizedState}function vy(t,n,i){var a=Dn(t);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},kf(t))Cf(n,i);else if(i=ef(t,n,i,a),i!==null){var d=it();At(i,t,a,d),_f(i,n,a)}}function xy(t,n,i){var a=Dn(t),d={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(kf(t))Cf(n,d);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var S=n.lastRenderedState,L=p(S,i);if(d.hasEagerState=!0,d.eagerState=L,Rt(L,S)){var O=n.interleaved;O===null?(d.next=d,Xa(n)):(d.next=O.next,O.next=d),n.interleaved=d;return}}catch{}finally{}i=ef(t,n,d,a),i!==null&&(d=it(),At(i,t,a,d),_f(i,n,a))}}function kf(t){var n=t.alternate;return t===Fe||n!==null&&n===Fe}function Cf(t,n){qo=Ms=!0;var i=t.pending;i===null?n.next=n:(n.next=i.next,i.next=n),t.pending=n}function _f(t,n,i){if((i&4194240)!==0){var a=n.lanes;a&=t.pendingLanes,i|=a,n.lanes=i,aa(t,i)}}var Ls={readContext:_t,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},wy={readContext:_t,useCallback:function(t,n){return Qt().memoizedState=[t,n===void 0?null:n],t},useContext:_t,useEffect:mf,useImperativeHandle:function(t,n,i){return i=i!=null?i.concat([t]):null,Is(4194308,4,vf.bind(null,n,t),i)},useLayoutEffect:function(t,n){return Is(4194308,4,t,n)},useInsertionEffect:function(t,n){return Is(4,2,t,n)},useMemo:function(t,n){var i=Qt();return n=n===void 0?null:n,t=t(),i.memoizedState=[t,n],t},useReducer:function(t,n,i){var a=Qt();return n=i!==void 0?i(n):n,a.memoizedState=a.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},a.queue=t,t=t.dispatch=vy.bind(null,Fe,t),[a.memoizedState,t]},useRef:function(t){var n=Qt();return t={current:t},n.memoizedState=t},useState:hf,useDebugValue:su,useDeferredValue:function(t){return Qt().memoizedState=t},useTransition:function(){var t=hf(!1),n=t[0];return t=yy.bind(null,t[1]),Qt().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,i){var a=Fe,d=Qt();if(ze){if(i===void 0)throw Error(o(407));i=i()}else{if(i=n(),Ke===null)throw Error(o(349));(lr&30)!==0||af(a,n,i)}d.memoizedState=i;var p={value:i,getSnapshot:n};return d.queue=p,mf(cf.bind(null,a,p,t),[t]),a.flags|=2048,ei(9,uf.bind(null,a,p,i,n),void 0,null),i},useId:function(){var t=Qt(),n=Ke.identifierPrefix;if(ze){var i=un,a=an;i=(a&~(1<<32-mt(a)-1)).toString(32)+i,n=":"+n+"R"+i,i=Zo++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=gy++,n=":"+n+"r"+i.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},Sy={readContext:_t,useCallback:wf,useContext:_t,useEffect:iu,useImperativeHandle:xf,useInsertionEffect:gf,useLayoutEffect:yf,useMemo:Sf,useReducer:ru,useRef:pf,useState:function(){return ru(Jo)},useDebugValue:su,useDeferredValue:function(t){var n=bt();return Ef(n,Xe.memoizedState,t)},useTransition:function(){var t=ru(Jo)[0],n=bt().memoizedState;return[t,n]},useMutableSource:sf,useSyncExternalStore:lf,useId:Nf,unstable_isNewReconciler:!1},Ey={readContext:_t,useCallback:wf,useContext:_t,useEffect:iu,useImperativeHandle:xf,useInsertionEffect:gf,useLayoutEffect:yf,useMemo:Sf,useReducer:ou,useRef:pf,useState:function(){return ou(Jo)},useDebugValue:su,useDeferredValue:function(t){var n=bt();return Xe===null?n.memoizedState=t:Ef(n,Xe.memoizedState,t)},useTransition:function(){var t=ou(Jo)[0],n=bt().memoizedState;return[t,n]},useMutableSource:sf,useSyncExternalStore:lf,useId:Nf,unstable_isNewReconciler:!1};function Tt(t,n){if(t&&t.defaultProps){n=U({},n),t=t.defaultProps;for(var i in t)n[i]===void 0&&(n[i]=t[i]);return n}return n}function lu(t,n,i,a){n=t.memoizedState,i=i(a,n),i=i==null?n:U({},n,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Ts={isMounted:function(t){return(t=t._reactInternals)?Ut(t)===t:!1},enqueueSetState:function(t,n,i){t=t._reactInternals;var a=it(),d=Dn(t),p=dn(a,d);p.payload=n,i!=null&&(p.callback=i),n=Tn(t,p,d),n!==null&&(At(n,t,d,a),_s(n,t,d))},enqueueReplaceState:function(t,n,i){t=t._reactInternals;var a=it(),d=Dn(t),p=dn(a,d);p.tag=1,p.payload=n,i!=null&&(p.callback=i),n=Tn(t,p,d),n!==null&&(At(n,t,d,a),_s(n,t,d))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var i=it(),a=Dn(t),d=dn(i,a);d.tag=2,n!=null&&(d.callback=n),n=Tn(t,d,a),n!==null&&(At(n,t,a,i),_s(n,t,a))}};function bf(t,n,i,a,d,p,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,p,S):n.prototype&&n.prototype.isPureReactComponent?!Fo(i,a)||!Fo(d,p):!0}function jf(t,n,i){var a=!1,d=In,p=n.contextType;return typeof p=="object"&&p!==null?p=_t(p):(d=lt(n)?nr:et.current,a=n.contextTypes,p=(a=a!=null)?Dr(t,d):In),n=new n(i,p),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Ts,t.stateNode=n,n._reactInternals=t,a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=p),n}function Pf(t,n,i,a){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,a),n.state!==t&&Ts.enqueueReplaceState(n,n.state,null)}function au(t,n,i,a){var d=t.stateNode;d.props=i,d.state=t.memoizedState,d.refs={},Qa(t);var p=n.contextType;typeof p=="object"&&p!==null?d.context=_t(p):(p=lt(n)?nr:et.current,d.context=Dr(t,p)),d.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(lu(t,n,p,i),d.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(n=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),n!==d.state&&Ts.enqueueReplaceState(d,d.state,null),bs(t,i,d,a),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function Yr(t,n){try{var i="",a=n;do i+=re(a),a=a.return;while(a);var d=i}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:n,stack:d,digest:null}}function uu(t,n,i){return{value:t,source:null,stack:i??null,digest:n??null}}function cu(t,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var Ny=typeof WeakMap=="function"?WeakMap:Map;function Mf(t,n,i){i=dn(-1,i),i.tag=3,i.payload={element:null};var a=n.value;return i.callback=function(){Hs||(Hs=!0,Cu=a),cu(t,n)},i}function If(t,n,i){i=dn(-1,i),i.tag=3;var a=t.type.getDerivedStateFromError;if(typeof a=="function"){var d=n.value;i.payload=function(){return a(d)},i.callback=function(){cu(t,n)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(i.callback=function(){cu(t,n),typeof a!="function"&&($n===null?$n=new Set([this]):$n.add(this));var S=n.stack;this.componentDidCatch(n.value,{componentStack:S!==null?S:""})}),i}function Rf(t,n,i){var a=t.pingCache;if(a===null){a=t.pingCache=new Ny;var d=new Set;a.set(n,d)}else d=a.get(n),d===void 0&&(d=new Set,a.set(n,d));d.has(i)||(d.add(i),t=Ay.bind(null,t,n,i),n.then(t,t))}function Lf(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function Tf(t,n,i,a,d){return(t.mode&1)===0?(t===n?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=dn(-1,1),n.tag=2,Tn(i,n,1))),i.lanes|=1),t):(t.flags|=65536,t.lanes=d,t)}var ky=P.ReactCurrentOwner,at=!1;function ot(t,n,i,a){n.child=t===null?Jd(n,null,i,a):Vr(n,t.child,i,a)}function zf(t,n,i,a,d){i=i.render;var p=n.ref;return Ur(n,d),a=tu(t,n,i,a,p,d),i=nu(),t!==null&&!at?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~d,fn(t,n,d)):(ze&&i&&Da(n),n.flags|=1,ot(t,n,a,d),n.child)}function $f(t,n,i,a,d){if(t===null){var p=i.type;return typeof p=="function"&&!Ru(p)&&p.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=p,Af(t,n,p,a,d)):(t=Xs(i.type,null,a,n,n.mode,d),t.ref=n.ref,t.return=n,n.child=t)}if(p=t.child,(t.lanes&d)===0){var S=p.memoizedProps;if(i=i.compare,i=i!==null?i:Fo,i(S,a)&&t.ref===n.ref)return fn(t,n,d)}return n.flags|=1,t=Fn(p,a),t.ref=n.ref,t.return=n,n.child=t}function Af(t,n,i,a,d){if(t!==null){var p=t.memoizedProps;if(Fo(p,a)&&t.ref===n.ref)if(at=!1,n.pendingProps=a=p,(t.lanes&d)!==0)(t.flags&131072)!==0&&(at=!0);else return n.lanes=t.lanes,fn(t,n,d)}return du(t,n,i,a,d)}function Df(t,n,i){var a=n.pendingProps,d=a.children,p=t!==null?t.memoizedState:null;if(a.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Qr,xt),xt|=i;else{if((i&1073741824)===0)return t=p!==null?p.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,Re(Qr,xt),xt|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=p!==null?p.baseLanes:i,Re(Qr,xt),xt|=a}else p!==null?(a=p.baseLanes|i,n.memoizedState=null):a=i,Re(Qr,xt),xt|=a;return ot(t,n,d,i),n.child}function Of(t,n){var i=n.ref;(t===null&&i!==null||t!==null&&t.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function du(t,n,i,a,d){var p=lt(i)?nr:et.current;return p=Dr(n,p),Ur(n,d),i=tu(t,n,i,a,p,d),a=nu(),t!==null&&!at?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~d,fn(t,n,d)):(ze&&a&&Da(n),n.flags|=1,ot(t,n,i,d),n.child)}function Ff(t,n,i,a,d){if(lt(i)){var p=!0;vs(n)}else p=!1;if(Ur(n,d),n.stateNode===null)$s(t,n),jf(n,i,a),au(n,i,a,d),a=!0;else if(t===null){var S=n.stateNode,L=n.memoizedProps;S.props=L;var O=S.context,Z=i.contextType;typeof Z=="object"&&Z!==null?Z=_t(Z):(Z=lt(i)?nr:et.current,Z=Dr(n,Z));var se=i.getDerivedStateFromProps,le=typeof se=="function"||typeof S.getSnapshotBeforeUpdate=="function";le||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(L!==a||O!==Z)&&Pf(n,S,a,Z),Ln=!1;var ie=n.memoizedState;S.state=ie,bs(n,a,S,d),O=n.memoizedState,L!==a||ie!==O||st.current||Ln?(typeof se=="function"&&(lu(n,i,se,a),O=n.memoizedState),(L=Ln||bf(n,i,L,a,ie,O,Z))?(le||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(n.flags|=4194308)):(typeof S.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=O),S.props=a,S.state=O,S.context=Z,a=L):(typeof S.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{S=n.stateNode,tf(t,n),L=n.memoizedProps,Z=n.type===n.elementType?L:Tt(n.type,L),S.props=Z,le=n.pendingProps,ie=S.context,O=i.contextType,typeof O=="object"&&O!==null?O=_t(O):(O=lt(i)?nr:et.current,O=Dr(n,O));var de=i.getDerivedStateFromProps;(se=typeof de=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(L!==le||ie!==O)&&Pf(n,S,a,O),Ln=!1,ie=n.memoizedState,S.state=ie,bs(n,a,S,d);var me=n.memoizedState;L!==le||ie!==me||st.current||Ln?(typeof de=="function"&&(lu(n,i,de,a),me=n.memoizedState),(Z=Ln||bf(n,i,Z,a,ie,me,O)||!1)?(se||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(a,me,O),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(a,me,O)),typeof S.componentDidUpdate=="function"&&(n.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof S.componentDidUpdate!="function"||L===t.memoizedProps&&ie===t.memoizedState||(n.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||L===t.memoizedProps&&ie===t.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=me),S.props=a,S.state=me,S.context=O,a=Z):(typeof S.componentDidUpdate!="function"||L===t.memoizedProps&&ie===t.memoizedState||(n.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||L===t.memoizedProps&&ie===t.memoizedState||(n.flags|=1024),a=!1)}return fu(t,n,i,a,p,d)}function fu(t,n,i,a,d,p){Of(t,n);var S=(n.flags&128)!==0;if(!a&&!S)return d&&Ud(n,i,!1),fn(t,n,p);a=n.stateNode,ky.current=n;var L=S&&typeof i.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,t!==null&&S?(n.child=Vr(n,t.child,null,p),n.child=Vr(n,null,L,p)):ot(t,n,L,p),n.memoizedState=a.state,d&&Ud(n,i,!0),n.child}function Hf(t){var n=t.stateNode;n.pendingContext?Vd(t,n.pendingContext,n.pendingContext!==n.context):n.context&&Vd(t,n.context,!1),Ga(t,n.containerInfo)}function Vf(t,n,i,a,d){return Hr(),Va(d),n.flags|=256,ot(t,n,i,a),n.child}var hu={dehydrated:null,treeContext:null,retryLane:0};function pu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Bf(t,n,i){var a=n.pendingProps,d=Oe.current,p=!1,S=(n.flags&128)!==0,L;if((L=S)||(L=t!==null&&t.memoizedState===null?!1:(d&2)!==0),L?(p=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),Re(Oe,d&1),t===null)return Ha(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((n.mode&1)===0?n.lanes=1:t.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(S=a.children,t=a.fallback,p?(a=n.mode,p=n.child,S={mode:"hidden",children:S},(a&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=S):p=Qs(S,a,0,null),t=fr(t,a,i,null),p.return=n,t.return=n,p.sibling=t,n.child=p,n.child.memoizedState=pu(i),n.memoizedState=hu,t):mu(n,S));if(d=t.memoizedState,d!==null&&(L=d.dehydrated,L!==null))return Cy(t,n,S,a,L,d,i);if(p){p=a.fallback,S=n.mode,d=t.child,L=d.sibling;var O={mode:"hidden",children:a.children};return(S&1)===0&&n.child!==d?(a=n.child,a.childLanes=0,a.pendingProps=O,n.deletions=null):(a=Fn(d,O),a.subtreeFlags=d.subtreeFlags&14680064),L!==null?p=Fn(L,p):(p=fr(p,S,i,null),p.flags|=2),p.return=n,a.return=n,a.sibling=p,n.child=a,a=p,p=n.child,S=t.child.memoizedState,S=S===null?pu(i):{baseLanes:S.baseLanes|i,cachePool:null,transitions:S.transitions},p.memoizedState=S,p.childLanes=t.childLanes&~i,n.memoizedState=hu,a}return p=t.child,t=p.sibling,a=Fn(p,{mode:"visible",children:a.children}),(n.mode&1)===0&&(a.lanes=i),a.return=n,a.sibling=null,t!==null&&(i=n.deletions,i===null?(n.deletions=[t],n.flags|=16):i.push(t)),n.child=a,n.memoizedState=null,a}function mu(t,n){return n=Qs({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function zs(t,n,i,a){return a!==null&&Va(a),Vr(n,t.child,null,i),t=mu(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Cy(t,n,i,a,d,p,S){if(i)return n.flags&256?(n.flags&=-257,a=uu(Error(o(422))),zs(t,n,S,a)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(p=a.fallback,d=n.mode,a=Qs({mode:"visible",children:a.children},d,0,null),p=fr(p,d,S,null),p.flags|=2,a.return=n,p.return=n,a.sibling=p,n.child=a,(n.mode&1)!==0&&Vr(n,t.child,null,S),n.child.memoizedState=pu(S),n.memoizedState=hu,p);if((n.mode&1)===0)return zs(t,n,S,null);if(d.data==="$!"){if(a=d.nextSibling&&d.nextSibling.dataset,a)var L=a.dgst;return a=L,p=Error(o(419)),a=uu(p,a,void 0),zs(t,n,S,a)}if(L=(S&t.childLanes)!==0,at||L){if(a=Ke,a!==null){switch(S&-S){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(a.suspendedLanes|S))!==0?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,cn(t,d),At(a,t,d,-1))}return Iu(),a=uu(Error(o(421))),zs(t,n,S,a)}return d.data==="$?"?(n.flags|=128,n.child=t.child,n=Dy.bind(null,t),d._reactRetry=n,null):(t=p.treeContext,vt=Pn(d.nextSibling),yt=n,ze=!0,Lt=null,t!==null&&(kt[Ct++]=an,kt[Ct++]=un,kt[Ct++]=rr,an=t.id,un=t.overflow,rr=n),n=mu(n,a.children),n.flags|=4096,n)}function Uf(t,n,i){t.lanes|=n;var a=t.alternate;a!==null&&(a.lanes|=n),Ya(t.return,n,i)}function gu(t,n,i,a,d){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:d}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=a,p.tail=i,p.tailMode=d)}function Wf(t,n,i){var a=n.pendingProps,d=a.revealOrder,p=a.tail;if(ot(t,n,a.children,i),a=Oe.current,(a&2)!==0)a=a&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Uf(t,i,n);else if(t.tag===19)Uf(t,i,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}if(Re(Oe,a),(n.mode&1)===0)n.memoizedState=null;else switch(d){case"forwards":for(i=n.child,d=null;i!==null;)t=i.alternate,t!==null&&js(t)===null&&(d=i),i=i.sibling;i=d,i===null?(d=n.child,n.child=null):(d=i.sibling,i.sibling=null),gu(n,!1,d,i,p);break;case"backwards":for(i=null,d=n.child,n.child=null;d!==null;){if(t=d.alternate,t!==null&&js(t)===null){n.child=d;break}t=d.sibling,d.sibling=i,i=d,d=t}gu(n,!0,i,null,p);break;case"together":gu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function $s(t,n){(n.mode&1)===0&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function fn(t,n,i){if(t!==null&&(n.dependencies=t.dependencies),ar|=n.lanes,(i&n.childLanes)===0)return null;if(t!==null&&n.child!==t.child)throw Error(o(153));if(n.child!==null){for(t=n.child,i=Fn(t,t.pendingProps),n.child=i,i.return=n;t.sibling!==null;)t=t.sibling,i=i.sibling=Fn(t,t.pendingProps),i.return=n;i.sibling=null}return n.child}function _y(t,n,i){switch(n.tag){case 3:Hf(n),Hr();break;case 5:of(n);break;case 1:lt(n.type)&&vs(n);break;case 4:Ga(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,d=n.memoizedProps.value;Re(ks,a._currentValue),a._currentValue=d;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(Re(Oe,Oe.current&1),n.flags|=128,null):(i&n.child.childLanes)!==0?Bf(t,n,i):(Re(Oe,Oe.current&1),t=fn(t,n,i),t!==null?t.sibling:null);Re(Oe,Oe.current&1);break;case 19:if(a=(i&n.childLanes)!==0,(t.flags&128)!==0){if(a)return Wf(t,n,i);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Re(Oe,Oe.current),a)break;return null;case 22:case 23:return n.lanes=0,Df(t,n,i)}return fn(t,n,i)}var Yf,yu,Xf,Qf;Yf=function(t,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},yu=function(){},Xf=function(t,n,i,a){var d=t.memoizedProps;if(d!==a){t=n.stateNode,sr(Xt.current);var p=null;switch(i){case"input":d=ke(t,d),a=ke(t,a),p=[];break;case"select":d=U({},d,{value:void 0}),a=U({},a,{value:void 0}),p=[];break;case"textarea":d=tn(t,d),a=tn(t,a),p=[];break;default:typeof d.onClick!="function"&&typeof a.onClick=="function"&&(t.onclick=ms)}yo(i,a);var S;i=null;for(Z in d)if(!a.hasOwnProperty(Z)&&d.hasOwnProperty(Z)&&d[Z]!=null)if(Z==="style"){var L=d[Z];for(S in L)L.hasOwnProperty(S)&&(i||(i={}),i[S]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(l.hasOwnProperty(Z)?p||(p=[]):(p=p||[]).push(Z,null));for(Z in a){var O=a[Z];if(L=d!=null?d[Z]:void 0,a.hasOwnProperty(Z)&&O!==L&&(O!=null||L!=null))if(Z==="style")if(L){for(S in L)!L.hasOwnProperty(S)||O&&O.hasOwnProperty(S)||(i||(i={}),i[S]="");for(S in O)O.hasOwnProperty(S)&&L[S]!==O[S]&&(i||(i={}),i[S]=O[S])}else i||(p||(p=[]),p.push(Z,i)),i=O;else Z==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,L=L?L.__html:void 0,O!=null&&L!==O&&(p=p||[]).push(Z,O)):Z==="children"?typeof O!="string"&&typeof O!="number"||(p=p||[]).push(Z,""+O):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(l.hasOwnProperty(Z)?(O!=null&&Z==="onScroll"&&Le("scroll",t),p||L===O||(p=[])):(p=p||[]).push(Z,O))}i&&(p=p||[]).push("style",i);var Z=p;(n.updateQueue=Z)&&(n.flags|=4)}},Qf=function(t,n,i,a){i!==a&&(n.flags|=4)};function ti(t,n){if(!ze)switch(t.tailMode){case"hidden":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function nt(t){var n=t.alternate!==null&&t.alternate.child===t.child,i=0,a=0;if(n)for(var d=t.child;d!==null;)i|=d.lanes|d.childLanes,a|=d.subtreeFlags&14680064,a|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)i|=d.lanes|d.childLanes,a|=d.subtreeFlags,a|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=a,t.childLanes=i,n}function by(t,n,i){var a=n.pendingProps;switch(Oa(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(n),null;case 1:return lt(n.type)&&ys(),nt(n),null;case 3:return a=n.stateNode,Wr(),Te(st),Te(et),Za(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Es(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Lt!==null&&(ju(Lt),Lt=null))),yu(t,n),nt(n),null;case 5:Ka(n);var d=sr(Ko.current);if(i=n.type,t!==null&&n.stateNode!=null)Xf(t,n,i,a,d),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(o(166));return nt(n),null}if(t=sr(Xt.current),Es(n)){a=n.stateNode,i=n.type;var p=n.memoizedProps;switch(a[Yt]=n,a[Wo]=p,t=(n.mode&1)!==0,i){case"dialog":Le("cancel",a),Le("close",a);break;case"iframe":case"object":case"embed":Le("load",a);break;case"video":case"audio":for(d=0;d<Vo.length;d++)Le(Vo[d],a);break;case"source":Le("error",a);break;case"img":case"image":case"link":Le("error",a),Le("load",a);break;case"details":Le("toggle",a);break;case"input":Me(a,p),Le("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!p.multiple},Le("invalid",a);break;case"textarea":wn(a,p),Le("invalid",a)}yo(i,p),d=null;for(var S in p)if(p.hasOwnProperty(S)){var L=p[S];S==="children"?typeof L=="string"?a.textContent!==L&&(p.suppressHydrationWarning!==!0&&ps(a.textContent,L,t),d=["children",L]):typeof L=="number"&&a.textContent!==""+L&&(p.suppressHydrationWarning!==!0&&ps(a.textContent,L,t),d=["children",""+L]):l.hasOwnProperty(S)&&L!=null&&S==="onScroll"&&Le("scroll",a)}switch(i){case"input":we(a),It(a,p,!0);break;case"textarea":we(a),Xn(a);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(a.onclick=ms)}a=d,n.updateQueue=a,a!==null&&(n.flags|=4)}else{S=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=nn(i)),t==="http://www.w3.org/1999/xhtml"?i==="script"?(t=S.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof a.is=="string"?t=S.createElement(i,{is:a.is}):(t=S.createElement(i),i==="select"&&(S=t,a.multiple?S.multiple=!0:a.size&&(S.size=a.size))):t=S.createElementNS(t,i),t[Yt]=n,t[Wo]=a,Yf(t,n,!1,!1),n.stateNode=t;e:{switch(S=vo(i,a),i){case"dialog":Le("cancel",t),Le("close",t),d=a;break;case"iframe":case"object":case"embed":Le("load",t),d=a;break;case"video":case"audio":for(d=0;d<Vo.length;d++)Le(Vo[d],t);d=a;break;case"source":Le("error",t),d=a;break;case"img":case"image":case"link":Le("error",t),Le("load",t),d=a;break;case"details":Le("toggle",t),d=a;break;case"input":Me(t,a),d=ke(t,a),Le("invalid",t);break;case"option":d=a;break;case"select":t._wrapperState={wasMultiple:!!a.multiple},d=U({},a,{value:void 0}),Le("invalid",t);break;case"textarea":wn(t,a),d=tn(t,a),Le("invalid",t);break;default:d=a}yo(i,d),L=d;for(p in L)if(L.hasOwnProperty(p)){var O=L[p];p==="style"?Oi(t,O):p==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Ai(t,O)):p==="children"?typeof O=="string"?(i!=="textarea"||O!=="")&&on(t,O):typeof O=="number"&&on(t,""+O):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(l.hasOwnProperty(p)?O!=null&&p==="onScroll"&&Le("scroll",t):O!=null&&w(t,p,O,S))}switch(i){case"input":we(t),It(t,a,!1);break;case"textarea":we(t),Xn(t);break;case"option":a.value!=null&&t.setAttribute("value",""+te(a.value));break;case"select":t.multiple=!!a.multiple,p=a.value,p!=null?Et(t,!!a.multiple,p,!1):a.defaultValue!=null&&Et(t,!!a.multiple,a.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=ms)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return nt(n),null;case 6:if(t&&n.stateNode!=null)Qf(t,n,t.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(o(166));if(i=sr(Ko.current),sr(Xt.current),Es(n)){if(a=n.stateNode,i=n.memoizedProps,a[Yt]=n,(p=a.nodeValue!==i)&&(t=yt,t!==null))switch(t.tag){case 3:ps(a.nodeValue,i,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ps(a.nodeValue,i,(t.mode&1)!==0)}p&&(n.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[Yt]=n,n.stateNode=a}return nt(n),null;case 13:if(Te(Oe),a=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&vt!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Kd(),Hr(),n.flags|=98560,p=!1;else if(p=Es(n),a!==null&&a.dehydrated!==null){if(t===null){if(!p)throw Error(o(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));p[Yt]=n}else Hr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;nt(n),p=!1}else Lt!==null&&(ju(Lt),Lt=null),p=!0;if(!p)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=i,n):(a=a!==null,a!==(t!==null&&t.memoizedState!==null)&&a&&(n.child.flags|=8192,(n.mode&1)!==0&&(t===null||(Oe.current&1)!==0?Qe===0&&(Qe=3):Iu())),n.updateQueue!==null&&(n.flags|=4),nt(n),null);case 4:return Wr(),yu(t,n),t===null&&Bo(n.stateNode.containerInfo),nt(n),null;case 10:return Wa(n.type._context),nt(n),null;case 17:return lt(n.type)&&ys(),nt(n),null;case 19:if(Te(Oe),p=n.memoizedState,p===null)return nt(n),null;if(a=(n.flags&128)!==0,S=p.rendering,S===null)if(a)ti(p,!1);else{if(Qe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(S=js(t),S!==null){for(n.flags|=128,ti(p,!1),a=S.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=i,i=n.child;i!==null;)p=i,t=a,p.flags&=14680066,S=p.alternate,S===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=S.childLanes,p.lanes=S.lanes,p.child=S.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=S.memoizedProps,p.memoizedState=S.memoizedState,p.updateQueue=S.updateQueue,p.type=S.type,t=S.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return Re(Oe,Oe.current&1|2),n.child}t=t.sibling}p.tail!==null&&De()>Gr&&(n.flags|=128,a=!0,ti(p,!1),n.lanes=4194304)}else{if(!a)if(t=js(S),t!==null){if(n.flags|=128,a=!0,i=t.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),ti(p,!0),p.tail===null&&p.tailMode==="hidden"&&!S.alternate&&!ze)return nt(n),null}else 2*De()-p.renderingStartTime>Gr&&i!==1073741824&&(n.flags|=128,a=!0,ti(p,!1),n.lanes=4194304);p.isBackwards?(S.sibling=n.child,n.child=S):(i=p.last,i!==null?i.sibling=S:n.child=S,p.last=S)}return p.tail!==null?(n=p.tail,p.rendering=n,p.tail=n.sibling,p.renderingStartTime=De(),n.sibling=null,i=Oe.current,Re(Oe,a?i&1|2:i&1),n):(nt(n),null);case 22:case 23:return Mu(),a=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==a&&(n.flags|=8192),a&&(n.mode&1)!==0?(xt&1073741824)!==0&&(nt(n),n.subtreeFlags&6&&(n.flags|=8192)):nt(n),null;case 24:return null;case 25:return null}throw Error(o(156,n.tag))}function jy(t,n){switch(Oa(n),n.tag){case 1:return lt(n.type)&&ys(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Wr(),Te(st),Te(et),Za(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 5:return Ka(n),null;case 13:if(Te(Oe),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(o(340));Hr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Te(Oe),null;case 4:return Wr(),null;case 10:return Wa(n.type._context),null;case 22:case 23:return Mu(),null;case 24:return null;default:return null}}var As=!1,rt=!1,Py=typeof WeakSet=="function"?WeakSet:Set,he=null;function Xr(t,n){var i=t.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){Ve(t,n,a)}else i.current=null}function vu(t,n,i){try{i()}catch(a){Ve(t,n,a)}}var Gf=!1;function My(t,n){if(Ma=rs,t=_d(),Ea(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var d=a.anchorOffset,p=a.focusNode;a=a.focusOffset;try{i.nodeType,p.nodeType}catch{i=null;break e}var S=0,L=-1,O=-1,Z=0,se=0,le=t,ie=null;t:for(;;){for(var de;le!==i||d!==0&&le.nodeType!==3||(L=S+d),le!==p||a!==0&&le.nodeType!==3||(O=S+a),le.nodeType===3&&(S+=le.nodeValue.length),(de=le.firstChild)!==null;)ie=le,le=de;for(;;){if(le===t)break t;if(ie===i&&++Z===d&&(L=S),ie===p&&++se===a&&(O=S),(de=le.nextSibling)!==null)break;le=ie,ie=le.parentNode}le=de}i=L===-1||O===-1?null:{start:L,end:O}}else i=null}i=i||{start:0,end:0}}else i=null;for(Ia={focusedElem:t,selectionRange:i},rs=!1,he=n;he!==null;)if(n=he,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,he=t;else for(;he!==null;){n=he;try{var me=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ge=me.memoizedProps,Be=me.memoizedState,K=n.stateNode,B=K.getSnapshotBeforeUpdate(n.elementType===n.type?ge:Tt(n.type,ge),Be);K.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var q=n.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ue){Ve(n,n.return,ue)}if(t=n.sibling,t!==null){t.return=n.return,he=t;break}he=n.return}return me=Gf,Gf=!1,me}function ni(t,n,i){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&t)===t){var p=d.destroy;d.destroy=void 0,p!==void 0&&vu(n,i,p)}d=d.next}while(d!==a)}}function Ds(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.create;i.destroy=a()}i=i.next}while(i!==n)}}function xu(t){var n=t.ref;if(n!==null){var i=t.stateNode;switch(t.tag){case 5:t=i;break;default:t=i}typeof n=="function"?n(t):n.current=t}}function Kf(t){var n=t.alternate;n!==null&&(t.alternate=null,Kf(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[Yt],delete n[Wo],delete n[za],delete n[fy],delete n[hy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qf(t){return t.tag===5||t.tag===3||t.tag===4}function Zf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wu(t,n,i){var a=t.tag;if(a===5||a===6)t=t.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(t,n):i.insertBefore(t,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(t,i)):(n=i,n.appendChild(t)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=ms));else if(a!==4&&(t=t.child,t!==null))for(wu(t,n,i),t=t.sibling;t!==null;)wu(t,n,i),t=t.sibling}function Su(t,n,i){var a=t.tag;if(a===5||a===6)t=t.stateNode,n?i.insertBefore(t,n):i.appendChild(t);else if(a!==4&&(t=t.child,t!==null))for(Su(t,n,i),t=t.sibling;t!==null;)Su(t,n,i),t=t.sibling}var Ze=null,zt=!1;function zn(t,n,i){for(i=i.child;i!==null;)Jf(t,n,i),i=i.sibling}function Jf(t,n,i){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Jn,i)}catch{}switch(i.tag){case 5:rt||Xr(i,n);case 6:var a=Ze,d=zt;Ze=null,zn(t,n,i),Ze=a,zt=d,Ze!==null&&(zt?(t=Ze,i=i.stateNode,t.nodeType===8?t.parentNode.removeChild(i):t.removeChild(i)):Ze.removeChild(i.stateNode));break;case 18:Ze!==null&&(zt?(t=Ze,i=i.stateNode,t.nodeType===8?Ta(t.parentNode,i):t.nodeType===1&&Ta(t,i),To(t)):Ta(Ze,i.stateNode));break;case 4:a=Ze,d=zt,Ze=i.stateNode.containerInfo,zt=!0,zn(t,n,i),Ze=a,zt=d;break;case 0:case 11:case 14:case 15:if(!rt&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){d=a=a.next;do{var p=d,S=p.destroy;p=p.tag,S!==void 0&&((p&2)!==0||(p&4)!==0)&&vu(i,n,S),d=d.next}while(d!==a)}zn(t,n,i);break;case 1:if(!rt&&(Xr(i,n),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(L){Ve(i,n,L)}zn(t,n,i);break;case 21:zn(t,n,i);break;case 22:i.mode&1?(rt=(a=rt)||i.memoizedState!==null,zn(t,n,i),rt=a):zn(t,n,i);break;default:zn(t,n,i)}}function eh(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var i=t.stateNode;i===null&&(i=t.stateNode=new Py),n.forEach(function(a){var d=Oy.bind(null,t,a);i.has(a)||(i.add(a),a.then(d,d))})}}function $t(t,n){var i=n.deletions;if(i!==null)for(var a=0;a<i.length;a++){var d=i[a];try{var p=t,S=n,L=S;e:for(;L!==null;){switch(L.tag){case 5:Ze=L.stateNode,zt=!1;break e;case 3:Ze=L.stateNode.containerInfo,zt=!0;break e;case 4:Ze=L.stateNode.containerInfo,zt=!0;break e}L=L.return}if(Ze===null)throw Error(o(160));Jf(p,S,d),Ze=null,zt=!1;var O=d.alternate;O!==null&&(O.return=null),d.return=null}catch(Z){Ve(d,n,Z)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)th(n,t),n=n.sibling}function th(t,n){var i=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($t(n,t),Gt(t),a&4){try{ni(3,t,t.return),Ds(3,t)}catch(ge){Ve(t,t.return,ge)}try{ni(5,t,t.return)}catch(ge){Ve(t,t.return,ge)}}break;case 1:$t(n,t),Gt(t),a&512&&i!==null&&Xr(i,i.return);break;case 5:if($t(n,t),Gt(t),a&512&&i!==null&&Xr(i,i.return),t.flags&32){var d=t.stateNode;try{on(d,"")}catch(ge){Ve(t,t.return,ge)}}if(a&4&&(d=t.stateNode,d!=null)){var p=t.memoizedProps,S=i!==null?i.memoizedProps:p,L=t.type,O=t.updateQueue;if(t.updateQueue=null,O!==null)try{L==="input"&&p.type==="radio"&&p.name!=null&&_e(d,p),vo(L,S);var Z=vo(L,p);for(S=0;S<O.length;S+=2){var se=O[S],le=O[S+1];se==="style"?Oi(d,le):se==="dangerouslySetInnerHTML"?Ai(d,le):se==="children"?on(d,le):w(d,se,le,Z)}switch(L){case"input":Ue(d,p);break;case"textarea":Sr(d,p);break;case"select":var ie=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var de=p.value;de!=null?Et(d,!!p.multiple,de,!1):ie!==!!p.multiple&&(p.defaultValue!=null?Et(d,!!p.multiple,p.defaultValue,!0):Et(d,!!p.multiple,p.multiple?[]:"",!1))}d[Wo]=p}catch(ge){Ve(t,t.return,ge)}}break;case 6:if($t(n,t),Gt(t),a&4){if(t.stateNode===null)throw Error(o(162));d=t.stateNode,p=t.memoizedProps;try{d.nodeValue=p}catch(ge){Ve(t,t.return,ge)}}break;case 3:if($t(n,t),Gt(t),a&4&&i!==null&&i.memoizedState.isDehydrated)try{To(n.containerInfo)}catch(ge){Ve(t,t.return,ge)}break;case 4:$t(n,t),Gt(t);break;case 13:$t(n,t),Gt(t),d=t.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(ku=De())),a&4&&eh(t);break;case 22:if(se=i!==null&&i.memoizedState!==null,t.mode&1?(rt=(Z=rt)||se,$t(n,t),rt=Z):$t(n,t),Gt(t),a&8192){if(Z=t.memoizedState!==null,(t.stateNode.isHidden=Z)&&!se&&(t.mode&1)!==0)for(he=t,se=t.child;se!==null;){for(le=he=se;he!==null;){switch(ie=he,de=ie.child,ie.tag){case 0:case 11:case 14:case 15:ni(4,ie,ie.return);break;case 1:Xr(ie,ie.return);var me=ie.stateNode;if(typeof me.componentWillUnmount=="function"){a=ie,i=ie.return;try{n=a,me.props=n.memoizedProps,me.state=n.memoizedState,me.componentWillUnmount()}catch(ge){Ve(a,i,ge)}}break;case 5:Xr(ie,ie.return);break;case 22:if(ie.memoizedState!==null){oh(le);continue}}de!==null?(de.return=ie,he=de):oh(le)}se=se.sibling}e:for(se=null,le=t;;){if(le.tag===5){if(se===null){se=le;try{d=le.stateNode,Z?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(L=le.stateNode,O=le.memoizedProps.style,S=O!=null&&O.hasOwnProperty("display")?O.display:null,L.style.display=Di("display",S))}catch(ge){Ve(t,t.return,ge)}}}else if(le.tag===6){if(se===null)try{le.stateNode.nodeValue=Z?"":le.memoizedProps}catch(ge){Ve(t,t.return,ge)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===t)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===t)break e;for(;le.sibling===null;){if(le.return===null||le.return===t)break e;se===le&&(se=null),le=le.return}se===le&&(se=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:$t(n,t),Gt(t),a&4&&eh(t);break;case 21:break;default:$t(n,t),Gt(t)}}function Gt(t){var n=t.flags;if(n&2){try{e:{for(var i=t.return;i!==null;){if(qf(i)){var a=i;break e}i=i.return}throw Error(o(160))}switch(a.tag){case 5:var d=a.stateNode;a.flags&32&&(on(d,""),a.flags&=-33);var p=Zf(t);Su(t,p,d);break;case 3:case 4:var S=a.stateNode.containerInfo,L=Zf(t);wu(t,L,S);break;default:throw Error(o(161))}}catch(O){Ve(t,t.return,O)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Iy(t,n,i){he=t,nh(t)}function nh(t,n,i){for(var a=(t.mode&1)!==0;he!==null;){var d=he,p=d.child;if(d.tag===22&&a){var S=d.memoizedState!==null||As;if(!S){var L=d.alternate,O=L!==null&&L.memoizedState!==null||rt;L=As;var Z=rt;if(As=S,(rt=O)&&!Z)for(he=d;he!==null;)S=he,O=S.child,S.tag===22&&S.memoizedState!==null?ih(d):O!==null?(O.return=S,he=O):ih(d);for(;p!==null;)he=p,nh(p),p=p.sibling;he=d,As=L,rt=Z}rh(t)}else(d.subtreeFlags&8772)!==0&&p!==null?(p.return=d,he=p):rh(t)}}function rh(t){for(;he!==null;){var n=he;if((n.flags&8772)!==0){var i=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:rt||Ds(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!rt)if(i===null)a.componentDidMount();else{var d=n.elementType===n.type?i.memoizedProps:Tt(n.type,i.memoizedProps);a.componentDidUpdate(d,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var p=n.updateQueue;p!==null&&rf(n,p,a);break;case 3:var S=n.updateQueue;if(S!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}rf(n,S,i)}break;case 5:var L=n.stateNode;if(i===null&&n.flags&4){i=L;var O=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&i.focus();break;case"img":O.src&&(i.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var Z=n.alternate;if(Z!==null){var se=Z.memoizedState;if(se!==null){var le=se.dehydrated;le!==null&&To(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}rt||n.flags&512&&xu(n)}catch(ie){Ve(n,n.return,ie)}}if(n===t){he=null;break}if(i=n.sibling,i!==null){i.return=n.return,he=i;break}he=n.return}}function oh(t){for(;he!==null;){var n=he;if(n===t){he=null;break}var i=n.sibling;if(i!==null){i.return=n.return,he=i;break}he=n.return}}function ih(t){for(;he!==null;){var n=he;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{Ds(4,n)}catch(O){Ve(n,i,O)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var d=n.return;try{a.componentDidMount()}catch(O){Ve(n,d,O)}}var p=n.return;try{xu(n)}catch(O){Ve(n,p,O)}break;case 5:var S=n.return;try{xu(n)}catch(O){Ve(n,S,O)}}}catch(O){Ve(n,n.return,O)}if(n===t){he=null;break}var L=n.sibling;if(L!==null){L.return=n.return,he=L;break}he=n.return}}var Ry=Math.ceil,Os=P.ReactCurrentDispatcher,Eu=P.ReactCurrentOwner,jt=P.ReactCurrentBatchConfig,je=0,Ke=null,We=null,Je=0,xt=0,Qr=Mn(0),Qe=0,ri=null,ar=0,Fs=0,Nu=0,oi=null,ut=null,ku=0,Gr=1/0,hn=null,Hs=!1,Cu=null,$n=null,Vs=!1,An=null,Bs=0,ii=0,_u=null,Us=-1,Ws=0;function it(){return(je&6)!==0?De():Us!==-1?Us:Us=De()}function Dn(t){return(t.mode&1)===0?1:(je&2)!==0&&Je!==0?Je&-Je:my.transition!==null?(Ws===0&&(Ws=jr()),Ws):(t=Ie,t!==0||(t=window.event,t=t===void 0?16:sd(t.type)),t)}function At(t,n,i,a){if(50<ii)throw ii=0,_u=null,Error(o(185));er(t,i,a),((je&2)===0||t!==Ke)&&(t===Ke&&((je&2)===0&&(Fs|=i),Qe===4&&On(t,Je)),ct(t,a),i===1&&je===0&&(n.mode&1)===0&&(Gr=De()+500,xs&&Rn()))}function ct(t,n){var i=t.callbackNode;la(t,n);var a=br(t,t===Ke?Je:0);if(a===0)i!==null&&Gi(i),t.callbackNode=null,t.callbackPriority=0;else if(n=a&-a,t.callbackPriority!==n){if(i!=null&&Gi(i),n===1)t.tag===0?py(lh.bind(null,t)):Wd(lh.bind(null,t)),cy(function(){(je&6)===0&&Rn()}),i=null;else{switch(Zc(a)){case 1:i=bo;break;case 4:i=qi;break;case 16:i=kr;break;case 536870912:i=Zi;break;default:i=kr}i=mh(i,sh.bind(null,t))}t.callbackPriority=n,t.callbackNode=i}}function sh(t,n){if(Us=-1,Ws=0,(je&6)!==0)throw Error(o(327));var i=t.callbackNode;if(Kr()&&t.callbackNode!==i)return null;var a=br(t,t===Ke?Je:0);if(a===0)return null;if((a&30)!==0||(a&t.expiredLanes)!==0||n)n=Ys(t,a);else{n=a;var d=je;je|=2;var p=uh();(Ke!==t||Je!==n)&&(hn=null,Gr=De()+500,cr(t,n));do try{zy();break}catch(L){ah(t,L)}while(!0);Ua(),Os.current=p,je=d,We!==null?n=0:(Ke=null,Je=0,n=Qe)}if(n!==0){if(n===2&&(d=jo(t),d!==0&&(a=d,n=bu(t,d))),n===1)throw i=ri,cr(t,0),On(t,a),ct(t,De()),i;if(n===6)On(t,a);else{if(d=t.current.alternate,(a&30)===0&&!Ly(d)&&(n=Ys(t,a),n===2&&(p=jo(t),p!==0&&(a=p,n=bu(t,p))),n===1))throw i=ri,cr(t,0),On(t,a),ct(t,De()),i;switch(t.finishedWork=d,t.finishedLanes=a,n){case 0:case 1:throw Error(o(345));case 2:dr(t,ut,hn);break;case 3:if(On(t,a),(a&130023424)===a&&(n=ku+500-De(),10<n)){if(br(t,0)!==0)break;if(d=t.suspendedLanes,(d&a)!==a){it(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=La(dr.bind(null,t,ut,hn),n);break}dr(t,ut,hn);break;case 4:if(On(t,a),(a&4194240)===a)break;for(n=t.eventTimes,d=-1;0<a;){var S=31-mt(a);p=1<<S,S=n[S],S>d&&(d=S),a&=~p}if(a=d,a=De()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Ry(a/1960))-a,10<a){t.timeoutHandle=La(dr.bind(null,t,ut,hn),a);break}dr(t,ut,hn);break;case 5:dr(t,ut,hn);break;default:throw Error(o(329))}}}return ct(t,De()),t.callbackNode===i?sh.bind(null,t):null}function bu(t,n){var i=oi;return t.current.memoizedState.isDehydrated&&(cr(t,n).flags|=256),t=Ys(t,n),t!==2&&(n=ut,ut=i,n!==null&&ju(n)),t}function ju(t){ut===null?ut=t:ut.push.apply(ut,t)}function Ly(t){for(var n=t;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var d=i[a],p=d.getSnapshot;d=d.value;try{if(!Rt(p(),d))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function On(t,n){for(n&=~Nu,n&=~Fs,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var i=31-mt(n),a=1<<i;t[i]=-1,n&=~a}}function lh(t){if((je&6)!==0)throw Error(o(327));Kr();var n=br(t,0);if((n&1)===0)return ct(t,De()),null;var i=Ys(t,n);if(t.tag!==0&&i===2){var a=jo(t);a!==0&&(n=a,i=bu(t,a))}if(i===1)throw i=ri,cr(t,0),On(t,n),ct(t,De()),i;if(i===6)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,dr(t,ut,hn),ct(t,De()),null}function Pu(t,n){var i=je;je|=1;try{return t(n)}finally{je=i,je===0&&(Gr=De()+500,xs&&Rn())}}function ur(t){An!==null&&An.tag===0&&(je&6)===0&&Kr();var n=je;je|=1;var i=jt.transition,a=Ie;try{if(jt.transition=null,Ie=1,t)return t()}finally{Ie=a,jt.transition=i,je=n,(je&6)===0&&Rn()}}function Mu(){xt=Qr.current,Te(Qr)}function cr(t,n){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(i!==-1&&(t.timeoutHandle=-1,uy(i)),We!==null)for(i=We.return;i!==null;){var a=i;switch(Oa(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&ys();break;case 3:Wr(),Te(st),Te(et),Za();break;case 5:Ka(a);break;case 4:Wr();break;case 13:Te(Oe);break;case 19:Te(Oe);break;case 10:Wa(a.type._context);break;case 22:case 23:Mu()}i=i.return}if(Ke=t,We=t=Fn(t.current,null),Je=xt=n,Qe=0,ri=null,Nu=Fs=ar=0,ut=oi=null,ir!==null){for(n=0;n<ir.length;n++)if(i=ir[n],a=i.interleaved,a!==null){i.interleaved=null;var d=a.next,p=i.pending;if(p!==null){var S=p.next;p.next=d,a.next=S}i.pending=a}ir=null}return t}function ah(t,n){do{var i=We;try{if(Ua(),Ps.current=Ls,Ms){for(var a=Fe.memoizedState;a!==null;){var d=a.queue;d!==null&&(d.pending=null),a=a.next}Ms=!1}if(lr=0,Ge=Xe=Fe=null,qo=!1,Zo=0,Eu.current=null,i===null||i.return===null){Qe=1,ri=n,We=null;break}e:{var p=t,S=i.return,L=i,O=n;if(n=Je,L.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var Z=O,se=L,le=se.tag;if((se.mode&1)===0&&(le===0||le===11||le===15)){var ie=se.alternate;ie?(se.updateQueue=ie.updateQueue,se.memoizedState=ie.memoizedState,se.lanes=ie.lanes):(se.updateQueue=null,se.memoizedState=null)}var de=Lf(S);if(de!==null){de.flags&=-257,Tf(de,S,L,p,n),de.mode&1&&Rf(p,Z,n),n=de,O=Z;var me=n.updateQueue;if(me===null){var ge=new Set;ge.add(O),n.updateQueue=ge}else me.add(O);break e}else{if((n&1)===0){Rf(p,Z,n),Iu();break e}O=Error(o(426))}}else if(ze&&L.mode&1){var Be=Lf(S);if(Be!==null){(Be.flags&65536)===0&&(Be.flags|=256),Tf(Be,S,L,p,n),Va(Yr(O,L));break e}}p=O=Yr(O,L),Qe!==4&&(Qe=2),oi===null?oi=[p]:oi.push(p),p=S;do{switch(p.tag){case 3:p.flags|=65536,n&=-n,p.lanes|=n;var K=Mf(p,O,n);nf(p,K);break e;case 1:L=O;var B=p.type,q=p.stateNode;if((p.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&($n===null||!$n.has(q)))){p.flags|=65536,n&=-n,p.lanes|=n;var ue=If(p,L,n);nf(p,ue);break e}}p=p.return}while(p!==null)}dh(i)}catch(ve){n=ve,We===i&&i!==null&&(We=i=i.return);continue}break}while(!0)}function uh(){var t=Os.current;return Os.current=Ls,t===null?Ls:t}function Iu(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),Ke===null||(ar&268435455)===0&&(Fs&268435455)===0||On(Ke,Je)}function Ys(t,n){var i=je;je|=2;var a=uh();(Ke!==t||Je!==n)&&(hn=null,cr(t,n));do try{Ty();break}catch(d){ah(t,d)}while(!0);if(Ua(),je=i,Os.current=a,We!==null)throw Error(o(261));return Ke=null,Je=0,Qe}function Ty(){for(;We!==null;)ch(We)}function zy(){for(;We!==null&&!ea();)ch(We)}function ch(t){var n=ph(t.alternate,t,xt);t.memoizedProps=t.pendingProps,n===null?dh(t):We=n,Eu.current=null}function dh(t){var n=t;do{var i=n.alternate;if(t=n.return,(n.flags&32768)===0){if(i=by(i,n,xt),i!==null){We=i;return}}else{if(i=jy(i,n),i!==null){i.flags&=32767,We=i;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,We=null;return}}if(n=n.sibling,n!==null){We=n;return}We=n=t}while(n!==null);Qe===0&&(Qe=5)}function dr(t,n,i){var a=Ie,d=jt.transition;try{jt.transition=null,Ie=1,$y(t,n,i,a)}finally{jt.transition=d,Ie=a}return null}function $y(t,n,i,a){do Kr();while(An!==null);if((je&6)!==0)throw Error(o(327));i=t.finishedWork;var d=t.finishedLanes;if(i===null)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var p=i.lanes|i.childLanes;if(es(t,p),t===Ke&&(We=Ke=null,Je=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Vs||(Vs=!0,mh(kr,function(){return Kr(),null})),p=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||p){p=jt.transition,jt.transition=null;var S=Ie;Ie=1;var L=je;je|=4,Eu.current=null,My(t,i),th(i,t),ny(Ia),rs=!!Ma,Ia=Ma=null,t.current=i,Iy(i),Ki(),je=L,Ie=S,jt.transition=p}else t.current=i;if(Vs&&(Vs=!1,An=t,Bs=d),p=t.pendingLanes,p===0&&($n=null),ra(i.stateNode),ct(t,De()),n!==null)for(a=t.onRecoverableError,i=0;i<n.length;i++)d=n[i],a(d.value,{componentStack:d.stack,digest:d.digest});if(Hs)throw Hs=!1,t=Cu,Cu=null,t;return(Bs&1)!==0&&t.tag!==0&&Kr(),p=t.pendingLanes,(p&1)!==0?t===_u?ii++:(ii=0,_u=t):ii=0,Rn(),null}function Kr(){if(An!==null){var t=Zc(Bs),n=jt.transition,i=Ie;try{if(jt.transition=null,Ie=16>t?16:t,An===null)var a=!1;else{if(t=An,An=null,Bs=0,(je&6)!==0)throw Error(o(331));var d=je;for(je|=4,he=t.current;he!==null;){var p=he,S=p.child;if((he.flags&16)!==0){var L=p.deletions;if(L!==null){for(var O=0;O<L.length;O++){var Z=L[O];for(he=Z;he!==null;){var se=he;switch(se.tag){case 0:case 11:case 15:ni(8,se,p)}var le=se.child;if(le!==null)le.return=se,he=le;else for(;he!==null;){se=he;var ie=se.sibling,de=se.return;if(Kf(se),se===Z){he=null;break}if(ie!==null){ie.return=de,he=ie;break}he=de}}}var me=p.alternate;if(me!==null){var ge=me.child;if(ge!==null){me.child=null;do{var Be=ge.sibling;ge.sibling=null,ge=Be}while(ge!==null)}}he=p}}if((p.subtreeFlags&2064)!==0&&S!==null)S.return=p,he=S;else e:for(;he!==null;){if(p=he,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:ni(9,p,p.return)}var K=p.sibling;if(K!==null){K.return=p.return,he=K;break e}he=p.return}}var B=t.current;for(he=B;he!==null;){S=he;var q=S.child;if((S.subtreeFlags&2064)!==0&&q!==null)q.return=S,he=q;else e:for(S=B;he!==null;){if(L=he,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:Ds(9,L)}}catch(ve){Ve(L,L.return,ve)}if(L===S){he=null;break e}var ue=L.sibling;if(ue!==null){ue.return=L.return,he=ue;break e}he=L.return}}if(je=d,Rn(),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Jn,t)}catch{}a=!0}return a}finally{Ie=i,jt.transition=n}}return!1}function fh(t,n,i){n=Yr(i,n),n=Mf(t,n,1),t=Tn(t,n,1),n=it(),t!==null&&(er(t,1,n),ct(t,n))}function Ve(t,n,i){if(t.tag===3)fh(t,t,i);else for(;n!==null;){if(n.tag===3){fh(n,t,i);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&($n===null||!$n.has(a))){t=Yr(i,t),t=If(n,t,1),n=Tn(n,t,1),t=it(),n!==null&&(er(n,1,t),ct(n,t));break}}n=n.return}}function Ay(t,n,i){var a=t.pingCache;a!==null&&a.delete(n),n=it(),t.pingedLanes|=t.suspendedLanes&i,Ke===t&&(Je&i)===i&&(Qe===4||Qe===3&&(Je&130023424)===Je&&500>De()-ku?cr(t,0):Nu|=i),ct(t,n)}function hh(t,n){n===0&&((t.mode&1)===0?n=1:(n=_r,_r<<=1,(_r&130023424)===0&&(_r=4194304)));var i=it();t=cn(t,n),t!==null&&(er(t,n,i),ct(t,i))}function Dy(t){var n=t.memoizedState,i=0;n!==null&&(i=n.retryLane),hh(t,i)}function Oy(t,n){var i=0;switch(t.tag){case 13:var a=t.stateNode,d=t.memoizedState;d!==null&&(i=d.retryLane);break;case 19:a=t.stateNode;break;default:throw Error(o(314))}a!==null&&a.delete(n),hh(t,i)}var ph;ph=function(t,n,i){if(t!==null)if(t.memoizedProps!==n.pendingProps||st.current)at=!0;else{if((t.lanes&i)===0&&(n.flags&128)===0)return at=!1,_y(t,n,i);at=(t.flags&131072)!==0}else at=!1,ze&&(n.flags&1048576)!==0&&Yd(n,Ss,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;$s(t,n),t=n.pendingProps;var d=Dr(n,et.current);Ur(n,i),d=tu(null,n,a,t,d,i);var p=nu();return n.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,lt(a)?(p=!0,vs(n)):p=!1,n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Qa(n),d.updater=Ts,n.stateNode=d,d._reactInternals=n,au(n,a,t,i),n=fu(null,n,a,!0,p,i)):(n.tag=0,ze&&p&&Da(n),ot(null,n,d,i),n=n.child),n;case 16:a=n.elementType;e:{switch($s(t,n),t=n.pendingProps,d=a._init,a=d(a._payload),n.type=a,d=n.tag=Hy(a),t=Tt(a,t),d){case 0:n=du(null,n,a,t,i);break e;case 1:n=Ff(null,n,a,t,i);break e;case 11:n=zf(null,n,a,t,i);break e;case 14:n=$f(null,n,a,Tt(a.type,t),i);break e}throw Error(o(306,a,""))}return n;case 0:return a=n.type,d=n.pendingProps,d=n.elementType===a?d:Tt(a,d),du(t,n,a,d,i);case 1:return a=n.type,d=n.pendingProps,d=n.elementType===a?d:Tt(a,d),Ff(t,n,a,d,i);case 3:e:{if(Hf(n),t===null)throw Error(o(387));a=n.pendingProps,p=n.memoizedState,d=p.element,tf(t,n),bs(n,a,null,i);var S=n.memoizedState;if(a=S.element,p.isDehydrated)if(p={element:a,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){d=Yr(Error(o(423)),n),n=Vf(t,n,a,i,d);break e}else if(a!==d){d=Yr(Error(o(424)),n),n=Vf(t,n,a,i,d);break e}else for(vt=Pn(n.stateNode.containerInfo.firstChild),yt=n,ze=!0,Lt=null,i=Jd(n,null,a,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Hr(),a===d){n=fn(t,n,i);break e}ot(t,n,a,i)}n=n.child}return n;case 5:return of(n),t===null&&Ha(n),a=n.type,d=n.pendingProps,p=t!==null?t.memoizedProps:null,S=d.children,Ra(a,d)?S=null:p!==null&&Ra(a,p)&&(n.flags|=32),Of(t,n),ot(t,n,S,i),n.child;case 6:return t===null&&Ha(n),null;case 13:return Bf(t,n,i);case 4:return Ga(n,n.stateNode.containerInfo),a=n.pendingProps,t===null?n.child=Vr(n,null,a,i):ot(t,n,a,i),n.child;case 11:return a=n.type,d=n.pendingProps,d=n.elementType===a?d:Tt(a,d),zf(t,n,a,d,i);case 7:return ot(t,n,n.pendingProps,i),n.child;case 8:return ot(t,n,n.pendingProps.children,i),n.child;case 12:return ot(t,n,n.pendingProps.children,i),n.child;case 10:e:{if(a=n.type._context,d=n.pendingProps,p=n.memoizedProps,S=d.value,Re(ks,a._currentValue),a._currentValue=S,p!==null)if(Rt(p.value,S)){if(p.children===d.children&&!st.current){n=fn(t,n,i);break e}}else for(p=n.child,p!==null&&(p.return=n);p!==null;){var L=p.dependencies;if(L!==null){S=p.child;for(var O=L.firstContext;O!==null;){if(O.context===a){if(p.tag===1){O=dn(-1,i&-i),O.tag=2;var Z=p.updateQueue;if(Z!==null){Z=Z.shared;var se=Z.pending;se===null?O.next=O:(O.next=se.next,se.next=O),Z.pending=O}}p.lanes|=i,O=p.alternate,O!==null&&(O.lanes|=i),Ya(p.return,i,n),L.lanes|=i;break}O=O.next}}else if(p.tag===10)S=p.type===n.type?null:p.child;else if(p.tag===18){if(S=p.return,S===null)throw Error(o(341));S.lanes|=i,L=S.alternate,L!==null&&(L.lanes|=i),Ya(S,i,n),S=p.sibling}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===n){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}ot(t,n,d.children,i),n=n.child}return n;case 9:return d=n.type,a=n.pendingProps.children,Ur(n,i),d=_t(d),a=a(d),n.flags|=1,ot(t,n,a,i),n.child;case 14:return a=n.type,d=Tt(a,n.pendingProps),d=Tt(a.type,d),$f(t,n,a,d,i);case 15:return Af(t,n,n.type,n.pendingProps,i);case 17:return a=n.type,d=n.pendingProps,d=n.elementType===a?d:Tt(a,d),$s(t,n),n.tag=1,lt(a)?(t=!0,vs(n)):t=!1,Ur(n,i),jf(n,a,d),au(n,a,d,i),fu(null,n,a,!0,t,i);case 19:return Wf(t,n,i);case 22:return Df(t,n,i)}throw Error(o(156,n.tag))};function mh(t,n){return Qi(t,n)}function Fy(t,n,i,a){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(t,n,i,a){return new Fy(t,n,i,a)}function Ru(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hy(t){if(typeof t=="function")return Ru(t)?1:0;if(t!=null){if(t=t.$$typeof,t===X)return 11;if(t===V)return 14}return 2}function Fn(t,n){var i=t.alternate;return i===null?(i=Pt(t.tag,n,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=n,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&14680064,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,n=t.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function Xs(t,n,i,a,d,p){var S=2;if(a=t,typeof t=="function")Ru(t)&&(S=1);else if(typeof t=="string")S=5;else e:switch(t){case T:return fr(i.children,d,p,n);case W:S=8,d|=8;break;case Y:return t=Pt(12,i,n,d|2),t.elementType=Y,t.lanes=p,t;case ee:return t=Pt(13,i,n,d),t.elementType=ee,t.lanes=p,t;case R:return t=Pt(19,i,n,d),t.elementType=R,t.lanes=p,t;case H:return Qs(i,d,p,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:S=10;break e;case G:S=9;break e;case X:S=11;break e;case V:S=14;break e;case A:S=16,a=null;break e}throw Error(o(130,t==null?t:typeof t,""))}return n=Pt(S,i,n,d),n.elementType=t,n.type=a,n.lanes=p,n}function fr(t,n,i,a){return t=Pt(7,t,a,n),t.lanes=i,t}function Qs(t,n,i,a){return t=Pt(22,t,a,n),t.elementType=H,t.lanes=i,t.stateNode={isHidden:!1},t}function Lu(t,n,i){return t=Pt(6,t,null,n),t.lanes=i,t}function Tu(t,n,i){return n=Pt(4,t.children!==null?t.children:[],t.key,n),n.lanes=i,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Vy(t,n,i,a,d){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Po(0),this.expirationTimes=Po(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Po(0),this.identifierPrefix=a,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function zu(t,n,i,a,d,p,S,L,O){return t=new Vy(t,n,i,L,O),n===1?(n=1,p===!0&&(n|=8)):n=0,p=Pt(3,null,null,n),t.current=p,p.stateNode=t,p.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qa(p),t}function By(t,n,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:a==null?null:""+a,children:t,containerInfo:n,implementation:i}}function gh(t){if(!t)return In;t=t._reactInternals;e:{if(Ut(t)!==t||t.tag!==1)throw Error(o(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(lt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(o(171))}if(t.tag===1){var i=t.type;if(lt(i))return Bd(t,i,n)}return n}function yh(t,n,i,a,d,p,S,L,O){return t=zu(i,a,!0,t,d,p,S,L,O),t.context=gh(null),i=t.current,a=it(),d=Dn(i),p=dn(a,d),p.callback=n??null,Tn(i,p,d),t.current.lanes=d,er(t,d,a),ct(t,a),t}function Gs(t,n,i,a){var d=n.current,p=it(),S=Dn(d);return i=gh(i),n.context===null?n.context=i:n.pendingContext=i,n=dn(p,S),n.payload={element:t},a=a===void 0?null:a,a!==null&&(n.callback=a),t=Tn(d,n,S),t!==null&&(At(t,d,S,p),_s(t,d,S)),S}function Ks(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vh(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<n?i:n}}function $u(t,n){vh(t,n),(t=t.alternate)&&vh(t,n)}function Uy(){return null}var xh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Au(t){this._internalRoot=t}qs.prototype.render=Au.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(o(409));Gs(t,n,null,null)},qs.prototype.unmount=Au.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ur(function(){Gs(null,t,null,null)}),n[sn]=null}};function qs(t){this._internalRoot=t}qs.prototype.unstable_scheduleHydration=function(t){if(t){var n=td();t={blockedOn:null,target:t,priority:n};for(var i=0;i<_n.length&&n!==0&&n<_n[i].priority;i++);_n.splice(i,0,t),i===0&&od(t)}};function Du(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zs(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wh(){}function Wy(t,n,i,a,d){if(d){if(typeof a=="function"){var p=a;a=function(){var Z=Ks(S);p.call(Z)}}var S=yh(n,a,t,0,null,!1,!1,"",wh);return t._reactRootContainer=S,t[sn]=S.current,Bo(t.nodeType===8?t.parentNode:t),ur(),S}for(;d=t.lastChild;)t.removeChild(d);if(typeof a=="function"){var L=a;a=function(){var Z=Ks(O);L.call(Z)}}var O=zu(t,0,!1,null,null,!1,!1,"",wh);return t._reactRootContainer=O,t[sn]=O.current,Bo(t.nodeType===8?t.parentNode:t),ur(function(){Gs(n,O,i,a)}),O}function Js(t,n,i,a,d){var p=i._reactRootContainer;if(p){var S=p;if(typeof d=="function"){var L=d;d=function(){var O=Ks(S);L.call(O)}}Gs(n,S,t,d)}else S=Wy(i,n,t,d,a);return Ks(S)}Jc=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var i=Wt(n.pendingLanes);i!==0&&(aa(n,i|1),ct(n,De()),(je&6)===0&&(Gr=De()+500,Rn()))}break;case 13:ur(function(){var a=cn(t,1);if(a!==null){var d=it();At(a,t,1,d)}}),$u(t,1)}},ua=function(t){if(t.tag===13){var n=cn(t,134217728);if(n!==null){var i=it();At(n,t,134217728,i)}$u(t,134217728)}},ed=function(t){if(t.tag===13){var n=Dn(t),i=cn(t,n);if(i!==null){var a=it();At(i,t,n,a)}$u(t,n)}},td=function(){return Ie},nd=function(t,n){var i=Ie;try{return Ie=t,n()}finally{Ie=i}},So=function(t,n,i){switch(n){case"input":if(Ue(t,i),n=i.name,i.type==="radio"&&n!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var a=i[n];if(a!==t&&a.form===t.form){var d=gs(a);if(!d)throw Error(o(90));ye(a),Ue(a,d)}}}break;case"textarea":Sr(t,i);break;case"select":n=i.value,n!=null&&Et(t,!!i.multiple,n,!1)}},Bi=Pu,Ui=ur;var Yy={usingClientEntryPoint:!1,Events:[Yo,$r,gs,Hi,Vi,Pu]},si={findFiberByHostInstance:tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xy={bundleType:si.bundleType,version:si.version,rendererPackageName:si.rendererPackageName,rendererConfig:si.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Yi(t),t===null?null:t.stateNode},findFiberByHostInstance:si.findFiberByHostInstance||Uy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var el=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!el.isDisabled&&el.supportsFiber)try{Jn=el.inject(Xy),Nt=el}catch{}}return dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yy,dt.createPortal=function(t,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Du(n))throw Error(o(200));return By(t,n,null,i)},dt.createRoot=function(t,n){if(!Du(t))throw Error(o(299));var i=!1,a="",d=xh;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=zu(t,1,!1,null,null,i,!1,a,d),t[sn]=n.current,Bo(t.nodeType===8?t.parentNode:t),new Au(n)},dt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=Yi(n),t=t===null?null:t.stateNode,t},dt.flushSync=function(t){return ur(t)},dt.hydrate=function(t,n,i){if(!Zs(n))throw Error(o(200));return Js(null,t,n,!0,i)},dt.hydrateRoot=function(t,n,i){if(!Du(t))throw Error(o(405));var a=i!=null&&i.hydratedSources||null,d=!1,p="",S=xh;if(i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(p=i.identifierPrefix),i.onRecoverableError!==void 0&&(S=i.onRecoverableError)),n=yh(n,null,t,1,i??null,d,!1,p,S),t[sn]=n.current,Bo(t),a)for(t=0;t<a.length;t++)i=a[t],d=i._getVersion,d=d(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,d]:n.mutableSourceEagerHydrationData.push(i,d);return new qs(n)},dt.render=function(t,n,i){if(!Zs(n))throw Error(o(200));return Js(null,t,n,!1,i)},dt.unmountComponentAtNode=function(t){if(!Zs(t))throw Error(o(40));return t._reactRootContainer?(ur(function(){Js(null,null,t,!1,function(){t._reactRootContainer=null,t[sn]=null})}),!0):!1},dt.unstable_batchedUpdates=Pu,dt.unstable_renderSubtreeIntoContainer=function(t,n,i,a){if(!Zs(i))throw Error(o(200));if(t==null||t._reactInternals===void 0)throw Error(o(38));return Js(t,n,i,!1,a)},dt.version="18.3.1-next-f1338f8080-20240426",dt}var jh;function em(){if(jh)return Hu.exports;jh=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),Hu.exports=ev(),Hu.exports}var Ph;function tv(){if(Ph)return tl;Ph=1;var e=em();return tl.createRoot=e.createRoot,tl.hydrateRoot=e.hydrateRoot,tl}var nv=tv();const rv=bc(nv);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Mh="popstate";function ov(e={}){function r(s,l){let{pathname:u,search:c,hash:f}=s.location;return uc("",{pathname:u,search:c,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function o(s,l){return typeof l=="string"?l:yi(l)}return sv(r,o,null,e)}function He(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function Vt(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function iv(){return Math.random().toString(36).substring(2,10)}function Ih(e,r){return{usr:e.state,key:e.key,idx:r}}function uc(e,r,o=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof r=="string"?mo(r):r,state:o,key:r&&r.key||s||iv()}}function yi({pathname:e="/",search:r="",hash:o=""}){return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(e+=o.charAt(0)==="#"?o:"#"+o),e}function mo(e){let r={};if(e){let o=e.indexOf("#");o>=0&&(r.hash=e.substring(o),e=e.substring(0,o));let s=e.indexOf("?");s>=0&&(r.search=e.substring(s),e=e.substring(0,s)),e&&(r.pathname=e)}return r}function sv(e,r,o,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,c=l.history,f="POP",h=null,y=v();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function v(){return(c.state||{idx:null}).idx}function m(){f="POP";let C=v(),b=C==null?null:C-y;y=C,h&&h({action:f,location:j.location,delta:b})}function x(C,b){f="PUSH";let M=uc(j.location,C,b);y=v()+1;let w=Ih(M,y),P=j.createHref(M);try{c.pushState(w,"",P)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;l.location.assign(P)}u&&h&&h({action:f,location:j.location,delta:1})}function E(C,b){f="REPLACE";let M=uc(j.location,C,b);y=v();let w=Ih(M,y),P=j.createHref(M);c.replaceState(w,"",P),u&&h&&h({action:f,location:j.location,delta:0})}function N(C){return lv(C)}let j={get action(){return f},get location(){return e(l,c)},listen(C){if(h)throw new Error("A history only accepts one active listener");return l.addEventListener(Mh,m),h=C,()=>{l.removeEventListener(Mh,m),h=null}},createHref(C){return r(l,C)},createURL:N,encodeLocation(C){let b=N(C);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:x,replace:E,go(C){return c.go(C)}};return j}function lv(e,r=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),He(o,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:yi(e);return s=s.replace(/ $/,"%20"),!r&&s.startsWith("//")&&(s=o+s),new URL(s,o)}function tm(e,r,o="/"){return av(e,r,o,!1)}function av(e,r,o,s){let l=typeof r=="string"?mo(r):r,u=yn(l.pathname||"/",o);if(u==null)return null;let c=nm(e);uv(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let y=wv(u);f=vv(c[h],y,s)}return f}function nm(e,r=[],o=[],s="",l=!1){let u=(c,f,h=l,y)=>{let v={relativePath:y===void 0?c.path||"":y,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&h)return;He(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let m=gn([s,v.relativePath]),x=o.concat(v);c.children&&c.children.length>0&&(He(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),nm(c.children,r,x,m,h)),!(c.path==null&&!c.index)&&r.push({path:m,score:gv(m,c.index),routesMeta:x})};return e.forEach((c,f)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))u(c,f);else for(let y of rm(c.path))u(c,f,!0,y)}),r}function rm(e){let r=e.split("/");if(r.length===0)return[];let[o,...s]=r,l=o.endsWith("?"),u=o.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let c=rm(s.join("/")),f=[];return f.push(...c.map(h=>h===""?u:[u,h].join("/"))),l&&f.push(...c),f.map(h=>e.startsWith("/")&&h===""?"/":h)}function uv(e){e.sort((r,o)=>r.score!==o.score?o.score-r.score:yv(r.routesMeta.map(s=>s.childrenIndex),o.routesMeta.map(s=>s.childrenIndex)))}var cv=/^:[\w-]+$/,dv=3,fv=2,hv=1,pv=10,mv=-2,Rh=e=>e==="*";function gv(e,r){let o=e.split("/"),s=o.length;return o.some(Rh)&&(s+=mv),r&&(s+=fv),o.filter(l=>!Rh(l)).reduce((l,u)=>l+(cv.test(u)?dv:u===""?hv:pv),s)}function yv(e,r){return e.length===r.length&&e.slice(0,-1).every((s,l)=>s===r[l])?e[e.length-1]-r[r.length-1]:0}function vv(e,r,o=!1){let{routesMeta:s}=e,l={},u="/",c=[];for(let f=0;f<s.length;++f){let h=s[f],y=f===s.length-1,v=u==="/"?r:r.slice(u.length)||"/",m=xl({path:h.relativePath,caseSensitive:h.caseSensitive,end:y},v),x=h.route;if(!m&&y&&o&&!s[s.length-1].route.index&&(m=xl({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!m)return null;Object.assign(l,m.params),c.push({params:l,pathname:gn([u,m.pathname]),pathnameBase:kv(gn([u,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(u=gn([u,m.pathnameBase]))}return c}function xl(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[o,s]=xv(e.path,e.caseSensitive,e.end),l=r.match(o);if(!l)return null;let u=l[0],c=u.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:s.reduce((y,{paramName:v,isOptional:m},x)=>{if(v==="*"){let N=f[x]||"";c=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const E=f[x];return m&&!E?y[v]=void 0:y[v]=(E||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:c,pattern:e}}function xv(e,r=!1,o=!0){Vt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(s.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,r?void 0:"i"),s]}function wv(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Vt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),e}}function yn(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let o=r.endsWith("/")?r.length-1:r.length,s=e.charAt(o);return s&&s!=="/"?null:e.slice(o)||"/"}var om=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sv=e=>om.test(e);function Ev(e,r="/"){let{pathname:o,search:s="",hash:l=""}=typeof e=="string"?mo(e):e,u;if(o)if(Sv(o))u=o;else{if(o.includes("//")){let c=o;o=o.replace(/\/\/+/g,"/"),Vt(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${o}`)}o.startsWith("/")?u=Lh(o.substring(1),"/"):u=Lh(o,r)}else u=r;return{pathname:u,search:Cv(s),hash:_v(l)}}function Lh(e,r){let o=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?o.length>1&&o.pop():l!=="."&&o.push(l)}),o.length>1?o.join("/"):"/"}function Uu(e,r,o,s){return`Cannot include a '${e}' character in a manually specified \`to.${r}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Nv(e){return e.filter((r,o)=>o===0||r.route.path&&r.route.path.length>0)}function im(e){let r=Nv(e);return r.map((o,s)=>s===r.length-1?o.pathname:o.pathnameBase)}function sm(e,r,o,s=!1){let l;typeof e=="string"?l=mo(e):(l={...e},He(!l.pathname||!l.pathname.includes("?"),Uu("?","pathname","search",l)),He(!l.pathname||!l.pathname.includes("#"),Uu("#","pathname","hash",l)),He(!l.search||!l.search.includes("#"),Uu("#","search","hash",l)));let u=e===""||l.pathname==="",c=u?"/":l.pathname,f;if(c==null)f=o;else{let m=r.length-1;if(!s&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),m-=1;l.pathname=x.join("/")}f=m>=0?r[m]:"/"}let h=Ev(l,f),y=c&&c!=="/"&&c.endsWith("/"),v=(u||c===".")&&o.endsWith("/");return!h.pathname.endsWith("/")&&(y||v)&&(h.pathname+="/"),h}var gn=e=>e.join("/").replace(/\/\/+/g,"/"),kv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Cv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_v=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,bv=class{constructor(e,r,o,s=!1){this.status=e,this.statusText=r||"",this.internal=s,o instanceof Error?(this.data=o.toString(),this.error=o):this.data=o}};function jv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Pv(e){return e.map(r=>r.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var lm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function am(e,r){let o=e;if(typeof o!="string"||!om.test(o))return{absoluteURL:void 0,isExternal:!1,to:o};let s=o,l=!1;if(lm)try{let u=new URL(window.location.href),c=o.startsWith("//")?new URL(u.protocol+o):new URL(o),f=yn(c.pathname,r);c.origin===u.origin&&f!=null?o=f+c.search+c.hash:l=!0}catch{Vt(!1,`<Link to="${o}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:l,to:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var um=["POST","PUT","PATCH","DELETE"];new Set(um);var Mv=["GET",...um];new Set(Mv);var go=k.createContext(null);go.displayName="DataRouter";var Rl=k.createContext(null);Rl.displayName="DataRouterState";var Iv=k.createContext(!1),cm=k.createContext({isTransitioning:!1});cm.displayName="ViewTransition";var Rv=k.createContext(new Map);Rv.displayName="Fetchers";var Lv=k.createContext(null);Lv.displayName="Await";var Mt=k.createContext(null);Mt.displayName="Navigation";var ji=k.createContext(null);ji.displayName="Location";var Jt=k.createContext({outlet:null,matches:[],isDataRoute:!1});Jt.displayName="Route";var jc=k.createContext(null);jc.displayName="RouteError";var dm="REACT_ROUTER_ERROR",Tv="REDIRECT",zv="ROUTE_ERROR_RESPONSE";function $v(e){if(e.startsWith(`${dm}:${Tv}:{`))try{let r=JSON.parse(e.slice(28));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.location=="string"&&typeof r.reloadDocument=="boolean"&&typeof r.replace=="boolean")return r}catch{}}function Av(e){if(e.startsWith(`${dm}:${zv}:{`))try{let r=JSON.parse(e.slice(40));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string")return new bv(r.status,r.statusText,r.data)}catch{}}function Dv(e,{relative:r}={}){He(Pi(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:s}=k.useContext(Mt),{hash:l,pathname:u,search:c}=Mi(e,{relative:r}),f=u;return o!=="/"&&(f=u==="/"?o:gn([o,u])),s.createHref({pathname:f,search:c,hash:l})}function Pi(){return k.useContext(ji)!=null}function Yn(){return He(Pi(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(ji).location}var fm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hm(e){k.useContext(Mt).static||k.useLayoutEffect(e)}function Ll(){let{isDataRoute:e}=k.useContext(Jt);return e?Zv():Ov()}function Ov(){He(Pi(),"useNavigate() may be used only in the context of a <Router> component.");let e=k.useContext(go),{basename:r,navigator:o}=k.useContext(Mt),{matches:s}=k.useContext(Jt),{pathname:l}=Yn(),u=JSON.stringify(im(s)),c=k.useRef(!1);return hm(()=>{c.current=!0}),k.useCallback((h,y={})=>{if(Vt(c.current,fm),!c.current)return;if(typeof h=="number"){o.go(h);return}let v=sm(h,JSON.parse(u),l,y.relative==="path");e==null&&r!=="/"&&(v.pathname=v.pathname==="/"?r:gn([r,v.pathname])),(y.replace?o.replace:o.push)(v,y.state,y)},[r,o,u,l,e])}k.createContext(null);function Fv(){let{matches:e}=k.useContext(Jt),r=e[e.length-1];return r?r.params:{}}function Mi(e,{relative:r}={}){let{matches:o}=k.useContext(Jt),{pathname:s}=Yn(),l=JSON.stringify(im(o));return k.useMemo(()=>sm(e,JSON.parse(l),s,r==="path"),[e,l,s,r])}function Hv(e,r){return pm(e,r)}function pm(e,r,o,s,l){var M;He(Pi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=k.useContext(Mt),{matches:c}=k.useContext(Jt),f=c[c.length-1],h=f?f.params:{},y=f?f.pathname:"/",v=f?f.pathnameBase:"/",m=f&&f.route;{let w=m&&m.path||"";gm(y,!m||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let x=Yn(),E;if(r){let w=typeof r=="string"?mo(r):r;He(v==="/"||((M=w.pathname)==null?void 0:M.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${w.pathname}" was given in the \`location\` prop.`),E=w}else E=x;let N=E.pathname||"/",j=N;if(v!=="/"){let w=v.replace(/^\//,"").split("/");j="/"+N.replace(/^\//,"").split("/").slice(w.length).join("/")}let C=tm(e,{pathname:j});Vt(m||C!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Vt(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=Yv(C&&C.map(w=>Object.assign({},w,{params:Object.assign({},h,w.params),pathname:gn([v,u.encodeLocation?u.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?v:gn([v,u.encodeLocation?u.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),c,o,s,l);return r&&b?k.createElement(ji.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},b):b}function Vv(){let e=qv(),r=jv(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),o=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:u},"ErrorBoundary")," or"," ",k.createElement("code",{style:u},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},r),o?k.createElement("pre",{style:l},o):null,c)}var Bv=k.createElement(Vv,null),mm=class extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){this.props.onError?this.props.onError(e,r):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const o=Av(e.digest);o&&(e=o)}let r=e!==void 0?k.createElement(Jt.Provider,{value:this.props.routeContext},k.createElement(jc.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?k.createElement(Uv,{error:e},r):r}};mm.contextType=Iv;var Wu=new WeakMap;function Uv({children:e,error:r}){let{basename:o}=k.useContext(Mt);if(typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){let s=$v(r.digest);if(s){let l=Wu.get(r);if(l)throw l;let u=am(s.location,o);if(lm&&!Wu.get(r))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Wu.set(r,c),c}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return e}function Wv({routeContext:e,match:r,children:o}){let s=k.useContext(go);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(Jt.Provider,{value:e},o)}function Yv(e,r=[],o=null,s=null,l=null){if(e==null){if(!o)return null;if(o.errors)e=o.matches;else if(r.length===0&&!o.initialized&&o.matches.length>0)e=o.matches;else return null}let u=e,c=o==null?void 0:o.errors;if(c!=null){let v=u.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);He(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let f=!1,h=-1;if(o)for(let v=0;v<u.length;v++){let m=u[v];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=v),m.route.id){let{loaderData:x,errors:E}=o,N=m.route.loader&&!x.hasOwnProperty(m.route.id)&&(!E||E[m.route.id]===void 0);if(m.route.lazy||N){f=!0,h>=0?u=u.slice(0,h+1):u=[u[0]];break}}}let y=o&&s?(v,m)=>{var x,E;s(v,{location:o.location,params:((E=(x=o.matches)==null?void 0:x[0])==null?void 0:E.params)??{},unstable_pattern:Pv(o.matches),errorInfo:m})}:void 0;return u.reduceRight((v,m,x)=>{let E,N=!1,j=null,C=null;o&&(E=c&&m.route.id?c[m.route.id]:void 0,j=m.route.errorElement||Bv,f&&(h<0&&x===0?(gm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,C=null):h===x&&(N=!0,C=m.route.hydrateFallbackElement||null)));let b=r.concat(u.slice(0,x+1)),M=()=>{let w;return E?w=j:N?w=C:m.route.Component?w=k.createElement(m.route.Component,null):m.route.element?w=m.route.element:w=v,k.createElement(Wv,{match:m,routeContext:{outlet:v,matches:b,isDataRoute:o!=null},children:w})};return o&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?k.createElement(mm,{location:o.location,revalidation:o.revalidation,component:j,error:E,children:M(),routeContext:{outlet:null,matches:b,isDataRoute:!0},onError:y}):M()},null)}function Pc(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xv(e){let r=k.useContext(go);return He(r,Pc(e)),r}function Qv(e){let r=k.useContext(Rl);return He(r,Pc(e)),r}function Gv(e){let r=k.useContext(Jt);return He(r,Pc(e)),r}function Mc(e){let r=Gv(e),o=r.matches[r.matches.length-1];return He(o.route.id,`${e} can only be used on routes that contain a unique "id"`),o.route.id}function Kv(){return Mc("useRouteId")}function qv(){var s;let e=k.useContext(jc),r=Qv("useRouteError"),o=Mc("useRouteError");return e!==void 0?e:(s=r.errors)==null?void 0:s[o]}function Zv(){let{router:e}=Xv("useNavigate"),r=Mc("useNavigate"),o=k.useRef(!1);return hm(()=>{o.current=!0}),k.useCallback(async(l,u={})=>{Vt(o.current,fm),o.current&&(typeof l=="number"?await e.navigate(l):await e.navigate(l,{fromRouteId:r,...u}))},[e,r])}var Th={};function gm(e,r,o){!r&&!Th[e]&&(Th[e]=!0,Vt(!1,o))}k.memo(Jv);function Jv({routes:e,future:r,state:o,onError:s}){return pm(e,void 0,o,s,r)}function di(e){He(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ex({basename:e="/",children:r=null,location:o,navigationType:s="POP",navigator:l,static:u=!1,unstable_useTransitions:c}){He(!Pi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),h=k.useMemo(()=>({basename:f,navigator:l,static:u,unstable_useTransitions:c,future:{}}),[f,l,u,c]);typeof o=="string"&&(o=mo(o));let{pathname:y="/",search:v="",hash:m="",state:x=null,key:E="default"}=o,N=k.useMemo(()=>{let j=yn(y,f);return j==null?null:{location:{pathname:j,search:v,hash:m,state:x,key:E},navigationType:s}},[f,y,v,m,x,E,s]);return Vt(N!=null,`<Router basename="${f}"> is not able to match the URL "${y}${v}${m}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:k.createElement(Mt.Provider,{value:h},k.createElement(ji.Provider,{children:r,value:N}))}function tx({children:e,location:r}){return Hv(cc(e),r)}function cc(e,r=[]){let o=[];return k.Children.forEach(e,(s,l)=>{if(!k.isValidElement(s))return;let u=[...r,l];if(s.type===k.Fragment){o.push.apply(o,cc(s.props.children,u));return}He(s.type===di,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),He(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=cc(s.props.children,u)),o.push(c)}),o}var fl="get",hl="application/x-www-form-urlencoded";function Tl(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function nx(e){return Tl(e)&&e.tagName.toLowerCase()==="button"}function rx(e){return Tl(e)&&e.tagName.toLowerCase()==="form"}function ox(e){return Tl(e)&&e.tagName.toLowerCase()==="input"}function ix(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function sx(e,r){return e.button===0&&(!r||r==="_self")&&!ix(e)}var nl=null;function lx(){if(nl===null)try{new FormData(document.createElement("form"),0),nl=!1}catch{nl=!0}return nl}var ax=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yu(e){return e!=null&&!ax.has(e)?(Vt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hl}"`),null):e}function ux(e,r){let o,s,l,u,c;if(rx(e)){let f=e.getAttribute("action");s=f?yn(f,r):null,o=e.getAttribute("method")||fl,l=Yu(e.getAttribute("enctype"))||hl,u=new FormData(e)}else if(nx(e)||ox(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||f.getAttribute("action");if(s=h?yn(h,r):null,o=e.getAttribute("formmethod")||f.getAttribute("method")||fl,l=Yu(e.getAttribute("formenctype"))||Yu(f.getAttribute("enctype"))||hl,u=new FormData(f,e),!lx()){let{name:y,type:v,value:m}=e;if(v==="image"){let x=y?`${y}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else y&&u.append(y,m)}}else{if(Tl(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=fl,s=null,l=hl,c=e}return u&&l==="text/plain"&&(c=u,u=void 0),{action:s,method:o.toLowerCase(),encType:l,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ic(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function cx(e,r,o){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${o}`:r&&yn(s.pathname,r)==="/"?s.pathname=`${r.replace(/\/$/,"")}/_root.${o}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${o}`,s}async function dx(e,r){if(e.id in r)return r[e.id];try{let o=await import(e.module);return r[e.id]=o,o}catch(o){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fx(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function hx(e,r,o){let s=await Promise.all(e.map(async l=>{let u=r.routes[l.route.id];if(u){let c=await dx(u,o);return c.links?c.links():[]}return[]}));return yx(s.flat(1).filter(fx).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function zh(e,r,o,s,l,u){let c=(h,y)=>o[y]?h.route.id!==o[y].route.id:!0,f=(h,y)=>{var v;return o[y].pathname!==h.pathname||((v=o[y].route.path)==null?void 0:v.endsWith("*"))&&o[y].params["*"]!==h.params["*"]};return u==="assets"?r.filter((h,y)=>c(h,y)||f(h,y)):u==="data"?r.filter((h,y)=>{var m;let v=s.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(c(h,y)||f(h,y))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((m=o[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function px(e,r,{includeHydrateFallback:o}={}){return mx(e.map(s=>{let l=r.routes[s.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),o&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function mx(e){return[...new Set(e)]}function gx(e){let r={},o=Object.keys(e).sort();for(let s of o)r[s]=e[s];return r}function yx(e,r){let o=new Set;return new Set(r),e.reduce((s,l)=>{let u=JSON.stringify(gx(l));return o.has(u)||(o.add(u),s.push({key:u,link:l})),s},[])}function ym(){let e=k.useContext(go);return Ic(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function vx(){let e=k.useContext(Rl);return Ic(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Rc=k.createContext(void 0);Rc.displayName="FrameworkContext";function vm(){let e=k.useContext(Rc);return Ic(e,"You must render this element inside a <HydratedRouter> element"),e}function xx(e,r){let o=k.useContext(Rc),[s,l]=k.useState(!1),[u,c]=k.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:y,onMouseLeave:v,onTouchStart:m}=r,x=k.useRef(null);k.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let j=b=>{b.forEach(M=>{c(M.isIntersecting)})},C=new IntersectionObserver(j,{threshold:.5});return x.current&&C.observe(x.current),()=>{C.disconnect()}}},[e]),k.useEffect(()=>{if(s){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[s]);let E=()=>{l(!0)},N=()=>{l(!1),c(!1)};return o?e!=="intent"?[u,x,{}]:[u,x,{onFocus:ai(f,E),onBlur:ai(h,N),onMouseEnter:ai(y,E),onMouseLeave:ai(v,N),onTouchStart:ai(m,E)}]:[!1,x,{}]}function ai(e,r){return o=>{e&&e(o),o.defaultPrevented||r(o)}}function wx({page:e,...r}){let{router:o}=ym(),s=k.useMemo(()=>tm(o.routes,e,o.basename),[o.routes,e,o.basename]);return s?k.createElement(Ex,{page:e,matches:s,...r}):null}function Sx(e){let{manifest:r,routeModules:o}=vm(),[s,l]=k.useState([]);return k.useEffect(()=>{let u=!1;return hx(e,r,o).then(c=>{u||l(c)}),()=>{u=!0}},[e,r,o]),s}function Ex({page:e,matches:r,...o}){let s=Yn(),{manifest:l,routeModules:u}=vm(),{basename:c}=ym(),{loaderData:f,matches:h}=vx(),y=k.useMemo(()=>zh(e,r,h,l,s,"data"),[e,r,h,l,s]),v=k.useMemo(()=>zh(e,r,h,l,s,"assets"),[e,r,h,l,s]),m=k.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let N=new Set,j=!1;if(r.forEach(b=>{var w;let M=l.routes[b.route.id];!M||!M.hasLoader||(!y.some(P=>P.route.id===b.route.id)&&b.route.id in f&&((w=u[b.route.id])!=null&&w.shouldRevalidate)||M.hasClientLoader?j=!0:N.add(b.route.id))}),N.size===0)return[];let C=cx(e,c,"data");return j&&N.size>0&&C.searchParams.set("_routes",r.filter(b=>N.has(b.route.id)).map(b=>b.route.id).join(",")),[C.pathname+C.search]},[c,f,s,l,y,r,e,u]),x=k.useMemo(()=>px(v,l),[v,l]),E=Sx(v);return k.createElement(k.Fragment,null,m.map(N=>k.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...o})),x.map(N=>k.createElement("link",{key:N,rel:"modulepreload",href:N,...o})),E.map(({key:N,link:j})=>k.createElement("link",{key:N,nonce:o.nonce,...j})))}function Nx(...e){return r=>{e.forEach(o=>{typeof o=="function"?o(r):o!=null&&(o.current=r)})}}var kx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kx&&(window.__reactRouterVersion="7.11.0")}catch{}function Cx({basename:e,children:r,unstable_useTransitions:o,window:s}){let l=k.useRef();l.current==null&&(l.current=ov({window:s,v5Compat:!0}));let u=l.current,[c,f]=k.useState({action:u.action,location:u.location}),h=k.useCallback(y=>{o===!1?f(y):k.startTransition(()=>f(y))},[o]);return k.useLayoutEffect(()=>u.listen(h),[u,h]),k.createElement(ex,{basename:e,children:r,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:o})}var xm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lc=k.forwardRef(function({onClick:r,discover:o="render",prefetch:s="none",relative:l,reloadDocument:u,replace:c,state:f,target:h,to:y,preventScrollReset:v,viewTransition:m,unstable_defaultShouldRevalidate:x,...E},N){let{basename:j,unstable_useTransitions:C}=k.useContext(Mt),b=typeof y=="string"&&xm.test(y),M=am(y,j);y=M.to;let w=Dv(y,{relative:l}),[P,F,D]=xx(s,E),T=Px(y,{replace:c,state:f,target:h,preventScrollReset:v,relative:l,viewTransition:m,unstable_defaultShouldRevalidate:x,unstable_useTransitions:C});function W(ne){r&&r(ne),ne.defaultPrevented||T(ne)}let Y=k.createElement("a",{...E,...D,href:M.absoluteURL||w,onClick:M.isExternal||u?r:W,ref:Nx(N,F),target:h,"data-discover":!b&&o==="render"?"true":void 0});return P&&!b?k.createElement(k.Fragment,null,Y,k.createElement(wx,{page:w})):Y});Lc.displayName="Link";var _x=k.forwardRef(function({"aria-current":r="page",caseSensitive:o=!1,className:s="",end:l=!1,style:u,to:c,viewTransition:f,children:h,...y},v){let m=Mi(c,{relative:y.relative}),x=Yn(),E=k.useContext(Rl),{navigator:N,basename:j}=k.useContext(Mt),C=E!=null&&Tx(m)&&f===!0,b=N.encodeLocation?N.encodeLocation(m).pathname:m.pathname,M=x.pathname,w=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;o||(M=M.toLowerCase(),w=w?w.toLowerCase():null,b=b.toLowerCase()),w&&j&&(w=yn(w,j)||w);const P=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let F=M===b||!l&&M.startsWith(b)&&M.charAt(P)==="/",D=w!=null&&(w===b||!l&&w.startsWith(b)&&w.charAt(b.length)==="/"),T={isActive:F,isPending:D,isTransitioning:C},W=F?r:void 0,Y;typeof s=="function"?Y=s(T):Y=[s,F?"active":null,D?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let ne=typeof u=="function"?u(T):u;return k.createElement(Lc,{...y,"aria-current":W,className:Y,ref:v,style:ne,to:c,viewTransition:f},typeof h=="function"?h(T):h)});_x.displayName="NavLink";var bx=k.forwardRef(({discover:e="render",fetcherKey:r,navigate:o,reloadDocument:s,replace:l,state:u,method:c=fl,action:f,onSubmit:h,relative:y,preventScrollReset:v,viewTransition:m,unstable_defaultShouldRevalidate:x,...E},N)=>{let{unstable_useTransitions:j}=k.useContext(Mt),C=Rx(),b=Lx(f,{relative:y}),M=c.toLowerCase()==="get"?"get":"post",w=typeof f=="string"&&xm.test(f),P=F=>{if(h&&h(F),F.defaultPrevented)return;F.preventDefault();let D=F.nativeEvent.submitter,T=(D==null?void 0:D.getAttribute("formmethod"))||c,W=()=>C(D||F.currentTarget,{fetcherKey:r,method:T,navigate:o,replace:l,state:u,relative:y,preventScrollReset:v,viewTransition:m,unstable_defaultShouldRevalidate:x});j&&o!==!1?k.startTransition(()=>W()):W()};return k.createElement("form",{ref:N,method:M,action:b,onSubmit:s?h:P,...E,"data-discover":!w&&e==="render"?"true":void 0})});bx.displayName="Form";function jx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wm(e){let r=k.useContext(go);return He(r,jx(e)),r}function Px(e,{target:r,replace:o,state:s,preventScrollReset:l,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:h}={}){let y=Ll(),v=Yn(),m=Mi(e,{relative:u});return k.useCallback(x=>{if(sx(x,r)){x.preventDefault();let E=o!==void 0?o:yi(v)===yi(m),N=()=>y(e,{replace:E,state:s,preventScrollReset:l,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:f});h?k.startTransition(()=>N()):N()}},[v,y,m,o,s,r,e,l,u,c,f,h])}var Mx=0,Ix=()=>`__${String(++Mx)}__`;function Rx(){let{router:e}=wm("useSubmit"),{basename:r}=k.useContext(Mt),o=Kv(),s=e.fetch,l=e.navigate;return k.useCallback(async(u,c={})=>{let{action:f,method:h,encType:y,formData:v,body:m}=ux(u,r);if(c.navigate===!1){let x=c.fetcherKey||Ix();await s(x,o,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:m,formMethod:c.method||h,formEncType:c.encType||y,flushSync:c.flushSync})}else await l(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:m,formMethod:c.method||h,formEncType:c.encType||y,replace:c.replace,state:c.state,fromRouteId:o,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,l,r,o])}function Lx(e,{relative:r}={}){let{basename:o}=k.useContext(Mt),s=k.useContext(Jt);He(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...Mi(e||".",{relative:r})},c=Yn();if(e==null){u.search=c.search;let f=new URLSearchParams(u.search),h=f.getAll("index");if(h.some(v=>v==="")){f.delete("index"),h.filter(m=>m).forEach(m=>f.append("index",m));let v=f.toString();u.search=v?`?${v}`:""}}return(!e||e===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(u.pathname=u.pathname==="/"?o:gn([o,u.pathname])),yi(u)}function Tx(e,{relative:r}={}){let o=k.useContext(cm);He(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=wm("useViewTransitionState"),l=Mi(e,{relative:r});if(!o.isTransitioning)return!1;let u=yn(o.currentLocation.pathname,s)||o.currentLocation.pathname,c=yn(o.nextLocation.pathname,s)||o.nextLocation.pathname;return xl(l.pathname,c)!=null||xl(l.pathname,u)!=null}em();function pi({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z",clipRule:"evenodd"})})}function zx({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10zm0 5.25a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75a.75.75 0 01-.75-.75z",clipRule:"evenodd"})})}function $x({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M4.25 2A2.25 2.25 0 002 4.25v11.5A2.25 2.25 0 004.25 18h11.5A2.25 2.25 0 0018 15.75V4.25A2.25 2.25 0 0015.75 2H4.25zM6 13.25v-2.5h2.5v2.5H6zm0-3.5V7.25h2.5v2.5H6zm3.5 0V7.25H12v2.5H9.5zm0 3.5v-2.5H12v2.5H9.5zm3.5 0v-2.5h2.5v2.5H13zm0-3.5V7.25h2.5v2.5H13z",clipRule:"evenodd"})})}function Ax({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M10 2c-2.236 0-4.43.18-6.57.524C1.993 2.755 1 4.014 1 5.426v5.148c0 1.413.993 2.67 2.43 2.902 1.168.188 2.352.327 3.55.414.28.02.521.18.642.413l1.713 3.293a.75.75 0 001.33 0l1.713-3.293c.121-.233.362-.393.642-.413a41.102 41.102 0 003.55-.414c1.437-.232 2.43-1.49 2.43-2.902V5.426c0-1.412-.993-2.67-2.43-2.902A41.289 41.289 0 0010 2zM6.75 6a.75.75 0 000 1.5h6.5a.75.75 0 000-1.5h-6.5zm0 2.5a.75.75 0 000 1.5h3.5a.75.75 0 000-1.5h-3.5z",clipRule:"evenodd"})})}function Dx({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z",clipRule:"evenodd"})})}function dc({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm.75-13a.75.75 0 00-1.5 0v5c0 .414.336.75.75.75h4a.75.75 0 000-1.5h-3.25V5z",clipRule:"evenodd"})})}function Ox({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{d:"M3.75 3A1.75 1.75 0 002 4.75v3.26a3.235 3.235 0 011.75-.51h12.5c.644 0 1.245.188 1.75.51V6.75A1.75 1.75 0 0016.25 5h-4.836a.25.25 0 01-.177-.073L9.823 3.513A1.75 1.75 0 008.586 3H3.75zM3.75 9A1.75 1.75 0 002 10.75v4.5c0 .966.784 1.75 1.75 1.75h12.5A1.75 1.75 0 0018 15.25v-4.5A1.75 1.75 0 0016.25 9H3.75z"})})}function $h({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}function Fx({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})})}function Hx({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})}function Ah({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M4.5 2A1.5 1.5 0 003 3.5v13A1.5 1.5 0 004.5 18h11a1.5 1.5 0 001.5-1.5V7.621a1.5 1.5 0 00-.44-1.06l-4.12-4.122A1.5 1.5 0 0011.378 2H4.5zm2.25 8.5a.75.75 0 000 1.5h6.5a.75.75 0 000-1.5h-6.5zm0 3a.75.75 0 000 1.5h6.5a.75.75 0 000-1.5h-6.5z",clipRule:"evenodd"})})}function Sm({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M7.455 2.004a.75.75 0 01.26.77 7 7 0 009.958 7.967.75.75 0 011.067.853A8.5 8.5 0 116.647 1.921a.75.75 0 01.808.083z",clipRule:"evenodd"})})}function Em({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{d:"M10 2a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0110 2zM10 15a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0110 15zM10 7a3 3 0 100 6 3 3 0 000-6zM15.657 5.404a.75.75 0 10-1.06-1.06l-1.061 1.06a.75.75 0 001.06 1.06l1.06-1.06zM6.464 14.596a.75.75 0 10-1.06-1.06l-1.06 1.06a.75.75 0 001.06 1.06l1.06-1.06zM18 10a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0118 10zM5 10a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 015 10zM14.596 15.657a.75.75 0 001.06-1.06l-1.06-1.061a.75.75 0 10-1.06 1.06l1.06 1.06zM5.404 6.464a.75.75 0 001.06-1.06l-1.06-1.06a.75.75 0 10-1.06 1.06l1.06 1.06z"})})}function Vx({className:e}){return g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:[g.jsx("path",{d:"M10 12.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"}),g.jsx("path",{fillRule:"evenodd",d:"M.664 10.59a1.651 1.651 0 010-1.186A10.004 10.004 0 0110 3c4.257 0 7.893 2.66 9.336 6.41.147.381.146.804 0 1.186A10.004 10.004 0 0110 17c-4.257 0-7.893-2.66-9.336-6.41zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})}function Bx({className:e}){return g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:[g.jsx("path",{fillRule:"evenodd",d:"M3.28 2.22a.75.75 0 00-1.06 1.06l14.5 14.5a.75.75 0 101.06-1.06l-1.745-1.745a10.029 10.029 0 003.3-4.38 1.651 1.651 0 000-1.185A10.004 10.004 0 009.999 3a9.956 9.956 0 00-4.744 1.194L3.28 2.22zM7.752 6.69l1.092 1.092a2.5 2.5 0 013.374 3.373l1.091 1.092a4 4 0 00-5.557-5.557z",clipRule:"evenodd"}),g.jsx("path",{d:"M10.748 13.93l2.523 2.523a9.987 9.987 0 01-3.27.547c-4.258 0-7.894-2.66-9.337-6.41a1.651 1.651 0 010-1.186A10.007 10.007 0 012.839 6.02L6.07 9.252a4 4 0 004.678 4.678z"})]})}function io({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.519.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z",clipRule:"evenodd"})})}function Nm({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})})}function km({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"})})}function Ux({className:e}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,"aria-hidden":"true",children:g.jsx("path",{d:"M2.695 14.763l-1.262 3.154a.5.5 0 00.65.65l3.155-1.262a4 4 0 001.343-.885L17.5 5.5a2.121 2.121 0 00-3-3L3.58 13.42a4 4 0 00-.885 1.343z"})})}const Dh="claude-cnthub-theme";function Cm(){const[e,r]=k.useState(()=>{if(typeof window<"u"){const l=localStorage.getItem(Dh);if(l==="light"||l==="dark")return l}return"dark"});k.useEffect(()=>{const l=document.documentElement;e==="light"?(l.classList.add("light"),l.classList.remove("dark")):(l.classList.add("dark"),l.classList.remove("light")),localStorage.setItem(Dh,e)},[e]);const o=k.useCallback(()=>{r(l=>l==="dark"?"light":"dark")},[]),s=k.useCallback(l=>{r(l)},[]);return{theme:e,toggleTheme:o,setTheme:s}}function Wx({onMenuClick:e}){const{theme:r,toggleTheme:o}=Cm();return g.jsxs("header",{className:"h-14 bg-[var(--bg-surface)] border-b border-[var(--border-subtle)] flex items-center justify-between px-4",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("button",{onClick:e,className:"lg:hidden p-2 rounded-lg hover:bg-[var(--bg-elevated)] transition-colors","aria-label":"Toggle menu",children:g.jsx(zx,{className:"w-5 h-5 text-[var(--text-secondary)]"})}),g.jsx("h1",{className:"text-lg font-semibold text-[var(--text-primary)]",children:"Claude CNT Hub"})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:"relative",children:[g.jsx("label",{htmlFor:"search-sessions",className:"sr-only",children:"Search sessions"}),g.jsx(pi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[var(--text-muted)]"}),g.jsx("input",{id:"search-sessions",type:"search",placeholder:"Search sessions...",className:"input pl-10 w-64"})]}),g.jsx("button",{onClick:o,className:"p-2 rounded-lg hover:bg-[var(--bg-elevated)] transition-colors","aria-label":r==="dark"?"Switch to light mode":"Switch to dark mode",children:r==="dark"?g.jsx(Em,{className:"w-5 h-5 text-[var(--text-secondary)]"}):g.jsx(Sm,{className:"w-5 h-5 text-[var(--text-secondary)]"})})]})]})}function Yx({isOpen:e=!0,onClose:r}){const o=Yn(),s=Ll(),l=c=>{s(c),r==null||r()},u=c=>c==="/"?o.pathname==="/"||o.pathname==="/sessions":o.pathname.startsWith(c);return g.jsxs(g.Fragment,{children:[e&&g.jsx("div",{className:"fixed inset-0 bg-black/50 lg:hidden z-40",onClick:r}),g.jsxs("aside",{className:`
          fixed lg:static inset-y-0 left-0 z-50
          w-64 bg-[var(--bg-surface)] border-r border-[var(--border-subtle)]
          transform transition-transform duration-200 ease-in-out
          ${e?"translate-x-0":"-translate-x-full lg:translate-x-0"}
          flex flex-col
        `,children:[g.jsx("div",{className:"p-4",children:g.jsx("button",{className:"btn-primary w-full",onClick:()=>l("/"),children:"New Session"})}),g.jsx("nav",{className:"flex-1 px-3 py-2 overflow-y-auto scrollbar-thin",children:g.jsxs("div",{className:"space-y-1",children:[g.jsx(Oh,{icon:g.jsx($x,{className:"w-5 h-5"}),label:"Sessions",active:u("/"),onClick:()=>l("/sessions")}),g.jsx(Oh,{icon:g.jsx(pi,{className:"w-5 h-5"}),label:"Search",active:u("/search"),onClick:()=>l("/search")})]})})]})]})}function Oh({icon:e,label:r,active:o,onClick:s}){return g.jsxs("button",{onClick:s,className:o?"sidebar-item-active w-full":"sidebar-item w-full",children:[e,g.jsx("span",{children:r})]})}function Xu({children:e}){const[r,o]=k.useState(!1),s=k.useCallback(()=>{o(u=>!u)},[]),l=k.useCallback(()=>{o(!1)},[]);return k.useEffect(()=>{const u=c=>{c.key==="Escape"&&r&&o(!1)};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[r]),g.jsxs("div",{className:"h-screen flex flex-col bg-[var(--bg-base)] text-[var(--text-primary)]",children:[g.jsx(Wx,{onMenuClick:s}),g.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[g.jsx(Yx,{isOpen:r,onClose:l}),g.jsx("main",{className:"flex-1 overflow-y-auto scrollbar-thin p-6",children:e})]})]})}function Xx(){const[e,r]=k.useState([]),[o,s]=k.useState(!0),[l,u]=k.useState(null),[c,f]=k.useState(!1),h=k.useCallback(async()=>{try{u(null),s(!0);const m=await fetch("/api/sessions");if(!m.ok)throw new Error("Failed to fetch sessions");const x=await m.json();r(x.items||[])}catch(m){u("Unable to load sessions. Please try again."),console.error("Error fetching sessions:",m)}finally{s(!1)}},[]);k.useEffect(()=>{h()},[h]);const y=k.useCallback(()=>{h()},[h]),v=k.useCallback(async()=>{try{if(f(!0),!(await fetch("/api/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:`Session ${new Date().toLocaleString("ja-JP")}`,workingDir:window.location.pathname||"/"})})).ok)throw new Error("Failed to create session");await h()}catch(m){console.error("Error creating session:",m),u("Failed to create session. Please try again.")}finally{f(!1)}},[h]);return o?g.jsx(Kx,{}):l?g.jsxs("div",{className:"card text-center py-8",role:"alert",children:[g.jsx("p",{className:"text-red-400 mb-4",children:l}),g.jsx("button",{onClick:y,className:"btn-secondary",children:"Retry"})]}):e.length===0?g.jsxs("div",{className:"card text-center py-12",children:[g.jsx("div",{"aria-hidden":"true",children:g.jsx(Ax,{className:"w-12 h-12 text-[var(--text-muted)] mx-auto mb-4"})}),g.jsx("h3",{className:"text-lg font-medium text-[var(--text-primary)] mb-2",children:"No sessions yet"}),g.jsx("p",{className:"text-[var(--text-muted)] mb-6",children:"Start a new session to begin tracking your work"}),g.jsx("button",{className:"btn-primary disabled:opacity-50",onClick:v,disabled:c,children:c?"Creating...":"Create New Session"})]}):g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h2",{className:"text-xl font-semibold text-[var(--text-primary)]",children:"Sessions"}),g.jsxs("span",{className:"text-sm text-[var(--text-muted)]","aria-label":`${e.length} sessions total`,children:[e.length," total"]})]}),g.jsx("div",{className:"grid gap-3",role:"list","aria-label":"Session list",children:e.map(m=>g.jsx(Gx,{session:m},m.sessionId))})]})}const Qx={idle:"Idle",active:"Active",completed:"Completed",error:"Error"},Gx=k.memo(function({session:r}){const o=Ll(),s=k.useCallback(()=>{o(`/sessions/${r.sessionId}`)},[o,r.sessionId]),l=k.useMemo(()=>({idle:"bg-gray-400",active:"bg-primary-500",completed:"bg-green-500",error:"bg-red-500"}),[]),u=k.useMemo(()=>new Date(r.updatedAt).toLocaleDateString("ja-JP",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),[r.updatedAt]);return g.jsx("button",{className:"card hover:bg-[var(--bg-elevated)] transition-colors w-full text-left group",role:"listitem","aria-label":`Open session: ${r.name}`,onClick:s,children:g.jsxs("div",{className:"flex items-start justify-between",children:[g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("span",{className:`w-2 h-2 rounded-full ${l[r.status]}`,role:"status","aria-label":`Status: ${Qx[r.status]}`}),g.jsx("h3",{className:"font-medium text-[var(--text-primary)] truncate",children:r.name})]}),g.jsxs("div",{className:"flex items-center gap-4 text-sm text-[var(--text-muted)]",children:[g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(dc,{className:"w-4 h-4"}),g.jsx("time",{dateTime:r.updatedAt,children:u})]}),r.workingDir&&g.jsx("span",{className:"text-xs truncate max-w-48",children:r.workingDir})]})]}),g.jsx(Dx,{className:"w-5 h-5 text-[var(--text-muted)] group-hover:text-[var(--text-primary)] transition-colors"})]})})});function Kx(){return g.jsxs("div",{className:"space-y-4","aria-busy":"true","aria-label":"Loading sessions",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("div",{className:"h-7 w-24 bg-[var(--bg-elevated)] rounded animate-pulse"}),g.jsx("div",{className:"h-5 w-16 bg-[var(--bg-elevated)] rounded animate-pulse"})]}),g.jsx("div",{className:"grid gap-3",children:[1,2,3].map(e=>g.jsx("div",{className:"card",children:g.jsx("div",{className:"flex items-start justify-between",children:g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g.jsx("div",{className:"w-2 h-2 bg-[var(--border-default)] rounded-full"}),g.jsx("div",{className:"h-5 w-48 bg-[var(--bg-elevated)] rounded animate-pulse"})]}),g.jsx("div",{className:"h-4 w-32 bg-[var(--bg-elevated)] rounded animate-pulse"})]})})},e))})]})}const qr=1e4;function qx(){const{id:e}=Fv(),r=Ll();return k.useEffect(()=>{e||r("/sessions")},[e,r]),e?g.jsx(Zx,{sessionId:e}):null}function Zx({sessionId:e}){const[r,o]=k.useState([]),[s,l]=k.useState(""),[u,c]=k.useState(!0),[f,h]=k.useState(!1),[y,v]=k.useState(null),m=k.useRef(null);k.useEffect(()=>{async function C(){try{v(null);const b=await fetch(`/api/sessions/${e}/messages`);if(!b.ok)throw new Error("Failed to fetch messages");const M=await b.json();o(M.items||[])}catch(b){v("Unable to load messages. Please try again."),console.error("Error fetching messages:",b)}finally{c(!1)}}C()},[e]),k.useEffect(()=>{var C;(C=m.current)==null||C.scrollIntoView({behavior:"smooth"})},[r]);const x=k.useCallback(C=>{const b=C.target.value;b.length<=qr&&l(b)},[]),E=k.useCallback(async C=>{if(C.preventDefault(),!s.trim()||f)return;const b=s.trim();if(b.length>qr){v(`Message too long. Maximum ${qr} characters.`);return}l(""),h(!0),v(null);const M=`temp-${Date.now()}`;o(w=>[...w,{messageId:M,type:"user",content:b,timestamp:new Date().toISOString()}]);try{const w=await fetch(`/api/sessions/${e}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:b})});if(!w.ok)throw new Error("Failed to send message");const P=await w.json(),F=P.message||P;o(D=>D.filter(T=>T.messageId!==M).concat(F))}catch(w){console.error("Error sending message:",w),o(P=>P.map(F=>F.messageId===M?{...F,error:!0}:F)),v("Failed to send message. Please try again.")}finally{h(!1)}},[s,f,e]),N=k.useCallback(()=>{v(null),window.location.reload()},[]),j=k.useCallback(async C=>{if(confirm(""))try{if(!(await fetch(`/api/sessions/${e}/messages/${C}`,{method:"DELETE"})).ok)throw new Error("");o(M=>M.filter(w=>w.messageId!==C))}catch(b){v(b instanceof Error?b.message:"")}},[e]);return u?g.jsx(tw,{}):g.jsxs("div",{className:"flex flex-col h-full",children:[y&&g.jsxs("div",{className:"p-3 bg-red-900/30 border-b border-red-800 text-red-300 text-sm flex justify-between items-center",children:[g.jsx("span",{children:y}),g.jsx("button",{onClick:N,className:"text-red-400 hover:text-red-300 underline",children:"Retry"})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-thin p-4 space-y-4",role:"log","aria-live":"polite","aria-label":"Chat messages",children:[r.length===0?g.jsx(ew,{}):r.map(C=>g.jsx(Jx,{message:C,onDelete:j},C.messageId)),g.jsx("div",{ref:m})]}),g.jsxs("form",{onSubmit:E,className:"p-4 border-t border-[var(--border-subtle)]","aria-label":"Send message",children:[g.jsxs("div",{className:"flex gap-3",children:[g.jsx("label",{htmlFor:"chat-input",className:"sr-only",children:"Type your message"}),g.jsx("input",{id:"chat-input",type:"text",value:s,onChange:x,placeholder:"Type a message...",className:"input flex-1",disabled:f,maxLength:qr,"aria-describedby":"char-count"}),g.jsx("button",{type:"submit",className:"btn-primary px-6",disabled:!s.trim()||f,children:f?"Sending...":"Send"})]}),s.length>qr*.9&&g.jsxs("p",{id:"char-count",className:"text-xs text-[var(--text-muted)] mt-1",children:[s.length,"/",qr," characters"]})]})]})}const Jx=k.memo(function({message:r,onDelete:o}){const s=r.type==="user",l=k.useMemo(()=>new Date(r.timestamp).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"}),[r.timestamp]),u=k.useCallback(()=>{o==null||o(r.messageId)},[o,r.messageId]);return g.jsx("div",{className:`group flex ${s?"justify-end":"justify-start"}`,role:"article","aria-label":`Message from ${s?"you":"assistant"}`,children:g.jsxs("div",{className:"relative",children:[g.jsxs("div",{className:`
            max-w-[80%] rounded-2xl px-4 py-3
            ${r.error?"bg-red-900/30 border border-red-700 text-red-300 rounded-br-md":s?"bg-primary-500 text-white rounded-br-md":"bg-[var(--bg-elevated)] text-[var(--text-primary)] border border-[var(--border-subtle)] rounded-bl-md"}
          `,children:[g.jsx("p",{className:"whitespace-pre-wrap break-words",children:r.content}),r.error&&g.jsx("span",{className:"text-xs text-red-600 block mt-1",children:"Failed to send"}),g.jsx("span",{className:`
              text-xs mt-1 block
              ${r.error?"text-red-400":s?"text-primary-200":"text-[var(--text-muted)]"}
            `,children:l})]}),o&&g.jsx("button",{onClick:u,className:`
              absolute top-1 opacity-0 group-hover:opacity-100 focus:opacity-100 p-1 rounded
              hover:bg-red-500/20 transition-all
              ${s?"left-[-28px]":"right-[-28px]"}
            `,title:"","aria-label":"",children:g.jsx(io,{className:"w-4 h-4 text-red-400 hover:text-red-300"})})]})})});function ew(){return g.jsx("div",{className:"flex items-center justify-center h-full text-center",children:g.jsxs("div",{children:[g.jsx("div",{className:"w-16 h-16 bg-[var(--bg-elevated)] border border-[var(--border-subtle)] rounded-full flex items-center justify-center mx-auto mb-4","aria-hidden":"true",children:g.jsx("span",{className:"text-3xl",children:""})}),g.jsx("h3",{className:"text-lg font-medium text-[var(--text-primary)] mb-2",children:"Start the conversation"}),g.jsx("p",{className:"text-[var(--text-muted)]",children:"Type a message below to begin"})]})})}function tw(){return g.jsxs("div",{className:"flex flex-col h-full","aria-busy":"true","aria-label":"Loading chat",children:[g.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[1,2,3].map(e=>g.jsx("div",{className:`flex ${e%2===0?"justify-end":"justify-start"}`,children:g.jsxs("div",{className:"bg-[var(--bg-elevated)] rounded-2xl px-4 py-3 w-64 animate-pulse",children:[g.jsx("div",{className:"h-4 bg-[var(--border-default)] rounded w-full mb-2"}),g.jsx("div",{className:"h-4 bg-[var(--border-default)] rounded w-3/4"})]})},e))}),g.jsx("div",{className:"p-4 border-t border-[var(--border-subtle)]",children:g.jsxs("div",{className:"flex gap-3",children:[g.jsx("div",{className:"input flex-1 h-10 bg-[var(--bg-elevated)] animate-pulse"}),g.jsx("div",{className:"btn-primary w-20 h-10 bg-[var(--border-default)] animate-pulse"})]})})]})}const Fh=e=>{let r;const o=new Set,s=(y,v)=>{const m=typeof y=="function"?y(r):y;if(!Object.is(m,r)){const x=r;r=v??(typeof m!="object"||m===null)?m:Object.assign({},r,m),o.forEach(E=>E(r,x))}},l=()=>r,f={setState:s,getState:l,getInitialState:()=>h,subscribe:y=>(o.add(y),()=>o.delete(y))},h=r=e(s,l,f);return f},nw=(e=>e?Fh(e):Fh),rw=e=>e;function ow(e,r=rw){const o=eo.useSyncExternalStore(e.subscribe,eo.useCallback(()=>r(e.getState()),[e,r]),eo.useCallback(()=>r(e.getInitialState()),[e,r]));return eo.useDebugValue(o),o}const Hh=e=>{const r=nw(e),o=s=>ow(r,s);return Object.assign(o,r),o},_m=(e=>e?Hh(e):Hh),iw="http://localhost:3048",Vh=iw,sw=_m(e=>({query:"",results:[],totalResults:0,isSearching:!1,error:null,status:null,isLoadingStatus:!1,setQuery:r=>e({query:r}),search:async(r,o=10)=>{if(!r.trim()){e({results:[],totalResults:0,error:null});return}e({isSearching:!0,error:null,query:r});try{const s=await fetch(`${Vh}/api/search`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:r,limit:o})});if(!s.ok){const u=await s.json();throw new Error(u.message||"Search failed")}const l=await s.json();e({results:l.results,totalResults:l.totalResults,isSearching:!1})}catch(s){e({error:s instanceof Error?s.message:"Search failed",isSearching:!1,results:[],totalResults:0})}},clearResults:()=>e({query:"",results:[],totalResults:0,error:null}),fetchStatus:async()=>{e({isLoadingStatus:!0});try{const r=await fetch(`${Vh}/api/search/status`);if(!r.ok)throw new Error("Failed to fetch search status");const o=await r.json();e({status:o,isLoadingStatus:!1})}catch(r){e({status:{available:!1,indexedCount:0,message:r instanceof Error?r.message:"Failed to fetch search status"},isLoadingStatus:!1})}}}));function lw(){const{query:e,setQuery:r,results:o,totalResults:s,isSearching:l,error:u,status:c,isLoadingStatus:f,search:h,fetchStatus:y,clearResults:v}=sw(),[m,x]=k.useState(e);k.useEffect(()=>{y()},[]);const E=k.useCallback(async j=>{j.preventDefault(),m.trim()&&await h(m)},[m,h]),N=k.useCallback(()=>{x(""),v()},[v]);return g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsxs("header",{className:"mb-8",children:[g.jsx("h1",{className:"text-2xl font-semibold text-[var(--text-primary)]",children:"Search"}),g.jsx("p",{className:"text-[var(--text-muted)] mt-1",children:"Search your past sessions semantically"})]}),g.jsx("form",{onSubmit:E,className:"mb-6",children:g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(pi,{className:"h-5 w-5 text-[var(--text-muted)]"})}),g.jsx("input",{type:"text",value:m,onChange:j=>x(j.target.value),placeholder:"Search for topics, concepts, or keywords...",className:"input pl-10 pr-20",disabled:!(c!=null&&c.available),"aria-label":"Search query"}),g.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 gap-2",children:[m&&g.jsx("button",{type:"button",onClick:N,className:"text-[var(--text-muted)] hover:text-[var(--text-primary)] text-sm",children:"Clear"}),g.jsx("button",{type:"submit",disabled:l||!(c!=null&&c.available)||!m.trim(),className:"btn-primary text-sm disabled:opacity-50",children:l?"Searching...":"Search"})]})]})}),f?g.jsx("div",{className:"text-center py-8 text-[var(--text-muted)]",children:"Loading search status..."}):c!=null&&c.available?g.jsxs(g.Fragment,{children:[u&&g.jsx("div",{className:"card bg-red-900/30 border-red-800 mb-6",children:g.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[g.jsx($h,{className:"w-5 h-5"}),g.jsx("span",{children:u})]})}),o.length>0&&g.jsxs("div",{children:[g.jsx("div",{className:"flex items-center justify-between mb-4",children:g.jsxs("h2",{className:"text-sm font-medium text-[var(--text-muted)]",children:["Results (",s," found)"]})}),g.jsx("div",{className:"space-y-3",children:o.map(j=>g.jsx(aw,{result:j},j.sessionId))})]}),e&&o.length===0&&!l&&!u&&g.jsxs("div",{className:"text-center py-12",children:[g.jsx(pi,{className:"w-12 h-12 text-[var(--text-muted)] mx-auto mb-4"}),g.jsx("h3",{className:"text-lg font-medium text-[var(--text-primary)]",children:"No results found"}),g.jsx("p",{className:"text-[var(--text-muted)] mt-1",children:"Try different keywords or phrases"})]}),!e&&o.length===0&&g.jsxs("div",{className:"text-center py-12",children:[g.jsx(pi,{className:"w-12 h-12 text-[var(--text-muted)] mx-auto mb-4"}),g.jsx("h3",{className:"text-lg font-medium text-[var(--text-primary)]",children:"Search your sessions"}),g.jsx("p",{className:"text-[var(--text-muted)] mt-1",children:"Enter a query to find relevant past sessions"}),g.jsxs("p",{className:"text-sm text-[var(--text-muted)] mt-4",children:[c.indexedCount," sessions indexed"]})]})]}):g.jsx("div",{className:"card bg-yellow-900/30 border-yellow-800",children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx($h,{className:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5"}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-medium text-yellow-300",children:"Search not available"}),g.jsx("p",{className:"text-sm text-yellow-400/80 mt-1",children:c==null?void 0:c.message})]})]})})]})}const aw=k.memo(function({result:r}){const o=s=>Math.round(s*100);return g.jsx(Lc,{to:`/sessions/${r.sessionId}`,className:"block",children:g.jsx("div",{className:"card hover:shadow-md transition-shadow cursor-pointer",children:g.jsxs("div",{className:"flex items-start justify-between gap-4",children:[g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("h3",{className:"font-medium text-[var(--text-primary)] truncate",children:r.sessionName}),g.jsx("p",{className:"text-sm text-[var(--text-secondary)] mt-1 line-clamp-2",children:r.shortSummary})]}),g.jsx("div",{className:"flex-shrink-0",children:g.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${r.relevanceScore>.8?"bg-green-900/40 text-green-400":r.relevanceScore>.5?"bg-yellow-900/40 text-yellow-400":"bg-gray-800 text-gray-400"}`,children:[o(r.relevanceScore),"% match"]})})]})})})}),uw=_m((e,r)=>({projects:[],selectedProjectId:null,loading:!1,error:null,fetchProjects:async()=>{e({loading:!0,error:null});try{const o=await fetch("/api/projects?limit=100");if(!o.ok)throw new Error("Failed to fetch projects");const s=await o.json();e({projects:s.projects||[],loading:!1})}catch(o){const s=o instanceof Error?o.message:"";console.error("[ProjectStore] Failed to fetch projects:",o),e({error:s,loading:!1})}},selectProject:o=>{e({selectedProjectId:o})},getSelectedProject:()=>{const{projects:o,selectedProjectId:s}=r();return s&&o.find(l=>l.projectId===s)||null},createProject:async o=>{var s;e({error:null});try{const l=await fetch("/api/projects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!l.ok){const c=await l.json(),f=typeof c.error=="string"?c.error:((s=c.error)==null?void 0:s.message)||"";throw new Error(f)}const u=await l.json();return e(c=>({projects:[...c.projects,u]})),u}catch(l){const u=l instanceof Error?l.message:"";return e({error:u}),null}},updateProject:async(o,s)=>{var l;e({error:null});try{const u=await fetch(`/api/projects/${o}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!u.ok){const f=await u.json(),h=typeof f.error=="string"?f.error:((l=f.error)==null?void 0:l.message)||"";throw new Error(h)}const c=await u.json();return e(f=>({projects:f.projects.map(h=>h.projectId===o?c:h)})),c}catch(u){const c=u instanceof Error?u.message:"";return e({error:c}),null}},deleteProject:async o=>{var s;e({error:null});try{const l=await fetch(`/api/projects/${o}`,{method:"DELETE"});if(!l.ok&&l.status!==204){const u=await l.json(),c=typeof u.error=="string"?u.error:((s=u.error)==null?void 0:s.message)||"";throw new Error(c)}return e(u=>({projects:u.projects.filter(c=>c.projectId!==o),selectedProjectId:u.selectedProjectId===o?null:u.selectedProjectId})),!0}catch(l){const u=l instanceof Error?l.message:"";return e({error:u}),!1}}}));function cw({sessions:e,sessionsLoading:r=!1,onSessionSelect:o,onSessionClick:s,onSessionDelete:l,onBulkDelete:u,selectedSessionIds:c=[]}){const{projects:f,selectedProjectId:h,loading:y,fetchProjects:v,selectProject:m,updateProject:x,deleteProject:E}=uw(),[N,j]=k.useState(!1),[C,b]=k.useState(!1),[M,w]=k.useState(new Set),[P,F]=k.useState(!1),[D,T]=k.useState(null),[W,Y]=k.useState("");k.useEffect(()=>{v()},[v]);const ne=k.useMemo(()=>h?e.filter(_=>_.projectId===h):e,[e,h]),G=k.useCallback(_=>{m(_),j(!1)},[m]),X=f.find(_=>_.projectId===h),ee=k.useCallback((_,$)=>{T(_),Y($),j(!1)},[]),R=k.useCallback(async()=>{!D||!W.trim()||(await x(D,{name:W.trim()}),T(null),Y(""))},[D,W,x]),V=k.useCallback(()=>{T(null),Y("")},[]),A=k.useCallback(async _=>{confirm("")&&(await E(_),j(!1))},[E]),H=k.useCallback(()=>{b(_=>!_),w(new Set)},[]),I=k.useCallback(_=>{w($=>{const Q=new Set($);return Q.has(_)?Q.delete(_):Q.add(_),Q})},[]),z=k.useCallback(()=>{M.size===ne.length?w(new Set):w(new Set(ne.map(_=>_.sessionId)))},[ne,M.size]),U=k.useCallback(async()=>{if(!(M.size===0||!u)){F(!0);try{await u(Array.from(M)),w(new Set),b(!1)}finally{F(!1)}}},[M,u]);return g.jsxs("aside",{className:"w-64 bg-[var(--bg-surface)] border-r border-[var(--border-subtle)] flex flex-col h-full",children:[g.jsx("div",{className:"p-3 border-b border-[var(--border-subtle)]",children:g.jsxs("div",{className:"relative",children:[g.jsxs("button",{onClick:()=>j(!N),className:"w-full flex items-center justify-between px-3 py-2 bg-[var(--bg-elevated)] rounded-lg hover:brightness-110 transition-colors","aria-expanded":N,"aria-haspopup":"listbox",children:[g.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[g.jsx(Ox,{className:"w-4 h-4 text-[var(--text-muted)] flex-shrink-0"}),g.jsx("span",{className:"text-sm text-[var(--text-primary)] truncate",children:y?"...":(X==null?void 0:X.name)||""})]}),g.jsx(Hx,{className:"w-4 h-4 text-[var(--text-muted)] transition-transform "+(N?"rotate-180":"")})]}),N&&g.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-[var(--bg-elevated)] border border-[var(--border-default)] rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:[g.jsx("button",{onClick:()=>G(null),className:"w-full text-left px-3 py-2 text-sm hover:bg-[var(--bg-surface)] transition-colors "+(h?"text-[var(--text-primary)]":"text-[var(--color-primary-400)] bg-[var(--bg-surface)]"),role:"option","aria-selected":!h,children:""}),f.map(_=>g.jsx("div",{className:"group flex items-center gap-1 px-2 py-2 text-sm hover:bg-[var(--bg-surface)] transition-colors "+(h===_.projectId?"text-[var(--color-primary-400)] bg-[var(--bg-surface)]":"text-[var(--text-primary)]"),children:D===_.projectId?g.jsxs("div",{className:"flex-1 flex items-center gap-1",children:[g.jsx("label",{htmlFor:`edit-project-${_.projectId}`,className:"sr-only",children:""}),g.jsx("input",{id:`edit-project-${_.projectId}`,type:"text",value:W,onChange:$=>Y($.target.value),onKeyDown:$=>{$.key==="Enter"&&R(),$.key==="Escape"&&V()},className:"flex-1 px-2 py-1 text-sm bg-[var(--bg-base)] border border-[var(--border-default)] rounded text-[var(--text-primary)]",autoFocus:!0,"aria-label":""}),g.jsx("button",{onClick:R,className:"p-1 rounded hover:bg-[var(--color-primary-500)] text-[var(--text-muted)] hover:text-white transition-colors","aria-label":"",children:g.jsx(km,{className:"w-4 h-4"})})]}):g.jsxs(g.Fragment,{children:[g.jsxs("button",{onClick:()=>G(_.projectId),className:"flex-1 text-left min-w-0",role:"option","aria-selected":h===_.projectId,children:[g.jsx("div",{className:"truncate",children:_.name}),g.jsx("div",{className:"text-xs text-[var(--text-muted)] truncate",children:_.path})]}),g.jsx("button",{onClick:$=>{$.stopPropagation(),ee(_.projectId,_.name)},className:"p-1 rounded opacity-0 group-hover:opacity-100 focus:opacity-100 hover:bg-[var(--bg-base)] transition-all",title:"","aria-label":`${_.name}`,children:g.jsx(Ux,{className:"w-3 h-3 text-[var(--text-muted)]"})}),g.jsx("button",{onClick:$=>{$.stopPropagation(),A(_.projectId)},className:"p-1 rounded opacity-0 group-hover:opacity-100 focus:opacity-100 hover:bg-red-500/20 transition-all",title:"","aria-label":`${_.name}`,children:g.jsx(io,{className:"w-3 h-3 text-red-400"})})]})},_.projectId))]})]})}),g.jsxs("div",{className:"flex-1 overflow-y-auto",children:[g.jsxs("div",{className:"px-3 py-2 flex items-center justify-between",children:[g.jsx("span",{className:"text-xs font-medium text-[var(--text-muted)] uppercase tracking-wider",children:"Sessions"}),u&&ne.length>0&&g.jsx("button",{onClick:H,className:`text-xs px-2 py-1 rounded transition-colors ${C?"bg-[var(--color-primary-500)] text-white":"text-[var(--text-muted)] hover:bg-[var(--bg-elevated)]"}`,children:C?"":""})]}),C&&ne.length>0&&g.jsxs("div",{className:"px-3 pb-2 flex items-center gap-2",children:[g.jsx("button",{onClick:z,className:"text-xs px-2 py-1 rounded bg-[var(--bg-elevated)] text-[var(--text-secondary)] hover:bg-[var(--bg-surface)] transition-colors",children:M.size===ne.length?"":""}),M.size>0&&g.jsxs("button",{onClick:U,disabled:P,className:"text-xs px-2 py-1 rounded bg-red-500/20 text-red-400 hover:bg-red-500/30 transition-colors disabled:opacity-50 flex items-center gap-1",children:[g.jsx(io,{className:"w-3 h-3"}),P?"...":`${M.size}`]})]}),r?g.jsx("div",{className:"px-3 space-y-2",children:[1,2,3].map(_=>g.jsx("div",{className:"h-12 bg-[var(--bg-elevated)] rounded animate-pulse"},_))}):ne.length===0?g.jsx("div",{className:"px-3 py-4 text-sm text-[var(--text-muted)] text-center",children:""}):g.jsx("div",{className:"px-2 space-y-1",children:ne.map(_=>g.jsx(fw,{session:_,isHidden:c.includes(_.sessionId),onToggle:o,onClick:s,onDelete:l,bulkSelectMode:C,isBulkSelected:M.has(_.sessionId),onBulkToggle:I},_.sessionId))})]}),g.jsx("div",{className:"p-3 border-t border-[var(--border-subtle)]",children:g.jsxs("button",{className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm bg-[var(--color-primary-500)] text-white rounded-lg hover:bg-[var(--color-primary-600)] transition-colors",children:[g.jsx(Fx,{className:"w-4 h-4"}),g.jsx("span",{children:"New Session"})]})})]})}const dw={idle:"bg-gray-400",active:"bg-blue-500",completed:"bg-green-500",error:"bg-red-500",processing:"bg-yellow-500"},fw=k.memo(function({session:r,isHidden:o,onToggle:s,onClick:l,onDelete:u,bulkSelectMode:c=!1,isBulkSelected:f=!1,onBulkToggle:h}){const y=k.useCallback(N=>{N.stopPropagation(),s==null||s(r)},[s,r]),v=k.useCallback(()=>{c?h==null||h(r.sessionId):l==null||l(r)},[c,l,h,r]),m=k.useCallback(N=>{N.stopPropagation(),u==null||u(r)},[u,r]),x=k.useCallback(N=>{N.stopPropagation(),h==null||h(r.sessionId)},[h,r.sessionId]),E=new Date(r.updatedAt).toLocaleDateString("ja-JP",{month:"short",day:"numeric"});return g.jsxs("div",{className:"group flex items-center gap-1 px-2 py-2 rounded-lg transition-colors "+(f?"bg-[var(--color-primary-500)]/20":o?"opacity-50":"hover:bg-[var(--bg-elevated)]"),children:[c?g.jsx("button",{onClick:x,className:`p-1 rounded transition-colors flex-shrink-0 ${f?"bg-[var(--color-primary-500)] text-white":"bg-[var(--bg-elevated)] text-[var(--text-muted)] hover:bg-[var(--bg-surface)]"}`,children:f?g.jsx(km,{className:"w-4 h-4"}):g.jsx("div",{className:"w-4 h-4"})}):g.jsx("button",{onClick:y,className:"p-1 rounded hover:bg-[var(--bg-surface)] transition-colors flex-shrink-0",title:o?"":"",children:o?g.jsx(Bx,{className:"w-4 h-4 text-[var(--text-muted)]"}):g.jsx(Vx,{className:"w-4 h-4 text-[var(--text-secondary)]"})}),g.jsxs("button",{onClick:v,className:"flex-1 text-left flex items-center gap-2 min-w-0",children:[g.jsx("span",{className:"w-2 h-2 rounded-full flex-shrink-0 "+(o?"bg-gray-500":dw[r.status])}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("div",{className:"text-sm truncate "+(o?"text-[var(--text-muted)] line-through":"text-[var(--text-primary)]"),children:r.name}),g.jsx("div",{className:"text-xs text-[var(--text-muted)]",children:E})]})]}),!c&&g.jsx("button",{onClick:m,className:"p-1 rounded opacity-0 group-hover:opacity-100 hover:bg-red-500/20 transition-all flex-shrink-0",title:"",children:g.jsx(io,{className:"w-4 h-4 text-red-400 hover:text-red-300"})})]})});function Ye(e){if(typeof e=="string"||typeof e=="number")return""+e;let r="";if(Array.isArray(e))for(let o=0,s;o<e.length;o++)(s=Ye(e[o]))!==""&&(r+=(r&&" ")+s);else for(let o in e)e[o]&&(r+=(r&&" ")+o);return r}var hw={value:()=>{}};function zl(){for(var e=0,r=arguments.length,o={},s;e<r;++e){if(!(s=arguments[e]+"")||s in o||/[\s.]/.test(s))throw new Error("illegal type: "+s);o[s]=[]}return new pl(o)}function pl(e){this._=e}function pw(e,r){return e.trim().split(/^|\s+/).map(function(o){var s="",l=o.indexOf(".");if(l>=0&&(s=o.slice(l+1),o=o.slice(0,l)),o&&!r.hasOwnProperty(o))throw new Error("unknown type: "+o);return{type:o,name:s}})}pl.prototype=zl.prototype={constructor:pl,on:function(e,r){var o=this._,s=pw(e+"",o),l,u=-1,c=s.length;if(arguments.length<2){for(;++u<c;)if((l=(e=s[u]).type)&&(l=mw(o[l],e.name)))return l;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++u<c;)if(l=(e=s[u]).type)o[l]=Bh(o[l],e.name,r);else if(r==null)for(l in o)o[l]=Bh(o[l],e.name,null);return this},copy:function(){var e={},r=this._;for(var o in r)e[o]=r[o].slice();return new pl(e)},call:function(e,r){if((l=arguments.length-2)>0)for(var o=new Array(l),s=0,l,u;s<l;++s)o[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(u=this._[e],s=0,l=u.length;s<l;++s)u[s].value.apply(r,o)},apply:function(e,r,o){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var s=this._[e],l=0,u=s.length;l<u;++l)s[l].value.apply(r,o)}};function mw(e,r){for(var o=0,s=e.length,l;o<s;++o)if((l=e[o]).name===r)return l.value}function Bh(e,r,o){for(var s=0,l=e.length;s<l;++s)if(e[s].name===r){e[s]=hw,e=e.slice(0,s).concat(e.slice(s+1));break}return o!=null&&e.push({name:r,value:o}),e}var fc="http://www.w3.org/1999/xhtml";const Uh={svg:"http://www.w3.org/2000/svg",xhtml:fc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $l(e){var r=e+="",o=r.indexOf(":");return o>=0&&(r=e.slice(0,o))!=="xmlns"&&(e=e.slice(o+1)),Uh.hasOwnProperty(r)?{space:Uh[r],local:e}:e}function gw(e){return function(){var r=this.ownerDocument,o=this.namespaceURI;return o===fc&&r.documentElement.namespaceURI===fc?r.createElement(e):r.createElementNS(o,e)}}function yw(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function bm(e){var r=$l(e);return(r.local?yw:gw)(r)}function vw(){}function Tc(e){return e==null?vw:function(){return this.querySelector(e)}}function xw(e){typeof e!="function"&&(e=Tc(e));for(var r=this._groups,o=r.length,s=new Array(o),l=0;l<o;++l)for(var u=r[l],c=u.length,f=s[l]=new Array(c),h,y,v=0;v<c;++v)(h=u[v])&&(y=e.call(h,h.__data__,v,u))&&("__data__"in h&&(y.__data__=h.__data__),f[v]=y);return new St(s,this._parents)}function ww(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Sw(){return[]}function jm(e){return e==null?Sw:function(){return this.querySelectorAll(e)}}function Ew(e){return function(){return ww(e.apply(this,arguments))}}function Nw(e){typeof e=="function"?e=Ew(e):e=jm(e);for(var r=this._groups,o=r.length,s=[],l=[],u=0;u<o;++u)for(var c=r[u],f=c.length,h,y=0;y<f;++y)(h=c[y])&&(s.push(e.call(h,h.__data__,y,c)),l.push(h));return new St(s,l)}function Pm(e){return function(){return this.matches(e)}}function Mm(e){return function(r){return r.matches(e)}}var kw=Array.prototype.find;function Cw(e){return function(){return kw.call(this.children,e)}}function _w(){return this.firstElementChild}function bw(e){return this.select(e==null?_w:Cw(typeof e=="function"?e:Mm(e)))}var jw=Array.prototype.filter;function Pw(){return Array.from(this.children)}function Mw(e){return function(){return jw.call(this.children,e)}}function Iw(e){return this.selectAll(e==null?Pw:Mw(typeof e=="function"?e:Mm(e)))}function Rw(e){typeof e!="function"&&(e=Pm(e));for(var r=this._groups,o=r.length,s=new Array(o),l=0;l<o;++l)for(var u=r[l],c=u.length,f=s[l]=[],h,y=0;y<c;++y)(h=u[y])&&e.call(h,h.__data__,y,u)&&f.push(h);return new St(s,this._parents)}function Im(e){return new Array(e.length)}function Lw(){return new St(this._enter||this._groups.map(Im),this._parents)}function wl(e,r){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=r}wl.prototype={constructor:wl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,r){return this._parent.insertBefore(e,r)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Tw(e){return function(){return e}}function zw(e,r,o,s,l,u){for(var c=0,f,h=r.length,y=u.length;c<y;++c)(f=r[c])?(f.__data__=u[c],s[c]=f):o[c]=new wl(e,u[c]);for(;c<h;++c)(f=r[c])&&(l[c]=f)}function $w(e,r,o,s,l,u,c){var f,h,y=new Map,v=r.length,m=u.length,x=new Array(v),E;for(f=0;f<v;++f)(h=r[f])&&(x[f]=E=c.call(h,h.__data__,f,r)+"",y.has(E)?l[f]=h:y.set(E,h));for(f=0;f<m;++f)E=c.call(e,u[f],f,u)+"",(h=y.get(E))?(s[f]=h,h.__data__=u[f],y.delete(E)):o[f]=new wl(e,u[f]);for(f=0;f<v;++f)(h=r[f])&&y.get(x[f])===h&&(l[f]=h)}function Aw(e){return e.__data__}function Dw(e,r){if(!arguments.length)return Array.from(this,Aw);var o=r?$w:zw,s=this._parents,l=this._groups;typeof e!="function"&&(e=Tw(e));for(var u=l.length,c=new Array(u),f=new Array(u),h=new Array(u),y=0;y<u;++y){var v=s[y],m=l[y],x=m.length,E=Ow(e.call(v,v&&v.__data__,y,s)),N=E.length,j=f[y]=new Array(N),C=c[y]=new Array(N),b=h[y]=new Array(x);o(v,m,j,C,b,E,r);for(var M=0,w=0,P,F;M<N;++M)if(P=j[M]){for(M>=w&&(w=M+1);!(F=C[w])&&++w<N;);P._next=F||null}}return c=new St(c,s),c._enter=f,c._exit=h,c}function Ow(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Fw(){return new St(this._exit||this._groups.map(Im),this._parents)}function Hw(e,r,o){var s=this.enter(),l=this,u=this.exit();return typeof e=="function"?(s=e(s),s&&(s=s.selection())):s=s.append(e+""),r!=null&&(l=r(l),l&&(l=l.selection())),o==null?u.remove():o(u),s&&l?s.merge(l).order():l}function Vw(e){for(var r=e.selection?e.selection():e,o=this._groups,s=r._groups,l=o.length,u=s.length,c=Math.min(l,u),f=new Array(l),h=0;h<c;++h)for(var y=o[h],v=s[h],m=y.length,x=f[h]=new Array(m),E,N=0;N<m;++N)(E=y[N]||v[N])&&(x[N]=E);for(;h<l;++h)f[h]=o[h];return new St(f,this._parents)}function Bw(){for(var e=this._groups,r=-1,o=e.length;++r<o;)for(var s=e[r],l=s.length-1,u=s[l],c;--l>=0;)(c=s[l])&&(u&&c.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(c,u),u=c);return this}function Uw(e){e||(e=Ww);function r(m,x){return m&&x?e(m.__data__,x.__data__):!m-!x}for(var o=this._groups,s=o.length,l=new Array(s),u=0;u<s;++u){for(var c=o[u],f=c.length,h=l[u]=new Array(f),y,v=0;v<f;++v)(y=c[v])&&(h[v]=y);h.sort(r)}return new St(l,this._parents).order()}function Ww(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}function Yw(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Xw(){return Array.from(this)}function Qw(){for(var e=this._groups,r=0,o=e.length;r<o;++r)for(var s=e[r],l=0,u=s.length;l<u;++l){var c=s[l];if(c)return c}return null}function Gw(){let e=0;for(const r of this)++e;return e}function Kw(){return!this.node()}function qw(e){for(var r=this._groups,o=0,s=r.length;o<s;++o)for(var l=r[o],u=0,c=l.length,f;u<c;++u)(f=l[u])&&e.call(f,f.__data__,u,l);return this}function Zw(e){return function(){this.removeAttribute(e)}}function Jw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function e1(e,r){return function(){this.setAttribute(e,r)}}function t1(e,r){return function(){this.setAttributeNS(e.space,e.local,r)}}function n1(e,r){return function(){var o=r.apply(this,arguments);o==null?this.removeAttribute(e):this.setAttribute(e,o)}}function r1(e,r){return function(){var o=r.apply(this,arguments);o==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,o)}}function o1(e,r){var o=$l(e);if(arguments.length<2){var s=this.node();return o.local?s.getAttributeNS(o.space,o.local):s.getAttribute(o)}return this.each((r==null?o.local?Jw:Zw:typeof r=="function"?o.local?r1:n1:o.local?t1:e1)(o,r))}function Rm(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function i1(e){return function(){this.style.removeProperty(e)}}function s1(e,r,o){return function(){this.style.setProperty(e,r,o)}}function l1(e,r,o){return function(){var s=r.apply(this,arguments);s==null?this.style.removeProperty(e):this.style.setProperty(e,s,o)}}function a1(e,r,o){return arguments.length>1?this.each((r==null?i1:typeof r=="function"?l1:s1)(e,r,o??"")):so(this.node(),e)}function so(e,r){return e.style.getPropertyValue(r)||Rm(e).getComputedStyle(e,null).getPropertyValue(r)}function u1(e){return function(){delete this[e]}}function c1(e,r){return function(){this[e]=r}}function d1(e,r){return function(){var o=r.apply(this,arguments);o==null?delete this[e]:this[e]=o}}function f1(e,r){return arguments.length>1?this.each((r==null?u1:typeof r=="function"?d1:c1)(e,r)):this.node()[e]}function Lm(e){return e.trim().split(/^|\s+/)}function zc(e){return e.classList||new Tm(e)}function Tm(e){this._node=e,this._names=Lm(e.getAttribute("class")||"")}Tm.prototype={add:function(e){var r=this._names.indexOf(e);r<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var r=this._names.indexOf(e);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function zm(e,r){for(var o=zc(e),s=-1,l=r.length;++s<l;)o.add(r[s])}function $m(e,r){for(var o=zc(e),s=-1,l=r.length;++s<l;)o.remove(r[s])}function h1(e){return function(){zm(this,e)}}function p1(e){return function(){$m(this,e)}}function m1(e,r){return function(){(r.apply(this,arguments)?zm:$m)(this,e)}}function g1(e,r){var o=Lm(e+"");if(arguments.length<2){for(var s=zc(this.node()),l=-1,u=o.length;++l<u;)if(!s.contains(o[l]))return!1;return!0}return this.each((typeof r=="function"?m1:r?h1:p1)(o,r))}function y1(){this.textContent=""}function v1(e){return function(){this.textContent=e}}function x1(e){return function(){var r=e.apply(this,arguments);this.textContent=r??""}}function w1(e){return arguments.length?this.each(e==null?y1:(typeof e=="function"?x1:v1)(e)):this.node().textContent}function S1(){this.innerHTML=""}function E1(e){return function(){this.innerHTML=e}}function N1(e){return function(){var r=e.apply(this,arguments);this.innerHTML=r??""}}function k1(e){return arguments.length?this.each(e==null?S1:(typeof e=="function"?N1:E1)(e)):this.node().innerHTML}function C1(){this.nextSibling&&this.parentNode.appendChild(this)}function _1(){return this.each(C1)}function b1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function j1(){return this.each(b1)}function P1(e){var r=typeof e=="function"?e:bm(e);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function M1(){return null}function I1(e,r){var o=typeof e=="function"?e:bm(e),s=r==null?M1:typeof r=="function"?r:Tc(r);return this.select(function(){return this.insertBefore(o.apply(this,arguments),s.apply(this,arguments)||null)})}function R1(){var e=this.parentNode;e&&e.removeChild(this)}function L1(){return this.each(R1)}function T1(){var e=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function z1(){var e=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function $1(e){return this.select(e?z1:T1)}function A1(e){return arguments.length?this.property("__data__",e):this.node().__data__}function D1(e){return function(r){e.call(this,r,this.__data__)}}function O1(e){return e.trim().split(/^|\s+/).map(function(r){var o="",s=r.indexOf(".");return s>=0&&(o=r.slice(s+1),r=r.slice(0,s)),{type:r,name:o}})}function F1(e){return function(){var r=this.__on;if(r){for(var o=0,s=-1,l=r.length,u;o<l;++o)u=r[o],(!e.type||u.type===e.type)&&u.name===e.name?this.removeEventListener(u.type,u.listener,u.options):r[++s]=u;++s?r.length=s:delete this.__on}}}function H1(e,r,o){return function(){var s=this.__on,l,u=D1(r);if(s){for(var c=0,f=s.length;c<f;++c)if((l=s[c]).type===e.type&&l.name===e.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=u,l.options=o),l.value=r;return}}this.addEventListener(e.type,u,o),l={type:e.type,name:e.name,value:r,listener:u,options:o},s?s.push(l):this.__on=[l]}}function V1(e,r,o){var s=O1(e+""),l,u=s.length,c;if(arguments.length<2){var f=this.node().__on;if(f){for(var h=0,y=f.length,v;h<y;++h)for(l=0,v=f[h];l<u;++l)if((c=s[l]).type===v.type&&c.name===v.name)return v.value}return}for(f=r?H1:F1,l=0;l<u;++l)this.each(f(s[l],r,o));return this}function Am(e,r,o){var s=Rm(e),l=s.CustomEvent;typeof l=="function"?l=new l(r,o):(l=s.document.createEvent("Event"),o?(l.initEvent(r,o.bubbles,o.cancelable),l.detail=o.detail):l.initEvent(r,!1,!1)),e.dispatchEvent(l)}function B1(e,r){return function(){return Am(this,e,r)}}function U1(e,r){return function(){return Am(this,e,r.apply(this,arguments))}}function W1(e,r){return this.each((typeof r=="function"?U1:B1)(e,r))}function*Y1(){for(var e=this._groups,r=0,o=e.length;r<o;++r)for(var s=e[r],l=0,u=s.length,c;l<u;++l)(c=s[l])&&(yield c)}var Dm=[null];function St(e,r){this._groups=e,this._parents=r}function Ii(){return new St([[document.documentElement]],Dm)}function X1(){return this}St.prototype=Ii.prototype={constructor:St,select:xw,selectAll:Nw,selectChild:bw,selectChildren:Iw,filter:Rw,data:Dw,enter:Lw,exit:Fw,join:Hw,merge:Vw,selection:X1,order:Bw,sort:Uw,call:Yw,nodes:Xw,node:Qw,size:Gw,empty:Kw,each:qw,attr:o1,style:a1,property:f1,classed:g1,text:w1,html:k1,raise:_1,lower:j1,append:P1,insert:I1,remove:L1,clone:$1,datum:A1,on:V1,dispatch:W1,[Symbol.iterator]:Y1};function wt(e){return typeof e=="string"?new St([[document.querySelector(e)]],[document.documentElement]):new St([[e]],Dm)}function Q1(e){let r;for(;r=e.sourceEvent;)e=r;return e}function Dt(e,r){if(e=Q1(e),r===void 0&&(r=e.currentTarget),r){var o=r.ownerSVGElement||r;if(o.createSVGPoint){var s=o.createSVGPoint();return s.x=e.clientX,s.y=e.clientY,s=s.matrixTransform(r.getScreenCTM().inverse()),[s.x,s.y]}if(r.getBoundingClientRect){var l=r.getBoundingClientRect();return[e.clientX-l.left-r.clientLeft,e.clientY-l.top-r.clientTop]}}return[e.pageX,e.pageY]}const G1={passive:!1},vi={capture:!0,passive:!1};function Qu(e){e.stopImmediatePropagation()}function ro(e){e.preventDefault(),e.stopImmediatePropagation()}function Om(e){var r=e.document.documentElement,o=wt(e).on("dragstart.drag",ro,vi);"onselectstart"in r?o.on("selectstart.drag",ro,vi):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")}function Fm(e,r){var o=e.document.documentElement,s=wt(e).on("dragstart.drag",null);r&&(s.on("click.drag",ro,vi),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in o?s.on("selectstart.drag",null):(o.style.MozUserSelect=o.__noselect,delete o.__noselect)}const rl=e=>()=>e;function hc(e,{sourceEvent:r,subject:o,target:s,identifier:l,active:u,x:c,y:f,dx:h,dy:y,dispatch:v}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},subject:{value:o,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:l,enumerable:!0,configurable:!0},active:{value:u,enumerable:!0,configurable:!0},x:{value:c,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:y,enumerable:!0,configurable:!0},_:{value:v}})}hc.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function K1(e){return!e.ctrlKey&&!e.button}function q1(){return this.parentNode}function Z1(e,r){return r??{x:e.x,y:e.y}}function J1(){return navigator.maxTouchPoints||"ontouchstart"in this}function Hm(){var e=K1,r=q1,o=Z1,s=J1,l={},u=zl("start","drag","end"),c=0,f,h,y,v,m=0;function x(P){P.on("mousedown.drag",E).filter(s).on("touchstart.drag",C).on("touchmove.drag",b,G1).on("touchend.drag touchcancel.drag",M).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function E(P,F){if(!(v||!e.call(this,P,F))){var D=w(this,r.call(this,P,F),P,F,"mouse");D&&(wt(P.view).on("mousemove.drag",N,vi).on("mouseup.drag",j,vi),Om(P.view),Qu(P),y=!1,f=P.clientX,h=P.clientY,D("start",P))}}function N(P){if(ro(P),!y){var F=P.clientX-f,D=P.clientY-h;y=F*F+D*D>m}l.mouse("drag",P)}function j(P){wt(P.view).on("mousemove.drag mouseup.drag",null),Fm(P.view,y),ro(P),l.mouse("end",P)}function C(P,F){if(e.call(this,P,F)){var D=P.changedTouches,T=r.call(this,P,F),W=D.length,Y,ne;for(Y=0;Y<W;++Y)(ne=w(this,T,P,F,D[Y].identifier,D[Y]))&&(Qu(P),ne("start",P,D[Y]))}}function b(P){var F=P.changedTouches,D=F.length,T,W;for(T=0;T<D;++T)(W=l[F[T].identifier])&&(ro(P),W("drag",P,F[T]))}function M(P){var F=P.changedTouches,D=F.length,T,W;for(v&&clearTimeout(v),v=setTimeout(function(){v=null},500),T=0;T<D;++T)(W=l[F[T].identifier])&&(Qu(P),W("end",P,F[T]))}function w(P,F,D,T,W,Y){var ne=u.copy(),G=Dt(Y||D,F),X,ee,R;if((R=o.call(P,new hc("beforestart",{sourceEvent:D,target:x,identifier:W,active:c,x:G[0],y:G[1],dx:0,dy:0,dispatch:ne}),T))!=null)return X=R.x-G[0]||0,ee=R.y-G[1]||0,function V(A,H,I){var z=G,U;switch(A){case"start":l[W]=V,U=c++;break;case"end":delete l[W],--c;case"drag":G=Dt(I||H,F),U=c;break}ne.call(A,P,new hc(A,{sourceEvent:H,subject:R,target:x,identifier:W,active:U,x:G[0]+X,y:G[1]+ee,dx:G[0]-z[0],dy:G[1]-z[1],dispatch:ne}),T)}}return x.filter=function(P){return arguments.length?(e=typeof P=="function"?P:rl(!!P),x):e},x.container=function(P){return arguments.length?(r=typeof P=="function"?P:rl(P),x):r},x.subject=function(P){return arguments.length?(o=typeof P=="function"?P:rl(P),x):o},x.touchable=function(P){return arguments.length?(s=typeof P=="function"?P:rl(!!P),x):s},x.on=function(){var P=u.on.apply(u,arguments);return P===u?x:P},x.clickDistance=function(P){return arguments.length?(m=(P=+P)*P,x):Math.sqrt(m)},x}function $c(e,r,o){e.prototype=r.prototype=o,o.constructor=e}function Vm(e,r){var o=Object.create(e.prototype);for(var s in r)o[s]=r[s];return o}function Ri(){}var xi=.7,Sl=1/xi,oo="\\s*([+-]?\\d+)\\s*",wi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eS=/^#([0-9a-f]{3,8})$/,tS=new RegExp(`^rgb\\(${oo},${oo},${oo}\\)$`),nS=new RegExp(`^rgb\\(${qt},${qt},${qt}\\)$`),rS=new RegExp(`^rgba\\(${oo},${oo},${oo},${wi}\\)$`),oS=new RegExp(`^rgba\\(${qt},${qt},${qt},${wi}\\)$`),iS=new RegExp(`^hsl\\(${wi},${qt},${qt}\\)$`),sS=new RegExp(`^hsla\\(${wi},${qt},${qt},${wi}\\)$`),Wh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$c(Ri,yr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Yh,formatHex:Yh,formatHex8:lS,formatHsl:aS,formatRgb:Xh,toString:Xh});function Yh(){return this.rgb().formatHex()}function lS(){return this.rgb().formatHex8()}function aS(){return Bm(this).formatHsl()}function Xh(){return this.rgb().formatRgb()}function yr(e){var r,o;return e=(e+"").trim().toLowerCase(),(r=eS.exec(e))?(o=r[1].length,r=parseInt(r[1],16),o===6?Qh(r):o===3?new ft(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):o===8?ol(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):o===4?ol(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=tS.exec(e))?new ft(r[1],r[2],r[3],1):(r=nS.exec(e))?new ft(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=rS.exec(e))?ol(r[1],r[2],r[3],r[4]):(r=oS.exec(e))?ol(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=iS.exec(e))?qh(r[1],r[2]/100,r[3]/100,1):(r=sS.exec(e))?qh(r[1],r[2]/100,r[3]/100,r[4]):Wh.hasOwnProperty(e)?Qh(Wh[e]):e==="transparent"?new ft(NaN,NaN,NaN,0):null}function Qh(e){return new ft(e>>16&255,e>>8&255,e&255,1)}function ol(e,r,o,s){return s<=0&&(e=r=o=NaN),new ft(e,r,o,s)}function uS(e){return e instanceof Ri||(e=yr(e)),e?(e=e.rgb(),new ft(e.r,e.g,e.b,e.opacity)):new ft}function pc(e,r,o,s){return arguments.length===1?uS(e):new ft(e,r,o,s??1)}function ft(e,r,o,s){this.r=+e,this.g=+r,this.b=+o,this.opacity=+s}$c(ft,pc,Vm(Ri,{brighter(e){return e=e==null?Sl:Math.pow(Sl,e),new ft(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?xi:Math.pow(xi,e),new ft(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ft(mr(this.r),mr(this.g),mr(this.b),El(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gh,formatHex:Gh,formatHex8:cS,formatRgb:Kh,toString:Kh}));function Gh(){return`#${pr(this.r)}${pr(this.g)}${pr(this.b)}`}function cS(){return`#${pr(this.r)}${pr(this.g)}${pr(this.b)}${pr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Kh(){const e=El(this.opacity);return`${e===1?"rgb(":"rgba("}${mr(this.r)}, ${mr(this.g)}, ${mr(this.b)}${e===1?")":`, ${e})`}`}function El(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function mr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function pr(e){return e=mr(e),(e<16?"0":"")+e.toString(16)}function qh(e,r,o,s){return s<=0?e=r=o=NaN:o<=0||o>=1?e=r=NaN:r<=0&&(e=NaN),new Ot(e,r,o,s)}function Bm(e){if(e instanceof Ot)return new Ot(e.h,e.s,e.l,e.opacity);if(e instanceof Ri||(e=yr(e)),!e)return new Ot;if(e instanceof Ot)return e;e=e.rgb();var r=e.r/255,o=e.g/255,s=e.b/255,l=Math.min(r,o,s),u=Math.max(r,o,s),c=NaN,f=u-l,h=(u+l)/2;return f?(r===u?c=(o-s)/f+(o<s)*6:o===u?c=(s-r)/f+2:c=(r-o)/f+4,f/=h<.5?u+l:2-u-l,c*=60):f=h>0&&h<1?0:c,new Ot(c,f,h,e.opacity)}function dS(e,r,o,s){return arguments.length===1?Bm(e):new Ot(e,r,o,s??1)}function Ot(e,r,o,s){this.h=+e,this.s=+r,this.l=+o,this.opacity=+s}$c(Ot,dS,Vm(Ri,{brighter(e){return e=e==null?Sl:Math.pow(Sl,e),new Ot(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?xi:Math.pow(xi,e),new Ot(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,o=this.l,s=o+(o<.5?o:1-o)*r,l=2*o-s;return new ft(Gu(e>=240?e-240:e+120,l,s),Gu(e,l,s),Gu(e<120?e+240:e-120,l,s),this.opacity)},clamp(){return new Ot(Zh(this.h),il(this.s),il(this.l),El(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=El(this.opacity);return`${e===1?"hsl(":"hsla("}${Zh(this.h)}, ${il(this.s)*100}%, ${il(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Zh(e){return e=(e||0)%360,e<0?e+360:e}function il(e){return Math.max(0,Math.min(1,e||0))}function Gu(e,r,o){return(e<60?r+(o-r)*e/60:e<180?o:e<240?r+(o-r)*(240-e)/60:r)*255}const Ac=e=>()=>e;function fS(e,r){return function(o){return e+o*r}}function hS(e,r,o){return e=Math.pow(e,o),r=Math.pow(r,o)-e,o=1/o,function(s){return Math.pow(e+s*r,o)}}function pS(e){return(e=+e)==1?Um:function(r,o){return o-r?hS(r,o,e):Ac(isNaN(r)?o:r)}}function Um(e,r){var o=r-e;return o?fS(e,o):Ac(isNaN(e)?r:e)}const Nl=(function e(r){var o=pS(r);function s(l,u){var c=o((l=pc(l)).r,(u=pc(u)).r),f=o(l.g,u.g),h=o(l.b,u.b),y=Um(l.opacity,u.opacity);return function(v){return l.r=c(v),l.g=f(v),l.b=h(v),l.opacity=y(v),l+""}}return s.gamma=e,s})(1);function mS(e,r){r||(r=[]);var o=e?Math.min(r.length,e.length):0,s=r.slice(),l;return function(u){for(l=0;l<o;++l)s[l]=e[l]*(1-u)+r[l]*u;return s}}function gS(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function yS(e,r){var o=r?r.length:0,s=e?Math.min(o,e.length):0,l=new Array(s),u=new Array(o),c;for(c=0;c<s;++c)l[c]=mi(e[c],r[c]);for(;c<o;++c)u[c]=r[c];return function(f){for(c=0;c<s;++c)u[c]=l[c](f);return u}}function vS(e,r){var o=new Date;return e=+e,r=+r,function(s){return o.setTime(e*(1-s)+r*s),o}}function Kt(e,r){return e=+e,r=+r,function(o){return e*(1-o)+r*o}}function xS(e,r){var o={},s={},l;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(l in r)l in e?o[l]=mi(e[l],r[l]):s[l]=r[l];return function(u){for(l in o)s[l]=o[l](u);return s}}var mc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ku=new RegExp(mc.source,"g");function wS(e){return function(){return e}}function SS(e){return function(r){return e(r)+""}}function Wm(e,r){var o=mc.lastIndex=Ku.lastIndex=0,s,l,u,c=-1,f=[],h=[];for(e=e+"",r=r+"";(s=mc.exec(e))&&(l=Ku.exec(r));)(u=l.index)>o&&(u=r.slice(o,u),f[c]?f[c]+=u:f[++c]=u),(s=s[0])===(l=l[0])?f[c]?f[c]+=l:f[++c]=l:(f[++c]=null,h.push({i:c,x:Kt(s,l)})),o=Ku.lastIndex;return o<r.length&&(u=r.slice(o),f[c]?f[c]+=u:f[++c]=u),f.length<2?h[0]?SS(h[0].x):wS(r):(r=h.length,function(y){for(var v=0,m;v<r;++v)f[(m=h[v]).i]=m.x(y);return f.join("")})}function mi(e,r){var o=typeof r,s;return r==null||o==="boolean"?Ac(r):(o==="number"?Kt:o==="string"?(s=yr(r))?(r=s,Nl):Wm:r instanceof yr?Nl:r instanceof Date?vS:gS(r)?mS:Array.isArray(r)?yS:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?xS:Kt)(e,r)}var Jh=180/Math.PI,gc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ym(e,r,o,s,l,u){var c,f,h;return(c=Math.sqrt(e*e+r*r))&&(e/=c,r/=c),(h=e*o+r*s)&&(o-=e*h,s-=r*h),(f=Math.sqrt(o*o+s*s))&&(o/=f,s/=f,h/=f),e*s<r*o&&(e=-e,r=-r,h=-h,c=-c),{translateX:l,translateY:u,rotate:Math.atan2(r,e)*Jh,skewX:Math.atan(h)*Jh,scaleX:c,scaleY:f}}var sl;function ES(e){const r=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return r.isIdentity?gc:Ym(r.a,r.b,r.c,r.d,r.e,r.f)}function NS(e){return e==null||(sl||(sl=document.createElementNS("http://www.w3.org/2000/svg","g")),sl.setAttribute("transform",e),!(e=sl.transform.baseVal.consolidate()))?gc:(e=e.matrix,Ym(e.a,e.b,e.c,e.d,e.e,e.f))}function Xm(e,r,o,s){function l(y){return y.length?y.pop()+" ":""}function u(y,v,m,x,E,N){if(y!==m||v!==x){var j=E.push("translate(",null,r,null,o);N.push({i:j-4,x:Kt(y,m)},{i:j-2,x:Kt(v,x)})}else(m||x)&&E.push("translate("+m+r+x+o)}function c(y,v,m,x){y!==v?(y-v>180?v+=360:v-y>180&&(y+=360),x.push({i:m.push(l(m)+"rotate(",null,s)-2,x:Kt(y,v)})):v&&m.push(l(m)+"rotate("+v+s)}function f(y,v,m,x){y!==v?x.push({i:m.push(l(m)+"skewX(",null,s)-2,x:Kt(y,v)}):v&&m.push(l(m)+"skewX("+v+s)}function h(y,v,m,x,E,N){if(y!==m||v!==x){var j=E.push(l(E)+"scale(",null,",",null,")");N.push({i:j-4,x:Kt(y,m)},{i:j-2,x:Kt(v,x)})}else(m!==1||x!==1)&&E.push(l(E)+"scale("+m+","+x+")")}return function(y,v){var m=[],x=[];return y=e(y),v=e(v),u(y.translateX,y.translateY,v.translateX,v.translateY,m,x),c(y.rotate,v.rotate,m,x),f(y.skewX,v.skewX,m,x),h(y.scaleX,y.scaleY,v.scaleX,v.scaleY,m,x),y=v=null,function(E){for(var N=-1,j=x.length,C;++N<j;)m[(C=x[N]).i]=C.x(E);return m.join("")}}}var kS=Xm(ES,"px, ","px)","deg)"),CS=Xm(NS,", ",")",")"),_S=1e-12;function ep(e){return((e=Math.exp(e))+1/e)/2}function bS(e){return((e=Math.exp(e))-1/e)/2}function jS(e){return((e=Math.exp(2*e))-1)/(e+1)}const ml=(function e(r,o,s){function l(u,c){var f=u[0],h=u[1],y=u[2],v=c[0],m=c[1],x=c[2],E=v-f,N=m-h,j=E*E+N*N,C,b;if(j<_S)b=Math.log(x/y)/r,C=function(T){return[f+T*E,h+T*N,y*Math.exp(r*T*b)]};else{var M=Math.sqrt(j),w=(x*x-y*y+s*j)/(2*y*o*M),P=(x*x-y*y-s*j)/(2*x*o*M),F=Math.log(Math.sqrt(w*w+1)-w),D=Math.log(Math.sqrt(P*P+1)-P);b=(D-F)/r,C=function(T){var W=T*b,Y=ep(F),ne=y/(o*M)*(Y*jS(r*W+F)-bS(F));return[f+ne*E,h+ne*N,y*Y/ep(r*W+F)]}}return C.duration=b*1e3*r/Math.SQRT2,C}return l.rho=function(u){var c=Math.max(.001,+u),f=c*c,h=f*f;return e(c,f,h)},l})(Math.SQRT2,2,4);var lo=0,fi=0,ui=0,Qm=1e3,kl,hi,Cl=0,vr=0,Al=0,Si=typeof performance=="object"&&performance.now?performance:Date,Gm=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Dc(){return vr||(Gm(PS),vr=Si.now()+Al)}function PS(){vr=0}function _l(){this._call=this._time=this._next=null}_l.prototype=Km.prototype={constructor:_l,restart:function(e,r,o){if(typeof e!="function")throw new TypeError("callback is not a function");o=(o==null?Dc():+o)+(r==null?0:+r),!this._next&&hi!==this&&(hi?hi._next=this:kl=this,hi=this),this._call=e,this._time=o,yc()},stop:function(){this._call&&(this._call=null,this._time=1/0,yc())}};function Km(e,r,o){var s=new _l;return s.restart(e,r,o),s}function MS(){Dc(),++lo;for(var e=kl,r;e;)(r=vr-e._time)>=0&&e._call.call(void 0,r),e=e._next;--lo}function tp(){vr=(Cl=Si.now())+Al,lo=fi=0;try{MS()}finally{lo=0,RS(),vr=0}}function IS(){var e=Si.now(),r=e-Cl;r>Qm&&(Al-=r,Cl=e)}function RS(){for(var e,r=kl,o,s=1/0;r;)r._call?(s>r._time&&(s=r._time),e=r,r=r._next):(o=r._next,r._next=null,r=e?e._next=o:kl=o);hi=e,yc(s)}function yc(e){if(!lo){fi&&(fi=clearTimeout(fi));var r=e-vr;r>24?(e<1/0&&(fi=setTimeout(tp,e-Si.now()-Al)),ui&&(ui=clearInterval(ui))):(ui||(Cl=Si.now(),ui=setInterval(IS,Qm)),lo=1,Gm(tp))}}function np(e,r,o){var s=new _l;return r=r==null?0:+r,s.restart(l=>{s.stop(),e(l+r)},r,o),s}var LS=zl("start","end","cancel","interrupt"),TS=[],qm=0,rp=1,vc=2,gl=3,op=4,xc=5,yl=6;function Dl(e,r,o,s,l,u){var c=e.__transition;if(!c)e.__transition={};else if(o in c)return;zS(e,o,{name:r,index:s,group:l,on:LS,tween:TS,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:qm})}function Oc(e,r){var o=Bt(e,r);if(o.state>qm)throw new Error("too late; already scheduled");return o}function en(e,r){var o=Bt(e,r);if(o.state>gl)throw new Error("too late; already running");return o}function Bt(e,r){var o=e.__transition;if(!o||!(o=o[r]))throw new Error("transition not found");return o}function zS(e,r,o){var s=e.__transition,l;s[r]=o,o.timer=Km(u,0,o.time);function u(y){o.state=rp,o.timer.restart(c,o.delay,o.time),o.delay<=y&&c(y-o.delay)}function c(y){var v,m,x,E;if(o.state!==rp)return h();for(v in s)if(E=s[v],E.name===o.name){if(E.state===gl)return np(c);E.state===op?(E.state=yl,E.timer.stop(),E.on.call("interrupt",e,e.__data__,E.index,E.group),delete s[v]):+v<r&&(E.state=yl,E.timer.stop(),E.on.call("cancel",e,e.__data__,E.index,E.group),delete s[v])}if(np(function(){o.state===gl&&(o.state=op,o.timer.restart(f,o.delay,o.time),f(y))}),o.state=vc,o.on.call("start",e,e.__data__,o.index,o.group),o.state===vc){for(o.state=gl,l=new Array(x=o.tween.length),v=0,m=-1;v<x;++v)(E=o.tween[v].value.call(e,e.__data__,o.index,o.group))&&(l[++m]=E);l.length=m+1}}function f(y){for(var v=y<o.duration?o.ease.call(null,y/o.duration):(o.timer.restart(h),o.state=xc,1),m=-1,x=l.length;++m<x;)l[m].call(e,v);o.state===xc&&(o.on.call("end",e,e.__data__,o.index,o.group),h())}function h(){o.state=yl,o.timer.stop(),delete s[r];for(var y in s)return;delete e.__transition}}function vl(e,r){var o=e.__transition,s,l,u=!0,c;if(o){r=r==null?null:r+"";for(c in o){if((s=o[c]).name!==r){u=!1;continue}l=s.state>vc&&s.state<xc,s.state=yl,s.timer.stop(),s.on.call(l?"interrupt":"cancel",e,e.__data__,s.index,s.group),delete o[c]}u&&delete e.__transition}}function $S(e){return this.each(function(){vl(this,e)})}function AS(e,r){var o,s;return function(){var l=en(this,e),u=l.tween;if(u!==o){s=o=u;for(var c=0,f=s.length;c<f;++c)if(s[c].name===r){s=s.slice(),s.splice(c,1);break}}l.tween=s}}function DS(e,r,o){var s,l;if(typeof o!="function")throw new Error;return function(){var u=en(this,e),c=u.tween;if(c!==s){l=(s=c).slice();for(var f={name:r,value:o},h=0,y=l.length;h<y;++h)if(l[h].name===r){l[h]=f;break}h===y&&l.push(f)}u.tween=l}}function OS(e,r){var o=this._id;if(e+="",arguments.length<2){for(var s=Bt(this.node(),o).tween,l=0,u=s.length,c;l<u;++l)if((c=s[l]).name===e)return c.value;return null}return this.each((r==null?AS:DS)(o,e,r))}function Fc(e,r,o){var s=e._id;return e.each(function(){var l=en(this,s);(l.value||(l.value={}))[r]=o.apply(this,arguments)}),function(l){return Bt(l,s).value[r]}}function Zm(e,r){var o;return(typeof r=="number"?Kt:r instanceof yr?Nl:(o=yr(r))?(r=o,Nl):Wm)(e,r)}function FS(e){return function(){this.removeAttribute(e)}}function HS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function VS(e,r,o){var s,l=o+"",u;return function(){var c=this.getAttribute(e);return c===l?null:c===s?u:u=r(s=c,o)}}function BS(e,r,o){var s,l=o+"",u;return function(){var c=this.getAttributeNS(e.space,e.local);return c===l?null:c===s?u:u=r(s=c,o)}}function US(e,r,o){var s,l,u;return function(){var c,f=o(this),h;return f==null?void this.removeAttribute(e):(c=this.getAttribute(e),h=f+"",c===h?null:c===s&&h===l?u:(l=h,u=r(s=c,f)))}}function WS(e,r,o){var s,l,u;return function(){var c,f=o(this),h;return f==null?void this.removeAttributeNS(e.space,e.local):(c=this.getAttributeNS(e.space,e.local),h=f+"",c===h?null:c===s&&h===l?u:(l=h,u=r(s=c,f)))}}function YS(e,r){var o=$l(e),s=o==="transform"?CS:Zm;return this.attrTween(e,typeof r=="function"?(o.local?WS:US)(o,s,Fc(this,"attr."+e,r)):r==null?(o.local?HS:FS)(o):(o.local?BS:VS)(o,s,r))}function XS(e,r){return function(o){this.setAttribute(e,r.call(this,o))}}function QS(e,r){return function(o){this.setAttributeNS(e.space,e.local,r.call(this,o))}}function GS(e,r){var o,s;function l(){var u=r.apply(this,arguments);return u!==s&&(o=(s=u)&&QS(e,u)),o}return l._value=r,l}function KS(e,r){var o,s;function l(){var u=r.apply(this,arguments);return u!==s&&(o=(s=u)&&XS(e,u)),o}return l._value=r,l}function qS(e,r){var o="attr."+e;if(arguments.length<2)return(o=this.tween(o))&&o._value;if(r==null)return this.tween(o,null);if(typeof r!="function")throw new Error;var s=$l(e);return this.tween(o,(s.local?GS:KS)(s,r))}function ZS(e,r){return function(){Oc(this,e).delay=+r.apply(this,arguments)}}function JS(e,r){return r=+r,function(){Oc(this,e).delay=r}}function e2(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?ZS:JS)(r,e)):Bt(this.node(),r).delay}function t2(e,r){return function(){en(this,e).duration=+r.apply(this,arguments)}}function n2(e,r){return r=+r,function(){en(this,e).duration=r}}function r2(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?t2:n2)(r,e)):Bt(this.node(),r).duration}function o2(e,r){if(typeof r!="function")throw new Error;return function(){en(this,e).ease=r}}function i2(e){var r=this._id;return arguments.length?this.each(o2(r,e)):Bt(this.node(),r).ease}function s2(e,r){return function(){var o=r.apply(this,arguments);if(typeof o!="function")throw new Error;en(this,e).ease=o}}function l2(e){if(typeof e!="function")throw new Error;return this.each(s2(this._id,e))}function a2(e){typeof e!="function"&&(e=Pm(e));for(var r=this._groups,o=r.length,s=new Array(o),l=0;l<o;++l)for(var u=r[l],c=u.length,f=s[l]=[],h,y=0;y<c;++y)(h=u[y])&&e.call(h,h.__data__,y,u)&&f.push(h);return new vn(s,this._parents,this._name,this._id)}function u2(e){if(e._id!==this._id)throw new Error;for(var r=this._groups,o=e._groups,s=r.length,l=o.length,u=Math.min(s,l),c=new Array(s),f=0;f<u;++f)for(var h=r[f],y=o[f],v=h.length,m=c[f]=new Array(v),x,E=0;E<v;++E)(x=h[E]||y[E])&&(m[E]=x);for(;f<s;++f)c[f]=r[f];return new vn(c,this._parents,this._name,this._id)}function c2(e){return(e+"").trim().split(/^|\s+/).every(function(r){var o=r.indexOf(".");return o>=0&&(r=r.slice(0,o)),!r||r==="start"})}function d2(e,r,o){var s,l,u=c2(r)?Oc:en;return function(){var c=u(this,e),f=c.on;f!==s&&(l=(s=f).copy()).on(r,o),c.on=l}}function f2(e,r){var o=this._id;return arguments.length<2?Bt(this.node(),o).on.on(e):this.each(d2(o,e,r))}function h2(e){return function(){var r=this.parentNode;for(var o in this.__transition)if(+o!==e)return;r&&r.removeChild(this)}}function p2(){return this.on("end.remove",h2(this._id))}function m2(e){var r=this._name,o=this._id;typeof e!="function"&&(e=Tc(e));for(var s=this._groups,l=s.length,u=new Array(l),c=0;c<l;++c)for(var f=s[c],h=f.length,y=u[c]=new Array(h),v,m,x=0;x<h;++x)(v=f[x])&&(m=e.call(v,v.__data__,x,f))&&("__data__"in v&&(m.__data__=v.__data__),y[x]=m,Dl(y[x],r,o,x,y,Bt(v,o)));return new vn(u,this._parents,r,o)}function g2(e){var r=this._name,o=this._id;typeof e!="function"&&(e=jm(e));for(var s=this._groups,l=s.length,u=[],c=[],f=0;f<l;++f)for(var h=s[f],y=h.length,v,m=0;m<y;++m)if(v=h[m]){for(var x=e.call(v,v.__data__,m,h),E,N=Bt(v,o),j=0,C=x.length;j<C;++j)(E=x[j])&&Dl(E,r,o,j,x,N);u.push(x),c.push(v)}return new vn(u,c,r,o)}var y2=Ii.prototype.constructor;function v2(){return new y2(this._groups,this._parents)}function x2(e,r){var o,s,l;return function(){var u=so(this,e),c=(this.style.removeProperty(e),so(this,e));return u===c?null:u===o&&c===s?l:l=r(o=u,s=c)}}function Jm(e){return function(){this.style.removeProperty(e)}}function w2(e,r,o){var s,l=o+"",u;return function(){var c=so(this,e);return c===l?null:c===s?u:u=r(s=c,o)}}function S2(e,r,o){var s,l,u;return function(){var c=so(this,e),f=o(this),h=f+"";return f==null&&(h=f=(this.style.removeProperty(e),so(this,e))),c===h?null:c===s&&h===l?u:(l=h,u=r(s=c,f))}}function E2(e,r){var o,s,l,u="style."+r,c="end."+u,f;return function(){var h=en(this,e),y=h.on,v=h.value[u]==null?f||(f=Jm(r)):void 0;(y!==o||l!==v)&&(s=(o=y).copy()).on(c,l=v),h.on=s}}function N2(e,r,o){var s=(e+="")=="transform"?kS:Zm;return r==null?this.styleTween(e,x2(e,s)).on("end.style."+e,Jm(e)):typeof r=="function"?this.styleTween(e,S2(e,s,Fc(this,"style."+e,r))).each(E2(this._id,e)):this.styleTween(e,w2(e,s,r),o).on("end.style."+e,null)}function k2(e,r,o){return function(s){this.style.setProperty(e,r.call(this,s),o)}}function C2(e,r,o){var s,l;function u(){var c=r.apply(this,arguments);return c!==l&&(s=(l=c)&&k2(e,c,o)),s}return u._value=r,u}function _2(e,r,o){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(r==null)return this.tween(s,null);if(typeof r!="function")throw new Error;return this.tween(s,C2(e,r,o??""))}function b2(e){return function(){this.textContent=e}}function j2(e){return function(){var r=e(this);this.textContent=r??""}}function P2(e){return this.tween("text",typeof e=="function"?j2(Fc(this,"text",e)):b2(e==null?"":e+""))}function M2(e){return function(r){this.textContent=e.call(this,r)}}function I2(e){var r,o;function s(){var l=e.apply(this,arguments);return l!==o&&(r=(o=l)&&M2(l)),r}return s._value=e,s}function R2(e){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,I2(e))}function L2(){for(var e=this._name,r=this._id,o=e0(),s=this._groups,l=s.length,u=0;u<l;++u)for(var c=s[u],f=c.length,h,y=0;y<f;++y)if(h=c[y]){var v=Bt(h,r);Dl(h,e,o,y,c,{time:v.time+v.delay+v.duration,delay:0,duration:v.duration,ease:v.ease})}return new vn(s,this._parents,e,o)}function T2(){var e,r,o=this,s=o._id,l=o.size();return new Promise(function(u,c){var f={value:c},h={value:function(){--l===0&&u()}};o.each(function(){var y=en(this,s),v=y.on;v!==e&&(r=(e=v).copy(),r._.cancel.push(f),r._.interrupt.push(f),r._.end.push(h)),y.on=r}),l===0&&u()})}var z2=0;function vn(e,r,o,s){this._groups=e,this._parents=r,this._name=o,this._id=s}function e0(){return++z2}var pn=Ii.prototype;vn.prototype={constructor:vn,select:m2,selectAll:g2,selectChild:pn.selectChild,selectChildren:pn.selectChildren,filter:a2,merge:u2,selection:v2,transition:L2,call:pn.call,nodes:pn.nodes,node:pn.node,size:pn.size,empty:pn.empty,each:pn.each,on:f2,attr:YS,attrTween:qS,style:N2,styleTween:_2,text:P2,textTween:R2,remove:p2,tween:OS,delay:e2,duration:r2,ease:i2,easeVarying:l2,end:T2,[Symbol.iterator]:pn[Symbol.iterator]};function $2(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var A2={time:null,delay:0,duration:250,ease:$2};function D2(e,r){for(var o;!(o=e.__transition)||!(o=o[r]);)if(!(e=e.parentNode))throw new Error(`transition ${r} not found`);return o}function O2(e){var r,o;e instanceof vn?(r=e._id,e=e._name):(r=e0(),(o=A2).time=Dc(),e=e==null?null:e+"");for(var s=this._groups,l=s.length,u=0;u<l;++u)for(var c=s[u],f=c.length,h,y=0;y<f;++y)(h=c[y])&&Dl(h,e,r,y,c,o||D2(h,r));return new vn(s,this._parents,e,r)}Ii.prototype.interrupt=$S;Ii.prototype.transition=O2;const ll=e=>()=>e;function F2(e,{sourceEvent:r,target:o,transform:s,dispatch:l}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:l}})}function mn(e,r,o){this.k=e,this.x=r,this.y=o}mn.prototype={constructor:mn,scale:function(e){return e===1?this:new mn(this.k*e,this.x,this.y)},translate:function(e,r){return e===0&r===0?this:new mn(this.k,this.x+this.k*e,this.y+this.k*r)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ol=new mn(1,0,0);t0.prototype=mn.prototype;function t0(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Ol;return e.__zoom}function qu(e){e.stopImmediatePropagation()}function ci(e){e.preventDefault(),e.stopImmediatePropagation()}function H2(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function V2(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function ip(){return this.__zoom||Ol}function B2(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function U2(){return navigator.maxTouchPoints||"ontouchstart"in this}function W2(e,r,o){var s=e.invertX(r[0][0])-o[0][0],l=e.invertX(r[1][0])-o[1][0],u=e.invertY(r[0][1])-o[0][1],c=e.invertY(r[1][1])-o[1][1];return e.translate(l>s?(s+l)/2:Math.min(0,s)||Math.max(0,l),c>u?(u+c)/2:Math.min(0,u)||Math.max(0,c))}function n0(){var e=H2,r=V2,o=W2,s=B2,l=U2,u=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],f=250,h=ml,y=zl("start","zoom","end"),v,m,x,E=500,N=150,j=0,C=10;function b(R){R.property("__zoom",ip).on("wheel.zoom",W,{passive:!1}).on("mousedown.zoom",Y).on("dblclick.zoom",ne).filter(l).on("touchstart.zoom",G).on("touchmove.zoom",X).on("touchend.zoom touchcancel.zoom",ee).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(R,V,A,H){var I=R.selection?R.selection():R;I.property("__zoom",ip),R!==I?F(R,V,A,H):I.interrupt().each(function(){D(this,arguments).event(H).start().zoom(null,typeof V=="function"?V.apply(this,arguments):V).end()})},b.scaleBy=function(R,V,A,H){b.scaleTo(R,function(){var I=this.__zoom.k,z=typeof V=="function"?V.apply(this,arguments):V;return I*z},A,H)},b.scaleTo=function(R,V,A,H){b.transform(R,function(){var I=r.apply(this,arguments),z=this.__zoom,U=A==null?P(I):typeof A=="function"?A.apply(this,arguments):A,_=z.invert(U),$=typeof V=="function"?V.apply(this,arguments):V;return o(w(M(z,$),U,_),I,c)},A,H)},b.translateBy=function(R,V,A,H){b.transform(R,function(){return o(this.__zoom.translate(typeof V=="function"?V.apply(this,arguments):V,typeof A=="function"?A.apply(this,arguments):A),r.apply(this,arguments),c)},null,H)},b.translateTo=function(R,V,A,H,I){b.transform(R,function(){var z=r.apply(this,arguments),U=this.__zoom,_=H==null?P(z):typeof H=="function"?H.apply(this,arguments):H;return o(Ol.translate(_[0],_[1]).scale(U.k).translate(typeof V=="function"?-V.apply(this,arguments):-V,typeof A=="function"?-A.apply(this,arguments):-A),z,c)},H,I)};function M(R,V){return V=Math.max(u[0],Math.min(u[1],V)),V===R.k?R:new mn(V,R.x,R.y)}function w(R,V,A){var H=V[0]-A[0]*R.k,I=V[1]-A[1]*R.k;return H===R.x&&I===R.y?R:new mn(R.k,H,I)}function P(R){return[(+R[0][0]+ +R[1][0])/2,(+R[0][1]+ +R[1][1])/2]}function F(R,V,A,H){R.on("start.zoom",function(){D(this,arguments).event(H).start()}).on("interrupt.zoom end.zoom",function(){D(this,arguments).event(H).end()}).tween("zoom",function(){var I=this,z=arguments,U=D(I,z).event(H),_=r.apply(I,z),$=A==null?P(_):typeof A=="function"?A.apply(I,z):A,Q=Math.max(_[1][0]-_[0][0],_[1][1]-_[0][1]),J=I.__zoom,re=typeof V=="function"?V.apply(I,z):V,oe=h(J.invert($).concat(Q/J.k),re.invert($).concat(Q/re.k));return function(ae){if(ae===1)ae=re;else{var te=oe(ae),ce=Q/te[2];ae=new mn(ce,$[0]-te[0]*ce,$[1]-te[1]*ce)}U.zoom(null,ae)}})}function D(R,V,A){return!A&&R.__zooming||new T(R,V)}function T(R,V){this.that=R,this.args=V,this.active=0,this.sourceEvent=null,this.extent=r.apply(R,V),this.taps=0}T.prototype={event:function(R){return R&&(this.sourceEvent=R),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(R,V){return this.mouse&&R!=="mouse"&&(this.mouse[1]=V.invert(this.mouse[0])),this.touch0&&R!=="touch"&&(this.touch0[1]=V.invert(this.touch0[0])),this.touch1&&R!=="touch"&&(this.touch1[1]=V.invert(this.touch1[0])),this.that.__zoom=V,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(R){var V=wt(this.that).datum();y.call(R,this.that,new F2(R,{sourceEvent:this.sourceEvent,target:b,transform:this.that.__zoom,dispatch:y}),V)}};function W(R,...V){if(!e.apply(this,arguments))return;var A=D(this,V).event(R),H=this.__zoom,I=Math.max(u[0],Math.min(u[1],H.k*Math.pow(2,s.apply(this,arguments)))),z=Dt(R);if(A.wheel)(A.mouse[0][0]!==z[0]||A.mouse[0][1]!==z[1])&&(A.mouse[1]=H.invert(A.mouse[0]=z)),clearTimeout(A.wheel);else{if(H.k===I)return;A.mouse=[z,H.invert(z)],vl(this),A.start()}ci(R),A.wheel=setTimeout(U,N),A.zoom("mouse",o(w(M(H,I),A.mouse[0],A.mouse[1]),A.extent,c));function U(){A.wheel=null,A.end()}}function Y(R,...V){if(x||!e.apply(this,arguments))return;var A=R.currentTarget,H=D(this,V,!0).event(R),I=wt(R.view).on("mousemove.zoom",$,!0).on("mouseup.zoom",Q,!0),z=Dt(R,A),U=R.clientX,_=R.clientY;Om(R.view),qu(R),H.mouse=[z,this.__zoom.invert(z)],vl(this),H.start();function $(J){if(ci(J),!H.moved){var re=J.clientX-U,oe=J.clientY-_;H.moved=re*re+oe*oe>j}H.event(J).zoom("mouse",o(w(H.that.__zoom,H.mouse[0]=Dt(J,A),H.mouse[1]),H.extent,c))}function Q(J){I.on("mousemove.zoom mouseup.zoom",null),Fm(J.view,H.moved),ci(J),H.event(J).end()}}function ne(R,...V){if(e.apply(this,arguments)){var A=this.__zoom,H=Dt(R.changedTouches?R.changedTouches[0]:R,this),I=A.invert(H),z=A.k*(R.shiftKey?.5:2),U=o(w(M(A,z),H,I),r.apply(this,V),c);ci(R),f>0?wt(this).transition().duration(f).call(F,U,H,R):wt(this).call(b.transform,U,H,R)}}function G(R,...V){if(e.apply(this,arguments)){var A=R.touches,H=A.length,I=D(this,V,R.changedTouches.length===H).event(R),z,U,_,$;for(qu(R),U=0;U<H;++U)_=A[U],$=Dt(_,this),$=[$,this.__zoom.invert($),_.identifier],I.touch0?!I.touch1&&I.touch0[2]!==$[2]&&(I.touch1=$,I.taps=0):(I.touch0=$,z=!0,I.taps=1+!!v);v&&(v=clearTimeout(v)),z&&(I.taps<2&&(m=$[0],v=setTimeout(function(){v=null},E)),vl(this),I.start())}}function X(R,...V){if(this.__zooming){var A=D(this,V).event(R),H=R.changedTouches,I=H.length,z,U,_,$;for(ci(R),z=0;z<I;++z)U=H[z],_=Dt(U,this),A.touch0&&A.touch0[2]===U.identifier?A.touch0[0]=_:A.touch1&&A.touch1[2]===U.identifier&&(A.touch1[0]=_);if(U=A.that.__zoom,A.touch1){var Q=A.touch0[0],J=A.touch0[1],re=A.touch1[0],oe=A.touch1[1],ae=(ae=re[0]-Q[0])*ae+(ae=re[1]-Q[1])*ae,te=(te=oe[0]-J[0])*te+(te=oe[1]-J[1])*te;U=M(U,Math.sqrt(ae/te)),_=[(Q[0]+re[0])/2,(Q[1]+re[1])/2],$=[(J[0]+oe[0])/2,(J[1]+oe[1])/2]}else if(A.touch0)_=A.touch0[0],$=A.touch0[1];else return;A.zoom("touch",o(w(U,_,$),A.extent,c))}}function ee(R,...V){if(this.__zooming){var A=D(this,V).event(R),H=R.changedTouches,I=H.length,z,U;for(qu(R),x&&clearTimeout(x),x=setTimeout(function(){x=null},E),z=0;z<I;++z)U=H[z],A.touch0&&A.touch0[2]===U.identifier?delete A.touch0:A.touch1&&A.touch1[2]===U.identifier&&delete A.touch1;if(A.touch1&&!A.touch0&&(A.touch0=A.touch1,delete A.touch1),A.touch0)A.touch0[1]=this.__zoom.invert(A.touch0[0]);else if(A.end(),A.taps===2&&(U=Dt(U,this),Math.hypot(m[0]-U[0],m[1]-U[1])<C)){var _=wt(this).on("dblclick.zoom");_&&_.apply(this,arguments)}}}return b.wheelDelta=function(R){return arguments.length?(s=typeof R=="function"?R:ll(+R),b):s},b.filter=function(R){return arguments.length?(e=typeof R=="function"?R:ll(!!R),b):e},b.touchable=function(R){return arguments.length?(l=typeof R=="function"?R:ll(!!R),b):l},b.extent=function(R){return arguments.length?(r=typeof R=="function"?R:ll([[+R[0][0],+R[0][1]],[+R[1][0],+R[1][1]]]),b):r},b.scaleExtent=function(R){return arguments.length?(u[0]=+R[0],u[1]=+R[1],b):[u[0],u[1]]},b.translateExtent=function(R){return arguments.length?(c[0][0]=+R[0][0],c[1][0]=+R[1][0],c[0][1]=+R[0][1],c[1][1]=+R[1][1],b):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},b.constrain=function(R){return arguments.length?(o=R,b):o},b.duration=function(R){return arguments.length?(f=+R,b):f},b.interpolate=function(R){return arguments.length?(h=R,b):h},b.on=function(){var R=y.on.apply(y,arguments);return R===y?b:R},b.clickDistance=function(R){return arguments.length?(j=(R=+R)*R,b):Math.sqrt(j)},b.tapDistance=function(R){return arguments.length?(C=+R,b):C},b}const Zt={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:r,sourceHandle:o,targetHandle:s})=>`Couldn't create edge for ${e} handle id: "${e==="source"?o:s}", edge id: ${r}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Ei=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],r0=["Enter"," ","Escape"],o0={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:r,y:o})=>`Moved selected node ${e}. New position, x: ${r}, y: ${o}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var ao;(function(e){e.Strict="strict",e.Loose="loose"})(ao||(ao={}));var gr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(gr||(gr={}));var Ni;(function(e){e.Partial="partial",e.Full="full"})(Ni||(Ni={}));const i0={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Un;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Un||(Un={}));var bl;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(bl||(bl={}));var xe;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(xe||(xe={}));const sp={[xe.Left]:xe.Right,[xe.Right]:xe.Left,[xe.Top]:xe.Bottom,[xe.Bottom]:xe.Top};function s0(e){return e===null?null:e?"valid":"invalid"}const l0=e=>"id"in e&&"source"in e&&"target"in e,Y2=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Hc=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Li=(e,r=[0,0])=>{const{width:o,height:s}=xn(e),l=e.origin??r,u=o*l[0],c=s*l[1];return{x:e.position.x-u,y:e.position.y-c}},X2=(e,r={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const o=e.reduce((s,l)=>{const u=typeof l=="string";let c=!r.nodeLookup&&!u?l:void 0;r.nodeLookup&&(c=u?r.nodeLookup.get(l):Hc(l)?l:r.nodeLookup.get(l.id));const f=c?jl(c,r.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Fl(s,f)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Hl(o)},Ti=(e,r={})=>{let o={x:1/0,y:1/0,x2:-1/0,y2:-1/0},s=!1;return e.forEach(l=>{(r.filter===void 0||r.filter(l))&&(o=Fl(o,jl(l)),s=!0)}),s?Hl(o):{x:0,y:0,width:0,height:0}},Vc=(e,r,[o,s,l]=[0,0,1],u=!1,c=!1)=>{const f={...$i(r,[o,s,l]),width:r.width/l,height:r.height/l},h=[];for(const y of e.values()){const{measured:v,selectable:m=!0,hidden:x=!1}=y;if(c&&!m||x)continue;const E=v.width??y.width??y.initialWidth??null,N=v.height??y.height??y.initialHeight??null,j=ki(f,co(y)),C=(E??0)*(N??0),b=u&&j>0;(!y.internals.handleBounds||b||j>=C||y.dragging)&&h.push(y)}return h},Q2=(e,r)=>{const o=new Set;return e.forEach(s=>{o.add(s.id)}),r.filter(s=>o.has(s.source)||o.has(s.target))};function G2(e,r){const o=new Map,s=r!=null&&r.nodes?new Set(r.nodes.map(l=>l.id)):null;return e.forEach(l=>{l.measured.width&&l.measured.height&&((r==null?void 0:r.includeHiddenNodes)||!l.hidden)&&(!s||s.has(l.id))&&o.set(l.id,l)}),o}async function K2({nodes:e,width:r,height:o,panZoom:s,minZoom:l,maxZoom:u},c){if(e.size===0)return Promise.resolve(!0);const f=G2(e,c),h=Ti(f),y=Bc(h,r,o,(c==null?void 0:c.minZoom)??l,(c==null?void 0:c.maxZoom)??u,(c==null?void 0:c.padding)??.1);return await s.setViewport(y,{duration:c==null?void 0:c.duration,ease:c==null?void 0:c.ease,interpolate:c==null?void 0:c.interpolate}),Promise.resolve(!0)}function a0({nodeId:e,nextPosition:r,nodeLookup:o,nodeOrigin:s=[0,0],nodeExtent:l,onError:u}){const c=o.get(e),f=c.parentId?o.get(c.parentId):void 0,{x:h,y}=f?f.internals.positionAbsolute:{x:0,y:0},v=c.origin??s;let m=c.extent||l;if(c.extent==="parent"&&!c.expandParent)if(!f)u==null||u("005",Zt.error005());else{const E=f.measured.width,N=f.measured.height;E&&N&&(m=[[h,y],[h+E,y+N]])}else f&&fo(c.extent)&&(m=[[c.extent[0][0]+h,c.extent[0][1]+y],[c.extent[1][0]+h,c.extent[1][1]+y]]);const x=fo(m)?xr(r,m,c.measured):r;return(c.measured.width===void 0||c.measured.height===void 0)&&(u==null||u("015",Zt.error015())),{position:{x:x.x-h+(c.measured.width??0)*v[0],y:x.y-y+(c.measured.height??0)*v[1]},positionAbsolute:x}}async function q2({nodesToRemove:e=[],edgesToRemove:r=[],nodes:o,edges:s,onBeforeDelete:l}){const u=new Set(e.map(x=>x.id)),c=[];for(const x of o){if(x.deletable===!1)continue;const E=u.has(x.id),N=!E&&x.parentId&&c.find(j=>j.id===x.parentId);(E||N)&&c.push(x)}const f=new Set(r.map(x=>x.id)),h=s.filter(x=>x.deletable!==!1),v=Q2(c,h);for(const x of h)f.has(x.id)&&!v.find(N=>N.id===x.id)&&v.push(x);if(!l)return{edges:v,nodes:c};const m=await l({nodes:c,edges:v});return typeof m=="boolean"?m?{edges:v,nodes:c}:{edges:[],nodes:[]}:m}const uo=(e,r=0,o=1)=>Math.min(Math.max(e,r),o),xr=(e={x:0,y:0},r,o)=>({x:uo(e.x,r[0][0],r[1][0]-((o==null?void 0:o.width)??0)),y:uo(e.y,r[0][1],r[1][1]-((o==null?void 0:o.height)??0))});function u0(e,r,o){const{width:s,height:l}=xn(o),{x:u,y:c}=o.internals.positionAbsolute;return xr(e,[[u,c],[u+s,c+l]],r)}const lp=(e,r,o)=>e<r?uo(Math.abs(e-r),1,r)/r:e>o?-uo(Math.abs(e-o),1,r)/r:0,c0=(e,r,o=15,s=40)=>{const l=lp(e.x,s,r.width-s)*o,u=lp(e.y,s,r.height-s)*o;return[l,u]},Fl=(e,r)=>({x:Math.min(e.x,r.x),y:Math.min(e.y,r.y),x2:Math.max(e.x2,r.x2),y2:Math.max(e.y2,r.y2)}),wc=({x:e,y:r,width:o,height:s})=>({x:e,y:r,x2:e+o,y2:r+s}),Hl=({x:e,y:r,x2:o,y2:s})=>({x:e,y:r,width:o-e,height:s-r}),co=(e,r=[0,0])=>{var l,u;const{x:o,y:s}=Hc(e)?e.internals.positionAbsolute:Li(e,r);return{x:o,y:s,width:((l=e.measured)==null?void 0:l.width)??e.width??e.initialWidth??0,height:((u=e.measured)==null?void 0:u.height)??e.height??e.initialHeight??0}},jl=(e,r=[0,0])=>{var l,u;const{x:o,y:s}=Hc(e)?e.internals.positionAbsolute:Li(e,r);return{x:o,y:s,x2:o+(((l=e.measured)==null?void 0:l.width)??e.width??e.initialWidth??0),y2:s+(((u=e.measured)==null?void 0:u.height)??e.height??e.initialHeight??0)}},d0=(e,r)=>Hl(Fl(wc(e),wc(r))),ki=(e,r)=>{const o=Math.max(0,Math.min(e.x+e.width,r.x+r.width)-Math.max(e.x,r.x)),s=Math.max(0,Math.min(e.y+e.height,r.y+r.height)-Math.max(e.y,r.y));return Math.ceil(o*s)},ap=e=>Ft(e.width)&&Ft(e.height)&&Ft(e.x)&&Ft(e.y),Ft=e=>!isNaN(e)&&isFinite(e),Z2=(e,r)=>{},zi=(e,r=[1,1])=>({x:r[0]*Math.round(e.x/r[0]),y:r[1]*Math.round(e.y/r[1])}),$i=({x:e,y:r},[o,s,l],u=!1,c=[1,1])=>{const f={x:(e-o)/l,y:(r-s)/l};return u?zi(f,c):f},Pl=({x:e,y:r},[o,s,l])=>({x:e*l+o,y:r*l+s});function Zr(e,r){if(typeof e=="number")return Math.floor((r-r/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const o=parseFloat(e);if(!Number.isNaN(o))return Math.floor(o)}if(typeof e=="string"&&e.endsWith("%")){const o=parseFloat(e);if(!Number.isNaN(o))return Math.floor(r*o*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function J2(e,r,o){if(typeof e=="string"||typeof e=="number"){const s=Zr(e,o),l=Zr(e,r);return{top:s,right:l,bottom:s,left:l,x:l*2,y:s*2}}if(typeof e=="object"){const s=Zr(e.top??e.y??0,o),l=Zr(e.bottom??e.y??0,o),u=Zr(e.left??e.x??0,r),c=Zr(e.right??e.x??0,r);return{top:s,right:c,bottom:l,left:u,x:u+c,y:s+l}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function eE(e,r,o,s,l,u){const{x:c,y:f}=Pl(e,[r,o,s]),{x:h,y}=Pl({x:e.x+e.width,y:e.y+e.height},[r,o,s]),v=l-h,m=u-y;return{left:Math.floor(c),top:Math.floor(f),right:Math.floor(v),bottom:Math.floor(m)}}const Bc=(e,r,o,s,l,u)=>{const c=J2(u,r,o),f=(r-c.x)/e.width,h=(o-c.y)/e.height,y=Math.min(f,h),v=uo(y,s,l),m=e.x+e.width/2,x=e.y+e.height/2,E=r/2-m*v,N=o/2-x*v,j=eE(e,E,N,v,r,o),C={left:Math.min(j.left-c.left,0),top:Math.min(j.top-c.top,0),right:Math.min(j.right-c.right,0),bottom:Math.min(j.bottom-c.bottom,0)};return{x:E-C.left+C.right,y:N-C.top+C.bottom,zoom:v}},Ci=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function fo(e){return e!=null&&e!=="parent"}function xn(e){var r,o;return{width:((r=e.measured)==null?void 0:r.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}}function f0(e){var r,o;return(((r=e.measured)==null?void 0:r.width)??e.width??e.initialWidth)!==void 0&&(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight)!==void 0}function h0(e,r={width:0,height:0},o,s,l){const u={...e},c=s.get(o);if(c){const f=c.origin||l;u.x+=c.internals.positionAbsolute.x-(r.width??0)*f[0],u.y+=c.internals.positionAbsolute.y-(r.height??0)*f[1]}return u}function up(e,r){if(e.size!==r.size)return!1;for(const o of e)if(!r.has(o))return!1;return!0}function tE(){let e,r;return{promise:new Promise((s,l)=>{e=s,r=l}),resolve:e,reject:r}}function nE(e){return{...o0,...e||{}}}function gi(e,{snapGrid:r=[0,0],snapToGrid:o=!1,transform:s,containerBounds:l}){const{x:u,y:c}=Ht(e),f=$i({x:u-((l==null?void 0:l.left)??0),y:c-((l==null?void 0:l.top)??0)},s),{x:h,y}=o?zi(f,r):f;return{xSnapped:h,ySnapped:y,...f}}const Uc=e=>({width:e.offsetWidth,height:e.offsetHeight}),p0=e=>{var r;return((r=e==null?void 0:e.getRootNode)==null?void 0:r.call(e))||(window==null?void 0:window.document)},rE=["INPUT","SELECT","TEXTAREA"];function m0(e){var s,l;const r=((l=(s=e.composedPath)==null?void 0:s.call(e))==null?void 0:l[0])||e.target;return(r==null?void 0:r.nodeType)!==1?!1:rE.includes(r.nodeName)||r.hasAttribute("contenteditable")||!!r.closest(".nokey")}const g0=e=>"clientX"in e,Ht=(e,r)=>{var u,c;const o=g0(e),s=o?e.clientX:(u=e.touches)==null?void 0:u[0].clientX,l=o?e.clientY:(c=e.touches)==null?void 0:c[0].clientY;return{x:s-((r==null?void 0:r.left)??0),y:l-((r==null?void 0:r.top)??0)}},cp=(e,r,o,s,l)=>{const u=r.querySelectorAll(`.${e}`);return!u||!u.length?null:Array.from(u).map(c=>{const f=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),type:e,nodeId:l,position:c.getAttribute("data-handlepos"),x:(f.left-o.left)/s,y:(f.top-o.top)/s,...Uc(c)}})};function y0({sourceX:e,sourceY:r,targetX:o,targetY:s,sourceControlX:l,sourceControlY:u,targetControlX:c,targetControlY:f}){const h=e*.125+l*.375+c*.375+o*.125,y=r*.125+u*.375+f*.375+s*.125,v=Math.abs(h-e),m=Math.abs(y-r);return[h,y,v,m]}function al(e,r){return e>=0?.5*e:r*25*Math.sqrt(-e)}function dp({pos:e,x1:r,y1:o,x2:s,y2:l,c:u}){switch(e){case xe.Left:return[r-al(r-s,u),o];case xe.Right:return[r+al(s-r,u),o];case xe.Top:return[r,o-al(o-l,u)];case xe.Bottom:return[r,o+al(l-o,u)]}}function v0({sourceX:e,sourceY:r,sourcePosition:o=xe.Bottom,targetX:s,targetY:l,targetPosition:u=xe.Top,curvature:c=.25}){const[f,h]=dp({pos:o,x1:e,y1:r,x2:s,y2:l,c}),[y,v]=dp({pos:u,x1:s,y1:l,x2:e,y2:r,c}),[m,x,E,N]=y0({sourceX:e,sourceY:r,targetX:s,targetY:l,sourceControlX:f,sourceControlY:h,targetControlX:y,targetControlY:v});return[`M${e},${r} C${f},${h} ${y},${v} ${s},${l}`,m,x,E,N]}function x0({sourceX:e,sourceY:r,targetX:o,targetY:s}){const l=Math.abs(o-e)/2,u=o<e?o+l:o-l,c=Math.abs(s-r)/2,f=s<r?s+c:s-c;return[u,f,l,c]}function oE({sourceNode:e,targetNode:r,selected:o=!1,zIndex:s=0,elevateOnSelect:l=!1,zIndexMode:u="basic"}){if(u==="manual")return s;const c=l&&o?s+1e3:s,f=Math.max(e.parentId||l&&e.selected?e.internals.z:0,r.parentId||l&&r.selected?r.internals.z:0);return c+f}function iE({sourceNode:e,targetNode:r,width:o,height:s,transform:l}){const u=Fl(jl(e),jl(r));u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c={x:-l[0]/l[2],y:-l[1]/l[2],width:o/l[2],height:s/l[2]};return ki(c,Hl(u))>0}const sE=({source:e,sourceHandle:r,target:o,targetHandle:s})=>`xy-edge__${e}${r||""}-${o}${s||""}`,lE=(e,r)=>r.some(o=>o.source===e.source&&o.target===e.target&&(o.sourceHandle===e.sourceHandle||!o.sourceHandle&&!e.sourceHandle)&&(o.targetHandle===e.targetHandle||!o.targetHandle&&!e.targetHandle)),w0=(e,r,o={})=>{if(!e.source||!e.target)return r;const s=o.getEdgeId||sE;let l;return l0(e)?l={...e}:l={...e,id:s(e)},lE(l,r)?r:(l.sourceHandle===null&&delete l.sourceHandle,l.targetHandle===null&&delete l.targetHandle,r.concat(l))};function S0({sourceX:e,sourceY:r,targetX:o,targetY:s}){const[l,u,c,f]=x0({sourceX:e,sourceY:r,targetX:o,targetY:s});return[`M ${e},${r}L ${o},${s}`,l,u,c,f]}const fp={[xe.Left]:{x:-1,y:0},[xe.Right]:{x:1,y:0},[xe.Top]:{x:0,y:-1},[xe.Bottom]:{x:0,y:1}},aE=({source:e,sourcePosition:r=xe.Bottom,target:o})=>r===xe.Left||r===xe.Right?e.x<o.x?{x:1,y:0}:{x:-1,y:0}:e.y<o.y?{x:0,y:1}:{x:0,y:-1},hp=(e,r)=>Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2));function uE({source:e,sourcePosition:r=xe.Bottom,target:o,targetPosition:s=xe.Top,center:l,offset:u,stepPosition:c}){const f=fp[r],h=fp[s],y={x:e.x+f.x*u,y:e.y+f.y*u},v={x:o.x+h.x*u,y:o.y+h.y*u},m=aE({source:y,sourcePosition:r,target:v}),x=m.x!==0?"x":"y",E=m[x];let N=[],j,C;const b={x:0,y:0},M={x:0,y:0},[,,w,P]=x0({sourceX:e.x,sourceY:e.y,targetX:o.x,targetY:o.y});if(f[x]*h[x]===-1){x==="x"?(j=l.x??y.x+(v.x-y.x)*c,C=l.y??(y.y+v.y)/2):(j=l.x??(y.x+v.x)/2,C=l.y??y.y+(v.y-y.y)*c);const D=[{x:j,y:y.y},{x:j,y:v.y}],T=[{x:y.x,y:C},{x:v.x,y:C}];f[x]===E?N=x==="x"?D:T:N=x==="x"?T:D}else{const D=[{x:y.x,y:v.y}],T=[{x:v.x,y:y.y}];if(x==="x"?N=f.x===E?T:D:N=f.y===E?D:T,r===s){const X=Math.abs(e[x]-o[x]);if(X<=u){const ee=Math.min(u-1,u-X);f[x]===E?b[x]=(y[x]>e[x]?-1:1)*ee:M[x]=(v[x]>o[x]?-1:1)*ee}}if(r!==s){const X=x==="x"?"y":"x",ee=f[x]===h[X],R=y[X]>v[X],V=y[X]<v[X];(f[x]===1&&(!ee&&R||ee&&V)||f[x]!==1&&(!ee&&V||ee&&R))&&(N=x==="x"?D:T)}const W={x:y.x+b.x,y:y.y+b.y},Y={x:v.x+M.x,y:v.y+M.y},ne=Math.max(Math.abs(W.x-N[0].x),Math.abs(Y.x-N[0].x)),G=Math.max(Math.abs(W.y-N[0].y),Math.abs(Y.y-N[0].y));ne>=G?(j=(W.x+Y.x)/2,C=N[0].y):(j=N[0].x,C=(W.y+Y.y)/2)}return[[e,{x:y.x+b.x,y:y.y+b.y},...N,{x:v.x+M.x,y:v.y+M.y},o],j,C,w,P]}function cE(e,r,o,s){const l=Math.min(hp(e,r)/2,hp(r,o)/2,s),{x:u,y:c}=r;if(e.x===u&&u===o.x||e.y===c&&c===o.y)return`L${u} ${c}`;if(e.y===c){const y=e.x<o.x?-1:1,v=e.y<o.y?1:-1;return`L ${u+l*y},${c}Q ${u},${c} ${u},${c+l*v}`}const f=e.x<o.x?1:-1,h=e.y<o.y?-1:1;return`L ${u},${c+l*h}Q ${u},${c} ${u+l*f},${c}`}function Sc({sourceX:e,sourceY:r,sourcePosition:o=xe.Bottom,targetX:s,targetY:l,targetPosition:u=xe.Top,borderRadius:c=5,centerX:f,centerY:h,offset:y=20,stepPosition:v=.5}){const[m,x,E,N,j]=uE({source:{x:e,y:r},sourcePosition:o,target:{x:s,y:l},targetPosition:u,center:{x:f,y:h},offset:y,stepPosition:v});return[m.reduce((b,M,w)=>{let P="";return w>0&&w<m.length-1?P=cE(m[w-1],M,m[w+1],c):P=`${w===0?"M":"L"}${M.x} ${M.y}`,b+=P,b},""),x,E,N,j]}function pp(e){var r;return e&&!!(e.internals.handleBounds||(r=e.handles)!=null&&r.length)&&!!(e.measured.width||e.width||e.initialWidth)}function dE(e){var m;const{sourceNode:r,targetNode:o}=e;if(!pp(r)||!pp(o))return null;const s=r.internals.handleBounds||mp(r.handles),l=o.internals.handleBounds||mp(o.handles),u=gp((s==null?void 0:s.source)??[],e.sourceHandle),c=gp(e.connectionMode===ao.Strict?(l==null?void 0:l.target)??[]:((l==null?void 0:l.target)??[]).concat((l==null?void 0:l.source)??[]),e.targetHandle);if(!u||!c)return(m=e.onError)==null||m.call(e,"008",Zt.error008(u?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const f=(u==null?void 0:u.position)||xe.Bottom,h=(c==null?void 0:c.position)||xe.Top,y=wr(r,u,f),v=wr(o,c,h);return{sourceX:y.x,sourceY:y.y,targetX:v.x,targetY:v.y,sourcePosition:f,targetPosition:h}}function mp(e){if(!e)return null;const r=[],o=[];for(const s of e)s.width=s.width??1,s.height=s.height??1,s.type==="source"?r.push(s):s.type==="target"&&o.push(s);return{source:r,target:o}}function wr(e,r,o=xe.Left,s=!1){const l=((r==null?void 0:r.x)??0)+e.internals.positionAbsolute.x,u=((r==null?void 0:r.y)??0)+e.internals.positionAbsolute.y,{width:c,height:f}=r??xn(e);if(s)return{x:l+c/2,y:u+f/2};switch((r==null?void 0:r.position)??o){case xe.Top:return{x:l+c/2,y:u};case xe.Right:return{x:l+c,y:u+f/2};case xe.Bottom:return{x:l+c/2,y:u+f};case xe.Left:return{x:l,y:u+f/2}}}function gp(e,r){return e&&(r?e.find(o=>o.id===r):e[0])||null}function Ec(e,r){return e?typeof e=="string"?e:`${r?`${r}__`:""}${Object.keys(e).sort().map(s=>`${s}=${e[s]}`).join("&")}`:""}function fE(e,{id:r,defaultColor:o,defaultMarkerStart:s,defaultMarkerEnd:l}){const u=new Set;return e.reduce((c,f)=>([f.markerStart||s,f.markerEnd||l].forEach(h=>{if(h&&typeof h=="object"){const y=Ec(h,r);u.has(y)||(c.push({id:y,color:h.color||o,...h}),u.add(y))}}),c),[]).sort((c,f)=>c.id.localeCompare(f.id))}const E0=1e3,hE=10,Wc={nodeOrigin:[0,0],nodeExtent:Ei,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},pE={...Wc,checkEquality:!0};function Yc(e,r){const o={...e};for(const s in r)r[s]!==void 0&&(o[s]=r[s]);return o}function mE(e,r,o){const s=Yc(Wc,o);for(const l of e.values())if(l.parentId)Qc(l,e,r,s);else{const u=Li(l,s.nodeOrigin),c=fo(l.extent)?l.extent:s.nodeExtent,f=xr(u,c,xn(l));l.internals.positionAbsolute=f}}function gE(e,r){if(!e.handles)return e.measured?r==null?void 0:r.internals.handleBounds:void 0;const o=[],s=[];for(const l of e.handles){const u={id:l.id,width:l.width??1,height:l.height??1,nodeId:e.id,x:l.x,y:l.y,position:l.position,type:l.type};l.type==="source"?o.push(u):l.type==="target"&&s.push(u)}return{source:o,target:s}}function Xc(e){return e==="manual"}function Nc(e,r,o,s={}){var y,v;const l=Yc(pE,s),u={i:0},c=new Map(r),f=l!=null&&l.elevateNodesOnSelect&&!Xc(l.zIndexMode)?E0:0;let h=e.length>0;r.clear(),o.clear();for(const m of e){let x=c.get(m.id);if(l.checkEquality&&m===(x==null?void 0:x.internals.userNode))r.set(m.id,x);else{const E=Li(m,l.nodeOrigin),N=fo(m.extent)?m.extent:l.nodeExtent,j=xr(E,N,xn(m));x={...l.defaults,...m,measured:{width:(y=m.measured)==null?void 0:y.width,height:(v=m.measured)==null?void 0:v.height},internals:{positionAbsolute:j,handleBounds:gE(m,x),z:N0(m,f,l.zIndexMode),userNode:m}},r.set(m.id,x)}(x.measured===void 0||x.measured.width===void 0||x.measured.height===void 0)&&!x.hidden&&(h=!1),m.parentId&&Qc(x,r,o,s,u)}return h}function yE(e,r){if(!e.parentId)return;const o=r.get(e.parentId);o?o.set(e.id,e):r.set(e.parentId,new Map([[e.id,e]]))}function Qc(e,r,o,s,l){const{elevateNodesOnSelect:u,nodeOrigin:c,nodeExtent:f,zIndexMode:h}=Yc(Wc,s),y=e.parentId,v=r.get(y);if(!v){console.warn(`Parent node ${y} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}yE(e,o),l&&!v.parentId&&v.internals.rootParentIndex===void 0&&h==="auto"&&(v.internals.rootParentIndex=++l.i,v.internals.z=v.internals.z+l.i*hE),l&&v.internals.rootParentIndex!==void 0&&(l.i=v.internals.rootParentIndex);const m=u&&!Xc(h)?E0:0,{x,y:E,z:N}=vE(e,v,c,f,m,h),{positionAbsolute:j}=e.internals,C=x!==j.x||E!==j.y;(C||N!==e.internals.z)&&r.set(e.id,{...e,internals:{...e.internals,positionAbsolute:C?{x,y:E}:j,z:N}})}function N0(e,r,o){const s=Ft(e.zIndex)?e.zIndex:0;return Xc(o)?s:s+(e.selected?r:0)}function vE(e,r,o,s,l,u){const{x:c,y:f}=r.internals.positionAbsolute,h=xn(e),y=Li(e,o),v=fo(e.extent)?xr(y,e.extent,h):y;let m=xr({x:c+v.x,y:f+v.y},s,h);e.extent==="parent"&&(m=u0(m,h,r));const x=N0(e,l,u),E=r.internals.z??0;return{x:m.x,y:m.y,z:E>=x?E+1:x}}function Gc(e,r,o,s=[0,0]){var c;const l=[],u=new Map;for(const f of e){const h=r.get(f.parentId);if(!h)continue;const y=((c=u.get(f.parentId))==null?void 0:c.expandedRect)??co(h),v=d0(y,f.rect);u.set(f.parentId,{expandedRect:v,parent:h})}return u.size>0&&u.forEach(({expandedRect:f,parent:h},y)=>{var w;const v=h.internals.positionAbsolute,m=xn(h),x=h.origin??s,E=f.x<v.x?Math.round(Math.abs(v.x-f.x)):0,N=f.y<v.y?Math.round(Math.abs(v.y-f.y)):0,j=Math.max(m.width,Math.round(f.width)),C=Math.max(m.height,Math.round(f.height)),b=(j-m.width)*x[0],M=(C-m.height)*x[1];(E>0||N>0||b||M)&&(l.push({id:y,type:"position",position:{x:h.position.x-E+b,y:h.position.y-N+M}}),(w=o.get(y))==null||w.forEach(P=>{e.some(F=>F.id===P.id)||l.push({id:P.id,type:"position",position:{x:P.position.x+E,y:P.position.y+N}})})),(m.width<f.width||m.height<f.height||E||N)&&l.push({id:y,type:"dimensions",setAttributes:!0,dimensions:{width:j+(E?x[0]*E-b:0),height:C+(N?x[1]*N-M:0)}})}),l}function xE(e,r,o,s,l,u,c){const f=s==null?void 0:s.querySelector(".xyflow__viewport");let h=!1;if(!f)return{changes:[],updatedInternals:h};const y=[],v=window.getComputedStyle(f),{m22:m}=new window.DOMMatrixReadOnly(v.transform),x=[];for(const E of e.values()){const N=r.get(E.id);if(!N)continue;if(N.hidden){r.set(N.id,{...N,internals:{...N.internals,handleBounds:void 0}}),h=!0;continue}const j=Uc(E.nodeElement),C=N.measured.width!==j.width||N.measured.height!==j.height;if(!!(j.width&&j.height&&(C||!N.internals.handleBounds||E.force))){const M=E.nodeElement.getBoundingClientRect(),w=fo(N.extent)?N.extent:u;let{positionAbsolute:P}=N.internals;N.parentId&&N.extent==="parent"?P=u0(P,j,r.get(N.parentId)):w&&(P=xr(P,w,j));const F={...N,measured:j,internals:{...N.internals,positionAbsolute:P,handleBounds:{source:cp("source",E.nodeElement,M,m,N.id),target:cp("target",E.nodeElement,M,m,N.id)}}};r.set(N.id,F),N.parentId&&Qc(F,r,o,{nodeOrigin:l,zIndexMode:c}),h=!0,C&&(y.push({id:N.id,type:"dimensions",dimensions:j}),N.expandParent&&N.parentId&&x.push({id:N.id,parentId:N.parentId,rect:co(F,l)}))}}if(x.length>0){const E=Gc(x,r,o,l);y.push(...E)}return{changes:y,updatedInternals:h}}async function wE({delta:e,panZoom:r,transform:o,translateExtent:s,width:l,height:u}){if(!r||!e.x&&!e.y)return Promise.resolve(!1);const c=await r.setViewportConstrained({x:o[0]+e.x,y:o[1]+e.y,zoom:o[2]},[[0,0],[l,u]],s),f=!!c&&(c.x!==o[0]||c.y!==o[1]||c.k!==o[2]);return Promise.resolve(f)}function yp(e,r,o,s,l,u){let c=l;const f=s.get(c)||new Map;s.set(c,f.set(o,r)),c=`${l}-${e}`;const h=s.get(c)||new Map;if(s.set(c,h.set(o,r)),u){c=`${l}-${e}-${u}`;const y=s.get(c)||new Map;s.set(c,y.set(o,r))}}function k0(e,r,o){e.clear(),r.clear();for(const s of o){const{source:l,target:u,sourceHandle:c=null,targetHandle:f=null}=s,h={edgeId:s.id,source:l,target:u,sourceHandle:c,targetHandle:f},y=`${l}-${c}--${u}-${f}`,v=`${u}-${f}--${l}-${c}`;yp("source",h,v,e,l,c),yp("target",h,y,e,u,f),r.set(s.id,s)}}function C0(e,r){if(!e.parentId)return!1;const o=r.get(e.parentId);return o?o.selected?!0:C0(o,r):!1}function vp(e,r,o){var l;let s=e;do{if((l=s==null?void 0:s.matches)!=null&&l.call(s,r))return!0;if(s===o)return!1;s=s==null?void 0:s.parentElement}while(s);return!1}function SE(e,r,o,s){const l=new Map;for(const[u,c]of e)if((c.selected||c.id===s)&&(!c.parentId||!C0(c,e))&&(c.draggable||r&&typeof c.draggable>"u")){const f=e.get(u);f&&l.set(u,{id:u,position:f.position||{x:0,y:0},distance:{x:o.x-f.internals.positionAbsolute.x,y:o.y-f.internals.positionAbsolute.y},extent:f.extent,parentId:f.parentId,origin:f.origin,expandParent:f.expandParent,internals:{positionAbsolute:f.internals.positionAbsolute||{x:0,y:0}},measured:{width:f.measured.width??0,height:f.measured.height??0}})}return l}function Zu({nodeId:e,dragItems:r,nodeLookup:o,dragging:s=!0}){var c,f,h;const l=[];for(const[y,v]of r){const m=(c=o.get(y))==null?void 0:c.internals.userNode;m&&l.push({...m,position:v.position,dragging:s})}if(!e)return[l[0],l];const u=(f=o.get(e))==null?void 0:f.internals.userNode;return[u?{...u,position:((h=r.get(e))==null?void 0:h.position)||u.position,dragging:s}:l[0],l]}function EE({dragItems:e,snapGrid:r,x:o,y:s}){const l=e.values().next().value;if(!l)return null;const u={x:o-l.distance.x,y:s-l.distance.y},c=zi(u,r);return{x:c.x-u.x,y:c.y-u.y}}function NE({onNodeMouseDown:e,getStoreItems:r,onDragStart:o,onDrag:s,onDragStop:l}){let u={x:null,y:null},c=0,f=new Map,h=!1,y={x:0,y:0},v=null,m=!1,x=null,E=!1,N=!1,j=null;function C({noDragClassName:M,handleSelector:w,domNode:P,isSelectable:F,nodeId:D,nodeClickDistance:T=0}){x=wt(P);function W({x:X,y:ee}){const{nodeLookup:R,nodeExtent:V,snapGrid:A,snapToGrid:H,nodeOrigin:I,onNodeDrag:z,onSelectionDrag:U,onError:_,updateNodePositions:$}=r();u={x:X,y:ee};let Q=!1;const J=f.size>1,re=J&&V?wc(Ti(f)):null,oe=J&&H?EE({dragItems:f,snapGrid:A,x:X,y:ee}):null;for(const[ae,te]of f){if(!R.has(ae))continue;let ce={x:X-te.distance.x,y:ee-te.distance.y};H&&(ce=oe?{x:Math.round(ce.x+oe.x),y:Math.round(ce.y+oe.y)}:zi(ce,A));let pe=null;if(J&&V&&!te.extent&&re){const{positionAbsolute:fe}=te.internals,ke=fe.x-re.x+V[0][0],Me=fe.x+te.measured.width-re.x2+V[1][0],_e=fe.y-re.y+V[0][1],Ue=fe.y+te.measured.height-re.y2+V[1][1];pe=[[ke,_e],[Me,Ue]]}const{position:we,positionAbsolute:ye}=a0({nodeId:ae,nextPosition:ce,nodeLookup:R,nodeExtent:pe||V,nodeOrigin:I,onError:_});Q=Q||te.position.x!==we.x||te.position.y!==we.y,te.position=we,te.internals.positionAbsolute=ye}if(N=N||Q,!!Q&&($(f,!0),j&&(s||z||!D&&U))){const[ae,te]=Zu({nodeId:D,dragItems:f,nodeLookup:R});s==null||s(j,f,ae,te),z==null||z(j,ae,te),D||U==null||U(j,te)}}async function Y(){if(!v)return;const{transform:X,panBy:ee,autoPanSpeed:R,autoPanOnNodeDrag:V}=r();if(!V){h=!1,cancelAnimationFrame(c);return}const[A,H]=c0(y,v,R);(A!==0||H!==0)&&(u.x=(u.x??0)-A/X[2],u.y=(u.y??0)-H/X[2],await ee({x:A,y:H})&&W(u)),c=requestAnimationFrame(Y)}function ne(X){var J;const{nodeLookup:ee,multiSelectionActive:R,nodesDraggable:V,transform:A,snapGrid:H,snapToGrid:I,selectNodesOnDrag:z,onNodeDragStart:U,onSelectionDragStart:_,unselectNodesAndEdges:$}=r();m=!0,(!z||!F)&&!R&&D&&((J=ee.get(D))!=null&&J.selected||$()),F&&z&&D&&(e==null||e(D));const Q=gi(X.sourceEvent,{transform:A,snapGrid:H,snapToGrid:I,containerBounds:v});if(u=Q,f=SE(ee,V,Q,D),f.size>0&&(o||U||!D&&_)){const[re,oe]=Zu({nodeId:D,dragItems:f,nodeLookup:ee});o==null||o(X.sourceEvent,f,re,oe),U==null||U(X.sourceEvent,re,oe),D||_==null||_(X.sourceEvent,oe)}}const G=Hm().clickDistance(T).on("start",X=>{const{domNode:ee,nodeDragThreshold:R,transform:V,snapGrid:A,snapToGrid:H}=r();v=(ee==null?void 0:ee.getBoundingClientRect())||null,E=!1,N=!1,j=X.sourceEvent,R===0&&ne(X),u=gi(X.sourceEvent,{transform:V,snapGrid:A,snapToGrid:H,containerBounds:v}),y=Ht(X.sourceEvent,v)}).on("drag",X=>{const{autoPanOnNodeDrag:ee,transform:R,snapGrid:V,snapToGrid:A,nodeDragThreshold:H,nodeLookup:I}=r(),z=gi(X.sourceEvent,{transform:R,snapGrid:V,snapToGrid:A,containerBounds:v});if(j=X.sourceEvent,(X.sourceEvent.type==="touchmove"&&X.sourceEvent.touches.length>1||D&&!I.has(D))&&(E=!0),!E){if(!h&&ee&&m&&(h=!0,Y()),!m){const U=Ht(X.sourceEvent,v),_=U.x-y.x,$=U.y-y.y;Math.sqrt(_*_+$*$)>H&&ne(X)}(u.x!==z.xSnapped||u.y!==z.ySnapped)&&f&&m&&(y=Ht(X.sourceEvent,v),W(z))}}).on("end",X=>{if(!(!m||E)&&(h=!1,m=!1,cancelAnimationFrame(c),f.size>0)){const{nodeLookup:ee,updateNodePositions:R,onNodeDragStop:V,onSelectionDragStop:A}=r();if(N&&(R(f,!1),N=!1),l||V||!D&&A){const[H,I]=Zu({nodeId:D,dragItems:f,nodeLookup:ee,dragging:!1});l==null||l(X.sourceEvent,f,H,I),V==null||V(X.sourceEvent,H,I),D||A==null||A(X.sourceEvent,I)}}}).filter(X=>{const ee=X.target;return!X.button&&(!M||!vp(ee,`.${M}`,P))&&(!w||vp(ee,w,P))});x.call(G)}function b(){x==null||x.on(".drag",null)}return{update:C,destroy:b}}function kE(e,r,o){const s=[],l={x:e.x-o,y:e.y-o,width:o*2,height:o*2};for(const u of r.values())ki(l,co(u))>0&&s.push(u);return s}const CE=250;function _E(e,r,o,s){var f,h;let l=[],u=1/0;const c=kE(e,o,r+CE);for(const y of c){const v=[...((f=y.internals.handleBounds)==null?void 0:f.source)??[],...((h=y.internals.handleBounds)==null?void 0:h.target)??[]];for(const m of v){if(s.nodeId===m.nodeId&&s.type===m.type&&s.id===m.id)continue;const{x,y:E}=wr(y,m,m.position,!0),N=Math.sqrt(Math.pow(x-e.x,2)+Math.pow(E-e.y,2));N>r||(N<u?(l=[{...m,x,y:E}],u=N):N===u&&l.push({...m,x,y:E}))}}if(!l.length)return null;if(l.length>1){const y=s.type==="source"?"target":"source";return l.find(v=>v.type===y)??l[0]}return l[0]}function _0(e,r,o,s,l,u=!1){var y,v,m;const c=s.get(e);if(!c)return null;const f=l==="strict"?(y=c.internals.handleBounds)==null?void 0:y[r]:[...((v=c.internals.handleBounds)==null?void 0:v.source)??[],...((m=c.internals.handleBounds)==null?void 0:m.target)??[]],h=(o?f==null?void 0:f.find(x=>x.id===o):f==null?void 0:f[0])??null;return h&&u?{...h,...wr(c,h,h.position,!0)}:h}function b0(e,r){return e||(r!=null&&r.classList.contains("target")?"target":r!=null&&r.classList.contains("source")?"source":null)}function bE(e,r){let o=null;return r?o=!0:e&&!r&&(o=!1),o}const j0=()=>!0;function jE(e,{connectionMode:r,connectionRadius:o,handleId:s,nodeId:l,edgeUpdaterType:u,isTarget:c,domNode:f,nodeLookup:h,lib:y,autoPanOnConnect:v,flowId:m,panBy:x,cancelConnection:E,onConnectStart:N,onConnect:j,onConnectEnd:C,isValidConnection:b=j0,onReconnectEnd:M,updateConnection:w,getTransform:P,getFromHandle:F,autoPanSpeed:D,dragThreshold:T=1,handleDomNode:W}){const Y=p0(e.target);let ne=0,G;const{x:X,y:ee}=Ht(e),R=b0(u,W),V=f==null?void 0:f.getBoundingClientRect();let A=!1;if(!V||!R)return;const H=_0(l,R,s,h,r);if(!H)return;let I=Ht(e,V),z=!1,U=null,_=!1,$=null;function Q(){if(!v||!V)return;const[we,ye]=c0(I,V,D);x({x:we,y:ye}),ne=requestAnimationFrame(Q)}const J={...H,nodeId:l,type:R,position:H.position},re=h.get(l);let ae={inProgress:!0,isValid:null,from:wr(re,J,xe.Left,!0),fromHandle:J,fromPosition:J.position,fromNode:re,to:I,toHandle:null,toPosition:sp[J.position],toNode:null,pointer:I};function te(){A=!0,w(ae),N==null||N(e,{nodeId:l,handleId:s,handleType:R})}T===0&&te();function ce(we){if(!A){const{x:Ue,y:It}=Ht(we),ht=Ue-X,pt=It-ee;if(!(ht*ht+pt*pt>T*T))return;te()}if(!F()||!J){pe(we);return}const ye=P();I=Ht(we,V),G=_E($i(I,ye,!1,[1,1]),o,h,J),z||(Q(),z=!0);const fe=P0(we,{handle:G,connectionMode:r,fromNodeId:l,fromHandleId:s,fromType:c?"target":"source",isValidConnection:b,doc:Y,lib:y,flowId:m,nodeLookup:h});$=fe.handleDomNode,U=fe.connection,_=bE(!!G,fe.isValid);const ke=h.get(l),Me=ke?wr(ke,J,xe.Left,!0):ae.from,_e={...ae,from:Me,isValid:_,to:fe.toHandle&&_?Pl({x:fe.toHandle.x,y:fe.toHandle.y},ye):I,toHandle:fe.toHandle,toPosition:_&&fe.toHandle?fe.toHandle.position:sp[J.position],toNode:fe.toHandle?h.get(fe.toHandle.nodeId):null,pointer:I};w(_e),ae=_e}function pe(we){if(!("touches"in we&&we.touches.length>0)){if(A){(G||$)&&U&&_&&(j==null||j(U));const{inProgress:ye,...fe}=ae,ke={...fe,toPosition:ae.toHandle?ae.toPosition:null};C==null||C(we,ke),u&&(M==null||M(we,ke))}E(),cancelAnimationFrame(ne),z=!1,_=!1,U=null,$=null,Y.removeEventListener("mousemove",ce),Y.removeEventListener("mouseup",pe),Y.removeEventListener("touchmove",ce),Y.removeEventListener("touchend",pe)}}Y.addEventListener("mousemove",ce),Y.addEventListener("mouseup",pe),Y.addEventListener("touchmove",ce),Y.addEventListener("touchend",pe)}function P0(e,{handle:r,connectionMode:o,fromNodeId:s,fromHandleId:l,fromType:u,doc:c,lib:f,flowId:h,isValidConnection:y=j0,nodeLookup:v}){const m=u==="target",x=r?c.querySelector(`.${f}-flow__handle[data-id="${h}-${r==null?void 0:r.nodeId}-${r==null?void 0:r.id}-${r==null?void 0:r.type}"]`):null,{x:E,y:N}=Ht(e),j=c.elementFromPoint(E,N),C=j!=null&&j.classList.contains(`${f}-flow__handle`)?j:x,b={handleDomNode:C,isValid:!1,connection:null,toHandle:null};if(C){const M=b0(void 0,C),w=C.getAttribute("data-nodeid"),P=C.getAttribute("data-handleid"),F=C.classList.contains("connectable"),D=C.classList.contains("connectableend");if(!w||!M)return b;const T={source:m?w:s,sourceHandle:m?P:l,target:m?s:w,targetHandle:m?l:P};b.connection=T;const Y=F&&D&&(o===ao.Strict?m&&M==="source"||!m&&M==="target":w!==s||P!==l);b.isValid=Y&&y(T),b.toHandle=_0(w,M,P,v,o,!0)}return b}const kc={onPointerDown:jE,isValid:P0};function PE({domNode:e,panZoom:r,getTransform:o,getViewScale:s}){const l=wt(e);function u({translateExtent:f,width:h,height:y,zoomStep:v=1,pannable:m=!0,zoomable:x=!0,inversePan:E=!1}){const N=w=>{if(w.sourceEvent.type!=="wheel"||!r)return;const P=o(),F=w.sourceEvent.ctrlKey&&Ci()?10:1,D=-w.sourceEvent.deltaY*(w.sourceEvent.deltaMode===1?.05:w.sourceEvent.deltaMode?1:.002)*v,T=P[2]*Math.pow(2,D*F);r.scaleTo(T)};let j=[0,0];const C=w=>{(w.sourceEvent.type==="mousedown"||w.sourceEvent.type==="touchstart")&&(j=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY])},b=w=>{const P=o();if(w.sourceEvent.type!=="mousemove"&&w.sourceEvent.type!=="touchmove"||!r)return;const F=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY],D=[F[0]-j[0],F[1]-j[1]];j=F;const T=s()*Math.max(P[2],Math.log(P[2]))*(E?-1:1),W={x:P[0]-D[0]*T,y:P[1]-D[1]*T},Y=[[0,0],[h,y]];r.setViewportConstrained({x:W.x,y:W.y,zoom:P[2]},Y,f)},M=n0().on("start",C).on("zoom",m?b:null).on("zoom.wheel",x?N:null);l.call(M,{})}function c(){l.on("zoom",null)}return{update:u,destroy:c,pointer:Dt}}const Vl=e=>({x:e.x,y:e.y,zoom:e.k}),Ju=({x:e,y:r,zoom:o})=>Ol.translate(e,r).scale(o),to=(e,r)=>e.target.closest(`.${r}`),M0=(e,r)=>r===2&&Array.isArray(e)&&e.includes(2),ME=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,ec=(e,r=0,o=ME,s=()=>{})=>{const l=typeof r=="number"&&r>0;return l||s(),l?e.transition().duration(r).ease(o).on("end",s):e},I0=e=>{const r=e.ctrlKey&&Ci()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*r};function IE({zoomPanValues:e,noWheelClassName:r,d3Selection:o,d3Zoom:s,panOnScrollMode:l,panOnScrollSpeed:u,zoomOnPinch:c,onPanZoomStart:f,onPanZoom:h,onPanZoomEnd:y}){return v=>{if(to(v,r))return v.ctrlKey&&v.preventDefault(),!1;v.preventDefault(),v.stopImmediatePropagation();const m=o.property("__zoom").k||1;if(v.ctrlKey&&c){const C=Dt(v),b=I0(v),M=m*Math.pow(2,b);s.scaleTo(o,M,C,v);return}const x=v.deltaMode===1?20:1;let E=l===gr.Vertical?0:v.deltaX*x,N=l===gr.Horizontal?0:v.deltaY*x;!Ci()&&v.shiftKey&&l!==gr.Vertical&&(E=v.deltaY*x,N=0),s.translateBy(o,-(E/m)*u,-(N/m)*u,{internal:!0});const j=Vl(o.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(h==null||h(v,j),e.panScrollTimeout=setTimeout(()=>{y==null||y(v,j),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,f==null||f(v,j))}}function RE({noWheelClassName:e,preventScrolling:r,d3ZoomHandler:o}){return function(s,l){const u=s.type==="wheel",c=!r&&u&&!s.ctrlKey,f=to(s,e);if(s.ctrlKey&&u&&f&&s.preventDefault(),c||f)return null;s.preventDefault(),o.call(this,s,l)}}function LE({zoomPanValues:e,onDraggingChange:r,onPanZoomStart:o}){return s=>{var u,c,f;if((u=s.sourceEvent)!=null&&u.internal)return;const l=Vl(s.transform);e.mouseButton=((c=s.sourceEvent)==null?void 0:c.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=l,((f=s.sourceEvent)==null?void 0:f.type)==="mousedown"&&r(!0),o&&(o==null||o(s.sourceEvent,l))}}function TE({zoomPanValues:e,panOnDrag:r,onPaneContextMenu:o,onTransformChange:s,onPanZoom:l}){return u=>{var c,f;e.usedRightMouseButton=!!(o&&M0(r,e.mouseButton??0)),(c=u.sourceEvent)!=null&&c.sync||s([u.transform.x,u.transform.y,u.transform.k]),l&&!((f=u.sourceEvent)!=null&&f.internal)&&(l==null||l(u.sourceEvent,Vl(u.transform)))}}function zE({zoomPanValues:e,panOnDrag:r,panOnScroll:o,onDraggingChange:s,onPanZoomEnd:l,onPaneContextMenu:u}){return c=>{var f;if(!((f=c.sourceEvent)!=null&&f.internal)&&(e.isZoomingOrPanning=!1,u&&M0(r,e.mouseButton??0)&&!e.usedRightMouseButton&&c.sourceEvent&&u(c.sourceEvent),e.usedRightMouseButton=!1,s(!1),l)){const h=Vl(c.transform);e.prevViewport=h,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{l==null||l(c.sourceEvent,h)},o?150:0)}}}function $E({zoomActivationKeyPressed:e,zoomOnScroll:r,zoomOnPinch:o,panOnDrag:s,panOnScroll:l,zoomOnDoubleClick:u,userSelectionActive:c,noWheelClassName:f,noPanClassName:h,lib:y,connectionInProgress:v}){return m=>{var C;const x=e||r,E=o&&m.ctrlKey,N=m.type==="wheel";if(m.button===1&&m.type==="mousedown"&&(to(m,`${y}-flow__node`)||to(m,`${y}-flow__edge`)))return!0;if(!s&&!x&&!l&&!u&&!o||c||v&&!N||to(m,f)&&N||to(m,h)&&(!N||l&&N&&!e)||!o&&m.ctrlKey&&N)return!1;if(!o&&m.type==="touchstart"&&((C=m.touches)==null?void 0:C.length)>1)return m.preventDefault(),!1;if(!x&&!l&&!E&&N||!s&&(m.type==="mousedown"||m.type==="touchstart")||Array.isArray(s)&&!s.includes(m.button)&&m.type==="mousedown")return!1;const j=Array.isArray(s)&&s.includes(m.button)||!m.button||m.button<=1;return(!m.ctrlKey||N)&&j}}function AE({domNode:e,minZoom:r,maxZoom:o,translateExtent:s,viewport:l,onPanZoom:u,onPanZoomStart:c,onPanZoomEnd:f,onDraggingChange:h}){const y={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},v=e.getBoundingClientRect(),m=n0().scaleExtent([r,o]).translateExtent(s),x=wt(e).call(m);M({x:l.x,y:l.y,zoom:uo(l.zoom,r,o)},[[0,0],[v.width,v.height]],s);const E=x.on("wheel.zoom"),N=x.on("dblclick.zoom");m.wheelDelta(I0);function j(G,X){return x?new Promise(ee=>{m==null||m.interpolate((X==null?void 0:X.interpolate)==="linear"?mi:ml).transform(ec(x,X==null?void 0:X.duration,X==null?void 0:X.ease,()=>ee(!0)),G)}):Promise.resolve(!1)}function C({noWheelClassName:G,noPanClassName:X,onPaneContextMenu:ee,userSelectionActive:R,panOnScroll:V,panOnDrag:A,panOnScrollMode:H,panOnScrollSpeed:I,preventScrolling:z,zoomOnPinch:U,zoomOnScroll:_,zoomOnDoubleClick:$,zoomActivationKeyPressed:Q,lib:J,onTransformChange:re,connectionInProgress:oe,paneClickDistance:ae,selectionOnDrag:te}){R&&!y.isZoomingOrPanning&&b();const ce=V&&!Q&&!R;m.clickDistance(te?1/0:!Ft(ae)||ae<0?0:ae);const pe=ce?IE({zoomPanValues:y,noWheelClassName:G,d3Selection:x,d3Zoom:m,panOnScrollMode:H,panOnScrollSpeed:I,zoomOnPinch:U,onPanZoomStart:c,onPanZoom:u,onPanZoomEnd:f}):RE({noWheelClassName:G,preventScrolling:z,d3ZoomHandler:E});if(x.on("wheel.zoom",pe,{passive:!1}),!R){const ye=LE({zoomPanValues:y,onDraggingChange:h,onPanZoomStart:c});m.on("start",ye);const fe=TE({zoomPanValues:y,panOnDrag:A,onPaneContextMenu:!!ee,onPanZoom:u,onTransformChange:re});m.on("zoom",fe);const ke=zE({zoomPanValues:y,panOnDrag:A,panOnScroll:V,onPaneContextMenu:ee,onPanZoomEnd:f,onDraggingChange:h});m.on("end",ke)}const we=$E({zoomActivationKeyPressed:Q,panOnDrag:A,zoomOnScroll:_,panOnScroll:V,zoomOnDoubleClick:$,zoomOnPinch:U,userSelectionActive:R,noPanClassName:X,noWheelClassName:G,lib:J,connectionInProgress:oe});m.filter(we),$?x.on("dblclick.zoom",N):x.on("dblclick.zoom",null)}function b(){m.on("zoom",null)}async function M(G,X,ee){const R=Ju(G),V=m==null?void 0:m.constrain()(R,X,ee);return V&&await j(V),new Promise(A=>A(V))}async function w(G,X){const ee=Ju(G);return await j(ee,X),new Promise(R=>R(ee))}function P(G){if(x){const X=Ju(G),ee=x.property("__zoom");(ee.k!==G.zoom||ee.x!==G.x||ee.y!==G.y)&&(m==null||m.transform(x,X,null,{sync:!0}))}}function F(){const G=x?t0(x.node()):{x:0,y:0,k:1};return{x:G.x,y:G.y,zoom:G.k}}function D(G,X){return x?new Promise(ee=>{m==null||m.interpolate((X==null?void 0:X.interpolate)==="linear"?mi:ml).scaleTo(ec(x,X==null?void 0:X.duration,X==null?void 0:X.ease,()=>ee(!0)),G)}):Promise.resolve(!1)}function T(G,X){return x?new Promise(ee=>{m==null||m.interpolate((X==null?void 0:X.interpolate)==="linear"?mi:ml).scaleBy(ec(x,X==null?void 0:X.duration,X==null?void 0:X.ease,()=>ee(!0)),G)}):Promise.resolve(!1)}function W(G){m==null||m.scaleExtent(G)}function Y(G){m==null||m.translateExtent(G)}function ne(G){const X=!Ft(G)||G<0?0:G;m==null||m.clickDistance(X)}return{update:C,destroy:b,setViewport:w,setViewportConstrained:M,getViewport:F,scaleTo:D,scaleBy:T,setScaleExtent:W,setTranslateExtent:Y,syncViewport:P,setClickDistance:ne}}var ho;(function(e){e.Line="line",e.Handle="handle"})(ho||(ho={}));function DE({width:e,prevWidth:r,height:o,prevHeight:s,affectsX:l,affectsY:u}){const c=e-r,f=o-s,h=[c>0?1:c<0?-1:0,f>0?1:f<0?-1:0];return c&&l&&(h[0]=h[0]*-1),f&&u&&(h[1]=h[1]*-1),h}function xp(e){const r=e.includes("right")||e.includes("left"),o=e.includes("bottom")||e.includes("top"),s=e.includes("left"),l=e.includes("top");return{isHorizontal:r,isVertical:o,affectsX:s,affectsY:l}}function Vn(e,r){return Math.max(0,r-e)}function Bn(e,r){return Math.max(0,e-r)}function ul(e,r,o){return Math.max(0,r-e,e-o)}function wp(e,r){return e?!r:r}function OE(e,r,o,s,l,u,c,f){let{affectsX:h,affectsY:y}=r;const{isHorizontal:v,isVertical:m}=r,x=v&&m,{xSnapped:E,ySnapped:N}=o,{minWidth:j,maxWidth:C,minHeight:b,maxHeight:M}=s,{x:w,y:P,width:F,height:D,aspectRatio:T}=e;let W=Math.floor(v?E-e.pointerX:0),Y=Math.floor(m?N-e.pointerY:0);const ne=F+(h?-W:W),G=D+(y?-Y:Y),X=-u[0]*F,ee=-u[1]*D;let R=ul(ne,j,C),V=ul(G,b,M);if(c){let I=0,z=0;h&&W<0?I=Vn(w+W+X,c[0][0]):!h&&W>0&&(I=Bn(w+ne+X,c[1][0])),y&&Y<0?z=Vn(P+Y+ee,c[0][1]):!y&&Y>0&&(z=Bn(P+G+ee,c[1][1])),R=Math.max(R,I),V=Math.max(V,z)}if(f){let I=0,z=0;h&&W>0?I=Bn(w+W,f[0][0]):!h&&W<0&&(I=Vn(w+ne,f[1][0])),y&&Y>0?z=Bn(P+Y,f[0][1]):!y&&Y<0&&(z=Vn(P+G,f[1][1])),R=Math.max(R,I),V=Math.max(V,z)}if(l){if(v){const I=ul(ne/T,b,M)*T;if(R=Math.max(R,I),c){let z=0;!h&&!y||h&&!y&&x?z=Bn(P+ee+ne/T,c[1][1])*T:z=Vn(P+ee+(h?W:-W)/T,c[0][1])*T,R=Math.max(R,z)}if(f){let z=0;!h&&!y||h&&!y&&x?z=Vn(P+ne/T,f[1][1])*T:z=Bn(P+(h?W:-W)/T,f[0][1])*T,R=Math.max(R,z)}}if(m){const I=ul(G*T,j,C)/T;if(V=Math.max(V,I),c){let z=0;!h&&!y||y&&!h&&x?z=Bn(w+G*T+X,c[1][0])/T:z=Vn(w+(y?Y:-Y)*T+X,c[0][0])/T,V=Math.max(V,z)}if(f){let z=0;!h&&!y||y&&!h&&x?z=Vn(w+G*T,f[1][0])/T:z=Bn(w+(y?Y:-Y)*T,f[0][0])/T,V=Math.max(V,z)}}}Y=Y+(Y<0?V:-V),W=W+(W<0?R:-R),l&&(x?ne>G*T?Y=(wp(h,y)?-W:W)/T:W=(wp(h,y)?-Y:Y)*T:v?(Y=W/T,y=h):(W=Y*T,h=y));const A=h?w+W:w,H=y?P+Y:P;return{width:F+(h?-W:W),height:D+(y?-Y:Y),x:u[0]*W*(h?-1:1)+A,y:u[1]*Y*(y?-1:1)+H}}const R0={width:0,height:0,x:0,y:0},FE={...R0,pointerX:0,pointerY:0,aspectRatio:1};function HE(e){return[[0,0],[e.measured.width,e.measured.height]]}function VE(e,r,o){const s=r.position.x+e.position.x,l=r.position.y+e.position.y,u=e.measured.width??0,c=e.measured.height??0,f=o[0]*u,h=o[1]*c;return[[s-f,l-h],[s+u-f,l+c-h]]}function BE({domNode:e,nodeId:r,getStoreItems:o,onChange:s,onEnd:l}){const u=wt(e);let c={controlDirection:xp("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function f({controlPosition:y,boundaries:v,keepAspectRatio:m,resizeDirection:x,onResizeStart:E,onResize:N,onResizeEnd:j,shouldResize:C}){let b={...R0},M={...FE};c={boundaries:v,resizeDirection:x,keepAspectRatio:m,controlDirection:xp(y)};let w,P=null,F=[],D,T,W,Y=!1;const ne=Hm().on("start",G=>{const{nodeLookup:X,transform:ee,snapGrid:R,snapToGrid:V,nodeOrigin:A,paneDomNode:H}=o();if(w=X.get(r),!w)return;P=(H==null?void 0:H.getBoundingClientRect())??null;const{xSnapped:I,ySnapped:z}=gi(G.sourceEvent,{transform:ee,snapGrid:R,snapToGrid:V,containerBounds:P});b={width:w.measured.width??0,height:w.measured.height??0,x:w.position.x??0,y:w.position.y??0},M={...b,pointerX:I,pointerY:z,aspectRatio:b.width/b.height},D=void 0,w.parentId&&(w.extent==="parent"||w.expandParent)&&(D=X.get(w.parentId),T=D&&w.extent==="parent"?HE(D):void 0),F=[],W=void 0;for(const[U,_]of X)if(_.parentId===r&&(F.push({id:U,position:{..._.position},extent:_.extent}),_.extent==="parent"||_.expandParent)){const $=VE(_,w,_.origin??A);W?W=[[Math.min($[0][0],W[0][0]),Math.min($[0][1],W[0][1])],[Math.max($[1][0],W[1][0]),Math.max($[1][1],W[1][1])]]:W=$}E==null||E(G,{...b})}).on("drag",G=>{const{transform:X,snapGrid:ee,snapToGrid:R,nodeOrigin:V}=o(),A=gi(G.sourceEvent,{transform:X,snapGrid:ee,snapToGrid:R,containerBounds:P}),H=[];if(!w)return;const{x:I,y:z,width:U,height:_}=b,$={},Q=w.origin??V,{width:J,height:re,x:oe,y:ae}=OE(M,c.controlDirection,A,c.boundaries,c.keepAspectRatio,Q,T,W),te=J!==U,ce=re!==_,pe=oe!==I&&te,we=ae!==z&&ce;if(!pe&&!we&&!te&&!ce)return;if((pe||we||Q[0]===1||Q[1]===1)&&($.x=pe?oe:b.x,$.y=we?ae:b.y,b.x=$.x,b.y=$.y,F.length>0)){const Me=oe-I,_e=ae-z;for(const Ue of F)Ue.position={x:Ue.position.x-Me+Q[0]*(J-U),y:Ue.position.y-_e+Q[1]*(re-_)},H.push(Ue)}if((te||ce)&&($.width=te&&(!c.resizeDirection||c.resizeDirection==="horizontal")?J:b.width,$.height=ce&&(!c.resizeDirection||c.resizeDirection==="vertical")?re:b.height,b.width=$.width,b.height=$.height),D&&w.expandParent){const Me=Q[0]*($.width??0);$.x&&$.x<Me&&(b.x=Me,M.x=M.x-($.x-Me));const _e=Q[1]*($.height??0);$.y&&$.y<_e&&(b.y=_e,M.y=M.y-($.y-_e))}const ye=DE({width:b.width,prevWidth:U,height:b.height,prevHeight:_,affectsX:c.controlDirection.affectsX,affectsY:c.controlDirection.affectsY}),fe={...b,direction:ye};(C==null?void 0:C(G,fe))!==!1&&(Y=!0,N==null||N(G,fe),s($,H))}).on("end",G=>{Y&&(j==null||j(G,{...b}),l==null||l({...b}),Y=!1)});u.call(ne)}function h(){u.on(".drag",null)}return{update:f,destroy:h}}var tc={exports:{}},nc={},rc={exports:{}},oc={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp;function UE(){if(Sp)return oc;Sp=1;var e=bi();function r(m,x){return m===x&&(m!==0||1/m===1/x)||m!==m&&x!==x}var o=typeof Object.is=="function"?Object.is:r,s=e.useState,l=e.useEffect,u=e.useLayoutEffect,c=e.useDebugValue;function f(m,x){var E=x(),N=s({inst:{value:E,getSnapshot:x}}),j=N[0].inst,C=N[1];return u(function(){j.value=E,j.getSnapshot=x,h(j)&&C({inst:j})},[m,E,x]),l(function(){return h(j)&&C({inst:j}),m(function(){h(j)&&C({inst:j})})},[m]),c(E),E}function h(m){var x=m.getSnapshot;m=m.value;try{var E=x();return!o(m,E)}catch{return!0}}function y(m,x){return x()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?y:f;return oc.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:v,oc}var Ep;function WE(){return Ep||(Ep=1,rc.exports=UE()),rc.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function YE(){if(Np)return nc;Np=1;var e=bi(),r=WE();function o(y,v){return y===v&&(y!==0||1/y===1/v)||y!==y&&v!==v}var s=typeof Object.is=="function"?Object.is:o,l=r.useSyncExternalStore,u=e.useRef,c=e.useEffect,f=e.useMemo,h=e.useDebugValue;return nc.useSyncExternalStoreWithSelector=function(y,v,m,x,E){var N=u(null);if(N.current===null){var j={hasValue:!1,value:null};N.current=j}else j=N.current;N=f(function(){function b(D){if(!M){if(M=!0,w=D,D=x(D),E!==void 0&&j.hasValue){var T=j.value;if(E(T,D))return P=T}return P=D}if(T=P,s(w,D))return T;var W=x(D);return E!==void 0&&E(T,W)?(w=D,T):(w=D,P=W)}var M=!1,w,P,F=m===void 0?null:m;return[function(){return b(v())},F===null?void 0:function(){return b(F())}]},[v,m,x,E]);var C=l(y,N[0],N[1]);return c(function(){j.hasValue=!0,j.value=C},[C]),h(C),C},nc}var kp;function XE(){return kp||(kp=1,tc.exports=YE()),tc.exports}var QE=XE();const GE=bc(QE),KE={},Cp=e=>{let r;const o=new Set,s=(v,m)=>{const x=typeof v=="function"?v(r):v;if(!Object.is(x,r)){const E=r;r=m??(typeof x!="object"||x===null)?x:Object.assign({},r,x),o.forEach(N=>N(r,E))}},l=()=>r,h={setState:s,getState:l,getInitialState:()=>y,subscribe:v=>(o.add(v),()=>o.delete(v)),destroy:()=>{(KE?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),o.clear()}},y=r=e(s,l,h);return h},qE=e=>e?Cp(e):Cp,{useDebugValue:ZE}=eo,{useSyncExternalStoreWithSelector:JE}=GE,eN=e=>e;function L0(e,r=eN,o){const s=JE(e.subscribe,e.getState,e.getServerState||e.getInitialState,r,o);return ZE(s),s}const _p=(e,r)=>{const o=qE(e),s=(l,u=r)=>L0(o,l,u);return Object.assign(s,o),s},tN=(e,r)=>e?_p(e,r):_p;function $e(e,r){if(Object.is(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(const[s,l]of e)if(!Object.is(l,r.get(s)))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(const s of e)if(!r.has(s))return!1;return!0}const o=Object.keys(e);if(o.length!==Object.keys(r).length)return!1;for(const s of o)if(!Object.prototype.hasOwnProperty.call(r,s)||!Object.is(e[s],r[s]))return!1;return!0}const Bl=k.createContext(null),nN=Bl.Provider,T0=Zt.error001();function be(e,r){const o=k.useContext(Bl);if(o===null)throw new Error(T0);return L0(o,e,r)}function Ae(){const e=k.useContext(Bl);if(e===null)throw new Error(T0);return k.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const bp={display:"none"},rN={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},z0="react-flow__node-desc",$0="react-flow__edge-desc",oN="react-flow__aria-live",iN=e=>e.ariaLiveMessage,sN=e=>e.ariaLabelConfig;function lN({rfId:e}){const r=be(iN);return g.jsx("div",{id:`${oN}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:rN,children:r})}function aN({rfId:e,disableKeyboardA11y:r}){const o=be(sN);return g.jsxs(g.Fragment,{children:[g.jsx("div",{id:`${z0}-${e}`,style:bp,children:r?o["node.a11yDescription.default"]:o["node.a11yDescription.keyboardDisabled"]}),g.jsx("div",{id:`${$0}-${e}`,style:bp,children:o["edge.a11yDescription.default"]}),!r&&g.jsx(lN,{rfId:e})]})}const Ul=k.forwardRef(({position:e="top-left",children:r,className:o,style:s,...l},u)=>{const c=`${e}`.split("-");return g.jsx("div",{className:Ye(["react-flow__panel",o,...c]),style:s,ref:u,...l,children:r})});Ul.displayName="Panel";function uN({proOptions:e,position:r="bottom-right"}){return e!=null&&e.hideAttribution?null:g.jsx(Ul,{position:r,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:g.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const cN=e=>{const r=[],o=[];for(const[,s]of e.nodeLookup)s.selected&&r.push(s.internals.userNode);for(const[,s]of e.edgeLookup)s.selected&&o.push(s);return{selectedNodes:r,selectedEdges:o}},cl=e=>e.id;function dN(e,r){return $e(e.selectedNodes.map(cl),r.selectedNodes.map(cl))&&$e(e.selectedEdges.map(cl),r.selectedEdges.map(cl))}function fN({onSelectionChange:e}){const r=Ae(),{selectedNodes:o,selectedEdges:s}=be(cN,dN);return k.useEffect(()=>{const l={nodes:o,edges:s};e==null||e(l),r.getState().onSelectionChangeHandlers.forEach(u=>u(l))},[o,s,e]),null}const hN=e=>!!e.onSelectionChangeHandlers;function pN({onSelectionChange:e}){const r=be(hN);return e||r?g.jsx(fN,{onSelectionChange:e}):null}const A0=[0,0],mN={x:0,y:0,zoom:1},gN=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],jp=[...gN,"rfId"],yN=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),Pp={translateExtent:Ei,nodeOrigin:A0,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function vN(e){const{setNodes:r,setEdges:o,setMinZoom:s,setMaxZoom:l,setTranslateExtent:u,setNodeExtent:c,reset:f,setDefaultNodesAndEdges:h}=be(yN,$e),y=Ae();k.useEffect(()=>(h(e.defaultNodes,e.defaultEdges),()=>{v.current=Pp,f()}),[]);const v=k.useRef(Pp);return k.useEffect(()=>{for(const m of jp){const x=e[m],E=v.current[m];x!==E&&(typeof e[m]>"u"||(m==="nodes"?r(x):m==="edges"?o(x):m==="minZoom"?s(x):m==="maxZoom"?l(x):m==="translateExtent"?u(x):m==="nodeExtent"?c(x):m==="ariaLabelConfig"?y.setState({ariaLabelConfig:nE(x)}):m==="fitView"?y.setState({fitViewQueued:x}):m==="fitViewOptions"?y.setState({fitViewOptions:x}):y.setState({[m]:x})))}v.current=e},jp.map(m=>e[m])),null}function Mp(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function xN(e){var s;const[r,o]=k.useState(e==="system"?null:e);return k.useEffect(()=>{if(e!=="system"){o(e);return}const l=Mp(),u=()=>o(l!=null&&l.matches?"dark":"light");return u(),l==null||l.addEventListener("change",u),()=>{l==null||l.removeEventListener("change",u)}},[e]),r!==null?r:(s=Mp())!=null&&s.matches?"dark":"light"}const Ip=typeof document<"u"?document:null;function _i(e=null,r={target:Ip,actInsideInputWithModifier:!0}){const[o,s]=k.useState(!1),l=k.useRef(!1),u=k.useRef(new Set([])),[c,f]=k.useMemo(()=>{if(e!==null){const y=(Array.isArray(e)?e:[e]).filter(m=>typeof m=="string").map(m=>m.replace("+",`
`).replace(`

`,`
+`).split(`
`)),v=y.reduce((m,x)=>m.concat(...x),[]);return[y,v]}return[[],[]]},[e]);return k.useEffect(()=>{const h=(r==null?void 0:r.target)??Ip,y=(r==null?void 0:r.actInsideInputWithModifier)??!0;if(e!==null){const v=E=>{var C,b;if(l.current=E.ctrlKey||E.metaKey||E.shiftKey||E.altKey,(!l.current||l.current&&!y)&&m0(E))return!1;const j=Lp(E.code,f);if(u.current.add(E[j]),Rp(c,u.current,!1)){const M=((b=(C=E.composedPath)==null?void 0:C.call(E))==null?void 0:b[0])||E.target,w=(M==null?void 0:M.nodeName)==="BUTTON"||(M==null?void 0:M.nodeName)==="A";r.preventDefault!==!1&&(l.current||!w)&&E.preventDefault(),s(!0)}},m=E=>{const N=Lp(E.code,f);Rp(c,u.current,!0)?(s(!1),u.current.clear()):u.current.delete(E[N]),E.key==="Meta"&&u.current.clear(),l.current=!1},x=()=>{u.current.clear(),s(!1)};return h==null||h.addEventListener("keydown",v),h==null||h.addEventListener("keyup",m),window.addEventListener("blur",x),window.addEventListener("contextmenu",x),()=>{h==null||h.removeEventListener("keydown",v),h==null||h.removeEventListener("keyup",m),window.removeEventListener("blur",x),window.removeEventListener("contextmenu",x)}}},[e,s]),o}function Rp(e,r,o){return e.filter(s=>o||s.length===r.size).some(s=>s.every(l=>r.has(l)))}function Lp(e,r){return r.includes(e)?"code":"key"}const wN=()=>{const e=Ae();return k.useMemo(()=>({zoomIn:r=>{const{panZoom:o}=e.getState();return o?o.scaleBy(1.2,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},zoomOut:r=>{const{panZoom:o}=e.getState();return o?o.scaleBy(1/1.2,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},zoomTo:(r,o)=>{const{panZoom:s}=e.getState();return s?s.scaleTo(r,{duration:o==null?void 0:o.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(r,o)=>{const{transform:[s,l,u],panZoom:c}=e.getState();return c?(await c.setViewport({x:r.x??s,y:r.y??l,zoom:r.zoom??u},o),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[r,o,s]=e.getState().transform;return{x:r,y:o,zoom:s}},setCenter:async(r,o,s)=>e.getState().setCenter(r,o,s),fitBounds:async(r,o)=>{const{width:s,height:l,minZoom:u,maxZoom:c,panZoom:f}=e.getState(),h=Bc(r,s,l,u,c,(o==null?void 0:o.padding)??.1);return f?(await f.setViewport(h,{duration:o==null?void 0:o.duration,ease:o==null?void 0:o.ease,interpolate:o==null?void 0:o.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(r,o={})=>{const{transform:s,snapGrid:l,snapToGrid:u,domNode:c}=e.getState();if(!c)return r;const{x:f,y:h}=c.getBoundingClientRect(),y={x:r.x-f,y:r.y-h},v=o.snapGrid??l,m=o.snapToGrid??u;return $i(y,s,m,v)},flowToScreenPosition:r=>{const{transform:o,domNode:s}=e.getState();if(!s)return r;const{x:l,y:u}=s.getBoundingClientRect(),c=Pl(r,o);return{x:c.x+l,y:c.y+u}}}),[])};function D0(e,r){const o=[],s=new Map,l=[];for(const u of e)if(u.type==="add"){l.push(u);continue}else if(u.type==="remove"||u.type==="replace")s.set(u.id,[u]);else{const c=s.get(u.id);c?c.push(u):s.set(u.id,[u])}for(const u of r){const c=s.get(u.id);if(!c){o.push(u);continue}if(c[0].type==="remove")continue;if(c[0].type==="replace"){o.push({...c[0].item});continue}const f={...u};for(const h of c)SN(h,f);o.push(f)}return l.length&&l.forEach(u=>{u.index!==void 0?o.splice(u.index,0,{...u.item}):o.push({...u.item})}),o}function SN(e,r){switch(e.type){case"select":{r.selected=e.selected;break}case"position":{typeof e.position<"u"&&(r.position=e.position),typeof e.dragging<"u"&&(r.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(r.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(r.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(r.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(r.resizing=e.resizing);break}}}function O0(e,r){return D0(e,r)}function F0(e,r){return D0(e,r)}function hr(e,r){return{id:e,type:"select",selected:r}}function no(e,r=new Set,o=!1){const s=[];for(const[l,u]of e){const c=r.has(l);!(u.selected===void 0&&!c)&&u.selected!==c&&(o&&(u.selected=c),s.push(hr(u.id,c)))}return s}function Tp({items:e=[],lookup:r}){var l;const o=[],s=new Map(e.map(u=>[u.id,u]));for(const[u,c]of e.entries()){const f=r.get(c.id),h=((l=f==null?void 0:f.internals)==null?void 0:l.userNode)??f;h!==void 0&&h!==c&&o.push({id:c.id,item:c,type:"replace"}),h===void 0&&o.push({item:c,type:"add",index:u})}for(const[u]of r)s.get(u)===void 0&&o.push({id:u,type:"remove"});return o}function zp(e){return{id:e.id,type:"remove"}}const $p=e=>Y2(e),EN=e=>l0(e);function H0(e){return k.forwardRef(e)}const NN=typeof window<"u"?k.useLayoutEffect:k.useEffect;function Ap(e){const[r,o]=k.useState(BigInt(0)),[s]=k.useState(()=>kN(()=>o(l=>l+BigInt(1))));return NN(()=>{const l=s.get();l.length&&(e(l),s.reset())},[r]),s}function kN(e){let r=[];return{get:()=>r,reset:()=>{r=[]},push:o=>{r.push(o),e()}}}const V0=k.createContext(null);function CN({children:e}){const r=Ae(),o=k.useCallback(f=>{const{nodes:h=[],setNodes:y,hasDefaultNodes:v,onNodesChange:m,nodeLookup:x,fitViewQueued:E,onNodesChangeMiddlewareMap:N}=r.getState();let j=h;for(const b of f)j=typeof b=="function"?b(j):b;let C=Tp({items:j,lookup:x});for(const b of N.values())C=b(C);v&&y(j),C.length>0?m==null||m(C):E&&window.requestAnimationFrame(()=>{const{fitViewQueued:b,nodes:M,setNodes:w}=r.getState();b&&w(M)})},[]),s=Ap(o),l=k.useCallback(f=>{const{edges:h=[],setEdges:y,hasDefaultEdges:v,onEdgesChange:m,edgeLookup:x}=r.getState();let E=h;for(const N of f)E=typeof N=="function"?N(E):N;v?y(E):m&&m(Tp({items:E,lookup:x}))},[]),u=Ap(l),c=k.useMemo(()=>({nodeQueue:s,edgeQueue:u}),[]);return g.jsx(V0.Provider,{value:c,children:e})}function _N(){const e=k.useContext(V0);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const bN=e=>!!e.panZoom;function Kc(){const e=wN(),r=Ae(),o=_N(),s=be(bN),l=k.useMemo(()=>{const u=m=>r.getState().nodeLookup.get(m),c=m=>{o.nodeQueue.push(m)},f=m=>{o.edgeQueue.push(m)},h=m=>{var b,M;const{nodeLookup:x,nodeOrigin:E}=r.getState(),N=$p(m)?m:x.get(m.id),j=N.parentId?h0(N.position,N.measured,N.parentId,x,E):N.position,C={...N,position:j,width:((b=N.measured)==null?void 0:b.width)??N.width,height:((M=N.measured)==null?void 0:M.height)??N.height};return co(C)},y=(m,x,E={replace:!1})=>{c(N=>N.map(j=>{if(j.id===m){const C=typeof x=="function"?x(j):x;return E.replace&&$p(C)?C:{...j,...C}}return j}))},v=(m,x,E={replace:!1})=>{f(N=>N.map(j=>{if(j.id===m){const C=typeof x=="function"?x(j):x;return E.replace&&EN(C)?C:{...j,...C}}return j}))};return{getNodes:()=>r.getState().nodes.map(m=>({...m})),getNode:m=>{var x;return(x=u(m))==null?void 0:x.internals.userNode},getInternalNode:u,getEdges:()=>{const{edges:m=[]}=r.getState();return m.map(x=>({...x}))},getEdge:m=>r.getState().edgeLookup.get(m),setNodes:c,setEdges:f,addNodes:m=>{const x=Array.isArray(m)?m:[m];o.nodeQueue.push(E=>[...E,...x])},addEdges:m=>{const x=Array.isArray(m)?m:[m];o.edgeQueue.push(E=>[...E,...x])},toObject:()=>{const{nodes:m=[],edges:x=[],transform:E}=r.getState(),[N,j,C]=E;return{nodes:m.map(b=>({...b})),edges:x.map(b=>({...b})),viewport:{x:N,y:j,zoom:C}}},deleteElements:async({nodes:m=[],edges:x=[]})=>{const{nodes:E,edges:N,onNodesDelete:j,onEdgesDelete:C,triggerNodeChanges:b,triggerEdgeChanges:M,onDelete:w,onBeforeDelete:P}=r.getState(),{nodes:F,edges:D}=await q2({nodesToRemove:m,edgesToRemove:x,nodes:E,edges:N,onBeforeDelete:P}),T=D.length>0,W=F.length>0;if(T){const Y=D.map(zp);C==null||C(D),M(Y)}if(W){const Y=F.map(zp);j==null||j(F),b(Y)}return(W||T)&&(w==null||w({nodes:F,edges:D})),{deletedNodes:F,deletedEdges:D}},getIntersectingNodes:(m,x=!0,E)=>{const N=ap(m),j=N?m:h(m),C=E!==void 0;return j?(E||r.getState().nodes).filter(b=>{const M=r.getState().nodeLookup.get(b.id);if(M&&!N&&(b.id===m.id||!M.internals.positionAbsolute))return!1;const w=co(C?b:M),P=ki(w,j);return x&&P>0||P>=w.width*w.height||P>=j.width*j.height}):[]},isNodeIntersecting:(m,x,E=!0)=>{const j=ap(m)?m:h(m);if(!j)return!1;const C=ki(j,x);return E&&C>0||C>=x.width*x.height||C>=j.width*j.height},updateNode:y,updateNodeData:(m,x,E={replace:!1})=>{y(m,N=>{const j=typeof x=="function"?x(N):x;return E.replace?{...N,data:j}:{...N,data:{...N.data,...j}}},E)},updateEdge:v,updateEdgeData:(m,x,E={replace:!1})=>{v(m,N=>{const j=typeof x=="function"?x(N):x;return E.replace?{...N,data:j}:{...N,data:{...N.data,...j}}},E)},getNodesBounds:m=>{const{nodeLookup:x,nodeOrigin:E}=r.getState();return X2(m,{nodeLookup:x,nodeOrigin:E})},getHandleConnections:({type:m,id:x,nodeId:E})=>{var N;return Array.from(((N=r.getState().connectionLookup.get(`${E}-${m}${x?`-${x}`:""}`))==null?void 0:N.values())??[])},getNodeConnections:({type:m,handleId:x,nodeId:E})=>{var N;return Array.from(((N=r.getState().connectionLookup.get(`${E}${m?x?`-${m}-${x}`:`-${m}`:""}`))==null?void 0:N.values())??[])},fitView:async m=>{const x=r.getState().fitViewResolver??tE();return r.setState({fitViewQueued:!0,fitViewOptions:m,fitViewResolver:x}),o.nodeQueue.push(E=>[...E]),x.promise}}},[]);return k.useMemo(()=>({...l,...e,viewportInitialized:s}),[s])}const Dp=e=>e.selected,jN=typeof window<"u"?window:void 0;function PN({deleteKeyCode:e,multiSelectionKeyCode:r}){const o=Ae(),{deleteElements:s}=Kc(),l=_i(e,{actInsideInputWithModifier:!1}),u=_i(r,{target:jN});k.useEffect(()=>{if(l){const{edges:c,nodes:f}=o.getState();s({nodes:f.filter(Dp),edges:c.filter(Dp)}),o.setState({nodesSelectionActive:!1})}},[l]),k.useEffect(()=>{o.setState({multiSelectionActive:u})},[u])}function MN(e){const r=Ae();k.useEffect(()=>{const o=()=>{var l,u,c,f;if(!e.current||!(((u=(l=e.current).checkVisibility)==null?void 0:u.call(l))??!0))return!1;const s=Uc(e.current);(s.height===0||s.width===0)&&((f=(c=r.getState()).onError)==null||f.call(c,"004",Zt.error004())),r.setState({width:s.width||500,height:s.height||500})};if(e.current){o(),window.addEventListener("resize",o);const s=new ResizeObserver(()=>o());return s.observe(e.current),()=>{window.removeEventListener("resize",o),s&&e.current&&s.unobserve(e.current)}}},[])}const Wl={position:"absolute",width:"100%",height:"100%",top:0,left:0},IN=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function RN({onPaneContextMenu:e,zoomOnScroll:r=!0,zoomOnPinch:o=!0,panOnScroll:s=!1,panOnScrollSpeed:l=.5,panOnScrollMode:u=gr.Free,zoomOnDoubleClick:c=!0,panOnDrag:f=!0,defaultViewport:h,translateExtent:y,minZoom:v,maxZoom:m,zoomActivationKeyCode:x,preventScrolling:E=!0,children:N,noWheelClassName:j,noPanClassName:C,onViewportChange:b,isControlledViewport:M,paneClickDistance:w,selectionOnDrag:P}){const F=Ae(),D=k.useRef(null),{userSelectionActive:T,lib:W,connectionInProgress:Y}=be(IN,$e),ne=_i(x),G=k.useRef();MN(D);const X=k.useCallback(ee=>{b==null||b({x:ee[0],y:ee[1],zoom:ee[2]}),M||F.setState({transform:ee})},[b,M]);return k.useEffect(()=>{if(D.current){G.current=AE({domNode:D.current,minZoom:v,maxZoom:m,translateExtent:y,viewport:h,onDraggingChange:A=>F.setState({paneDragging:A}),onPanZoomStart:(A,H)=>{const{onViewportChangeStart:I,onMoveStart:z}=F.getState();z==null||z(A,H),I==null||I(H)},onPanZoom:(A,H)=>{const{onViewportChange:I,onMove:z}=F.getState();z==null||z(A,H),I==null||I(H)},onPanZoomEnd:(A,H)=>{const{onViewportChangeEnd:I,onMoveEnd:z}=F.getState();z==null||z(A,H),I==null||I(H)}});const{x:ee,y:R,zoom:V}=G.current.getViewport();return F.setState({panZoom:G.current,transform:[ee,R,V],domNode:D.current.closest(".react-flow")}),()=>{var A;(A=G.current)==null||A.destroy()}}},[]),k.useEffect(()=>{var ee;(ee=G.current)==null||ee.update({onPaneContextMenu:e,zoomOnScroll:r,zoomOnPinch:o,panOnScroll:s,panOnScrollSpeed:l,panOnScrollMode:u,zoomOnDoubleClick:c,panOnDrag:f,zoomActivationKeyPressed:ne,preventScrolling:E,noPanClassName:C,userSelectionActive:T,noWheelClassName:j,lib:W,onTransformChange:X,connectionInProgress:Y,selectionOnDrag:P,paneClickDistance:w})},[e,r,o,s,l,u,c,f,ne,E,C,T,j,W,X,Y,P,w]),g.jsx("div",{className:"react-flow__renderer",ref:D,style:Wl,children:N})}const LN=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function TN(){const{userSelectionActive:e,userSelectionRect:r}=be(LN,$e);return e&&r?g.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:r.width,height:r.height,transform:`translate(${r.x}px, ${r.y}px)`}}):null}const ic=(e,r)=>o=>{o.target===r.current&&(e==null||e(o))},zN=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function $N({isSelecting:e,selectionKeyPressed:r,selectionMode:o=Ni.Full,panOnDrag:s,paneClickDistance:l,selectionOnDrag:u,onSelectionStart:c,onSelectionEnd:f,onPaneClick:h,onPaneContextMenu:y,onPaneScroll:v,onPaneMouseEnter:m,onPaneMouseMove:x,onPaneMouseLeave:E,children:N}){const j=Ae(),{userSelectionActive:C,elementsSelectable:b,dragging:M,connectionInProgress:w}=be(zN,$e),P=b&&(e||C),F=k.useRef(null),D=k.useRef(),T=k.useRef(new Set),W=k.useRef(new Set),Y=k.useRef(!1),ne=I=>{if(Y.current||w){Y.current=!1;return}h==null||h(I),j.getState().resetSelectedElements(),j.setState({nodesSelectionActive:!1})},G=I=>{if(Array.isArray(s)&&(s!=null&&s.includes(2))){I.preventDefault();return}y==null||y(I)},X=v?I=>v(I):void 0,ee=I=>{Y.current&&(I.stopPropagation(),Y.current=!1)},R=I=>{var re,oe;const{domNode:z}=j.getState();if(D.current=z==null?void 0:z.getBoundingClientRect(),!D.current)return;const U=I.target===F.current;if(!U&&!!I.target.closest(".nokey")||!e||!(u&&U||r)||I.button!==0||!I.isPrimary)return;(oe=(re=I.target)==null?void 0:re.setPointerCapture)==null||oe.call(re,I.pointerId),Y.current=!1;const{x:Q,y:J}=Ht(I.nativeEvent,D.current);j.setState({userSelectionRect:{width:0,height:0,startX:Q,startY:J,x:Q,y:J}}),U||(I.stopPropagation(),I.preventDefault())},V=I=>{const{userSelectionRect:z,transform:U,nodeLookup:_,edgeLookup:$,connectionLookup:Q,triggerNodeChanges:J,triggerEdgeChanges:re,defaultEdgeOptions:oe,resetSelectedElements:ae}=j.getState();if(!D.current||!z)return;const{x:te,y:ce}=Ht(I.nativeEvent,D.current),{startX:pe,startY:we}=z;if(!Y.current){const _e=r?0:l;if(Math.hypot(te-pe,ce-we)<=_e)return;ae(),c==null||c(I)}Y.current=!0;const ye={startX:pe,startY:we,x:te<pe?te:pe,y:ce<we?ce:we,width:Math.abs(te-pe),height:Math.abs(ce-we)},fe=T.current,ke=W.current;T.current=new Set(Vc(_,ye,U,o===Ni.Partial,!0).map(_e=>_e.id)),W.current=new Set;const Me=(oe==null?void 0:oe.selectable)??!0;for(const _e of T.current){const Ue=Q.get(_e);if(Ue)for(const{edgeId:It}of Ue.values()){const ht=$.get(It);ht&&(ht.selectable??Me)&&W.current.add(It)}}if(!up(fe,T.current)){const _e=no(_,T.current,!0);J(_e)}if(!up(ke,W.current)){const _e=no($,W.current);re(_e)}j.setState({userSelectionRect:ye,userSelectionActive:!0,nodesSelectionActive:!1})},A=I=>{var z,U;I.button===0&&((U=(z=I.target)==null?void 0:z.releasePointerCapture)==null||U.call(z,I.pointerId),!C&&I.target===F.current&&j.getState().userSelectionRect&&(ne==null||ne(I)),j.setState({userSelectionActive:!1,userSelectionRect:null}),Y.current&&(f==null||f(I),j.setState({nodesSelectionActive:T.current.size>0})))},H=s===!0||Array.isArray(s)&&s.includes(0);return g.jsxs("div",{className:Ye(["react-flow__pane",{draggable:H,dragging:M,selection:e}]),onClick:P?void 0:ic(ne,F),onContextMenu:ic(G,F),onWheel:ic(X,F),onPointerEnter:P?void 0:m,onPointerMove:P?V:x,onPointerUp:P?A:void 0,onPointerDownCapture:P?R:void 0,onClickCapture:P?ee:void 0,onPointerLeave:E,ref:F,style:Wl,children:[N,g.jsx(TN,{})]})}function Cc({id:e,store:r,unselect:o=!1,nodeRef:s}){const{addSelectedNodes:l,unselectNodesAndEdges:u,multiSelectionActive:c,nodeLookup:f,onError:h}=r.getState(),y=f.get(e);if(!y){h==null||h("012",Zt.error012(e));return}r.setState({nodesSelectionActive:!1}),y.selected?(o||y.selected&&c)&&(u({nodes:[y],edges:[]}),requestAnimationFrame(()=>{var v;return(v=s==null?void 0:s.current)==null?void 0:v.blur()})):l([e])}function B0({nodeRef:e,disabled:r=!1,noDragClassName:o,handleSelector:s,nodeId:l,isSelectable:u,nodeClickDistance:c}){const f=Ae(),[h,y]=k.useState(!1),v=k.useRef();return k.useEffect(()=>{v.current=NE({getStoreItems:()=>f.getState(),onNodeMouseDown:m=>{Cc({id:m,store:f,nodeRef:e})},onDragStart:()=>{y(!0)},onDragStop:()=>{y(!1)}})},[]),k.useEffect(()=>{var m,x;if(r)(m=v.current)==null||m.destroy();else if(e.current)return(x=v.current)==null||x.update({noDragClassName:o,handleSelector:s,domNode:e.current,isSelectable:u,nodeId:l,nodeClickDistance:c}),()=>{var E;(E=v.current)==null||E.destroy()}},[o,s,r,u,e,l]),h}const AN=e=>r=>r.selected&&(r.draggable||e&&typeof r.draggable>"u");function U0(){const e=Ae();return k.useCallback(o=>{const{nodeExtent:s,snapToGrid:l,snapGrid:u,nodesDraggable:c,onError:f,updateNodePositions:h,nodeLookup:y,nodeOrigin:v}=e.getState(),m=new Map,x=AN(c),E=l?u[0]:5,N=l?u[1]:5,j=o.direction.x*E*o.factor,C=o.direction.y*N*o.factor;for(const[,b]of y){if(!x(b))continue;let M={x:b.internals.positionAbsolute.x+j,y:b.internals.positionAbsolute.y+C};l&&(M=zi(M,u));const{position:w,positionAbsolute:P}=a0({nodeId:b.id,nextPosition:M,nodeLookup:y,nodeExtent:s,nodeOrigin:v,onError:f});b.position=w,b.internals.positionAbsolute=P,m.set(b.id,b)}h(m)},[])}const qc=k.createContext(null),DN=qc.Provider;qc.Consumer;const W0=()=>k.useContext(qc),ON=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),FN=(e,r,o)=>s=>{const{connectionClickStartHandle:l,connectionMode:u,connection:c}=s,{fromHandle:f,toHandle:h,isValid:y}=c,v=(h==null?void 0:h.nodeId)===e&&(h==null?void 0:h.id)===r&&(h==null?void 0:h.type)===o;return{connectingFrom:(f==null?void 0:f.nodeId)===e&&(f==null?void 0:f.id)===r&&(f==null?void 0:f.type)===o,connectingTo:v,clickConnecting:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===r&&(l==null?void 0:l.type)===o,isPossibleEndHandle:u===ao.Strict?(f==null?void 0:f.type)!==o:e!==(f==null?void 0:f.nodeId)||r!==(f==null?void 0:f.id),connectionInProcess:!!f,clickConnectionInProcess:!!l,valid:v&&y}};function HN({type:e="source",position:r=xe.Top,isValidConnection:o,isConnectable:s=!0,isConnectableStart:l=!0,isConnectableEnd:u=!0,id:c,onConnect:f,children:h,className:y,onMouseDown:v,onTouchStart:m,...x},E){var V,A;const N=c||null,j=e==="target",C=Ae(),b=W0(),{connectOnClick:M,noPanClassName:w,rfId:P}=be(ON,$e),{connectingFrom:F,connectingTo:D,clickConnecting:T,isPossibleEndHandle:W,connectionInProcess:Y,clickConnectionInProcess:ne,valid:G}=be(FN(b,N,e),$e);b||(A=(V=C.getState()).onError)==null||A.call(V,"010",Zt.error010());const X=H=>{const{defaultEdgeOptions:I,onConnect:z,hasDefaultEdges:U}=C.getState(),_={...I,...H};if(U){const{edges:$,setEdges:Q}=C.getState();Q(w0(_,$))}z==null||z(_),f==null||f(_)},ee=H=>{if(!b)return;const I=g0(H.nativeEvent);if(l&&(I&&H.button===0||!I)){const z=C.getState();kc.onPointerDown(H.nativeEvent,{handleDomNode:H.currentTarget,autoPanOnConnect:z.autoPanOnConnect,connectionMode:z.connectionMode,connectionRadius:z.connectionRadius,domNode:z.domNode,nodeLookup:z.nodeLookup,lib:z.lib,isTarget:j,handleId:N,nodeId:b,flowId:z.rfId,panBy:z.panBy,cancelConnection:z.cancelConnection,onConnectStart:z.onConnectStart,onConnectEnd:z.onConnectEnd,updateConnection:z.updateConnection,onConnect:X,isValidConnection:o||z.isValidConnection,getTransform:()=>C.getState().transform,getFromHandle:()=>C.getState().connection.fromHandle,autoPanSpeed:z.autoPanSpeed,dragThreshold:z.connectionDragThreshold})}I?v==null||v(H):m==null||m(H)},R=H=>{const{onClickConnectStart:I,onClickConnectEnd:z,connectionClickStartHandle:U,connectionMode:_,isValidConnection:$,lib:Q,rfId:J,nodeLookup:re,connection:oe}=C.getState();if(!b||!U&&!l)return;if(!U){I==null||I(H.nativeEvent,{nodeId:b,handleId:N,handleType:e}),C.setState({connectionClickStartHandle:{nodeId:b,type:e,id:N}});return}const ae=p0(H.target),te=o||$,{connection:ce,isValid:pe}=kc.isValid(H.nativeEvent,{handle:{nodeId:b,id:N,type:e},connectionMode:_,fromNodeId:U.nodeId,fromHandleId:U.id||null,fromType:U.type,isValidConnection:te,flowId:J,doc:ae,lib:Q,nodeLookup:re});pe&&ce&&X(ce);const we=structuredClone(oe);delete we.inProgress,we.toPosition=we.toHandle?we.toHandle.position:null,z==null||z(H,we),C.setState({connectionClickStartHandle:null})};return g.jsx("div",{"data-handleid":N,"data-nodeid":b,"data-handlepos":r,"data-id":`${P}-${b}-${N}-${e}`,className:Ye(["react-flow__handle",`react-flow__handle-${r}`,"nodrag",w,y,{source:!j,target:j,connectable:s,connectablestart:l,connectableend:u,clickconnecting:T,connectingfrom:F,connectingto:D,valid:G,connectionindicator:s&&(!Y||W)&&(Y||ne?u:l)}]),onMouseDown:ee,onTouchStart:ee,onClick:M?R:void 0,ref:E,...x,children:h})}const po=k.memo(H0(HN));function VN({data:e,isConnectable:r,sourcePosition:o=xe.Bottom}){return g.jsxs(g.Fragment,{children:[e==null?void 0:e.label,g.jsx(po,{type:"source",position:o,isConnectable:r})]})}function BN({data:e,isConnectable:r,targetPosition:o=xe.Top,sourcePosition:s=xe.Bottom}){return g.jsxs(g.Fragment,{children:[g.jsx(po,{type:"target",position:o,isConnectable:r}),e==null?void 0:e.label,g.jsx(po,{type:"source",position:s,isConnectable:r})]})}function UN(){return null}function WN({data:e,isConnectable:r,targetPosition:o=xe.Top}){return g.jsxs(g.Fragment,{children:[g.jsx(po,{type:"target",position:o,isConnectable:r}),e==null?void 0:e.label]})}const Ml={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Op={input:VN,default:BN,output:WN,group:UN};function YN(e){var r,o,s,l;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((r=e.style)==null?void 0:r.width),height:e.height??e.initialHeight??((o=e.style)==null?void 0:o.height)}:{width:e.width??((s=e.style)==null?void 0:s.width),height:e.height??((l=e.style)==null?void 0:l.height)}}const XN=e=>{const{width:r,height:o,x:s,y:l}=Ti(e.nodeLookup,{filter:u=>!!u.selected});return{width:Ft(r)?r:null,height:Ft(o)?o:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${s}px,${l}px)`}};function QN({onSelectionContextMenu:e,noPanClassName:r,disableKeyboardA11y:o}){const s=Ae(),{width:l,height:u,transformString:c,userSelectionActive:f}=be(XN,$e),h=U0(),y=k.useRef(null);if(k.useEffect(()=>{var x;o||(x=y.current)==null||x.focus({preventScroll:!0})},[o]),B0({nodeRef:y}),f||!l||!u)return null;const v=e?x=>{const E=s.getState().nodes.filter(N=>N.selected);e(x,E)}:void 0,m=x=>{Object.prototype.hasOwnProperty.call(Ml,x.key)&&(x.preventDefault(),h({direction:Ml[x.key],factor:x.shiftKey?4:1}))};return g.jsx("div",{className:Ye(["react-flow__nodesselection","react-flow__container",r]),style:{transform:c},children:g.jsx("div",{ref:y,className:"react-flow__nodesselection-rect",onContextMenu:v,tabIndex:o?void 0:-1,onKeyDown:o?void 0:m,style:{width:l,height:u}})})}const Fp=typeof window<"u"?window:void 0,GN=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function Y0({children:e,onPaneClick:r,onPaneMouseEnter:o,onPaneMouseMove:s,onPaneMouseLeave:l,onPaneContextMenu:u,onPaneScroll:c,paneClickDistance:f,deleteKeyCode:h,selectionKeyCode:y,selectionOnDrag:v,selectionMode:m,onSelectionStart:x,onSelectionEnd:E,multiSelectionKeyCode:N,panActivationKeyCode:j,zoomActivationKeyCode:C,elementsSelectable:b,zoomOnScroll:M,zoomOnPinch:w,panOnScroll:P,panOnScrollSpeed:F,panOnScrollMode:D,zoomOnDoubleClick:T,panOnDrag:W,defaultViewport:Y,translateExtent:ne,minZoom:G,maxZoom:X,preventScrolling:ee,onSelectionContextMenu:R,noWheelClassName:V,noPanClassName:A,disableKeyboardA11y:H,onViewportChange:I,isControlledViewport:z}){const{nodesSelectionActive:U,userSelectionActive:_}=be(GN,$e),$=_i(y,{target:Fp}),Q=_i(j,{target:Fp}),J=Q||W,re=Q||P,oe=v&&J!==!0,ae=$||_||oe;return PN({deleteKeyCode:h,multiSelectionKeyCode:N}),g.jsx(RN,{onPaneContextMenu:u,elementsSelectable:b,zoomOnScroll:M,zoomOnPinch:w,panOnScroll:re,panOnScrollSpeed:F,panOnScrollMode:D,zoomOnDoubleClick:T,panOnDrag:!$&&J,defaultViewport:Y,translateExtent:ne,minZoom:G,maxZoom:X,zoomActivationKeyCode:C,preventScrolling:ee,noWheelClassName:V,noPanClassName:A,onViewportChange:I,isControlledViewport:z,paneClickDistance:f,selectionOnDrag:oe,children:g.jsxs($N,{onSelectionStart:x,onSelectionEnd:E,onPaneClick:r,onPaneMouseEnter:o,onPaneMouseMove:s,onPaneMouseLeave:l,onPaneContextMenu:u,onPaneScroll:c,panOnDrag:J,isSelecting:!!ae,selectionMode:m,selectionKeyPressed:$,paneClickDistance:f,selectionOnDrag:oe,children:[e,U&&g.jsx(QN,{onSelectionContextMenu:R,noPanClassName:A,disableKeyboardA11y:H})]})})}Y0.displayName="FlowRenderer";const KN=k.memo(Y0),qN=e=>r=>e?Vc(r.nodeLookup,{x:0,y:0,width:r.width,height:r.height},r.transform,!0).map(o=>o.id):Array.from(r.nodeLookup.keys());function ZN(e){return be(k.useCallback(qN(e),[e]),$e)}const JN=e=>e.updateNodeInternals;function ek(){const e=be(JN),[r]=k.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(o=>{const s=new Map;o.forEach(l=>{const u=l.target.getAttribute("data-id");s.set(u,{id:u,nodeElement:l.target,force:!0})}),e(s)}));return k.useEffect(()=>()=>{r==null||r.disconnect()},[r]),r}function tk({node:e,nodeType:r,hasDimensions:o,resizeObserver:s}){const l=Ae(),u=k.useRef(null),c=k.useRef(null),f=k.useRef(e.sourcePosition),h=k.useRef(e.targetPosition),y=k.useRef(r),v=o&&!!e.internals.handleBounds;return k.useEffect(()=>{u.current&&!e.hidden&&(!v||c.current!==u.current)&&(c.current&&(s==null||s.unobserve(c.current)),s==null||s.observe(u.current),c.current=u.current)},[v,e.hidden]),k.useEffect(()=>()=>{c.current&&(s==null||s.unobserve(c.current),c.current=null)},[]),k.useEffect(()=>{if(u.current){const m=y.current!==r,x=f.current!==e.sourcePosition,E=h.current!==e.targetPosition;(m||x||E)&&(y.current=r,f.current=e.sourcePosition,h.current=e.targetPosition,l.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:u.current,force:!0}]])))}},[e.id,r,e.sourcePosition,e.targetPosition]),u}function nk({id:e,onClick:r,onMouseEnter:o,onMouseMove:s,onMouseLeave:l,onContextMenu:u,onDoubleClick:c,nodesDraggable:f,elementsSelectable:h,nodesConnectable:y,nodesFocusable:v,resizeObserver:m,noDragClassName:x,noPanClassName:E,disableKeyboardA11y:N,rfId:j,nodeTypes:C,nodeClickDistance:b,onError:M}){const{node:w,internals:P,isParent:F}=be(te=>{const ce=te.nodeLookup.get(e),pe=te.parentLookup.has(e);return{node:ce,internals:ce.internals,isParent:pe}},$e);let D=w.type||"default",T=(C==null?void 0:C[D])||Op[D];T===void 0&&(M==null||M("003",Zt.error003(D)),D="default",T=(C==null?void 0:C.default)||Op.default);const W=!!(w.draggable||f&&typeof w.draggable>"u"),Y=!!(w.selectable||h&&typeof w.selectable>"u"),ne=!!(w.connectable||y&&typeof w.connectable>"u"),G=!!(w.focusable||v&&typeof w.focusable>"u"),X=Ae(),ee=f0(w),R=tk({node:w,nodeType:D,hasDimensions:ee,resizeObserver:m}),V=B0({nodeRef:R,disabled:w.hidden||!W,noDragClassName:x,handleSelector:w.dragHandle,nodeId:e,isSelectable:Y,nodeClickDistance:b}),A=U0();if(w.hidden)return null;const H=xn(w),I=YN(w),z=Y||W||r||o||s||l,U=o?te=>o(te,{...P.userNode}):void 0,_=s?te=>s(te,{...P.userNode}):void 0,$=l?te=>l(te,{...P.userNode}):void 0,Q=u?te=>u(te,{...P.userNode}):void 0,J=c?te=>c(te,{...P.userNode}):void 0,re=te=>{const{selectNodesOnDrag:ce,nodeDragThreshold:pe}=X.getState();Y&&(!ce||!W||pe>0)&&Cc({id:e,store:X,nodeRef:R}),r&&r(te,{...P.userNode})},oe=te=>{if(!(m0(te.nativeEvent)||N)){if(r0.includes(te.key)&&Y){const ce=te.key==="Escape";Cc({id:e,store:X,unselect:ce,nodeRef:R})}else if(W&&w.selected&&Object.prototype.hasOwnProperty.call(Ml,te.key)){te.preventDefault();const{ariaLabelConfig:ce}=X.getState();X.setState({ariaLiveMessage:ce["node.a11yDescription.ariaLiveMessage"]({direction:te.key.replace("Arrow","").toLowerCase(),x:~~P.positionAbsolute.x,y:~~P.positionAbsolute.y})}),A({direction:Ml[te.key],factor:te.shiftKey?4:1})}}},ae=()=>{var ke;if(N||!((ke=R.current)!=null&&ke.matches(":focus-visible")))return;const{transform:te,width:ce,height:pe,autoPanOnNodeFocus:we,setCenter:ye}=X.getState();if(!we)return;Vc(new Map([[e,w]]),{x:0,y:0,width:ce,height:pe},te,!0).length>0||ye(w.position.x+H.width/2,w.position.y+H.height/2,{zoom:te[2]})};return g.jsx("div",{className:Ye(["react-flow__node",`react-flow__node-${D}`,{[E]:W},w.className,{selected:w.selected,selectable:Y,parent:F,draggable:W,dragging:V}]),ref:R,style:{zIndex:P.z,transform:`translate(${P.positionAbsolute.x}px,${P.positionAbsolute.y}px)`,pointerEvents:z?"all":"none",visibility:ee?"visible":"hidden",...w.style,...I},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:U,onMouseMove:_,onMouseLeave:$,onContextMenu:Q,onClick:re,onDoubleClick:J,onKeyDown:G?oe:void 0,tabIndex:G?0:void 0,onFocus:G?ae:void 0,role:w.ariaRole??(G?"group":void 0),"aria-roledescription":"node","aria-describedby":N?void 0:`${z0}-${j}`,"aria-label":w.ariaLabel,...w.domAttributes,children:g.jsx(DN,{value:e,children:g.jsx(T,{id:e,data:w.data,type:D,positionAbsoluteX:P.positionAbsolute.x,positionAbsoluteY:P.positionAbsolute.y,selected:w.selected??!1,selectable:Y,draggable:W,deletable:w.deletable??!0,isConnectable:ne,sourcePosition:w.sourcePosition,targetPosition:w.targetPosition,dragging:V,dragHandle:w.dragHandle,zIndex:P.z,parentId:w.parentId,...H})})})}var rk=k.memo(nk);const ok=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function X0(e){const{nodesDraggable:r,nodesConnectable:o,nodesFocusable:s,elementsSelectable:l,onError:u}=be(ok,$e),c=ZN(e.onlyRenderVisibleElements),f=ek();return g.jsx("div",{className:"react-flow__nodes",style:Wl,children:c.map(h=>g.jsx(rk,{id:h,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:f,nodesDraggable:r,nodesConnectable:o,nodesFocusable:s,elementsSelectable:l,nodeClickDistance:e.nodeClickDistance,onError:u},h))})}X0.displayName="NodeRenderer";const ik=k.memo(X0);function sk(e){return be(k.useCallback(o=>{if(!e)return o.edges.map(l=>l.id);const s=[];if(o.width&&o.height)for(const l of o.edges){const u=o.nodeLookup.get(l.source),c=o.nodeLookup.get(l.target);u&&c&&iE({sourceNode:u,targetNode:c,width:o.width,height:o.height,transform:o.transform})&&s.push(l.id)}return s},[e]),$e)}const lk=({color:e="none",strokeWidth:r=1})=>{const o={strokeWidth:r,...e&&{stroke:e}};return g.jsx("polyline",{className:"arrow",style:o,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},ak=({color:e="none",strokeWidth:r=1})=>{const o={strokeWidth:r,...e&&{stroke:e,fill:e}};return g.jsx("polyline",{className:"arrowclosed",style:o,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Hp={[bl.Arrow]:lk,[bl.ArrowClosed]:ak};function uk(e){const r=Ae();return k.useMemo(()=>{var l,u;return Object.prototype.hasOwnProperty.call(Hp,e)?Hp[e]:((u=(l=r.getState()).onError)==null||u.call(l,"009",Zt.error009(e)),null)},[e])}const ck=({id:e,type:r,color:o,width:s=12.5,height:l=12.5,markerUnits:u="strokeWidth",strokeWidth:c,orient:f="auto-start-reverse"})=>{const h=uk(r);return h?g.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${s}`,markerHeight:`${l}`,viewBox:"-10 -10 20 20",markerUnits:u,orient:f,refX:"0",refY:"0",children:g.jsx(h,{color:o,strokeWidth:c})}):null},Q0=({defaultColor:e,rfId:r})=>{const o=be(u=>u.edges),s=be(u=>u.defaultEdgeOptions),l=k.useMemo(()=>fE(o,{id:r,defaultColor:e,defaultMarkerStart:s==null?void 0:s.markerStart,defaultMarkerEnd:s==null?void 0:s.markerEnd}),[o,s,r,e]);return l.length?g.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:g.jsx("defs",{children:l.map(u=>g.jsx(ck,{id:u.id,type:u.type,color:u.color,width:u.width,height:u.height,markerUnits:u.markerUnits,strokeWidth:u.strokeWidth,orient:u.orient},u.id))})}):null};Q0.displayName="MarkerDefinitions";var dk=k.memo(Q0);function G0({x:e,y:r,label:o,labelStyle:s,labelShowBg:l=!0,labelBgStyle:u,labelBgPadding:c=[2,4],labelBgBorderRadius:f=2,children:h,className:y,...v}){const[m,x]=k.useState({x:1,y:0,width:0,height:0}),E=Ye(["react-flow__edge-textwrapper",y]),N=k.useRef(null);return k.useEffect(()=>{if(N.current){const j=N.current.getBBox();x({x:j.x,y:j.y,width:j.width,height:j.height})}},[o]),o?g.jsxs("g",{transform:`translate(${e-m.width/2} ${r-m.height/2})`,className:E,visibility:m.width?"visible":"hidden",...v,children:[l&&g.jsx("rect",{width:m.width+2*c[0],x:-c[0],y:-c[1],height:m.height+2*c[1],className:"react-flow__edge-textbg",style:u,rx:f,ry:f}),g.jsx("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:N,style:s,children:o}),h]}):null}G0.displayName="EdgeText";const fk=k.memo(G0);function Yl({path:e,labelX:r,labelY:o,label:s,labelStyle:l,labelShowBg:u,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:h,interactionWidth:y=20,...v}){return g.jsxs(g.Fragment,{children:[g.jsx("path",{...v,d:e,fill:"none",className:Ye(["react-flow__edge-path",v.className])}),y?g.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:y,className:"react-flow__edge-interaction"}):null,s&&Ft(r)&&Ft(o)?g.jsx(fk,{x:r,y:o,label:s,labelStyle:l,labelShowBg:u,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:h}):null]})}function Vp({pos:e,x1:r,y1:o,x2:s,y2:l}){return e===xe.Left||e===xe.Right?[.5*(r+s),o]:[r,.5*(o+l)]}function K0({sourceX:e,sourceY:r,sourcePosition:o=xe.Bottom,targetX:s,targetY:l,targetPosition:u=xe.Top}){const[c,f]=Vp({pos:o,x1:e,y1:r,x2:s,y2:l}),[h,y]=Vp({pos:u,x1:s,y1:l,x2:e,y2:r}),[v,m,x,E]=y0({sourceX:e,sourceY:r,targetX:s,targetY:l,sourceControlX:c,sourceControlY:f,targetControlX:h,targetControlY:y});return[`M${e},${r} C${c},${f} ${h},${y} ${s},${l}`,v,m,x,E]}function q0(e){return k.memo(({id:r,sourceX:o,sourceY:s,targetX:l,targetY:u,sourcePosition:c,targetPosition:f,label:h,labelStyle:y,labelShowBg:v,labelBgStyle:m,labelBgPadding:x,labelBgBorderRadius:E,style:N,markerEnd:j,markerStart:C,interactionWidth:b})=>{const[M,w,P]=K0({sourceX:o,sourceY:s,sourcePosition:c,targetX:l,targetY:u,targetPosition:f}),F=e.isInternal?void 0:r;return g.jsx(Yl,{id:F,path:M,labelX:w,labelY:P,label:h,labelStyle:y,labelShowBg:v,labelBgStyle:m,labelBgPadding:x,labelBgBorderRadius:E,style:N,markerEnd:j,markerStart:C,interactionWidth:b})})}const hk=q0({isInternal:!1}),Z0=q0({isInternal:!0});hk.displayName="SimpleBezierEdge";Z0.displayName="SimpleBezierEdgeInternal";function J0(e){return k.memo(({id:r,sourceX:o,sourceY:s,targetX:l,targetY:u,label:c,labelStyle:f,labelShowBg:h,labelBgStyle:y,labelBgPadding:v,labelBgBorderRadius:m,style:x,sourcePosition:E=xe.Bottom,targetPosition:N=xe.Top,markerEnd:j,markerStart:C,pathOptions:b,interactionWidth:M})=>{const[w,P,F]=Sc({sourceX:o,sourceY:s,sourcePosition:E,targetX:l,targetY:u,targetPosition:N,borderRadius:b==null?void 0:b.borderRadius,offset:b==null?void 0:b.offset,stepPosition:b==null?void 0:b.stepPosition}),D=e.isInternal?void 0:r;return g.jsx(Yl,{id:D,path:w,labelX:P,labelY:F,label:c,labelStyle:f,labelShowBg:h,labelBgStyle:y,labelBgPadding:v,labelBgBorderRadius:m,style:x,markerEnd:j,markerStart:C,interactionWidth:M})})}const eg=J0({isInternal:!1}),tg=J0({isInternal:!0});eg.displayName="SmoothStepEdge";tg.displayName="SmoothStepEdgeInternal";function ng(e){return k.memo(({id:r,...o})=>{var l;const s=e.isInternal?void 0:r;return g.jsx(eg,{...o,id:s,pathOptions:k.useMemo(()=>{var u;return{borderRadius:0,offset:(u=o.pathOptions)==null?void 0:u.offset}},[(l=o.pathOptions)==null?void 0:l.offset])})})}const pk=ng({isInternal:!1}),rg=ng({isInternal:!0});pk.displayName="StepEdge";rg.displayName="StepEdgeInternal";function og(e){return k.memo(({id:r,sourceX:o,sourceY:s,targetX:l,targetY:u,label:c,labelStyle:f,labelShowBg:h,labelBgStyle:y,labelBgPadding:v,labelBgBorderRadius:m,style:x,markerEnd:E,markerStart:N,interactionWidth:j})=>{const[C,b,M]=S0({sourceX:o,sourceY:s,targetX:l,targetY:u}),w=e.isInternal?void 0:r;return g.jsx(Yl,{id:w,path:C,labelX:b,labelY:M,label:c,labelStyle:f,labelShowBg:h,labelBgStyle:y,labelBgPadding:v,labelBgBorderRadius:m,style:x,markerEnd:E,markerStart:N,interactionWidth:j})})}const mk=og({isInternal:!1}),ig=og({isInternal:!0});mk.displayName="StraightEdge";ig.displayName="StraightEdgeInternal";function sg(e){return k.memo(({id:r,sourceX:o,sourceY:s,targetX:l,targetY:u,sourcePosition:c=xe.Bottom,targetPosition:f=xe.Top,label:h,labelStyle:y,labelShowBg:v,labelBgStyle:m,labelBgPadding:x,labelBgBorderRadius:E,style:N,markerEnd:j,markerStart:C,pathOptions:b,interactionWidth:M})=>{const[w,P,F]=v0({sourceX:o,sourceY:s,sourcePosition:c,targetX:l,targetY:u,targetPosition:f,curvature:b==null?void 0:b.curvature}),D=e.isInternal?void 0:r;return g.jsx(Yl,{id:D,path:w,labelX:P,labelY:F,label:h,labelStyle:y,labelShowBg:v,labelBgStyle:m,labelBgPadding:x,labelBgBorderRadius:E,style:N,markerEnd:j,markerStart:C,interactionWidth:M})})}const gk=sg({isInternal:!1}),lg=sg({isInternal:!0});gk.displayName="BezierEdge";lg.displayName="BezierEdgeInternal";const Bp={default:lg,straight:ig,step:rg,smoothstep:tg,simplebezier:Z0},Up={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},yk=(e,r,o)=>o===xe.Left?e-r:o===xe.Right?e+r:e,vk=(e,r,o)=>o===xe.Top?e-r:o===xe.Bottom?e+r:e,Wp="react-flow__edgeupdater";function Yp({position:e,centerX:r,centerY:o,radius:s=10,onMouseDown:l,onMouseEnter:u,onMouseOut:c,type:f}){return g.jsx("circle",{onMouseDown:l,onMouseEnter:u,onMouseOut:c,className:Ye([Wp,`${Wp}-${f}`]),cx:yk(r,s,e),cy:vk(o,s,e),r:s,stroke:"transparent",fill:"transparent"})}function xk({isReconnectable:e,reconnectRadius:r,edge:o,sourceX:s,sourceY:l,targetX:u,targetY:c,sourcePosition:f,targetPosition:h,onReconnect:y,onReconnectStart:v,onReconnectEnd:m,setReconnecting:x,setUpdateHover:E}){const N=Ae(),j=(P,F)=>{if(P.button!==0)return;const{autoPanOnConnect:D,domNode:T,isValidConnection:W,connectionMode:Y,connectionRadius:ne,lib:G,onConnectStart:X,onConnectEnd:ee,cancelConnection:R,nodeLookup:V,rfId:A,panBy:H,updateConnection:I}=N.getState(),z=F.type==="target",U=(Q,J)=>{x(!1),m==null||m(Q,o,F.type,J)},_=Q=>y==null?void 0:y(o,Q),$=(Q,J)=>{x(!0),v==null||v(P,o,F.type),X==null||X(Q,J)};kc.onPointerDown(P.nativeEvent,{autoPanOnConnect:D,connectionMode:Y,connectionRadius:ne,domNode:T,handleId:F.id,nodeId:F.nodeId,nodeLookup:V,isTarget:z,edgeUpdaterType:F.type,lib:G,flowId:A,cancelConnection:R,panBy:H,isValidConnection:W,onConnect:_,onConnectStart:$,onConnectEnd:ee,onReconnectEnd:U,updateConnection:I,getTransform:()=>N.getState().transform,getFromHandle:()=>N.getState().connection.fromHandle,dragThreshold:N.getState().connectionDragThreshold,handleDomNode:P.currentTarget})},C=P=>j(P,{nodeId:o.target,id:o.targetHandle??null,type:"target"}),b=P=>j(P,{nodeId:o.source,id:o.sourceHandle??null,type:"source"}),M=()=>E(!0),w=()=>E(!1);return g.jsxs(g.Fragment,{children:[(e===!0||e==="source")&&g.jsx(Yp,{position:f,centerX:s,centerY:l,radius:r,onMouseDown:C,onMouseEnter:M,onMouseOut:w,type:"source"}),(e===!0||e==="target")&&g.jsx(Yp,{position:h,centerX:u,centerY:c,radius:r,onMouseDown:b,onMouseEnter:M,onMouseOut:w,type:"target"})]})}function wk({id:e,edgesFocusable:r,edgesReconnectable:o,elementsSelectable:s,onClick:l,onDoubleClick:u,onContextMenu:c,onMouseEnter:f,onMouseMove:h,onMouseLeave:y,reconnectRadius:v,onReconnect:m,onReconnectStart:x,onReconnectEnd:E,rfId:N,edgeTypes:j,noPanClassName:C,onError:b,disableKeyboardA11y:M}){let w=be(ye=>ye.edgeLookup.get(e));const P=be(ye=>ye.defaultEdgeOptions);w=P?{...P,...w}:w;let F=w.type||"default",D=(j==null?void 0:j[F])||Bp[F];D===void 0&&(b==null||b("011",Zt.error011(F)),F="default",D=(j==null?void 0:j.default)||Bp.default);const T=!!(w.focusable||r&&typeof w.focusable>"u"),W=typeof m<"u"&&(w.reconnectable||o&&typeof w.reconnectable>"u"),Y=!!(w.selectable||s&&typeof w.selectable>"u"),ne=k.useRef(null),[G,X]=k.useState(!1),[ee,R]=k.useState(!1),V=Ae(),{zIndex:A,sourceX:H,sourceY:I,targetX:z,targetY:U,sourcePosition:_,targetPosition:$}=be(k.useCallback(ye=>{const fe=ye.nodeLookup.get(w.source),ke=ye.nodeLookup.get(w.target);if(!fe||!ke)return{zIndex:w.zIndex,...Up};const Me=dE({id:e,sourceNode:fe,targetNode:ke,sourceHandle:w.sourceHandle||null,targetHandle:w.targetHandle||null,connectionMode:ye.connectionMode,onError:b});return{zIndex:oE({selected:w.selected,zIndex:w.zIndex,sourceNode:fe,targetNode:ke,elevateOnSelect:ye.elevateEdgesOnSelect,zIndexMode:ye.zIndexMode}),...Me||Up}},[w.source,w.target,w.sourceHandle,w.targetHandle,w.selected,w.zIndex]),$e),Q=k.useMemo(()=>w.markerStart?`url('#${Ec(w.markerStart,N)}')`:void 0,[w.markerStart,N]),J=k.useMemo(()=>w.markerEnd?`url('#${Ec(w.markerEnd,N)}')`:void 0,[w.markerEnd,N]);if(w.hidden||H===null||I===null||z===null||U===null)return null;const re=ye=>{var _e;const{addSelectedEdges:fe,unselectNodesAndEdges:ke,multiSelectionActive:Me}=V.getState();Y&&(V.setState({nodesSelectionActive:!1}),w.selected&&Me?(ke({nodes:[],edges:[w]}),(_e=ne.current)==null||_e.blur()):fe([e])),l&&l(ye,w)},oe=u?ye=>{u(ye,{...w})}:void 0,ae=c?ye=>{c(ye,{...w})}:void 0,te=f?ye=>{f(ye,{...w})}:void 0,ce=h?ye=>{h(ye,{...w})}:void 0,pe=y?ye=>{y(ye,{...w})}:void 0,we=ye=>{var fe;if(!M&&r0.includes(ye.key)&&Y){const{unselectNodesAndEdges:ke,addSelectedEdges:Me}=V.getState();ye.key==="Escape"?((fe=ne.current)==null||fe.blur(),ke({edges:[w]})):Me([e])}};return g.jsx("svg",{style:{zIndex:A},children:g.jsxs("g",{className:Ye(["react-flow__edge",`react-flow__edge-${F}`,w.className,C,{selected:w.selected,animated:w.animated,inactive:!Y&&!l,updating:G,selectable:Y}]),onClick:re,onDoubleClick:oe,onContextMenu:ae,onMouseEnter:te,onMouseMove:ce,onMouseLeave:pe,onKeyDown:T?we:void 0,tabIndex:T?0:void 0,role:w.ariaRole??(T?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":w.ariaLabel===null?void 0:w.ariaLabel||`Edge from ${w.source} to ${w.target}`,"aria-describedby":T?`${$0}-${N}`:void 0,ref:ne,...w.domAttributes,children:[!ee&&g.jsx(D,{id:e,source:w.source,target:w.target,type:w.type,selected:w.selected,animated:w.animated,selectable:Y,deletable:w.deletable??!0,label:w.label,labelStyle:w.labelStyle,labelShowBg:w.labelShowBg,labelBgStyle:w.labelBgStyle,labelBgPadding:w.labelBgPadding,labelBgBorderRadius:w.labelBgBorderRadius,sourceX:H,sourceY:I,targetX:z,targetY:U,sourcePosition:_,targetPosition:$,data:w.data,style:w.style,sourceHandleId:w.sourceHandle,targetHandleId:w.targetHandle,markerStart:Q,markerEnd:J,pathOptions:"pathOptions"in w?w.pathOptions:void 0,interactionWidth:w.interactionWidth}),W&&g.jsx(xk,{edge:w,isReconnectable:W,reconnectRadius:v,onReconnect:m,onReconnectStart:x,onReconnectEnd:E,sourceX:H,sourceY:I,targetX:z,targetY:U,sourcePosition:_,targetPosition:$,setUpdateHover:X,setReconnecting:R})]})})}var Sk=k.memo(wk);const Ek=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function ag({defaultMarkerColor:e,onlyRenderVisibleElements:r,rfId:o,edgeTypes:s,noPanClassName:l,onReconnect:u,onEdgeContextMenu:c,onEdgeMouseEnter:f,onEdgeMouseMove:h,onEdgeMouseLeave:y,onEdgeClick:v,reconnectRadius:m,onEdgeDoubleClick:x,onReconnectStart:E,onReconnectEnd:N,disableKeyboardA11y:j}){const{edgesFocusable:C,edgesReconnectable:b,elementsSelectable:M,onError:w}=be(Ek,$e),P=sk(r);return g.jsxs("div",{className:"react-flow__edges",children:[g.jsx(dk,{defaultColor:e,rfId:o}),P.map(F=>g.jsx(Sk,{id:F,edgesFocusable:C,edgesReconnectable:b,elementsSelectable:M,noPanClassName:l,onReconnect:u,onContextMenu:c,onMouseEnter:f,onMouseMove:h,onMouseLeave:y,onClick:v,reconnectRadius:m,onDoubleClick:x,onReconnectStart:E,onReconnectEnd:N,rfId:o,onError:w,edgeTypes:s,disableKeyboardA11y:j},F))]})}ag.displayName="EdgeRenderer";const Nk=k.memo(ag),kk=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function Ck({children:e}){const r=be(kk);return g.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:r},children:e})}function _k(e){const r=Kc(),o=k.useRef(!1);k.useEffect(()=>{!o.current&&r.viewportInitialized&&e&&(setTimeout(()=>e(r),1),o.current=!0)},[e,r.viewportInitialized])}const bk=e=>{var r;return(r=e.panZoom)==null?void 0:r.syncViewport};function jk(e){const r=be(bk),o=Ae();return k.useEffect(()=>{e&&(r==null||r(e),o.setState({transform:[e.x,e.y,e.zoom]}))},[e,r]),null}function Pk(e){return e.connection.inProgress?{...e.connection,to:$i(e.connection.to,e.transform)}:{...e.connection}}function Mk(e){return Pk}function Ik(e){const r=Mk();return be(r,$e)}const Rk=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function Lk({containerStyle:e,style:r,type:o,component:s}){const{nodesConnectable:l,width:u,height:c,isValid:f,inProgress:h}=be(Rk,$e);return!(u&&l&&h)?null:g.jsx("svg",{style:e,width:u,height:c,className:"react-flow__connectionline react-flow__container",children:g.jsx("g",{className:Ye(["react-flow__connection",s0(f)]),children:g.jsx(ug,{style:r,type:o,CustomComponent:s,isValid:f})})})}const ug=({style:e,type:r=Un.Bezier,CustomComponent:o,isValid:s})=>{const{inProgress:l,from:u,fromNode:c,fromHandle:f,fromPosition:h,to:y,toNode:v,toHandle:m,toPosition:x,pointer:E}=Ik();if(!l)return;if(o)return g.jsx(o,{connectionLineType:r,connectionLineStyle:e,fromNode:c,fromHandle:f,fromX:u.x,fromY:u.y,toX:y.x,toY:y.y,fromPosition:h,toPosition:x,connectionStatus:s0(s),toNode:v,toHandle:m,pointer:E});let N="";const j={sourceX:u.x,sourceY:u.y,sourcePosition:h,targetX:y.x,targetY:y.y,targetPosition:x};switch(r){case Un.Bezier:[N]=v0(j);break;case Un.SimpleBezier:[N]=K0(j);break;case Un.Step:[N]=Sc({...j,borderRadius:0});break;case Un.SmoothStep:[N]=Sc(j);break;default:[N]=S0(j)}return g.jsx("path",{d:N,fill:"none",className:"react-flow__connection-path",style:e})};ug.displayName="ConnectionLine";const Tk={};function Xp(e=Tk){k.useRef(e),Ae(),k.useEffect(()=>{},[e])}function zk(){Ae(),k.useRef(!1),k.useEffect(()=>{},[])}function cg({nodeTypes:e,edgeTypes:r,onInit:o,onNodeClick:s,onEdgeClick:l,onNodeDoubleClick:u,onEdgeDoubleClick:c,onNodeMouseEnter:f,onNodeMouseMove:h,onNodeMouseLeave:y,onNodeContextMenu:v,onSelectionContextMenu:m,onSelectionStart:x,onSelectionEnd:E,connectionLineType:N,connectionLineStyle:j,connectionLineComponent:C,connectionLineContainerStyle:b,selectionKeyCode:M,selectionOnDrag:w,selectionMode:P,multiSelectionKeyCode:F,panActivationKeyCode:D,zoomActivationKeyCode:T,deleteKeyCode:W,onlyRenderVisibleElements:Y,elementsSelectable:ne,defaultViewport:G,translateExtent:X,minZoom:ee,maxZoom:R,preventScrolling:V,defaultMarkerColor:A,zoomOnScroll:H,zoomOnPinch:I,panOnScroll:z,panOnScrollSpeed:U,panOnScrollMode:_,zoomOnDoubleClick:$,panOnDrag:Q,onPaneClick:J,onPaneMouseEnter:re,onPaneMouseMove:oe,onPaneMouseLeave:ae,onPaneScroll:te,onPaneContextMenu:ce,paneClickDistance:pe,nodeClickDistance:we,onEdgeContextMenu:ye,onEdgeMouseEnter:fe,onEdgeMouseMove:ke,onEdgeMouseLeave:Me,reconnectRadius:_e,onReconnect:Ue,onReconnectStart:It,onReconnectEnd:ht,noDragClassName:pt,noWheelClassName:Et,noPanClassName:tn,disableKeyboardA11y:wn,nodeExtent:Sr,rfId:Xn,viewport:nn,onViewportChange:rn}){return Xp(e),Xp(r),zk(),_k(o),jk(nn),g.jsx(KN,{onPaneClick:J,onPaneMouseEnter:re,onPaneMouseMove:oe,onPaneMouseLeave:ae,onPaneContextMenu:ce,onPaneScroll:te,paneClickDistance:pe,deleteKeyCode:W,selectionKeyCode:M,selectionOnDrag:w,selectionMode:P,onSelectionStart:x,onSelectionEnd:E,multiSelectionKeyCode:F,panActivationKeyCode:D,zoomActivationKeyCode:T,elementsSelectable:ne,zoomOnScroll:H,zoomOnPinch:I,zoomOnDoubleClick:$,panOnScroll:z,panOnScrollSpeed:U,panOnScrollMode:_,panOnDrag:Q,defaultViewport:G,translateExtent:X,minZoom:ee,maxZoom:R,onSelectionContextMenu:m,preventScrolling:V,noDragClassName:pt,noWheelClassName:Et,noPanClassName:tn,disableKeyboardA11y:wn,onViewportChange:rn,isControlledViewport:!!nn,children:g.jsxs(Ck,{children:[g.jsx(Nk,{edgeTypes:r,onEdgeClick:l,onEdgeDoubleClick:c,onReconnect:Ue,onReconnectStart:It,onReconnectEnd:ht,onlyRenderVisibleElements:Y,onEdgeContextMenu:ye,onEdgeMouseEnter:fe,onEdgeMouseMove:ke,onEdgeMouseLeave:Me,reconnectRadius:_e,defaultMarkerColor:A,noPanClassName:tn,disableKeyboardA11y:wn,rfId:Xn}),g.jsx(Lk,{style:j,type:N,component:C,containerStyle:b}),g.jsx("div",{className:"react-flow__edgelabel-renderer"}),g.jsx(ik,{nodeTypes:e,onNodeClick:s,onNodeDoubleClick:u,onNodeMouseEnter:f,onNodeMouseMove:h,onNodeMouseLeave:y,onNodeContextMenu:v,nodeClickDistance:we,onlyRenderVisibleElements:Y,noPanClassName:tn,noDragClassName:pt,disableKeyboardA11y:wn,nodeExtent:Sr,rfId:Xn}),g.jsx("div",{className:"react-flow__viewport-portal"})]})})}cg.displayName="GraphView";const $k=k.memo(cg),Qp=({nodes:e,edges:r,defaultNodes:o,defaultEdges:s,width:l,height:u,fitView:c,fitViewOptions:f,minZoom:h=.5,maxZoom:y=2,nodeOrigin:v,nodeExtent:m,zIndexMode:x="basic"}={})=>{const E=new Map,N=new Map,j=new Map,C=new Map,b=s??r??[],M=o??e??[],w=v??[0,0],P=m??Ei;k0(j,C,b);const F=Nc(M,E,N,{nodeOrigin:w,nodeExtent:P,zIndexMode:x});let D=[0,0,1];if(c&&l&&u){const T=Ti(E,{filter:G=>!!((G.width||G.initialWidth)&&(G.height||G.initialHeight))}),{x:W,y:Y,zoom:ne}=Bc(T,l,u,h,y,(f==null?void 0:f.padding)??.1);D=[W,Y,ne]}return{rfId:"1",width:l??0,height:u??0,transform:D,nodes:M,nodesInitialized:F,nodeLookup:E,parentLookup:N,edges:b,edgeLookup:C,connectionLookup:j,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:o!==void 0,hasDefaultEdges:s!==void 0,panZoom:null,minZoom:h,maxZoom:y,translateExtent:Ei,nodeExtent:P,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:ao.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:w,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:c??!1,fitViewOptions:f,fitViewResolver:null,connection:{...i0},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:Z2,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:o0,zIndexMode:x,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},Ak=({nodes:e,edges:r,defaultNodes:o,defaultEdges:s,width:l,height:u,fitView:c,fitViewOptions:f,minZoom:h,maxZoom:y,nodeOrigin:v,nodeExtent:m,zIndexMode:x})=>tN((E,N)=>{async function j(){const{nodeLookup:C,panZoom:b,fitViewOptions:M,fitViewResolver:w,width:P,height:F,minZoom:D,maxZoom:T}=N();b&&(await K2({nodes:C,width:P,height:F,panZoom:b,minZoom:D,maxZoom:T},M),w==null||w.resolve(!0),E({fitViewResolver:null}))}return{...Qp({nodes:e,edges:r,width:l,height:u,fitView:c,fitViewOptions:f,minZoom:h,maxZoom:y,nodeOrigin:v,nodeExtent:m,defaultNodes:o,defaultEdges:s,zIndexMode:x}),setNodes:C=>{const{nodeLookup:b,parentLookup:M,nodeOrigin:w,elevateNodesOnSelect:P,fitViewQueued:F,zIndexMode:D}=N(),T=Nc(C,b,M,{nodeOrigin:w,nodeExtent:m,elevateNodesOnSelect:P,checkEquality:!0,zIndexMode:D});F&&T?(j(),E({nodes:C,nodesInitialized:T,fitViewQueued:!1,fitViewOptions:void 0})):E({nodes:C,nodesInitialized:T})},setEdges:C=>{const{connectionLookup:b,edgeLookup:M}=N();k0(b,M,C),E({edges:C})},setDefaultNodesAndEdges:(C,b)=>{if(C){const{setNodes:M}=N();M(C),E({hasDefaultNodes:!0})}if(b){const{setEdges:M}=N();M(b),E({hasDefaultEdges:!0})}},updateNodeInternals:C=>{const{triggerNodeChanges:b,nodeLookup:M,parentLookup:w,domNode:P,nodeOrigin:F,nodeExtent:D,debug:T,fitViewQueued:W,zIndexMode:Y}=N(),{changes:ne,updatedInternals:G}=xE(C,M,w,P,F,D,Y);G&&(mE(M,w,{nodeOrigin:F,nodeExtent:D,zIndexMode:Y}),W?(j(),E({fitViewQueued:!1,fitViewOptions:void 0})):E({}),(ne==null?void 0:ne.length)>0&&(T&&console.log("React Flow: trigger node changes",ne),b==null||b(ne)))},updateNodePositions:(C,b=!1)=>{const M=[];let w=[];const{nodeLookup:P,triggerNodeChanges:F,connection:D,updateConnection:T,onNodesChangeMiddlewareMap:W}=N();for(const[Y,ne]of C){const G=P.get(Y),X=!!(G!=null&&G.expandParent&&(G!=null&&G.parentId)&&(ne!=null&&ne.position)),ee={id:Y,type:"position",position:X?{x:Math.max(0,ne.position.x),y:Math.max(0,ne.position.y)}:ne.position,dragging:b};if(G&&D.inProgress&&D.fromNode.id===G.id){const R=wr(G,D.fromHandle,xe.Left,!0);T({...D,from:R})}X&&G.parentId&&M.push({id:Y,parentId:G.parentId,rect:{...ne.internals.positionAbsolute,width:ne.measured.width??0,height:ne.measured.height??0}}),w.push(ee)}if(M.length>0){const{parentLookup:Y,nodeOrigin:ne}=N(),G=Gc(M,P,Y,ne);w.push(...G)}for(const Y of W.values())w=Y(w);F(w)},triggerNodeChanges:C=>{const{onNodesChange:b,setNodes:M,nodes:w,hasDefaultNodes:P,debug:F}=N();if(C!=null&&C.length){if(P){const D=O0(C,w);M(D)}F&&console.log("React Flow: trigger node changes",C),b==null||b(C)}},triggerEdgeChanges:C=>{const{onEdgesChange:b,setEdges:M,edges:w,hasDefaultEdges:P,debug:F}=N();if(C!=null&&C.length){if(P){const D=F0(C,w);M(D)}F&&console.log("React Flow: trigger edge changes",C),b==null||b(C)}},addSelectedNodes:C=>{const{multiSelectionActive:b,edgeLookup:M,nodeLookup:w,triggerNodeChanges:P,triggerEdgeChanges:F}=N();if(b){const D=C.map(T=>hr(T,!0));P(D);return}P(no(w,new Set([...C]),!0)),F(no(M))},addSelectedEdges:C=>{const{multiSelectionActive:b,edgeLookup:M,nodeLookup:w,triggerNodeChanges:P,triggerEdgeChanges:F}=N();if(b){const D=C.map(T=>hr(T,!0));F(D);return}F(no(M,new Set([...C]))),P(no(w,new Set,!0))},unselectNodesAndEdges:({nodes:C,edges:b}={})=>{const{edges:M,nodes:w,nodeLookup:P,triggerNodeChanges:F,triggerEdgeChanges:D}=N(),T=C||w,W=b||M,Y=T.map(G=>{const X=P.get(G.id);return X&&(X.selected=!1),hr(G.id,!1)}),ne=W.map(G=>hr(G.id,!1));F(Y),D(ne)},setMinZoom:C=>{const{panZoom:b,maxZoom:M}=N();b==null||b.setScaleExtent([C,M]),E({minZoom:C})},setMaxZoom:C=>{const{panZoom:b,minZoom:M}=N();b==null||b.setScaleExtent([M,C]),E({maxZoom:C})},setTranslateExtent:C=>{var b;(b=N().panZoom)==null||b.setTranslateExtent(C),E({translateExtent:C})},resetSelectedElements:()=>{const{edges:C,nodes:b,triggerNodeChanges:M,triggerEdgeChanges:w,elementsSelectable:P}=N();if(!P)return;const F=b.reduce((T,W)=>W.selected?[...T,hr(W.id,!1)]:T,[]),D=C.reduce((T,W)=>W.selected?[...T,hr(W.id,!1)]:T,[]);M(F),w(D)},setNodeExtent:C=>{const{nodes:b,nodeLookup:M,parentLookup:w,nodeOrigin:P,elevateNodesOnSelect:F,nodeExtent:D,zIndexMode:T}=N();C[0][0]===D[0][0]&&C[0][1]===D[0][1]&&C[1][0]===D[1][0]&&C[1][1]===D[1][1]||(Nc(b,M,w,{nodeOrigin:P,nodeExtent:C,elevateNodesOnSelect:F,checkEquality:!1,zIndexMode:T}),E({nodeExtent:C}))},panBy:C=>{const{transform:b,width:M,height:w,panZoom:P,translateExtent:F}=N();return wE({delta:C,panZoom:P,transform:b,translateExtent:F,width:M,height:w})},setCenter:async(C,b,M)=>{const{width:w,height:P,maxZoom:F,panZoom:D}=N();if(!D)return Promise.resolve(!1);const T=typeof(M==null?void 0:M.zoom)<"u"?M.zoom:F;return await D.setViewport({x:w/2-C*T,y:P/2-b*T,zoom:T},{duration:M==null?void 0:M.duration,ease:M==null?void 0:M.ease,interpolate:M==null?void 0:M.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{E({connection:{...i0}})},updateConnection:C=>{E({connection:C})},reset:()=>E({...Qp()})}},Object.is);function Dk({initialNodes:e,initialEdges:r,defaultNodes:o,defaultEdges:s,initialWidth:l,initialHeight:u,initialMinZoom:c,initialMaxZoom:f,initialFitViewOptions:h,fitView:y,nodeOrigin:v,nodeExtent:m,zIndexMode:x,children:E}){const[N]=k.useState(()=>Ak({nodes:e,edges:r,defaultNodes:o,defaultEdges:s,width:l,height:u,fitView:y,minZoom:c,maxZoom:f,fitViewOptions:h,nodeOrigin:v,nodeExtent:m,zIndexMode:x}));return g.jsx(nN,{value:N,children:g.jsx(CN,{children:E})})}function Ok({children:e,nodes:r,edges:o,defaultNodes:s,defaultEdges:l,width:u,height:c,fitView:f,fitViewOptions:h,minZoom:y,maxZoom:v,nodeOrigin:m,nodeExtent:x,zIndexMode:E}){return k.useContext(Bl)?g.jsx(g.Fragment,{children:e}):g.jsx(Dk,{initialNodes:r,initialEdges:o,defaultNodes:s,defaultEdges:l,initialWidth:u,initialHeight:c,fitView:f,initialFitViewOptions:h,initialMinZoom:y,initialMaxZoom:v,nodeOrigin:m,nodeExtent:x,zIndexMode:E,children:e})}const Fk={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function Hk({nodes:e,edges:r,defaultNodes:o,defaultEdges:s,className:l,nodeTypes:u,edgeTypes:c,onNodeClick:f,onEdgeClick:h,onInit:y,onMove:v,onMoveStart:m,onMoveEnd:x,onConnect:E,onConnectStart:N,onConnectEnd:j,onClickConnectStart:C,onClickConnectEnd:b,onNodeMouseEnter:M,onNodeMouseMove:w,onNodeMouseLeave:P,onNodeContextMenu:F,onNodeDoubleClick:D,onNodeDragStart:T,onNodeDrag:W,onNodeDragStop:Y,onNodesDelete:ne,onEdgesDelete:G,onDelete:X,onSelectionChange:ee,onSelectionDragStart:R,onSelectionDrag:V,onSelectionDragStop:A,onSelectionContextMenu:H,onSelectionStart:I,onSelectionEnd:z,onBeforeDelete:U,connectionMode:_,connectionLineType:$=Un.Bezier,connectionLineStyle:Q,connectionLineComponent:J,connectionLineContainerStyle:re,deleteKeyCode:oe="Backspace",selectionKeyCode:ae="Shift",selectionOnDrag:te=!1,selectionMode:ce=Ni.Full,panActivationKeyCode:pe="Space",multiSelectionKeyCode:we=Ci()?"Meta":"Control",zoomActivationKeyCode:ye=Ci()?"Meta":"Control",snapToGrid:fe,snapGrid:ke,onlyRenderVisibleElements:Me=!1,selectNodesOnDrag:_e,nodesDraggable:Ue,autoPanOnNodeFocus:It,nodesConnectable:ht,nodesFocusable:pt,nodeOrigin:Et=A0,edgesFocusable:tn,edgesReconnectable:wn,elementsSelectable:Sr=!0,defaultViewport:Xn=mN,minZoom:nn=.5,maxZoom:rn=2,translateExtent:Qn=Ei,preventScrolling:Ai=!0,nodeExtent:on,defaultMarkerColor:Gn="#b1b1b7",zoomOnScroll:Xl=!0,zoomOnPinch:Di=!0,panOnScroll:Oi=!1,panOnScrollSpeed:Ql=.5,panOnScrollMode:yo=gr.Free,zoomOnDoubleClick:vo=!0,panOnDrag:xo=!0,onPaneClick:wo,onPaneMouseEnter:So,onPaneMouseMove:Sn,onPaneMouseLeave:En,onPaneScroll:Fi,onPaneContextMenu:Hi,paneClickDistance:Vi=1,nodeClickDistance:Bi=0,children:Ui,onReconnect:Eo,onReconnectStart:Wi,onReconnectEnd:Kn,onEdgeContextMenu:No,onEdgeDoubleClick:qn,onEdgeMouseEnter:Gl,onEdgeMouseMove:Zn,onEdgeMouseLeave:Er,reconnectRadius:Nr=10,onNodesChange:ko,onEdgesChange:Kl,noDragClassName:ql="nodrag",noWheelClassName:Zl="nowheel",noPanClassName:Ut="nopan",fitView:Co,fitViewOptions:_o,connectOnClick:Jl,attributionPosition:Yi,proOptions:Xi,defaultEdgeOptions:Qi,elevateNodesOnSelect:Gi=!0,elevateEdgesOnSelect:ea=!1,disableKeyboardA11y:Ki=!1,autoPanOnConnect:De,autoPanOnNodeDrag:ta,autoPanSpeed:bo,connectionRadius:qi,isValidConnection:kr,onError:na,style:Zi,id:Jn,nodeDragThreshold:Nt,connectionDragThreshold:ra,viewport:mt,onViewportChange:oa,width:ia,height:sa,colorMode:Cr="light",debug:_r,onScroll:Wt,ariaLabelConfig:br,zIndexMode:Ji="basic",...la},jo){const jr=Jn||"1",Po=xN(Cr),er=k.useCallback(es=>{es.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Wt==null||Wt(es)},[Wt]);return g.jsx("div",{"data-testid":"rf__wrapper",...la,onScroll:er,style:{...Zi,...Fk},ref:jo,className:Ye(["react-flow",l,Po]),id:Jn,role:"application",children:g.jsxs(Ok,{nodes:e,edges:r,width:ia,height:sa,fitView:Co,fitViewOptions:_o,minZoom:nn,maxZoom:rn,nodeOrigin:Et,nodeExtent:on,zIndexMode:Ji,children:[g.jsx($k,{onInit:y,onNodeClick:f,onEdgeClick:h,onNodeMouseEnter:M,onNodeMouseMove:w,onNodeMouseLeave:P,onNodeContextMenu:F,onNodeDoubleClick:D,nodeTypes:u,edgeTypes:c,connectionLineType:$,connectionLineStyle:Q,connectionLineComponent:J,connectionLineContainerStyle:re,selectionKeyCode:ae,selectionOnDrag:te,selectionMode:ce,deleteKeyCode:oe,multiSelectionKeyCode:we,panActivationKeyCode:pe,zoomActivationKeyCode:ye,onlyRenderVisibleElements:Me,defaultViewport:Xn,translateExtent:Qn,minZoom:nn,maxZoom:rn,preventScrolling:Ai,zoomOnScroll:Xl,zoomOnPinch:Di,zoomOnDoubleClick:vo,panOnScroll:Oi,panOnScrollSpeed:Ql,panOnScrollMode:yo,panOnDrag:xo,onPaneClick:wo,onPaneMouseEnter:So,onPaneMouseMove:Sn,onPaneMouseLeave:En,onPaneScroll:Fi,onPaneContextMenu:Hi,paneClickDistance:Vi,nodeClickDistance:Bi,onSelectionContextMenu:H,onSelectionStart:I,onSelectionEnd:z,onReconnect:Eo,onReconnectStart:Wi,onReconnectEnd:Kn,onEdgeContextMenu:No,onEdgeDoubleClick:qn,onEdgeMouseEnter:Gl,onEdgeMouseMove:Zn,onEdgeMouseLeave:Er,reconnectRadius:Nr,defaultMarkerColor:Gn,noDragClassName:ql,noWheelClassName:Zl,noPanClassName:Ut,rfId:jr,disableKeyboardA11y:Ki,nodeExtent:on,viewport:mt,onViewportChange:oa}),g.jsx(vN,{nodes:e,edges:r,defaultNodes:o,defaultEdges:s,onConnect:E,onConnectStart:N,onConnectEnd:j,onClickConnectStart:C,onClickConnectEnd:b,nodesDraggable:Ue,autoPanOnNodeFocus:It,nodesConnectable:ht,nodesFocusable:pt,edgesFocusable:tn,edgesReconnectable:wn,elementsSelectable:Sr,elevateNodesOnSelect:Gi,elevateEdgesOnSelect:ea,minZoom:nn,maxZoom:rn,nodeExtent:on,onNodesChange:ko,onEdgesChange:Kl,snapToGrid:fe,snapGrid:ke,connectionMode:_,translateExtent:Qn,connectOnClick:Jl,defaultEdgeOptions:Qi,fitView:Co,fitViewOptions:_o,onNodesDelete:ne,onEdgesDelete:G,onDelete:X,onNodeDragStart:T,onNodeDrag:W,onNodeDragStop:Y,onSelectionDrag:V,onSelectionDragStart:R,onSelectionDragStop:A,onMove:v,onMoveStart:m,onMoveEnd:x,noPanClassName:Ut,nodeOrigin:Et,rfId:jr,autoPanOnConnect:De,autoPanOnNodeDrag:ta,autoPanSpeed:bo,onError:na,connectionRadius:qi,isValidConnection:kr,selectNodesOnDrag:_e,nodeDragThreshold:Nt,connectionDragThreshold:ra,onBeforeDelete:U,debug:_r,ariaLabelConfig:br,zIndexMode:Ji}),g.jsx(pN,{onSelectionChange:ee}),Ui,g.jsx(uN,{proOptions:Xi,position:Yi}),g.jsx(aN,{rfId:jr,disableKeyboardA11y:Ki})]})})}var Vk=H0(Hk);function Bk(e){const[r,o]=k.useState(e),s=k.useCallback(l=>o(u=>O0(l,u)),[]);return[r,o,s]}function Uk(e){const[r,o]=k.useState(e),s=k.useCallback(l=>o(u=>F0(l,u)),[]);return[r,o,s]}function Wk({dimensions:e,lineWidth:r,variant:o,className:s}){return g.jsx("path",{strokeWidth:r,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Ye(["react-flow__background-pattern",o,s])})}function Yk({radius:e,className:r}){return g.jsx("circle",{cx:e,cy:e,r:e,className:Ye(["react-flow__background-pattern","dots",r])})}var Wn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Wn||(Wn={}));const Xk={[Wn.Dots]:1,[Wn.Lines]:1,[Wn.Cross]:6},Qk=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function dg({id:e,variant:r=Wn.Dots,gap:o=20,size:s,lineWidth:l=1,offset:u=0,color:c,bgColor:f,style:h,className:y,patternClassName:v}){const m=k.useRef(null),{transform:x,patternId:E}=be(Qk,$e),N=s||Xk[r],j=r===Wn.Dots,C=r===Wn.Cross,b=Array.isArray(o)?o:[o,o],M=[b[0]*x[2]||1,b[1]*x[2]||1],w=N*x[2],P=Array.isArray(u)?u:[u,u],F=C?[w,w]:M,D=[P[0]*x[2]||1+F[0]/2,P[1]*x[2]||1+F[1]/2],T=`${E}${e||""}`;return g.jsxs("svg",{className:Ye(["react-flow__background",y]),style:{...h,...Wl,"--xy-background-color-props":f,"--xy-background-pattern-color-props":c},ref:m,"data-testid":"rf__background",children:[g.jsx("pattern",{id:T,x:x[0]%M[0],y:x[1]%M[1],width:M[0],height:M[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${D[0]},-${D[1]})`,children:j?g.jsx(Yk,{radius:w/2,className:v}):g.jsx(Wk,{dimensions:F,lineWidth:l,variant:r,className:v})}),g.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${T})`})]})}dg.displayName="Background";k.memo(dg);function Gk(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:g.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Kk(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:g.jsx("path",{d:"M0 0h32v4.2H0z"})})}function qk(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:g.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function Zk(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:g.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Jk(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:g.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function dl({children:e,className:r,...o}){return g.jsx("button",{type:"button",className:Ye(["react-flow__controls-button",r]),...o,children:e})}const eC=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function fg({style:e,showZoom:r=!0,showFitView:o=!0,showInteractive:s=!0,fitViewOptions:l,onZoomIn:u,onZoomOut:c,onFitView:f,onInteractiveChange:h,className:y,children:v,position:m="bottom-left",orientation:x="vertical","aria-label":E}){const N=Ae(),{isInteractive:j,minZoomReached:C,maxZoomReached:b,ariaLabelConfig:M}=be(eC,$e),{zoomIn:w,zoomOut:P,fitView:F}=Kc(),D=()=>{w(),u==null||u()},T=()=>{P(),c==null||c()},W=()=>{F(l),f==null||f()},Y=()=>{N.setState({nodesDraggable:!j,nodesConnectable:!j,elementsSelectable:!j}),h==null||h(!j)},ne=x==="horizontal"?"horizontal":"vertical";return g.jsxs(Ul,{className:Ye(["react-flow__controls",ne,y]),position:m,style:e,"data-testid":"rf__controls","aria-label":E??M["controls.ariaLabel"],children:[r&&g.jsxs(g.Fragment,{children:[g.jsx(dl,{onClick:D,className:"react-flow__controls-zoomin",title:M["controls.zoomIn.ariaLabel"],"aria-label":M["controls.zoomIn.ariaLabel"],disabled:b,children:g.jsx(Gk,{})}),g.jsx(dl,{onClick:T,className:"react-flow__controls-zoomout",title:M["controls.zoomOut.ariaLabel"],"aria-label":M["controls.zoomOut.ariaLabel"],disabled:C,children:g.jsx(Kk,{})})]}),o&&g.jsx(dl,{className:"react-flow__controls-fitview",onClick:W,title:M["controls.fitView.ariaLabel"],"aria-label":M["controls.fitView.ariaLabel"],children:g.jsx(qk,{})}),s&&g.jsx(dl,{className:"react-flow__controls-interactive",onClick:Y,title:M["controls.interactive.ariaLabel"],"aria-label":M["controls.interactive.ariaLabel"],children:j?g.jsx(Jk,{}):g.jsx(Zk,{})}),v]})}fg.displayName="Controls";const tC=k.memo(fg);function nC({id:e,x:r,y:o,width:s,height:l,style:u,color:c,strokeColor:f,strokeWidth:h,className:y,borderRadius:v,shapeRendering:m,selected:x,onClick:E}){const{background:N,backgroundColor:j}=u||{},C=c||N||j;return g.jsx("rect",{className:Ye(["react-flow__minimap-node",{selected:x},y]),x:r,y:o,rx:v,ry:v,width:s,height:l,style:{fill:C,stroke:f,strokeWidth:h},shapeRendering:m,onClick:E?b=>E(b,e):void 0})}const rC=k.memo(nC),oC=e=>e.nodes.map(r=>r.id),sc=e=>e instanceof Function?e:()=>e;function iC({nodeStrokeColor:e,nodeColor:r,nodeClassName:o="",nodeBorderRadius:s=5,nodeStrokeWidth:l,nodeComponent:u=rC,onClick:c}){const f=be(oC,$e),h=sc(r),y=sc(e),v=sc(o),m=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return g.jsx(g.Fragment,{children:f.map(x=>g.jsx(lC,{id:x,nodeColorFunc:h,nodeStrokeColorFunc:y,nodeClassNameFunc:v,nodeBorderRadius:s,nodeStrokeWidth:l,NodeComponent:u,onClick:c,shapeRendering:m},x))})}function sC({id:e,nodeColorFunc:r,nodeStrokeColorFunc:o,nodeClassNameFunc:s,nodeBorderRadius:l,nodeStrokeWidth:u,shapeRendering:c,NodeComponent:f,onClick:h}){const{node:y,x:v,y:m,width:x,height:E}=be(N=>{const{internals:j}=N.nodeLookup.get(e),C=j.userNode,{x:b,y:M}=j.positionAbsolute,{width:w,height:P}=xn(C);return{node:C,x:b,y:M,width:w,height:P}},$e);return!y||y.hidden||!f0(y)?null:g.jsx(f,{x:v,y:m,width:x,height:E,style:y.style,selected:!!y.selected,className:s(y),color:r(y),borderRadius:l,strokeColor:o(y),strokeWidth:u,shapeRendering:c,onClick:h,id:y.id})}const lC=k.memo(sC);var aC=k.memo(iC);const uC=200,cC=150,dC=e=>!e.hidden,fC=e=>{const r={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:r,boundingRect:e.nodeLookup.size>0?d0(Ti(e.nodeLookup,{filter:dC}),r):r,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},hC="react-flow__minimap-desc";function hg({style:e,className:r,nodeStrokeColor:o,nodeColor:s,nodeClassName:l="",nodeBorderRadius:u=5,nodeStrokeWidth:c,nodeComponent:f,bgColor:h,maskColor:y,maskStrokeColor:v,maskStrokeWidth:m,position:x="bottom-right",onClick:E,onNodeClick:N,pannable:j=!1,zoomable:C=!1,ariaLabel:b,inversePan:M,zoomStep:w=1,offsetScale:P=5}){const F=Ae(),D=k.useRef(null),{boundingRect:T,viewBB:W,rfId:Y,panZoom:ne,translateExtent:G,flowWidth:X,flowHeight:ee,ariaLabelConfig:R}=be(fC,$e),V=(e==null?void 0:e.width)??uC,A=(e==null?void 0:e.height)??cC,H=T.width/V,I=T.height/A,z=Math.max(H,I),U=z*V,_=z*A,$=P*z,Q=T.x-(U-T.width)/2-$,J=T.y-(_-T.height)/2-$,re=U+$*2,oe=_+$*2,ae=`${hC}-${Y}`,te=k.useRef(0),ce=k.useRef();te.current=z,k.useEffect(()=>{if(D.current&&ne)return ce.current=PE({domNode:D.current,panZoom:ne,getTransform:()=>F.getState().transform,getViewScale:()=>te.current}),()=>{var fe;(fe=ce.current)==null||fe.destroy()}},[ne]),k.useEffect(()=>{var fe;(fe=ce.current)==null||fe.update({translateExtent:G,width:X,height:ee,inversePan:M,pannable:j,zoomStep:w,zoomable:C})},[j,C,M,w,G,X,ee]);const pe=E?fe=>{var _e;const[ke,Me]=((_e=ce.current)==null?void 0:_e.pointer(fe))||[0,0];E(fe,{x:ke,y:Me})}:void 0,we=N?k.useCallback((fe,ke)=>{const Me=F.getState().nodeLookup.get(ke).internals.userNode;N(fe,Me)},[]):void 0,ye=b??R["minimap.ariaLabel"];return g.jsx(Ul,{position:x,style:{...e,"--xy-minimap-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-background-color-props":typeof y=="string"?y:void 0,"--xy-minimap-mask-stroke-color-props":typeof v=="string"?v:void 0,"--xy-minimap-mask-stroke-width-props":typeof m=="number"?m*z:void 0,"--xy-minimap-node-background-color-props":typeof s=="string"?s:void 0,"--xy-minimap-node-stroke-color-props":typeof o=="string"?o:void 0,"--xy-minimap-node-stroke-width-props":typeof c=="number"?c:void 0},className:Ye(["react-flow__minimap",r]),"data-testid":"rf__minimap",children:g.jsxs("svg",{width:V,height:A,viewBox:`${Q} ${J} ${re} ${oe}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ae,ref:D,onClick:pe,children:[ye&&g.jsx("title",{id:ae,children:ye}),g.jsx(aC,{onClick:we,nodeColor:s,nodeStrokeColor:o,nodeBorderRadius:u,nodeClassName:l,nodeStrokeWidth:c,nodeComponent:f}),g.jsx("path",{className:"react-flow__minimap-mask",d:`M${Q-$},${J-$}h${re+$*2}v${oe+$*2}h${-re-$*2}z
        M${W.x},${W.y}h${W.width}v${W.height}h${-W.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}hg.displayName="MiniMap";const pC=k.memo(hg),mC=e=>r=>e?`${Math.max(1/r.transform[2],1)}`:void 0,gC={[ho.Line]:"right",[ho.Handle]:"bottom-right"};function yC({nodeId:e,position:r,variant:o=ho.Handle,className:s,style:l=void 0,children:u,color:c,minWidth:f=10,minHeight:h=10,maxWidth:y=Number.MAX_VALUE,maxHeight:v=Number.MAX_VALUE,keepAspectRatio:m=!1,resizeDirection:x,autoScale:E=!0,shouldResize:N,onResizeStart:j,onResize:C,onResizeEnd:b}){const M=W0(),w=typeof e=="string"?e:M,P=Ae(),F=k.useRef(null),D=o===ho.Handle,T=be(k.useCallback(mC(D&&E),[D,E]),$e),W=k.useRef(null),Y=r??gC[o];k.useEffect(()=>{if(!(!F.current||!w))return W.current||(W.current=BE({domNode:F.current,nodeId:w,getStoreItems:()=>{const{nodeLookup:G,transform:X,snapGrid:ee,snapToGrid:R,nodeOrigin:V,domNode:A}=P.getState();return{nodeLookup:G,transform:X,snapGrid:ee,snapToGrid:R,nodeOrigin:V,paneDomNode:A}},onChange:(G,X)=>{const{triggerNodeChanges:ee,nodeLookup:R,parentLookup:V,nodeOrigin:A}=P.getState(),H=[],I={x:G.x,y:G.y},z=R.get(w);if(z&&z.expandParent&&z.parentId){const U=z.origin??A,_=G.width??z.measured.width??0,$=G.height??z.measured.height??0,Q={id:z.id,parentId:z.parentId,rect:{width:_,height:$,...h0({x:G.x??z.position.x,y:G.y??z.position.y},{width:_,height:$},z.parentId,R,U)}},J=Gc([Q],R,V,A);H.push(...J),I.x=G.x?Math.max(U[0]*_,G.x):void 0,I.y=G.y?Math.max(U[1]*$,G.y):void 0}if(I.x!==void 0&&I.y!==void 0){const U={id:w,type:"position",position:{...I}};H.push(U)}if(G.width!==void 0&&G.height!==void 0){const _={id:w,type:"dimensions",resizing:!0,setAttributes:x?x==="horizontal"?"width":"height":!0,dimensions:{width:G.width,height:G.height}};H.push(_)}for(const U of X){const _={...U,type:"position"};H.push(_)}ee(H)},onEnd:({width:G,height:X})=>{const ee={id:w,type:"dimensions",resizing:!1,dimensions:{width:G,height:X}};P.getState().triggerNodeChanges([ee])}})),W.current.update({controlPosition:Y,boundaries:{minWidth:f,minHeight:h,maxWidth:y,maxHeight:v},keepAspectRatio:m,resizeDirection:x,onResizeStart:j,onResize:C,onResizeEnd:b,shouldResize:N}),()=>{var G;(G=W.current)==null||G.destroy()}},[Y,f,h,y,v,m,j,C,b,N]);const ne=Y.split("-");return g.jsx("div",{className:Ye(["react-flow__resize-control","nodrag",...ne,o,s]),ref:F,style:{...l,scale:T,...c&&{[D?"backgroundColor":"borderColor"]:c}},children:u})}k.memo(yC);const pg="cnthub-node-positions",mg="cnthub-edges",gg="cnthub-connected-sessions",vC=180,xC=70,wC=260,SC=140,Il=20;function Gp(e){return e.type==="context"?{width:wC,height:SC}:{width:vC,height:xC}}function EC(e,r){const o=Gp(e),s=Gp(r),l={x:e.position.x+o.width/2,y:e.position.y+o.height/2},u={x:r.position.x+s.width/2,y:r.position.y+s.height/2},c=(o.width+s.width)/2+Il,f=(o.height+s.height)/2+Il,h=Math.abs(l.x-u.x),y=Math.abs(l.y-u.y);return h<c&&y<f}function NC(e,r){const o={...e.position},s=r.filter(h=>h.id!==e.id),l={...e,position:o};let u=!0,c=0;const f=50;for(;u&&c<f;){u=!1;for(const h of s)if(EC(l,h)){u=!0,o.x+=Il+10,o.y+=Il+10,l.position=o;break}c++}return o}function Kp(){try{const e=localStorage.getItem(pg);return e?JSON.parse(e):{}}catch{return{}}}function Jr(e){try{localStorage.setItem(pg,JSON.stringify(e))}catch{}}function kC(){try{const e=localStorage.getItem(mg);return e?JSON.parse(e):[]}catch{return[]}}function lc(e){try{localStorage.setItem(mg,JSON.stringify(e))}catch{}}function CC(){try{const e=localStorage.getItem(gg);return e?JSON.parse(e):[]}catch{return[]}}function qp(e){try{localStorage.setItem(gg,JSON.stringify(e))}catch{}}function _c(e){return e>=1e3?(e/1e3).toFixed(1)+"k":e.toString()}function _C({data:e}){return g.jsxs("div",{className:"px-4 py-3 bg-[var(--bg-surface)] border border-[var(--border-default)] rounded-lg shadow-md min-w-[150px] relative",children:[g.jsx(po,{type:"source",position:xe.Right,className:"w-3 h-3 bg-[var(--color-primary-500)]"}),e.tokenCount!==void 0&&g.jsx("div",{className:"absolute -top-2 -right-2 bg-[var(--bg-elevated)] text-[var(--text-muted)] text-xs px-1.5 py-0.5 rounded-full border border-[var(--border-default)]",children:_c(e.tokenCount)}),g.jsx("div",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:e.label}),e.date&&g.jsx("div",{className:"text-xs text-[var(--text-muted)] mt-1",children:e.date})]})}function bC({data:e}){var u,c,f;const r=k.useCallback(()=>{var h;(h=e.onExport)==null||h.call(e)},[e]),o=!!e.sessionId,s=e.mergeStatus==="merging",l=e.mergeStatus==="completed"&&e.mergedSummary;return g.jsxs("div",{className:`px-6 py-4 text-white rounded-xl shadow-lg min-w-[240px] text-center cursor-pointer transition-colors relative ${s?"bg-[var(--color-primary-400)] animate-pulse":"bg-[var(--color-primary-600)] hover:bg-[var(--color-primary-500)]"}`,onClick:r,children:[g.jsx(po,{type:"target",position:xe.Left,className:"w-3 h-3 bg-[var(--color-cream-100)]"}),e.tokenCount!==void 0&&g.jsx("div",{className:"absolute -top-2 -right-2 bg-white text-[var(--color-primary-600)] text-xs font-bold px-1.5 py-0.5 rounded-full border-2 border-[var(--color-primary-600)]",children:_c(e.tokenCount)}),g.jsx("div",{className:"text-sm font-bold truncate max-w-[220px]",children:o?e.sessionName||e.sessionId:""}),o&&e.sessionId&&g.jsx("div",{className:"text-xs opacity-60 mt-1 font-mono",children:e.sessionId}),g.jsxs("div",{className:"text-xs opacity-90 mt-3 flex justify-center gap-3",children:[g.jsxs("span",{className:"bg-white/20 px-2 py-0.5 rounded",children:[e.observationCount," obs"]}),g.jsxs("span",{className:"bg-white/20 px-2 py-0.5 rounded",children:["+",e.connectedCount," merged"]})]}),s&&g.jsx("div",{className:"text-xs mt-2 bg-white/30 px-2 py-1 rounded",children:" ..."}),l&&g.jsxs("div",{className:"text-xs mt-2 bg-white/20 px-2 py-1 rounded text-left",children:[g.jsx("div",{className:"font-bold mb-1",children:" :"}),g.jsx("div",{className:"line-clamp-2 opacity-90",children:(u=e.mergedSummary)==null?void 0:u.shortSummary}),g.jsxs("div",{className:"opacity-60 mt-1",children:[(c=e.mergedSummary)==null?void 0:c.sessionCount," "," ",_c(((f=e.mergedSummary)==null?void 0:f.mergedTokens)||0)," tokens"]})]}),e.mergeStatus==="error"&&g.jsx("div",{className:"text-xs mt-2 bg-red-500/30 px-2 py-1 rounded",children:" "}),g.jsx("div",{className:"text-xs opacity-60 mt-2",children:" Export"})]})}const jC={session:_C,context:bC};function PC({sessions:e=[],currentSessionsData:r=[],onGetSession:o,onExportSession:s,onDeleteRequest:l,pendingDelete:u,onDeleteComplete:c,onMerge:f,mergeStatus:h="idle",mergedSummary:y}){const v=k.useRef(Kp()),m=k.useRef(kC()),x=k.useRef(CC()),[E,N]=k.useState(x.current),[j,C,b]=Bk([]),[M,w,P]=Uk(m.current),F=k.useCallback(R=>{b(R),R.filter(A=>A.type==="position"&&"position"in A&&A.position).length>0&&requestAnimationFrame(()=>{C(A=>{const H={};return A.forEach(I=>{H[I.id]=I.position}),Jr(H),A})})},[b,C]),D=k.useCallback(R=>{P(R),requestAnimationFrame(()=>{w(V=>(lc(V),V))})},[P,w]),T=k.useCallback(R=>()=>{console.log("[Viewer] Export session:",R),s==null||s(R)},[s]);k.useEffect(()=>{C(R=>{const V=v.current,A=new Set(R.filter(_=>_.id.startsWith("context-")).map(_=>_.id)),H=[];r.forEach((_,$)=>{const Q=_.session;if(!Q)return;const J=`context-${Q.sessionId}`,re=V[J],oe={x:400,y:100+$*180};A.has(J)||H.push({id:J,type:"context",position:re||oe,data:{label:"",sessionId:Q.sessionId,sessionName:Q.name,status:Q.status,tokenCount:_.tokenCount,connectedCount:E.length,observationCount:_.observationCount,onExport:T(Q.sessionId),mergeStatus:h,mergedSummary:y}})});const I=new Set(r.filter(_=>_.session).map(_=>`context-${_.session.sessionId}`)),U=[...R.filter(_=>_.id.startsWith("context-")?I.has(_.id):!0).map(_=>{if(_.id.startsWith("context-")){const $=_.id.replace("context-",""),Q=r.find(J=>{var re;return((re=J.session)==null?void 0:re.sessionId)===$});if(Q!=null&&Q.session)return{..._,data:{..._.data,sessionId:Q.session.sessionId,sessionName:Q.session.name,status:Q.session.status,tokenCount:Q.tokenCount,connectedCount:E.length,observationCount:Q.observationCount,onExport:T(Q.session.sessionId),mergeStatus:h,mergedSummary:y}}}return _}),...H];if(H.length>0){const _={};U.forEach($=>{_[$.id]=$.position}),Jr(_)}return U})},[r,E,T,C,h,y]),k.useEffect(()=>{C(R=>{const V=new Set(R.map(_=>_.id)),A=[],H=v.current;e.forEach((_,$)=>{const Q="session-"+_.sessionId;if(!V.has(Q)){const J=H[Q],re={x:50+Math.floor($/5)*200,y:80+$%5*100};A.push({id:Q,type:"session",position:J||re,data:{label:_.name,sessionId:_.sessionId,status:_.status,date:new Date(_.updatedAt).toLocaleDateString("ja-JP"),tokenCount:_.tokenCount}})}});const I=new Set(e.map(_=>"session-"+_.sessionId)),U=[...R.filter(_=>_.id.startsWith("context-")||I.has(_.id)),...A];if(A.length>0){const _={};U.forEach($=>{_[$.id]=$.position}),Jr(_)}return U})},[e,C]);const W=k.useCallback(R=>{if(!(!R.source||!R.target)&&R.source.startsWith("session-")&&R.target.startsWith("context-")){const V=R.source.replace("session-","");if(E.includes(V))return;w(H=>{const I=w0(R,H);return lc(I),I});const A=[...E,V];N(A),qp(A),C(H=>H.map(I=>I.id.startsWith("context-")?{...I,data:{...I.data,connectedCount:A.length}}:I)),o==null||o(V),A.length>=2&&f&&f(A)}},[E,w,C,o,f]),Y=k.useCallback(R=>{const V=M.find(I=>I.id===R);if(!V)return;const A=V.source.replace("session-",""),H=e.find(I=>I.sessionId===A);l==null||l({type:"edge",id:R,name:(H==null?void 0:H.name)||A})},[M,e,l]),ne=k.useCallback((R,V)=>{Y(V.id)},[Y]),G=k.useCallback(R=>{const V=R.filter(H=>H.source.startsWith("session-")).map(H=>H.source.replace("session-","")),A=E.filter(H=>!V.includes(H));N(A),qp(A),w(H=>(lc(H),H)),C(H=>H.map(I=>I.id.startsWith("context-")?{...I,data:{...I.data,connectedCount:A.length}}:I))},[E,C,w]),X=k.useCallback((R,V)=>{if(V.id.startsWith("context-"))return;const A=V.id.replace("session-",""),H=e.find(I=>I.sessionId===A);l==null||l({type:"node",id:V.id,name:(H==null?void 0:H.name)||A})},[e,l]),ee=k.useCallback((R,V)=>{const A=j.map(I=>I.id===V.id?{...I,position:V.position}:I),H=NC(V,A);if(H.x!==V.position.x||H.y!==V.position.y)C(I=>{const z=I.map(_=>_.id===V.id?{..._,position:H}:_),U={};return z.forEach(_=>{U[_.id]=_.position}),Jr(U),z});else{const I={};A.forEach(z=>{I[z.id]=z.position}),Jr(I)}},[j,C]);return k.useEffect(()=>{if(u){if(u.type==="edge"){const R=M.find(V=>V.id===u.id);R&&(G([R]),w(V=>V.filter(A=>A.id!==u.id)))}else if(u.type==="node"&&!u.id.startsWith("context-")){const R=M.filter(A=>A.source===u.id||A.target===u.id);R.length>0&&(G(R),w(A=>A.filter(H=>H.source!==u.id&&H.target!==u.id))),C(A=>A.filter(H=>H.id!==u.id));const V=Kp();delete V[u.id],Jr(V)}c==null||c()}},[u,M,G,w,C,c]),g.jsx("div",{className:"w-full h-full bg-[var(--bg-base)]",children:g.jsxs(Vk,{nodes:j,edges:M,onNodesChange:F,onEdgesChange:D,onConnect:W,onEdgesDelete:G,onEdgeClick:ne,onNodeClick:X,onNodeDragStop:ee,nodeTypes:jC,fitView:!0,proOptions:{hideAttribution:!0},className:"bg-[var(--bg-base)]",children:[g.jsx(tC,{className:"bg-[var(--bg-surface)] border border-[var(--border-default)] rounded-lg"}),g.jsx(pC,{className:"bg-[var(--bg-surface)] border border-[var(--border-default)] rounded-lg",nodeColor:"#d97757",maskColor:"rgba(15, 15, 14, 0.8)"})]})})}function ac(e){return e>=1e3?(e/1e3).toFixed(1)+"k":e.toString()}function MC(e){switch(e){case"feature":return"";case"bugfix":return"";case"refactor":return"";case"docs":return"";case"test":return"";case"config":return"";case"exploration":return"";default:return""}}function IC({isOpen:e,onClose:r,sessionId:o,sessionName:s,onExportComplete:l}){const[u,c]=k.useState(!1),[f,h]=k.useState(!1),[y,v]=k.useState(null),[m,x]=k.useState(new Set),[E,N]=k.useState(null),[j,C]=k.useState(new Set),b=k.useCallback(async()=>{var T;c(!0),N(null);try{const W=await fetch(`/api/sessions/${o}/analyze`,{method:"POST"});if(!W.ok){const ne=await W.json();throw new Error(((T=ne.error)==null?void 0:T.message)||"")}const Y=await W.json();v(Y)}catch(W){N(W instanceof Error?W.message:"")}finally{c(!1)}},[o]);k.useEffect(()=>{e&&!y&&!u&&b()},[e,y,u,b]),k.useEffect(()=>{e||(v(null),x(new Set),N(null),C(new Set))},[e]);const M=k.useCallback(T=>{x(W=>{const Y=new Set(W);return Y.has(T)?Y.delete(T):Y.add(T),Y})},[]),w=k.useCallback(T=>{C(W=>{const Y=new Set(W);return Y.has(T)?Y.delete(T):Y.add(T),Y})},[]),P=k.useCallback(()=>y?y.groups.filter(T=>m.has(T.category)).flatMap(T=>T.observationIds):[],[y,m]),F=k.useCallback(()=>y?y.groups.filter(T=>m.has(T.category)).reduce((T,W)=>T+W.estimatedTokens,0):0,[y,m]),D=k.useCallback(async()=>{var ne,G;const T=P();if(T.length===0)return;const W=y==null?void 0:y.groups.filter(X=>m.has(X.category)).map(X=>X.description).join(", "),Y=window.prompt(`Export: ${T.length} observations

:`,`Export: ${W}`)||`Export from ${s}`;if(Y){h(!0),N(null);try{const X=await fetch(`/api/sessions/${o}/smart-export`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({observationIds:T,groupName:Y,deleteAfterExport:!0})});if(!X.ok){const R=await X.json();throw new Error(((ne=R.error)==null?void 0:ne.message)||"Export ")}const ee=await X.json();alert(`Export !

: ${(G=ee.session)==null?void 0:G.sessionId}
 observations: ${ee.deletedCount}`),l(),r()}catch(X){N(X instanceof Error?X.message:"Export ")}finally{h(!1)}}},[P,y,m,o,s,l,r]);return e?g.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[g.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:r}),g.jsxs("div",{className:"relative bg-[var(--bg-surface)] rounded-xl shadow-2xl w-[600px] max-h-[80vh] flex flex-col border border-[var(--border-default)]",children:[g.jsxs("div",{className:"px-6 py-4 border-b border-[var(--border-subtle)] flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-semibold text-[var(--text-primary)]",children:"Smart Export"}),g.jsx("p",{className:"text-sm text-[var(--text-muted)] mt-1",children:s})]}),g.jsx("button",{onClick:r,className:"p-2 hover:bg-[var(--bg-elevated)] rounded-lg transition-colors",children:g.jsx("svg",{className:"w-5 h-5 text-[var(--text-muted)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[u&&g.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[g.jsx("div",{className:"w-8 h-8 border-2 border-[var(--color-primary-500)] border-t-transparent rounded-full animate-spin"}),g.jsx("p",{className:"mt-4 text-[var(--text-muted)]",children:"AI ..."})]}),E&&g.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-4",children:[g.jsx("p",{className:"text-red-400",children:E}),g.jsx("button",{onClick:b,className:"mt-2 text-sm text-red-400 hover:text-red-300 underline",children:""})]}),y&&!u&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex gap-4 mb-6 text-sm",children:[g.jsxs("div",{className:"bg-[var(--bg-elevated)] px-3 py-2 rounded-lg",children:[g.jsx("span",{className:"text-[var(--text-muted)]",children:": "}),g.jsxs("span",{className:"text-[var(--text-primary)] font-medium",children:[y.totalObservations," obs"]})]}),g.jsxs("div",{className:"bg-[var(--bg-elevated)] px-3 py-2 rounded-lg",children:[g.jsx("span",{className:"text-[var(--text-muted)]",children:": "}),g.jsx("span",{className:"text-[var(--text-primary)] font-medium",children:ac(y.totalEstimatedTokens)})]}),g.jsxs("div",{className:"bg-[var(--bg-elevated)] px-3 py-2 rounded-lg",children:[g.jsx("span",{className:"text-[var(--text-muted)]",children:": "}),g.jsxs("span",{className:"text-[var(--text-primary)] font-medium",children:[(y.analysisTimeMs/1e3).toFixed(1),"s"]})]})]}),g.jsx("div",{className:"space-y-3",children:y.groups.map(T=>g.jsxs("div",{className:`border rounded-lg overflow-hidden transition-colors ${m.has(T.category)?"border-[var(--color-primary-500)] bg-[var(--color-primary-500)]/10":"border-[var(--border-default)] bg-[var(--bg-elevated)]"}`,children:[g.jsxs("div",{className:"flex items-center gap-3 p-4 cursor-pointer",onClick:()=>M(T.category),children:[g.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${m.has(T.category)?"bg-[var(--color-primary-500)] border-[var(--color-primary-500)]":"border-[var(--border-default)]"}`,children:m.has(T.category)&&g.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),g.jsx("span",{className:"text-xl",children:MC(T.category)}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"font-medium text-[var(--text-primary)]",children:T.categoryLabel}),g.jsxs("span",{className:"text-sm text-[var(--text-muted)]",children:["(",T.observationIds.length," obs)"]})]}),g.jsx("p",{className:"text-sm text-[var(--text-muted)] mt-0.5",children:T.description})]}),g.jsxs("div",{className:"text-sm text-[var(--text-muted)]",children:[ac(T.estimatedTokens)," tokens"]}),g.jsx("button",{onClick:W=>{W.stopPropagation(),w(T.category)},className:"p-1 hover:bg-[var(--bg-surface)] rounded transition-colors",children:g.jsx("svg",{className:`w-4 h-4 text-[var(--text-muted)] transition-transform ${j.has(T.category)?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),j.has(T.category)&&g.jsx("div",{className:"px-4 pb-4 pt-0",children:g.jsx("div",{className:"bg-[var(--bg-base)] rounded-lg p-3 text-xs font-mono text-[var(--text-muted)] max-h-32 overflow-y-auto",children:T.observationIds.map((W,Y)=>g.jsxs("div",{children:[W,Y<T.observationIds.length-1&&", "]},W))})})]},T.category))})]})]}),g.jsxs("div",{className:"px-6 py-4 border-t border-[var(--border-subtle)] flex items-center justify-between",children:[g.jsx("div",{className:"text-sm text-[var(--text-muted)]",children:m.size>0&&g.jsxs(g.Fragment,{children:[": ",P().length," obs (",ac(F())," tokens)"]})}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:r,className:"px-4 py-2 text-sm text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)] rounded-lg transition-colors",children:""}),g.jsx("button",{onClick:D,disabled:m.size===0||f||u,className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${m.size===0||f||u?"bg-[var(--bg-elevated)] text-[var(--text-muted)] cursor-not-allowed":"bg-[var(--color-primary-500)] text-white hover:bg-[var(--color-primary-600)]"}`,children:f?"Exporting...":"Export & "})]})]})]})]}):null}const Zp={session:"",node:"",edge:""};function Jp({isOpen:e,onClose:r,onConfirm:o,targetType:s,targetName:l,targetId:u}){const[c,f]=k.useState(!1),[h,y]=k.useState(null),v=k.useCallback(async()=>{f(!0),y(null);try{await o(),r()}catch(x){y(x instanceof Error?x.message:"")}finally{f(!1)}},[o,r]),m=k.useCallback(()=>{c||(y(null),r())},[c,r]);return e?g.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[g.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:m}),g.jsxs("div",{className:"relative bg-[var(--bg-surface)] rounded-xl shadow-2xl w-[400px] border border-[var(--border-default)]",children:[g.jsxs("div",{className:"px-6 py-4 border-b border-[var(--border-subtle)] flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 bg-red-500/10 rounded-lg",children:g.jsx(io,{className:"w-5 h-5 text-red-500"})}),g.jsxs("h2",{className:"text-lg font-semibold text-[var(--text-primary)]",children:[Zp[s],""]})]}),g.jsx("button",{onClick:m,disabled:c,className:"p-2 hover:bg-[var(--bg-elevated)] rounded-lg transition-colors disabled:opacity-50",children:g.jsx(Nm,{className:"w-5 h-5 text-[var(--text-muted)]"})})]}),g.jsxs("div",{className:"px-6 py-6",children:[g.jsxs("p",{className:"text-[var(--text-secondary)]",children:["",Zp[s],""]}),g.jsxs("div",{className:"mt-4 p-4 bg-[var(--bg-elevated)] rounded-lg",children:[g.jsx("p",{className:"font-medium text-[var(--text-primary)] truncate",children:l}),u&&g.jsx("p",{className:"text-xs text-[var(--text-muted)] font-mono mt-1 truncate",children:u})]}),g.jsx("p",{className:"mt-4 text-sm text-[var(--text-muted)]",children:""}),h&&g.jsx("div",{className:"mt-4 bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:g.jsx("p",{className:"text-sm text-red-400",children:h})})]}),g.jsxs("div",{className:"px-6 py-4 border-t border-[var(--border-subtle)] flex justify-end gap-3",children:[g.jsx("button",{onClick:m,disabled:c,className:"px-4 py-2 text-sm text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)] rounded-lg transition-colors disabled:opacity-50",children:""}),g.jsx("button",{onClick:v,disabled:c,className:"px-4 py-2 text-sm font-medium bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors disabled:opacity-50 flex items-center gap-2",children:c?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"..."]}):g.jsxs(g.Fragment,{children:[g.jsx(io,{className:"w-4 h-4"}),""]})})]})]})]}):null}function RC({isOpen:e,onClose:r,sessionId:o}){const[s,l]=k.useState(null),[u,c]=k.useState(!1),[f,h]=k.useState(null);k.useEffect(()=>{if(!e||!o)return;(async()=>{var E;c(!0),h(null);try{const[N,j,C]=await Promise.all([fetch(`/api/sessions/${o}`),fetch(`/api/sessions/${o}/summary`),fetch(`/api/sessions/${o}/observations?limit=1`)]);if(!N.ok)throw new Error("");const b=await N.json(),M=j.ok?await j.json():null,w=C.ok?await C.json():null;l({...b,summary:M==null?void 0:M.summary,observationCount:((E=w==null?void 0:w.pagination)==null?void 0:E.total)||b.observationCount})}catch(N){h(N instanceof Error?N.message:"")}finally{c(!1)}})()},[e,o]);const y=k.useCallback(()=>{l(null),h(null),r()},[r]);if(k.useEffect(()=>{if(!e)return;const x=E=>{E.key==="Escape"&&y()};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[e,y]),!e)return null;const v=x=>new Date(x).toLocaleString("ja-JP",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),m={idle:"bg-gray-500",active:"bg-blue-500",completed:"bg-green-500",error:"bg-red-500",processing:"bg-yellow-500",merged:"bg-purple-500"};return g.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[g.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:y}),g.jsxs("div",{className:"relative bg-[var(--bg-surface)] rounded-xl shadow-2xl w-[500px] max-h-[80vh] border border-[var(--border-default)] flex flex-col",children:[g.jsxs("div",{className:"px-6 py-4 border-b border-[var(--border-subtle)] flex items-center justify-between flex-shrink-0",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 bg-[var(--color-primary-500)]/10 rounded-lg",children:g.jsx(Ah,{className:"w-5 h-5 text-[var(--color-primary-500)]"})}),g.jsx("h2",{className:"text-lg font-semibold text-[var(--text-primary)]",children:""})]}),g.jsx("button",{onClick:y,className:"p-2 hover:bg-[var(--bg-elevated)] rounded-lg transition-colors",children:g.jsx(Nm,{className:"w-5 h-5 text-[var(--text-muted)]"})})]}),g.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:u?g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"h-6 bg-[var(--bg-elevated)] rounded animate-pulse"}),g.jsx("div",{className:"h-4 bg-[var(--bg-elevated)] rounded animate-pulse w-3/4"}),g.jsx("div",{className:"h-20 bg-[var(--bg-elevated)] rounded animate-pulse"})]}):f?g.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:g.jsx("p",{className:"text-sm text-red-400",children:f})}):s?g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-medium text-[var(--text-primary)]",children:s.name}),g.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[g.jsx("span",{className:`w-2 h-2 rounded-full ${m[s.status]||"bg-gray-500"}`}),g.jsx("span",{className:"text-sm text-[var(--text-secondary)] capitalize",children:s.status})]})]}),g.jsxs("div",{className:"bg-[var(--bg-elevated)] rounded-lg p-4 space-y-3",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[g.jsx(dc,{className:"w-4 h-4 text-[var(--text-muted)]"}),g.jsx("span",{className:"text-[var(--text-muted)]",children:":"}),g.jsx("span",{className:"text-[var(--text-primary)]",children:v(s.createdAt)})]}),g.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[g.jsx(dc,{className:"w-4 h-4 text-[var(--text-muted)]"}),g.jsx("span",{className:"text-[var(--text-muted)]",children:":"}),g.jsx("span",{className:"text-[var(--text-primary)]",children:v(s.updatedAt)})]}),s.observationCount!==void 0&&g.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[g.jsx(Ah,{className:"w-4 h-4 text-[var(--text-muted)]"}),g.jsx("span",{className:"text-[var(--text-muted)]",children:":"}),g.jsxs("span",{className:"text-[var(--text-primary)]",children:[s.observationCount,""]})]}),s.tokenCount!==void 0&&s.tokenCount>0&&g.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[g.jsx("span",{className:"w-4 h-4 text-center text-[var(--text-muted)]",children:"#"}),g.jsx("span",{className:"text-[var(--text-muted)]",children:":"}),g.jsx("span",{className:"text-[var(--text-primary)]",children:s.tokenCount.toLocaleString()})]})]}),s.summary&&g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-medium text-[var(--text-muted)] mb-2",children:""}),g.jsx("div",{className:"bg-[var(--bg-elevated)] rounded-lg p-4",children:g.jsx("p",{className:"text-sm text-[var(--text-secondary)] whitespace-pre-wrap",children:s.summary})})]}),g.jsx("div",{className:"pt-2 border-t border-[var(--border-subtle)]",children:g.jsxs("p",{className:"text-xs text-[var(--text-muted)] font-mono",children:["ID: ",s.sessionId]})})]}):null}),g.jsx("div",{className:"px-6 py-4 border-t border-[var(--border-subtle)] flex justify-end flex-shrink-0",children:g.jsx("button",{onClick:y,className:"px-4 py-2 text-sm text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)] rounded-lg transition-colors",children:""})})]})]})}function LC(){const{theme:e,toggleTheme:r}=Cm(),[o,s]=k.useState([]),[l,u]=k.useState([]),[c,f]=k.useState([]),[h,y]=k.useState(!1),[v,m]=k.useState(null),[x,E]=k.useState(null),[N,j]=k.useState(null),C=k.useRef(null),[b,M]=k.useState("idle"),[w,P]=k.useState(null),[F,D]=k.useState(null),T=k.useMemo(()=>o.filter(Q=>!l.includes(Q.sessionId)),[o,l]),W=k.useCallback(async()=>{try{const Q=await fetch("/api/sessions?limit=100&status=completed");if(!Q.ok)throw new Error("Failed to fetch");const J=await Q.json();s(J.items||[])}catch(Q){console.error("[ViewerPage] Failed to fetch sessions:",Q),s([])}},[]);k.useEffect(()=>{W()},[W]),k.useEffect(()=>{let Q=!0;const J=async()=>{try{const oe=[],ae=await fetch("/api/sessions?limit=10&status=processing");if(ae.ok){const pe=await ae.json();oe.push(...pe.items||[])}const te=await fetch("/api/sessions?limit=10&status=idle");if(te.ok){const pe=await te.json();oe.push(...pe.items||[])}if(!Q)return;if(oe.length===0){f([]);return}const ce=await Promise.all(oe.map(async pe=>{var we;try{const ye=await fetch(`/api/sessions/${pe.sessionId}/observations?limit=100`);if(ye.ok){const fe=await ye.json();return{session:pe,observations:fe.items||[],observationCount:((we=fe.items)==null?void 0:we.length)||0,tokenCount:pe.tokenCount||0}}}catch{}return{session:pe,observations:[],observationCount:0,tokenCount:pe.tokenCount||0}}));Q&&f(ce)}catch(oe){console.error("[ViewerPage] Failed to fetch current sessions:",oe)}};J();const re=setInterval(J,5e3);return()=>{Q=!1,clearInterval(re)}},[]);const Y=k.useCallback(Q=>{u(J=>J.includes(Q.sessionId)?J.filter(re=>re!==Q.sessionId):[...J,Q.sessionId])},[]),ne=k.useCallback(Q=>{console.log("[Viewer] Session clicked:",Q.sessionId),D(Q.sessionId)},[]),G=k.useCallback(Q=>{console.log("[Viewer] Get session:",Q)},[]),X=k.useCallback(Q=>{m(Q)},[]),ee=k.useCallback(async()=>{var J;if(!v)return;const Q=v.sessionId;try{const re=await fetch(`/api/sessions/${Q}`,{method:"DELETE"});if(!re.ok){const oe=await re.json();throw new Error(((J=oe.error)==null?void 0:J.message)||"")}s(oe=>oe.filter(ae=>ae.sessionId!==Q)),u(oe=>oe.filter(ae=>ae!==Q)),m(null)}catch(re){console.error("[ViewerPage] Failed to delete session:",re),alert(re instanceof Error?re.message:"")}},[v]),R=k.useCallback(async Q=>{var J;try{const re=await fetch("/api/sessions/bulk-delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionIds:Q})});if(!re.ok){const te=await re.json();throw new Error(((J=te.error)==null?void 0:J.message)||"")}const oe=await re.json(),ae=new Set(oe.results.filter(te=>te.success).map(te=>te.sessionId));s(te=>te.filter(ce=>!ae.has(ce.sessionId))),u(te=>te.filter(ce=>!ae.has(ce)))}catch(re){console.error("[ViewerPage] Failed to bulk delete sessions:",re),alert(re instanceof Error?re.message:"")}},[]),V=k.useCallback(Q=>{E(Q)},[]),A=k.useCallback(async()=>{if(x)return new Promise(Q=>{C.current=Q,j({type:x.type,id:x.id})})},[x]),H=k.useCallback(()=>{j(null),E(null),C.current&&(C.current(),C.current=null)},[]),[I,z]=k.useState(null),U=k.useCallback(Q=>{const J=c.find(re=>{var oe;return((oe=re.session)==null?void 0:oe.sessionId)===Q});if(!(J!=null&&J.session)||J.observationCount===0){alert("observations");return}console.log("[Viewer] Opening Smart Export modal:",Q),z(J),y(!0)},[c]),_=k.useCallback(async()=>{console.log("[Viewer] Smart Export completed"),await W()},[W]),$=k.useCallback(async Q=>{var J,re,oe,ae,te,ce,pe,we;if(Q.length<2)return null;console.log("[Viewer] Starting merge:",Q),M("merging"),P(null);try{const ye=await fetch("/api/merges/with-summary",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sourceSessionIds:Q})});if(!ye.ok){const Me=await ye.json();return console.error("[Viewer] Merge failed:",Me),M("error"),null}const fe=await ye.json(),ke={shortSummary:((J=fe.summary)==null?void 0:J.shortSummary)||"",detailedSummary:((re=fe.summary)==null?void 0:re.detailedSummary)||"",keyDecisions:((oe=fe.summary)==null?void 0:oe.keyDecisions)||[],topics:((ae=fe.summary)==null?void 0:ae.topics)||[],sessionCount:((te=fe.summary)==null?void 0:te.sessionCount)||Q.length,totalOriginalTokens:((ce=fe.summary)==null?void 0:ce.totalOriginalTokens)||0,mergedTokens:((pe=fe.summary)==null?void 0:pe.mergedTokens)||0,compressionRatio:((we=fe.summary)==null?void 0:we.compressionRatio)||0};return P(ke),M("completed"),console.log("[Viewer] Merge completed:",ke),ke}catch(ye){return console.error("[Viewer] Merge error:",ye),M("error"),null}},[]);return g.jsxs("div",{className:"h-screen flex flex-col bg-[var(--bg-base)]",children:[g.jsxs("header",{className:"h-12 flex items-center justify-between px-4 bg-[var(--bg-surface)] border-b border-[var(--border-subtle)]",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-lg font-semibold text-[var(--color-primary-500)]",children:"cnthub"}),g.jsx("span",{className:"text-sm text-[var(--text-muted)]",children:"Viewer"})]}),g.jsx("button",{onClick:r,className:"p-2 rounded-lg hover:bg-[var(--bg-elevated)] transition-colors","aria-label":e==="dark"?"":"",children:e==="dark"?g.jsx(Em,{className:"w-5 h-5 text-[var(--text-secondary)]"}):g.jsx(Sm,{className:"w-5 h-5 text-[var(--text-secondary)]"})})]}),g.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[g.jsx(cw,{sessions:o,onSessionSelect:Y,onSessionClick:ne,onSessionDelete:X,onBulkDelete:R,selectedSessionIds:l}),g.jsx("main",{className:"flex-1 overflow-hidden",children:g.jsx(PC,{sessions:T,currentSessionsData:c,onGetSession:G,onExportSession:U,onDeleteRequest:V,pendingDelete:N,onDeleteComplete:H,onMerge:$,mergeStatus:b,mergedSummary:w})})]}),(I==null?void 0:I.session)&&g.jsx(IC,{isOpen:h,onClose:()=>{y(!1),z(null)},sessionId:I.session.sessionId,sessionName:I.session.name,onExportComplete:_}),g.jsx(Jp,{isOpen:!!v,onClose:()=>m(null),onConfirm:ee,targetType:"session",targetName:(v==null?void 0:v.name)||"",targetId:v==null?void 0:v.sessionId}),g.jsx(Jp,{isOpen:!!x,onClose:()=>E(null),onConfirm:A,targetType:(x==null?void 0:x.type)==="node"?"node":"edge",targetName:(x==null?void 0:x.name)||"",targetId:x==null?void 0:x.id}),g.jsx(RC,{isOpen:!!F,onClose:()=>D(null),sessionId:F})]})}function TC(){return g.jsxs(tx,{children:[g.jsx(di,{path:"/",element:g.jsx(LC,{})}),g.jsx(di,{path:"/sessions",element:g.jsx(Xu,{children:g.jsx(Xx,{})})}),g.jsx(di,{path:"/sessions/:id",element:g.jsx(Xu,{children:g.jsx(qx,{})})}),g.jsx(di,{path:"/search",element:g.jsx(Xu,{children:g.jsx(lw,{})})})]})}const zC="/viewer/";rv.createRoot(document.getElementById("root")).render(g.jsx(eo.StrictMode,{children:g.jsx(Cx,{basename:zC,children:g.jsx(TC,{})})}));
//# sourceMappingURL=index-DICEUXRH.js.map
